(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Jp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ey(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var r=function a(){var o=!1;try{o=this instanceof a}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),r}var Pc={exports:{}},Na={},Ic={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function Ny(){if(Tf)return ye;Tf=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(I,B,me){this.props=I,this.context=B,this.refs=j,this.updater=me||b}E.prototype.isReactComponent={},E.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=E.prototype;function P(I,B,me){this.props=I,this.context=B,this.refs=j,this.updater=me||b}var R=P.prototype=new k;R.constructor=P,S(R,E.prototype),R.isPureReactComponent=!0;var $=Array.isArray,O=Object.prototype.hasOwnProperty,F={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function Q(I,B,me){var fe,Se={},we=null,Ne=null;if(B!=null)for(fe in B.ref!==void 0&&(Ne=B.ref),B.key!==void 0&&(we=""+B.key),B)O.call(B,fe)&&!U.hasOwnProperty(fe)&&(Se[fe]=B[fe]);var be=arguments.length-2;if(be===1)Se.children=me;else if(1<be){for(var Ie=Array(be),it=0;it<be;it++)Ie[it]=arguments[it+2];Se.children=Ie}if(I&&I.defaultProps)for(fe in be=I.defaultProps,be)Se[fe]===void 0&&(Se[fe]=be[fe]);return{$$typeof:s,type:I,key:we,ref:Ne,props:Se,_owner:F.current}}function V(I,B){return{$$typeof:s,type:I.type,key:B,ref:I.ref,props:I.props,_owner:I._owner}}function Z(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function se(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(me){return B[me]})}var _e=/\/+/g;function Le(I,B){return typeof I=="object"&&I!==null&&I.key!=null?se(""+I.key):B.toString(36)}function Ue(I,B,me,fe,Se){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(we){case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case s:case e:Ne=!0}}if(Ne)return Ne=I,Se=Se(Ne),I=fe===""?"."+Le(Ne,0):fe,$(Se)?(me="",I!=null&&(me=I.replace(_e,"$&/")+"/"),Ue(Se,B,me,"",function(it){return it})):Se!=null&&(Z(Se)&&(Se=V(Se,me+(!Se.key||Ne&&Ne.key===Se.key?"":(""+Se.key).replace(_e,"$&/")+"/")+I)),B.push(Se)),1;if(Ne=0,fe=fe===""?".":fe+":",$(I))for(var be=0;be<I.length;be++){we=I[be];var Ie=fe+Le(we,be);Ne+=Ue(we,B,me,Ie,Se)}else if(Ie=w(I),typeof Ie=="function")for(I=Ie.call(I),be=0;!(we=I.next()).done;)we=we.value,Ie=fe+Le(we,be++),Ne+=Ue(we,B,me,Ie,Se);else if(we==="object")throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ne}function ve(I,B,me){if(I==null)return I;var fe=[],Se=0;return Ue(I,fe,"","",function(we){return B.call(me,we,Se++)}),fe}function pe(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(me){(I._status===0||I._status===-1)&&(I._status=1,I._result=me)},function(me){(I._status===0||I._status===-1)&&(I._status=2,I._result=me)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var te={current:null},D={transition:null},Y={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:D,ReactCurrentOwner:F};function K(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:ve,forEach:function(I,B,me){ve(I,function(){B.apply(this,arguments)},me)},count:function(I){var B=0;return ve(I,function(){B++}),B},toArray:function(I){return ve(I,function(B){return B})||[]},only:function(I){if(!Z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ye.Component=E,ye.Fragment=r,ye.Profiler=o,ye.PureComponent=P,ye.StrictMode=a,ye.Suspense=p,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ye.act=K,ye.cloneElement=function(I,B,me){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var fe=S({},I.props),Se=I.key,we=I.ref,Ne=I._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,Ne=F.current),B.key!==void 0&&(Se=""+B.key),I.type&&I.type.defaultProps)var be=I.type.defaultProps;for(Ie in B)O.call(B,Ie)&&!U.hasOwnProperty(Ie)&&(fe[Ie]=B[Ie]===void 0&&be!==void 0?be[Ie]:B[Ie])}var Ie=arguments.length-2;if(Ie===1)fe.children=me;else if(1<Ie){be=Array(Ie);for(var it=0;it<Ie;it++)be[it]=arguments[it+2];fe.children=be}return{$$typeof:s,type:I.type,key:Se,ref:we,props:fe,_owner:Ne}},ye.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:c,_context:I},I.Consumer=I},ye.createElement=Q,ye.createFactory=function(I){var B=Q.bind(null,I);return B.type=I,B},ye.createRef=function(){return{current:null}},ye.forwardRef=function(I){return{$$typeof:f,render:I}},ye.isValidElement=Z,ye.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:pe}},ye.memo=function(I,B){return{$$typeof:g,type:I,compare:B===void 0?null:B}},ye.startTransition=function(I){var B=D.transition;D.transition={};try{I()}finally{D.transition=B}},ye.unstable_act=K,ye.useCallback=function(I,B){return te.current.useCallback(I,B)},ye.useContext=function(I){return te.current.useContext(I)},ye.useDebugValue=function(){},ye.useDeferredValue=function(I){return te.current.useDeferredValue(I)},ye.useEffect=function(I,B){return te.current.useEffect(I,B)},ye.useId=function(){return te.current.useId()},ye.useImperativeHandle=function(I,B,me){return te.current.useImperativeHandle(I,B,me)},ye.useInsertionEffect=function(I,B){return te.current.useInsertionEffect(I,B)},ye.useLayoutEffect=function(I,B){return te.current.useLayoutEffect(I,B)},ye.useMemo=function(I,B){return te.current.useMemo(I,B)},ye.useReducer=function(I,B,me){return te.current.useReducer(I,B,me)},ye.useRef=function(I){return te.current.useRef(I)},ye.useState=function(I){return te.current.useState(I)},ye.useSyncExternalStore=function(I,B,me){return te.current.useSyncExternalStore(I,B,me)},ye.useTransition=function(){return te.current.useTransition()},ye.version="18.3.1",ye}var Pf;function xu(){return Pf||(Pf=1,Ic.exports=Ny()),Ic.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function Cy(){if(If)return Na;If=1;var s=xu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var v,y={},w=null,b=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)a.call(p,v)&&!c.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:e,type:f,key:w,ref:b,props:y,_owner:o.current}}return Na.Fragment=r,Na.jsx=d,Na.jsxs=d,Na}var Af;function ky(){return Af||(Af=1,Pc.exports=Cy()),Pc.exports}var i=ky(),x=xu();const Ty=Jp(x);var co={},Ac={exports:{}},St={},Rc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function Py(){return Rf||(Rf=1,(function(s){function e(D,Y){var K=D.length;D.push(Y);e:for(;0<K;){var I=K-1>>>1,B=D[I];if(0<o(B,Y))D[I]=Y,D[K]=B,K=I;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var Y=D[0],K=D.pop();if(K!==Y){D[0]=K;e:for(var I=0,B=D.length,me=B>>>1;I<me;){var fe=2*(I+1)-1,Se=D[fe],we=fe+1,Ne=D[we];if(0>o(Se,K))we<B&&0>o(Ne,Se)?(D[I]=Ne,D[we]=K,I=we):(D[I]=Se,D[fe]=K,I=fe);else if(we<B&&0>o(Ne,K))D[I]=Ne,D[we]=K,I=we;else break e}}return Y}function o(D,Y){var K=D.sortIndex-Y.sortIndex;return K!==0?K:D.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var p=[],g=[],v=1,y=null,w=3,b=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(D){for(var Y=r(g);Y!==null;){if(Y.callback===null)a(g);else if(Y.startTime<=D)a(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=r(g)}}function $(D){if(j=!1,R(D),!S)if(r(p)!==null)S=!0,pe(O);else{var Y=r(g);Y!==null&&te($,Y.startTime-D)}}function O(D,Y){S=!1,j&&(j=!1,k(Q),Q=-1),b=!0;var K=w;try{for(R(Y),y=r(p);y!==null&&(!(y.expirationTime>Y)||D&&!se());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var B=I(y.expirationTime<=Y);Y=s.unstable_now(),typeof B=="function"?y.callback=B:y===r(p)&&a(p),R(Y)}else a(p);y=r(p)}if(y!==null)var me=!0;else{var fe=r(g);fe!==null&&te($,fe.startTime-Y),me=!1}return me}finally{y=null,w=K,b=!1}}var F=!1,U=null,Q=-1,V=5,Z=-1;function se(){return!(s.unstable_now()-Z<V)}function _e(){if(U!==null){var D=s.unstable_now();Z=D;var Y=!0;try{Y=U(!0,D)}finally{Y?Le():(F=!1,U=null)}}else F=!1}var Le;if(typeof P=="function")Le=function(){P(_e)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,ve=Ue.port2;Ue.port1.onmessage=_e,Le=function(){ve.postMessage(null)}}else Le=function(){E(_e,0)};function pe(D){U=D,F||(F=!0,Le())}function te(D,Y){Q=E(function(){D(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_continueExecution=function(){S||b||(S=!0,pe(O))},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return r(p)},s.unstable_next=function(D){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var K=w;w=Y;try{return D()}finally{w=K}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=w;w=D;try{return Y()}finally{w=K}},s.unstable_scheduleCallback=function(D,Y,K){var I=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,D={id:v++,callback:Y,priorityLevel:D,startTime:K,expirationTime:B,sortIndex:-1},K>I?(D.sortIndex=K,e(g,D),r(p)===null&&D===r(g)&&(j?(k(Q),Q=-1):j=!0,te($,K-I))):(D.sortIndex=B,e(p,D),S||b||(S=!0,pe(O))),D},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(D){var Y=w;return function(){var K=w;w=Y;try{return D.apply(this,arguments)}finally{w=K}}}})(Oc)),Oc}var Of;function Iy(){return Of||(Of=1,Rc.exports=Py()),Rc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function Ay(){if(Lf)return St;Lf=1;var s=xu(),e=Iy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(t,n){d(t,n),d(t+"Capture",n)}function d(t,n){for(o[t]=n,t=0;t<n.length;t++)a.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(t){return p.call(y,t)?!0:p.call(v,t)?!1:g.test(t)?y[t]=!0:(v[t]=!0,!1)}function b(t,n,l,u){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S(t,n,l,u){if(n===null||typeof n>"u"||b(t,n,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(t,n,l,u,h,m,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];E[n]=new j(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(k,P);E[n]=new j(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(k,P);E[n]=new j(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(k,P);E[n]=new j(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,n,l,u){var h=E.hasOwnProperty(n)?E[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,l,h,u)&&(l=null),u||h===null?w(n)&&(l===null?t.removeAttribute(n):t.setAttribute(n,""+l)):h.mustUseProperty?t[h.propertyName]=l===null?h.type===3?!1:"":l:(n=h.attributeName,u=h.attributeNamespace,l===null?t.removeAttribute(n):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,u?t.setAttributeNS(u,n,l):t.setAttribute(n,l))))}var $=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),D=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,I;function B(t){if(I===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||""}return`
`+I+t}var me=!1;function fe(t,n){if(!t||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(M){var u=M}Reflect.construct(t,[],n)}else{try{n.call()}catch(M){u=M}t.call(n.prototype)}else{try{throw Error()}catch(M){u=M}t()}}catch(M){if(M&&u&&typeof M.stack=="string"){for(var h=M.stack.split(`
`),m=u.stack.split(`
`),_=h.length-1,N=m.length-1;1<=_&&0<=N&&h[_]!==m[N];)N--;for(;1<=_&&0<=N;_--,N--)if(h[_]!==m[N]){if(_!==1||N!==1)do if(_--,N--,0>N||h[_]!==m[N]){var C=`
`+h[_].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=_&&0<=N);break}}}finally{me=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?B(t):""}function Se(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case F:return"Portal";case V:return"Profiler";case Q:return"StrictMode";case Le:return"Suspense";case Ue:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case se:return(t.displayName||"Context")+".Consumer";case Z:return(t._context.displayName||"Context")+".Provider";case _e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ve:return n=t.displayName||null,n!==null?n:we(t.type)||"Memo";case pe:n=t._payload,t=t._init;try{return we(t(n))}catch{}}return null}function Ne(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ie(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function it(t){var n=Ie(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Rn(t){t._valueTracker||(t._valueTracker=it(t))}function Ms(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return t&&(u=Ie(t)?t.checked?"true":"false":t.value),t=u,t!==l?(n.setValue(t),!0):!1}function On(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ln(t,n){var l=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Qa(t,n){var l=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;l=be(n.value!=null?n.value:l),t._wrapperState={initialChecked:u,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ya(t,n){n=n.checked,n!=null&&R(t,"checked",n,!1)}function $s(t,n){Ya(t,n);var l=be(n.value),u=n.type;if(l!=null)u==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Fs(t,n.type,l):n.hasOwnProperty("defaultValue")&&Fs(t,n.type,be(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Xa(t,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,l||n===t.value||(t.value=n),t.defaultValue=n}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Fs(t,n,l){(n!=="number"||On(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var rn=Array.isArray;function br(t,n,l,u){if(t=t.options,n){n={};for(var h=0;h<l.length;h++)n["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=n.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&u&&(t[l].defaultSelected=!0)}else{for(l=""+be(l),n=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Us(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Za(t,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(r(92));if(rn(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),l=n}t._wrapperState={initialValue:be(l)}}function ei(t,n){var l=be(n.value),u=be(n.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),n.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),u!=null&&(t.defaultValue=""+u)}function ti(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function le(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?le(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var G,ce=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,l,u,h)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(G=G||document.createElement("div"),G.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=G.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function xe(t,n){if(n){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=n;return}}t.textContent=n}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(t){ot.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),qe[n]=qe[t]})});function Pt(t,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||qe.hasOwnProperty(t)&&qe[t]?(""+n).trim():n+"px"}function bt(t,n){t=t.style;for(var l in n)if(n.hasOwnProperty(l)){var u=l.indexOf("--")===0,h=Pt(l,n[l],u);l==="float"&&(l="cssFloat"),u?t.setProperty(l,h):t[l]=h}}var Bs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(t,n){if(n){if(Bs[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function nn(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Vs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sn=null,Mn=null,$n=null;function Wu(t){if(t=da(t)){if(typeof sn!="function")throw Error(r(280));var n=t.stateNode;n&&(n=bi(n),sn(t.stateNode,t.type,n))}}function Hu(t){Mn?$n?$n.push(t):$n=[t]:Mn=t}function Gu(){if(Mn){var t=Mn,n=$n;if($n=Mn=null,Wu(t),n)for(t=0;t<n.length;t++)Wu(n[t])}}function Ku(t,n){return t(n)}function Ju(){}var Go=!1;function Qu(t,n,l){if(Go)return t(n,l);Go=!0;try{return Ku(t,n,l)}finally{Go=!1,(Mn!==null||$n!==null)&&(Ju(),Gu())}}function qs(t,n){var l=t.stateNode;if(l===null)return null;var u=bi(l);if(u===null)return null;l=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var Ko=!1;if(f)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Ko=!1}function Ig(t,n,l,u,h,m,_,N,C){var M=Array.prototype.slice.call(arguments,3);try{n.apply(l,M)}catch(q){this.onError(q)}}var Hs=!1,ri=null,ni=!1,Jo=null,Ag={onError:function(t){Hs=!0,ri=t}};function Rg(t,n,l,u,h,m,_,N,C){Hs=!1,ri=null,Ig.apply(Ag,arguments)}function Og(t,n,l,u,h,m,_,N,C){if(Rg.apply(this,arguments),Hs){if(Hs){var M=ri;Hs=!1,ri=null}else throw Error(r(198));ni||(ni=!0,Jo=M)}}function an(t){var n=t,l=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(l=n.return),t=n.return;while(t)}return n.tag===3?l:null}function Yu(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Xu(t){if(an(t)!==t)throw Error(r(188))}function Lg(t){var n=t.alternate;if(!n){if(n=an(t),n===null)throw Error(r(188));return n!==t?null:t}for(var l=t,u=n;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return Xu(h),t;if(m===u)return Xu(h),n;m=m.sibling}throw Error(r(188))}if(l.return!==u.return)l=h,u=m;else{for(var _=!1,N=h.child;N;){if(N===l){_=!0,l=h,u=m;break}if(N===u){_=!0,u=h,l=m;break}N=N.sibling}if(!_){for(N=m.child;N;){if(N===l){_=!0,l=m,u=h;break}if(N===u){_=!0,u=m,l=h;break}N=N.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:n}function Zu(t){return t=Lg(t),t!==null?ed(t):null}function ed(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=ed(t);if(n!==null)return n;t=t.sibling}return null}var td=e.unstable_scheduleCallback,rd=e.unstable_cancelCallback,Dg=e.unstable_shouldYield,Mg=e.unstable_requestPaint,He=e.unstable_now,$g=e.unstable_getCurrentPriorityLevel,Qo=e.unstable_ImmediatePriority,nd=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,Fg=e.unstable_LowPriority,sd=e.unstable_IdlePriority,ai=null,Zt=null;function Ug(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Vg,Bg=Math.log,zg=Math.LN2;function Vg(t){return t>>>=0,t===0?32:31-(Bg(t)/zg|0)|0}var ii=64,oi=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,n){var l=t.pendingLanes;if(l===0)return 0;var u=0,h=t.suspendedLanes,m=t.pingedLanes,_=l&268435455;if(_!==0){var N=_&~h;N!==0?u=Gs(N):(m&=_,m!==0&&(u=Gs(m)))}else _=l&~h,_!==0?u=Gs(_):m!==0&&(u=Gs(m));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,m=n&-n,h>=m||h===16&&(m&4194240)!==0))return n;if((u&4)!==0&&(u|=l&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)l=31-Ft(n),h=1<<l,u|=t[l],n&=~h;return u}function qg(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(t,n){for(var l=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-Ft(m),N=1<<_,C=h[_];C===-1?((N&l)===0||(N&u)!==0)&&(h[_]=qg(N,n)):C<=n&&(t.expiredLanes|=N),m&=~N}}function Yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ad(){var t=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),t}function Xo(t){for(var n=[],l=0;31>l;l++)n.push(t);return n}function Ks(t,n,l){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Ft(n),t[n]=l}function Hg(t,n){var l=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<l;){var h=31-Ft(l),m=1<<h;n[h]=0,u[h]=-1,t[h]=-1,l&=~m}}function Zo(t,n){var l=t.entangledLanes|=n;for(t=t.entanglements;l;){var u=31-Ft(l),h=1<<u;h&n|t[u]&n&&(t[u]|=n),l&=~h}}var Ce=0;function id(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var od,el,ld,cd,ud,tl=!1,ci=[],Er=null,Nr=null,Cr=null,Js=new Map,Qs=new Map,kr=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(t,n){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Js.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(n.pointerId)}}function Ys(t,n,l,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},n!==null&&(n=da(n),n!==null&&el(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Kg(t,n,l,u,h){switch(n){case"focusin":return Er=Ys(Er,t,n,l,u,h),!0;case"dragenter":return Nr=Ys(Nr,t,n,l,u,h),!0;case"mouseover":return Cr=Ys(Cr,t,n,l,u,h),!0;case"pointerover":var m=h.pointerId;return Js.set(m,Ys(Js.get(m)||null,t,n,l,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Qs.set(m,Ys(Qs.get(m)||null,t,n,l,u,h)),!0}return!1}function hd(t){var n=on(t.target);if(n!==null){var l=an(n);if(l!==null){if(n=l.tag,n===13){if(n=Yu(l),n!==null){t.blockedOn=n,ud(t.priority,function(){ld(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ui(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var l=nl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);zs=u,l.target.dispatchEvent(u),zs=null}else return n=da(l),n!==null&&el(n),t.blockedOn=l,!1;n.shift()}return!0}function fd(t,n,l){ui(t)&&l.delete(n)}function Jg(){tl=!1,Er!==null&&ui(Er)&&(Er=null),Nr!==null&&ui(Nr)&&(Nr=null),Cr!==null&&ui(Cr)&&(Cr=null),Js.forEach(fd),Qs.forEach(fd)}function Xs(t,n){t.blockedOn===n&&(t.blockedOn=null,tl||(tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jg)))}function Zs(t){function n(h){return Xs(h,t)}if(0<ci.length){Xs(ci[0],t);for(var l=1;l<ci.length;l++){var u=ci[l];u.blockedOn===t&&(u.blockedOn=null)}}for(Er!==null&&Xs(Er,t),Nr!==null&&Xs(Nr,t),Cr!==null&&Xs(Cr,t),Js.forEach(n),Qs.forEach(n),l=0;l<kr.length;l++)u=kr[l],u.blockedOn===t&&(u.blockedOn=null);for(;0<kr.length&&(l=kr[0],l.blockedOn===null);)hd(l),l.blockedOn===null&&kr.shift()}var Fn=$.ReactCurrentBatchConfig,di=!0;function Qg(t,n,l,u){var h=Ce,m=Fn.transition;Fn.transition=null;try{Ce=1,rl(t,n,l,u)}finally{Ce=h,Fn.transition=m}}function Yg(t,n,l,u){var h=Ce,m=Fn.transition;Fn.transition=null;try{Ce=4,rl(t,n,l,u)}finally{Ce=h,Fn.transition=m}}function rl(t,n,l,u){if(di){var h=nl(t,n,l,u);if(h===null)_l(t,n,u,hi,l),dd(t,u);else if(Kg(h,t,n,l,u))u.stopPropagation();else if(dd(t,u),n&4&&-1<Gg.indexOf(t)){for(;h!==null;){var m=da(h);if(m!==null&&od(m),m=nl(t,n,l,u),m===null&&_l(t,n,u,hi,l),m===h)break;h=m}h!==null&&u.stopPropagation()}else _l(t,n,u,null,l)}}var hi=null;function nl(t,n,l,u){if(hi=null,t=Vs(u),t=on(t),t!==null)if(n=an(t),n===null)t=null;else if(l=n.tag,l===13){if(t=Yu(n),t!==null)return t;t=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return hi=t,null}function pd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($g()){case Qo:return 1;case nd:return 4;case si:case Fg:return 16;case sd:return 536870912;default:return 16}default:return 16}}var Tr=null,sl=null,fi=null;function md(){if(fi)return fi;var t,n=sl,l=n.length,u,h="value"in Tr?Tr.value:Tr.textContent,m=h.length;for(t=0;t<l&&n[t]===h[t];t++);var _=l-t;for(u=1;u<=_&&n[l-u]===h[m-u];u++);return fi=h.slice(t,1<u?1-u:void 0)}function pi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function gd(){return!1}function Et(t){function n(l,u,h,m,_){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(l=t[N],this[N]=l?l(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mi:gd,this.isPropagationStopped=gd,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),n}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Et(Un),ea=K({},Un,{view:0,detail:0}),Xg=Et(ea),il,ol,ta,gi=K({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(il=t.screenX-ta.screenX,ol=t.screenY-ta.screenY):ol=il=0,ta=t),il)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),vd=Et(gi),Zg=K({},gi,{dataTransfer:0}),ev=Et(Zg),tv=K({},ea,{relatedTarget:0}),ll=Et(tv),rv=K({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),nv=Et(rv),sv=K({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),av=Et(sv),iv=K({},Un,{data:0}),yd=Et(iv),ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uv(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cv[t])?!!n[t]:!1}function cl(){return uv}var dv=K({},ea,{key:function(t){if(t.key){var n=ov[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hv=Et(dv),fv=K({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=Et(fv),pv=K({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),mv=Et(pv),gv=K({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),vv=Et(gv),yv=K({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wv=Et(yv),_v=[9,13,27,32],ul=f&&"CompositionEvent"in window,ra=null;f&&"documentMode"in document&&(ra=document.documentMode);var xv=f&&"TextEvent"in window&&!ra,_d=f&&(!ul||ra&&8<ra&&11>=ra),xd=" ",Sd=!1;function jd(t,n){switch(t){case"keyup":return _v.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function Sv(t,n){switch(t){case"compositionend":return bd(n);case"keypress":return n.which!==32?null:(Sd=!0,xd);case"textInput":return t=n.data,t===xd&&Sd?null:t;default:return null}}function jv(t,n){if(Bn)return t==="compositionend"||!ul&&jd(t,n)?(t=md(),fi=sl=Tr=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _d&&n.locale!=="ko"?null:n.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bv[t.type]:n==="textarea"}function Nd(t,n,l,u){Hu(u),n=xi(n,"onChange"),0<n.length&&(l=new al("onChange","change",null,l,u),t.push({event:l,listeners:n}))}var na=null,sa=null;function Ev(t){qd(t,0)}function vi(t){var n=Hn(t);if(Ms(n))return t}function Nv(t,n){if(t==="change")return n}var Cd=!1;if(f){var dl;if(f){var hl="oninput"in document;if(!hl){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),hl=typeof kd.oninput=="function"}dl=hl}else dl=!1;Cd=dl&&(!document.documentMode||9<document.documentMode)}function Td(){na&&(na.detachEvent("onpropertychange",Pd),sa=na=null)}function Pd(t){if(t.propertyName==="value"&&vi(sa)){var n=[];Nd(n,sa,t,Vs(t)),Qu(Ev,n)}}function Cv(t,n,l){t==="focusin"?(Td(),na=n,sa=l,na.attachEvent("onpropertychange",Pd)):t==="focusout"&&Td()}function kv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vi(sa)}function Tv(t,n){if(t==="click")return vi(n)}function Pv(t,n){if(t==="input"||t==="change")return vi(n)}function Iv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ut=typeof Object.is=="function"?Object.is:Iv;function aa(t,n){if(Ut(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var l=Object.keys(t),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!p.call(n,h)||!Ut(t[h],n[h]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ad(t,n){var l=Id(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=n&&u>=n)return{node:l,offset:n-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Id(l)}}function Rd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Od(){for(var t=window,n=On();n instanceof t.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)t=n.contentWindow;else break;n=On(t.document)}return n}function fl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Av(t){var n=Od(),l=t.focusedElem,u=t.selectionRange;if(n!==l&&l&&l.ownerDocument&&Rd(l.ownerDocument.documentElement,l)){if(u!==null&&fl(l)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(t,l.value.length);else if(t=(n=l.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=l.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!t.extend&&m>u&&(h=u,u=m,m=h),h=Ad(l,m);var _=Ad(l,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),m>u?(t.addRange(n),t.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),t.addRange(n)))}}for(n=[],t=l;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)t=n[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rv=f&&"documentMode"in document&&11>=document.documentMode,zn=null,pl=null,ia=null,ml=!1;function Ld(t,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ml||zn==null||zn!==On(u)||(u=zn,"selectionStart"in u&&fl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ia&&aa(ia,u)||(ia=u,u=xi(pl,"onSelect"),0<u.length&&(n=new al("onSelect","select",null,n,l),t.push({event:n,listeners:u}),n.target=zn)))}function yi(t,n){var l={};return l[t.toLowerCase()]=n.toLowerCase(),l["Webkit"+t]="webkit"+n,l["Moz"+t]="moz"+n,l}var Vn={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},gl={},Dd={};f&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function wi(t){if(gl[t])return gl[t];if(!Vn[t])return t;var n=Vn[t],l;for(l in n)if(n.hasOwnProperty(l)&&l in Dd)return gl[t]=n[l];return t}var Md=wi("animationend"),$d=wi("animationiteration"),Fd=wi("animationstart"),Ud=wi("transitionend"),Bd=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,n){Bd.set(t,n),c(n,[t])}for(var vl=0;vl<zd.length;vl++){var yl=zd[vl],Ov=yl.toLowerCase(),Lv=yl[0].toUpperCase()+yl.slice(1);Pr(Ov,"on"+Lv)}Pr(Md,"onAnimationEnd"),Pr($d,"onAnimationIteration"),Pr(Fd,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ud,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function Vd(t,n,l){var u=t.type||"unknown-event";t.currentTarget=l,Og(u,n,void 0,t),t.currentTarget=null}function qd(t,n){n=(n&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],h=u.event;u=u.listeners;e:{var m=void 0;if(n)for(var _=u.length-1;0<=_;_--){var N=u[_],C=N.instance,M=N.currentTarget;if(N=N.listener,C!==m&&h.isPropagationStopped())break e;Vd(h,N,M),m=C}else for(_=0;_<u.length;_++){if(N=u[_],C=N.instance,M=N.currentTarget,N=N.listener,C!==m&&h.isPropagationStopped())break e;Vd(h,N,M),m=C}}}if(ni)throw t=Jo,ni=!1,Jo=null,t}function De(t,n){var l=n[Nl];l===void 0&&(l=n[Nl]=new Set);var u=t+"__bubble";l.has(u)||(Wd(n,t,2,!1),l.add(u))}function wl(t,n,l){var u=0;n&&(u|=4),Wd(l,t,u,n)}var _i="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[_i]){t[_i]=!0,a.forEach(function(l){l!=="selectionchange"&&(Dv.has(l)||wl(l,!1,t),wl(l,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_i]||(n[_i]=!0,wl("selectionchange",!1,n))}}function Wd(t,n,l,u){switch(pd(n)){case 1:var h=Qg;break;case 4:h=Yg;break;default:h=rl}l=h.bind(null,n,l,t),h=void 0,!Ko||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,l,{capture:!0,passive:h}):t.addEventListener(n,l,!0):h!==void 0?t.addEventListener(n,l,{passive:h}):t.addEventListener(n,l,!1)}function _l(t,n,l,u,h){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===h||N.nodeType===8&&N.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;N!==null;){if(_=on(N),_===null)return;if(C=_.tag,C===5||C===6){u=m=_;continue e}N=N.parentNode}}u=u.return}Qu(function(){var M=m,q=Vs(l),W=[];e:{var z=Bd.get(t);if(z!==void 0){var J=al,ee=t;switch(t){case"keypress":if(pi(l)===0)break e;case"keydown":case"keyup":J=hv;break;case"focusin":ee="focus",J=ll;break;case"focusout":ee="blur",J=ll;break;case"beforeblur":case"afterblur":J=ll;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=mv;break;case Md:case $d:case Fd:J=nv;break;case Ud:J=vv;break;case"scroll":J=Xg;break;case"wheel":J=wv;break;case"copy":case"cut":case"paste":J=av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=wd}var re=(n&4)!==0,Ge=!re&&t==="scroll",A=re?z!==null?z+"Capture":null:z;re=[];for(var T=M,L;T!==null;){L=T;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,A!==null&&(H=qs(T,A),H!=null&&re.push(ca(T,H,L)))),Ge)break;T=T.return}0<re.length&&(z=new J(z,ee,null,l,q),W.push({event:z,listeners:re}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",z&&l!==zs&&(ee=l.relatedTarget||l.fromElement)&&(on(ee)||ee[lr]))break e;if((J||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,J?(ee=l.relatedTarget||l.toElement,J=M,ee=ee?on(ee):null,ee!==null&&(Ge=an(ee),ee!==Ge||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(J=null,ee=M),J!==ee)){if(re=vd,H="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(re=wd,H="onPointerLeave",A="onPointerEnter",T="pointer"),Ge=J==null?z:Hn(J),L=ee==null?z:Hn(ee),z=new re(H,T+"leave",J,l,q),z.target=Ge,z.relatedTarget=L,H=null,on(q)===M&&(re=new re(A,T+"enter",ee,l,q),re.target=L,re.relatedTarget=Ge,H=re),Ge=H,J&&ee)t:{for(re=J,A=ee,T=0,L=re;L;L=qn(L))T++;for(L=0,H=A;H;H=qn(H))L++;for(;0<T-L;)re=qn(re),T--;for(;0<L-T;)A=qn(A),L--;for(;T--;){if(re===A||A!==null&&re===A.alternate)break t;re=qn(re),A=qn(A)}re=null}else re=null;J!==null&&Hd(W,z,J,re,!1),ee!==null&&Ge!==null&&Hd(W,Ge,ee,re,!0)}}e:{if(z=M?Hn(M):window,J=z.nodeName&&z.nodeName.toLowerCase(),J==="select"||J==="input"&&z.type==="file")var ne=Nv;else if(Ed(z))if(Cd)ne=Pv;else{ne=kv;var ae=Cv}else(J=z.nodeName)&&J.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ne=Tv);if(ne&&(ne=ne(t,M))){Nd(W,ne,l,q);break e}ae&&ae(t,z,M),t==="focusout"&&(ae=z._wrapperState)&&ae.controlled&&z.type==="number"&&Fs(z,"number",z.value)}switch(ae=M?Hn(M):window,t){case"focusin":(Ed(ae)||ae.contentEditable==="true")&&(zn=ae,pl=M,ia=null);break;case"focusout":ia=pl=zn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Ld(W,l,q);break;case"selectionchange":if(Rv)break;case"keydown":case"keyup":Ld(W,l,q)}var ie;if(ul)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Bn?jd(t,l)&&(ue="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ue="onCompositionStart");ue&&(_d&&l.locale!=="ko"&&(Bn||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Bn&&(ie=md()):(Tr=q,sl="value"in Tr?Tr.value:Tr.textContent,Bn=!0)),ae=xi(M,ue),0<ae.length&&(ue=new yd(ue,t,null,l,q),W.push({event:ue,listeners:ae}),ie?ue.data=ie:(ie=bd(l),ie!==null&&(ue.data=ie)))),(ie=xv?Sv(t,l):jv(t,l))&&(M=xi(M,"onBeforeInput"),0<M.length&&(q=new yd("onBeforeInput","beforeinput",null,l,q),W.push({event:q,listeners:M}),q.data=ie))}qd(W,n)})}function ca(t,n,l){return{instance:t,listener:n,currentTarget:l}}function xi(t,n){for(var l=n+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=qs(t,l),m!=null&&u.unshift(ca(t,m,h)),m=qs(t,n),m!=null&&u.push(ca(t,m,h))),t=t.return}return u}function qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hd(t,n,l,u,h){for(var m=n._reactName,_=[];l!==null&&l!==u;){var N=l,C=N.alternate,M=N.stateNode;if(C!==null&&C===u)break;N.tag===5&&M!==null&&(N=M,h?(C=qs(l,m),C!=null&&_.unshift(ca(l,C,N))):h||(C=qs(l,m),C!=null&&_.push(ca(l,C,N)))),l=l.return}_.length!==0&&t.push({event:n,listeners:_})}var Mv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(Mv,`
`).replace($v,"")}function Si(t,n,l){if(n=Gd(n),Gd(t)!==n&&l)throw Error(r(425))}function ji(){}var xl=null,Sl=null;function jl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,Fv=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(t){return Kd.resolve(null).then(t).catch(Bv)}:bl;function Bv(t){setTimeout(function(){throw t})}function El(t,n){var l=n,u=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){t.removeChild(h),Zs(n);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);Zs(n)}function Ir(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Jd(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return t;n--}else l==="/$"&&n++}t=t.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),er="__reactFiber$"+Wn,ua="__reactProps$"+Wn,lr="__reactContainer$"+Wn,Nl="__reactEvents$"+Wn,zv="__reactListeners$"+Wn,Vv="__reactHandles$"+Wn;function on(t){var n=t[er];if(n)return n;for(var l=t.parentNode;l;){if(n=l[lr]||l[er]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(t=Jd(t);t!==null;){if(l=t[er])return l;t=Jd(t)}return n}t=l,l=t.parentNode}return null}function da(t){return t=t[er]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function bi(t){return t[ua]||null}var Cl=[],Gn=-1;function Ar(t){return{current:t}}function Me(t){0>Gn||(t.current=Cl[Gn],Cl[Gn]=null,Gn--)}function Ae(t,n){Gn++,Cl[Gn]=t.current,t.current=n}var Rr={},ut=Ar(Rr),vt=Ar(!1),ln=Rr;function Kn(t,n){var l=t.type.contextTypes;if(!l)return Rr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in l)h[m]=n[m];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function yt(t){return t=t.childContextTypes,t!=null}function Ei(){Me(vt),Me(ut)}function Qd(t,n,l){if(ut.current!==Rr)throw Error(r(168));Ae(ut,n),Ae(vt,l)}function Yd(t,n,l){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Ne(t)||"Unknown",h));return K({},l,u)}function Ni(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,ln=ut.current,Ae(ut,t),Ae(vt,vt.current),!0}function Xd(t,n,l){var u=t.stateNode;if(!u)throw Error(r(169));l?(t=Yd(t,n,ln),u.__reactInternalMemoizedMergedChildContext=t,Me(vt),Me(ut),Ae(ut,t)):Me(vt),Ae(vt,l)}var cr=null,Ci=!1,kl=!1;function Zd(t){cr===null?cr=[t]:cr.push(t)}function qv(t){Ci=!0,Zd(t)}function Or(){if(!kl&&cr!==null){kl=!0;var t=0,n=Ce;try{var l=cr;for(Ce=1;t<l.length;t++){var u=l[t];do u=u(!0);while(u!==null)}cr=null,Ci=!1}catch(h){throw cr!==null&&(cr=cr.slice(t+1)),td(Qo,Or),h}finally{Ce=n,kl=!1}}return null}var Jn=[],Qn=0,ki=null,Ti=0,It=[],At=0,cn=null,ur=1,dr="";function un(t,n){Jn[Qn++]=Ti,Jn[Qn++]=ki,ki=t,Ti=n}function eh(t,n,l){It[At++]=ur,It[At++]=dr,It[At++]=cn,cn=t;var u=ur;t=dr;var h=32-Ft(u)-1;u&=~(1<<h),l+=1;var m=32-Ft(n)+h;if(30<m){var _=h-h%5;m=(u&(1<<_)-1).toString(32),u>>=_,h-=_,ur=1<<32-Ft(n)+h|l<<h|u,dr=m+t}else ur=1<<m|l<<h|u,dr=t}function Tl(t){t.return!==null&&(un(t,1),eh(t,1,0))}function Pl(t){for(;t===ki;)ki=Jn[--Qn],Jn[Qn]=null,Ti=Jn[--Qn],Jn[Qn]=null;for(;t===cn;)cn=It[--At],It[At]=null,dr=It[--At],It[At]=null,ur=It[--At],It[At]=null}var Nt=null,Ct=null,$e=!1,Bt=null;function th(t,n){var l=Dt(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=t,n=t.deletions,n===null?(t.deletions=[l],t.flags|=16):n.push(l)}function rh(t,n){switch(t.tag){case 5:var l=t.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Nt=t,Ct=Ir(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Nt=t,Ct=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=cn!==null?{id:ur,overflow:dr}:null,t.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=Dt(18,null,null,0),l.stateNode=n,l.return=t,t.child=l,Nt=t,Ct=null,!0):!1;default:return!1}}function Il(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Al(t){if($e){var n=Ct;if(n){var l=n;if(!rh(t,n)){if(Il(t))throw Error(r(418));n=Ir(l.nextSibling);var u=Nt;n&&rh(t,n)?th(u,l):(t.flags=t.flags&-4097|2,$e=!1,Nt=t)}}else{if(Il(t))throw Error(r(418));t.flags=t.flags&-4097|2,$e=!1,Nt=t}}}function nh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function Pi(t){if(t!==Nt)return!1;if(!$e)return nh(t),$e=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!jl(t.type,t.memoizedProps)),n&&(n=Ct)){if(Il(t))throw sh(),Error(r(418));for(;n;)th(t,n),n=Ir(n.nextSibling)}if(nh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(n===0){Ct=Ir(t.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}t=t.nextSibling}Ct=null}}else Ct=Nt?Ir(t.stateNode.nextSibling):null;return!0}function sh(){for(var t=Ct;t;)t=Ir(t.nextSibling)}function Yn(){Ct=Nt=null,$e=!1}function Rl(t){Bt===null?Bt=[t]:Bt.push(t)}var Wv=$.ReactCurrentBatchConfig;function ha(t,n,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var u=l.stateNode}if(!u)throw Error(r(147,t));var h=u,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(_){var N=h.refs;_===null?delete N[m]:N[m]=_},n._stringRef=m,n)}if(typeof t!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,t))}return t}function Ii(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function ah(t){var n=t._init;return n(t._payload)}function ih(t){function n(A,T){if(t){var L=A.deletions;L===null?(A.deletions=[T],A.flags|=16):L.push(T)}}function l(A,T){if(!t)return null;for(;T!==null;)n(A,T),T=T.sibling;return null}function u(A,T){for(A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function h(A,T){return A=zr(A,T),A.index=0,A.sibling=null,A}function m(A,T,L){return A.index=L,t?(L=A.alternate,L!==null?(L=L.index,L<T?(A.flags|=2,T):L):(A.flags|=2,T)):(A.flags|=1048576,T)}function _(A){return t&&A.alternate===null&&(A.flags|=2),A}function N(A,T,L,H){return T===null||T.tag!==6?(T=bc(L,A.mode,H),T.return=A,T):(T=h(T,L),T.return=A,T)}function C(A,T,L,H){var ne=L.type;return ne===U?q(A,T,L.props.children,H,L.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===pe&&ah(ne)===T.type)?(H=h(T,L.props),H.ref=ha(A,T,L),H.return=A,H):(H=to(L.type,L.key,L.props,null,A.mode,H),H.ref=ha(A,T,L),H.return=A,H)}function M(A,T,L,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==L.containerInfo||T.stateNode.implementation!==L.implementation?(T=Ec(L,A.mode,H),T.return=A,T):(T=h(T,L.children||[]),T.return=A,T)}function q(A,T,L,H,ne){return T===null||T.tag!==7?(T=yn(L,A.mode,H,ne),T.return=A,T):(T=h(T,L),T.return=A,T)}function W(A,T,L){if(typeof T=="string"&&T!==""||typeof T=="number")return T=bc(""+T,A.mode,L),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case O:return L=to(T.type,T.key,T.props,null,A.mode,L),L.ref=ha(A,null,T),L.return=A,L;case F:return T=Ec(T,A.mode,L),T.return=A,T;case pe:var H=T._init;return W(A,H(T._payload),L)}if(rn(T)||Y(T))return T=yn(T,A.mode,L,null),T.return=A,T;Ii(A,T)}return null}function z(A,T,L,H){var ne=T!==null?T.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ne!==null?null:N(A,T,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===ne?C(A,T,L,H):null;case F:return L.key===ne?M(A,T,L,H):null;case pe:return ne=L._init,z(A,T,ne(L._payload),H)}if(rn(L)||Y(L))return ne!==null?null:q(A,T,L,H,null);Ii(A,L)}return null}function J(A,T,L,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return A=A.get(L)||null,N(T,A,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return A=A.get(H.key===null?L:H.key)||null,C(T,A,H,ne);case F:return A=A.get(H.key===null?L:H.key)||null,M(T,A,H,ne);case pe:var ae=H._init;return J(A,T,L,ae(H._payload),ne)}if(rn(H)||Y(H))return A=A.get(L)||null,q(T,A,H,ne,null);Ii(T,H)}return null}function ee(A,T,L,H){for(var ne=null,ae=null,ie=T,ue=T=0,st=null;ie!==null&&ue<L.length;ue++){ie.index>ue?(st=ie,ie=null):st=ie.sibling;var Ee=z(A,ie,L[ue],H);if(Ee===null){ie===null&&(ie=st);break}t&&ie&&Ee.alternate===null&&n(A,ie),T=m(Ee,T,ue),ae===null?ne=Ee:ae.sibling=Ee,ae=Ee,ie=st}if(ue===L.length)return l(A,ie),$e&&un(A,ue),ne;if(ie===null){for(;ue<L.length;ue++)ie=W(A,L[ue],H),ie!==null&&(T=m(ie,T,ue),ae===null?ne=ie:ae.sibling=ie,ae=ie);return $e&&un(A,ue),ne}for(ie=u(A,ie);ue<L.length;ue++)st=J(ie,A,ue,L[ue],H),st!==null&&(t&&st.alternate!==null&&ie.delete(st.key===null?ue:st.key),T=m(st,T,ue),ae===null?ne=st:ae.sibling=st,ae=st);return t&&ie.forEach(function(Vr){return n(A,Vr)}),$e&&un(A,ue),ne}function re(A,T,L,H){var ne=Y(L);if(typeof ne!="function")throw Error(r(150));if(L=ne.call(L),L==null)throw Error(r(151));for(var ae=ne=null,ie=T,ue=T=0,st=null,Ee=L.next();ie!==null&&!Ee.done;ue++,Ee=L.next()){ie.index>ue?(st=ie,ie=null):st=ie.sibling;var Vr=z(A,ie,Ee.value,H);if(Vr===null){ie===null&&(ie=st);break}t&&ie&&Vr.alternate===null&&n(A,ie),T=m(Vr,T,ue),ae===null?ne=Vr:ae.sibling=Vr,ae=Vr,ie=st}if(Ee.done)return l(A,ie),$e&&un(A,ue),ne;if(ie===null){for(;!Ee.done;ue++,Ee=L.next())Ee=W(A,Ee.value,H),Ee!==null&&(T=m(Ee,T,ue),ae===null?ne=Ee:ae.sibling=Ee,ae=Ee);return $e&&un(A,ue),ne}for(ie=u(A,ie);!Ee.done;ue++,Ee=L.next())Ee=J(ie,A,ue,Ee.value,H),Ee!==null&&(t&&Ee.alternate!==null&&ie.delete(Ee.key===null?ue:Ee.key),T=m(Ee,T,ue),ae===null?ne=Ee:ae.sibling=Ee,ae=Ee);return t&&ie.forEach(function(by){return n(A,by)}),$e&&un(A,ue),ne}function Ge(A,T,L,H){if(typeof L=="object"&&L!==null&&L.type===U&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:e:{for(var ne=L.key,ae=T;ae!==null;){if(ae.key===ne){if(ne=L.type,ne===U){if(ae.tag===7){l(A,ae.sibling),T=h(ae,L.props.children),T.return=A,A=T;break e}}else if(ae.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===pe&&ah(ne)===ae.type){l(A,ae.sibling),T=h(ae,L.props),T.ref=ha(A,ae,L),T.return=A,A=T;break e}l(A,ae);break}else n(A,ae);ae=ae.sibling}L.type===U?(T=yn(L.props.children,A.mode,H,L.key),T.return=A,A=T):(H=to(L.type,L.key,L.props,null,A.mode,H),H.ref=ha(A,T,L),H.return=A,A=H)}return _(A);case F:e:{for(ae=L.key;T!==null;){if(T.key===ae)if(T.tag===4&&T.stateNode.containerInfo===L.containerInfo&&T.stateNode.implementation===L.implementation){l(A,T.sibling),T=h(T,L.children||[]),T.return=A,A=T;break e}else{l(A,T);break}else n(A,T);T=T.sibling}T=Ec(L,A.mode,H),T.return=A,A=T}return _(A);case pe:return ae=L._init,Ge(A,T,ae(L._payload),H)}if(rn(L))return ee(A,T,L,H);if(Y(L))return re(A,T,L,H);Ii(A,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,T!==null&&T.tag===6?(l(A,T.sibling),T=h(T,L),T.return=A,A=T):(l(A,T),T=bc(L,A.mode,H),T.return=A,A=T),_(A)):l(A,T)}return Ge}var Xn=ih(!0),oh=ih(!1),Ai=Ar(null),Ri=null,Zn=null,Ol=null;function Ll(){Ol=Zn=Ri=null}function Dl(t){var n=Ai.current;Me(Ai),t._currentValue=n}function Ml(t,n,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===l)break;t=t.return}}function es(t,n){Ri=t,Ol=Zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(wt=!0),t.firstContext=null)}function Rt(t){var n=t._currentValue;if(Ol!==t)if(t={context:t,memoizedValue:n,next:null},Zn===null){if(Ri===null)throw Error(r(308));Zn=t,Ri.dependencies={lanes:0,firstContext:t}}else Zn=Zn.next=t;return n}var dn=null;function $l(t){dn===null?dn=[t]:dn.push(t)}function lh(t,n,l,u){var h=n.interleaved;return h===null?(l.next=l,$l(n)):(l.next=h.next,h.next=l),n.interleaved=l,hr(t,u)}function hr(t,n){t.lanes|=n;var l=t.alternate;for(l!==null&&(l.lanes|=n),l=t,t=t.return;t!==null;)t.childLanes|=n,l=t.alternate,l!==null&&(l.childLanes|=n),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Lr=!1;function Fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Dr(t,n,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,hr(t,l)}return h=u.interleaved,h===null?(n.next=n,$l(u)):(n.next=h.next,h.next=n),u.interleaved=n,hr(t,l)}function Oi(t,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,l|=u,n.lanes=l,Zo(t,l)}}function uh(t,n){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?h=m=_:m=m.next=_,l=l.next}while(l!==null);m===null?h=m=n:m=m.next=n}else h=m=n;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=n:t.next=n,l.lastBaseUpdate=n}function Li(t,n,l,u){var h=t.updateQueue;Lr=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var C=N,M=C.next;C.next=null,_===null?m=M:_.next=M,_=C;var q=t.alternate;q!==null&&(q=q.updateQueue,N=q.lastBaseUpdate,N!==_&&(N===null?q.firstBaseUpdate=M:N.next=M,q.lastBaseUpdate=C))}if(m!==null){var W=h.baseState;_=0,q=M=C=null,N=m;do{var z=N.lane,J=N.eventTime;if((u&z)===z){q!==null&&(q=q.next={eventTime:J,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ee=t,re=N;switch(z=n,J=l,re.tag){case 1:if(ee=re.payload,typeof ee=="function"){W=ee.call(J,W,z);break e}W=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,z=typeof ee=="function"?ee.call(J,W,z):ee,z==null)break e;W=K({},W,z);break e;case 2:Lr=!0}}N.callback!==null&&N.lane!==0&&(t.flags|=64,z=h.effects,z===null?h.effects=[N]:z.push(N))}else J={eventTime:J,lane:z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},q===null?(M=q=J,C=W):q=q.next=J,_|=z;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;z=N,N=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);if(q===null&&(C=W),h.baseState=C,h.firstBaseUpdate=M,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do _|=h.lane,h=h.next;while(h!==n)}else m===null&&(h.shared.lanes=0);pn|=_,t.lanes=_,t.memoizedState=W}}function dh(t,n,l){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=l,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var fa={},tr=Ar(fa),pa=Ar(fa),ma=Ar(fa);function hn(t){if(t===fa)throw Error(r(174));return t}function Ul(t,n){switch(Ae(ma,n),Ae(pa,t),Ae(tr,fa),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ge(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=ge(n,t)}Me(tr),Ae(tr,n)}function ts(){Me(tr),Me(pa),Me(ma)}function hh(t){hn(ma.current);var n=hn(tr.current),l=ge(n,t.type);n!==l&&(Ae(pa,t),Ae(tr,l))}function Bl(t){pa.current===t&&(Me(tr),Me(pa))}var Be=Ar(0);function Di(t){for(var n=t;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zl=[];function Vl(){for(var t=0;t<zl.length;t++)zl[t]._workInProgressVersionPrimary=null;zl.length=0}var Mi=$.ReactCurrentDispatcher,ql=$.ReactCurrentBatchConfig,fn=0,ze=null,Ze=null,rt=null,$i=!1,ga=!1,va=0,Hv=0;function dt(){throw Error(r(321))}function Wl(t,n){if(n===null)return!1;for(var l=0;l<n.length&&l<t.length;l++)if(!Ut(t[l],n[l]))return!1;return!0}function Hl(t,n,l,u,h,m){if(fn=m,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Mi.current=t===null||t.memoizedState===null?Qv:Yv,t=l(u,h),ga){m=0;do{if(ga=!1,va=0,25<=m)throw Error(r(301));m+=1,rt=Ze=null,n.updateQueue=null,Mi.current=Xv,t=l(u,h)}while(ga)}if(Mi.current=Bi,n=Ze!==null&&Ze.next!==null,fn=0,rt=Ze=ze=null,$i=!1,n)throw Error(r(300));return t}function Gl(){var t=va!==0;return va=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ze.memoizedState=rt=t:rt=rt.next=t,rt}function Ot(){if(Ze===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=rt===null?ze.memoizedState:rt.next;if(n!==null)rt=n,Ze=t;else{if(t===null)throw Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?ze.memoizedState=rt=t:rt=rt.next=t}return rt}function ya(t,n){return typeof n=="function"?n(t):n}function Kl(t){var n=Ot(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var u=Ze,h=u.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}u.baseQueue=h=m,l.pending=null}if(h!==null){m=h.next,u=u.baseState;var N=_=null,C=null,M=m;do{var q=M.lane;if((fn&q)===q)C!==null&&(C=C.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),u=M.hasEagerState?M.eagerState:t(u,M.action);else{var W={lane:q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};C===null?(N=C=W,_=u):C=C.next=W,ze.lanes|=q,pn|=q}M=M.next}while(M!==null&&M!==m);C===null?_=u:C.next=N,Ut(u,n.memoizedState)||(wt=!0),n.memoizedState=u,n.baseState=_,n.baseQueue=C,l.lastRenderedState=u}if(t=l.interleaved,t!==null){h=t;do m=h.lane,ze.lanes|=m,pn|=m,h=h.next;while(h!==t)}else h===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Jl(t){var n=Ot(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var u=l.dispatch,h=l.pending,m=n.memoizedState;if(h!==null){l.pending=null;var _=h=h.next;do m=t(m,_.action),_=_.next;while(_!==h);Ut(m,n.memoizedState)||(wt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,u]}function fh(){}function ph(t,n){var l=ze,u=Ot(),h=n(),m=!Ut(u.memoizedState,h);if(m&&(u.memoizedState=h,wt=!0),u=u.queue,Ql(vh.bind(null,l,u,t),[t]),u.getSnapshot!==n||m||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,wa(9,gh.bind(null,l,u,h,n),void 0,null),nt===null)throw Error(r(349));(fn&30)!==0||mh(l,n,h)}return h}function mh(t,n,l){t.flags|=16384,t={getSnapshot:n,value:l},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.stores=[t]):(l=n.stores,l===null?n.stores=[t]:l.push(t))}function gh(t,n,l,u){n.value=l,n.getSnapshot=u,yh(n)&&wh(t)}function vh(t,n,l){return l(function(){yh(n)&&wh(t)})}function yh(t){var n=t.getSnapshot;t=t.value;try{var l=n();return!Ut(t,l)}catch{return!0}}function wh(t){var n=hr(t,1);n!==null&&Wt(n,t,1,-1)}function _h(t){var n=rr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},n.queue=t,t=t.dispatch=Jv.bind(null,ze,t),[n.memoizedState,t]}function wa(t,n,l,u){return t={tag:t,create:n,destroy:l,deps:u,next:null},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.lastEffect=t.next=t):(l=n.lastEffect,l===null?n.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,n.lastEffect=t)),t}function xh(){return Ot().memoizedState}function Fi(t,n,l,u){var h=rr();ze.flags|=t,h.memoizedState=wa(1|n,l,void 0,u===void 0?null:u)}function Ui(t,n,l,u){var h=Ot();u=u===void 0?null:u;var m=void 0;if(Ze!==null){var _=Ze.memoizedState;if(m=_.destroy,u!==null&&Wl(u,_.deps)){h.memoizedState=wa(n,l,m,u);return}}ze.flags|=t,h.memoizedState=wa(1|n,l,m,u)}function Sh(t,n){return Fi(8390656,8,t,n)}function Ql(t,n){return Ui(2048,8,t,n)}function jh(t,n){return Ui(4,2,t,n)}function bh(t,n){return Ui(4,4,t,n)}function Eh(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Nh(t,n,l){return l=l!=null?l.concat([t]):null,Ui(4,4,Eh.bind(null,n,t),l)}function Yl(){}function Ch(t,n){var l=Ot();n=n===void 0?null:n;var u=l.memoizedState;return u!==null&&n!==null&&Wl(n,u[1])?u[0]:(l.memoizedState=[t,n],t)}function kh(t,n){var l=Ot();n=n===void 0?null:n;var u=l.memoizedState;return u!==null&&n!==null&&Wl(n,u[1])?u[0]:(t=t(),l.memoizedState=[t,n],t)}function Th(t,n,l){return(fn&21)===0?(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=l):(Ut(l,n)||(l=ad(),ze.lanes|=l,pn|=l,t.baseState=!0),n)}function Gv(t,n){var l=Ce;Ce=l!==0&&4>l?l:4,t(!0);var u=ql.transition;ql.transition={};try{t(!1),n()}finally{Ce=l,ql.transition=u}}function Ph(){return Ot().memoizedState}function Kv(t,n,l){var u=Ur(t);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Ih(t))Ah(n,l);else if(l=lh(t,n,l,u),l!==null){var h=mt();Wt(l,t,u,h),Rh(l,n,u)}}function Jv(t,n,l){var u=Ur(t),h={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))Ah(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var _=n.lastRenderedState,N=m(_,l);if(h.hasEagerState=!0,h.eagerState=N,Ut(N,_)){var C=n.interleaved;C===null?(h.next=h,$l(n)):(h.next=C.next,C.next=h),n.interleaved=h;return}}catch{}finally{}l=lh(t,n,h,u),l!==null&&(h=mt(),Wt(l,t,u,h),Rh(l,n,u))}}function Ih(t){var n=t.alternate;return t===ze||n!==null&&n===ze}function Ah(t,n){ga=$i=!0;var l=t.pending;l===null?n.next=n:(n.next=l.next,l.next=n),t.pending=n}function Rh(t,n,l){if((l&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,l|=u,n.lanes=l,Zo(t,l)}}var Bi={readContext:Rt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Qv={readContext:Rt,useCallback:function(t,n){return rr().memoizedState=[t,n===void 0?null:n],t},useContext:Rt,useEffect:Sh,useImperativeHandle:function(t,n,l){return l=l!=null?l.concat([t]):null,Fi(4194308,4,Eh.bind(null,n,t),l)},useLayoutEffect:function(t,n){return Fi(4194308,4,t,n)},useInsertionEffect:function(t,n){return Fi(4,2,t,n)},useMemo:function(t,n){var l=rr();return n=n===void 0?null:n,t=t(),l.memoizedState=[t,n],t},useReducer:function(t,n,l){var u=rr();return n=l!==void 0?l(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=Kv.bind(null,ze,t),[u.memoizedState,t]},useRef:function(t){var n=rr();return t={current:t},n.memoizedState=t},useState:_h,useDebugValue:Yl,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=_h(!1),n=t[0];return t=Gv.bind(null,t[1]),rr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,l){var u=ze,h=rr();if($e){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),nt===null)throw Error(r(349));(fn&30)!==0||mh(u,n,l)}h.memoizedState=l;var m={value:l,getSnapshot:n};return h.queue=m,Sh(vh.bind(null,u,m,t),[t]),u.flags|=2048,wa(9,gh.bind(null,u,m,l,n),void 0,null),l},useId:function(){var t=rr(),n=nt.identifierPrefix;if($e){var l=dr,u=ur;l=(u&~(1<<32-Ft(u)-1)).toString(32)+l,n=":"+n+"R"+l,l=va++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Hv++,n=":"+n+"r"+l.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Yv={readContext:Rt,useCallback:Ch,useContext:Rt,useEffect:Ql,useImperativeHandle:Nh,useInsertionEffect:jh,useLayoutEffect:bh,useMemo:kh,useReducer:Kl,useRef:xh,useState:function(){return Kl(ya)},useDebugValue:Yl,useDeferredValue:function(t){var n=Ot();return Th(n,Ze.memoizedState,t)},useTransition:function(){var t=Kl(ya)[0],n=Ot().memoizedState;return[t,n]},useMutableSource:fh,useSyncExternalStore:ph,useId:Ph,unstable_isNewReconciler:!1},Xv={readContext:Rt,useCallback:Ch,useContext:Rt,useEffect:Ql,useImperativeHandle:Nh,useInsertionEffect:jh,useLayoutEffect:bh,useMemo:kh,useReducer:Jl,useRef:xh,useState:function(){return Jl(ya)},useDebugValue:Yl,useDeferredValue:function(t){var n=Ot();return Ze===null?n.memoizedState=t:Th(n,Ze.memoizedState,t)},useTransition:function(){var t=Jl(ya)[0],n=Ot().memoizedState;return[t,n]},useMutableSource:fh,useSyncExternalStore:ph,useId:Ph,unstable_isNewReconciler:!1};function zt(t,n){if(t&&t.defaultProps){n=K({},n),t=t.defaultProps;for(var l in t)n[l]===void 0&&(n[l]=t[l]);return n}return n}function Xl(t,n,l,u){n=t.memoizedState,l=l(u,n),l=l==null?n:K({},n,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var zi={isMounted:function(t){return(t=t._reactInternals)?an(t)===t:!1},enqueueSetState:function(t,n,l){t=t._reactInternals;var u=mt(),h=Ur(t),m=fr(u,h);m.payload=n,l!=null&&(m.callback=l),n=Dr(t,m,h),n!==null&&(Wt(n,t,h,u),Oi(n,t,h))},enqueueReplaceState:function(t,n,l){t=t._reactInternals;var u=mt(),h=Ur(t),m=fr(u,h);m.tag=1,m.payload=n,l!=null&&(m.callback=l),n=Dr(t,m,h),n!==null&&(Wt(n,t,h,u),Oi(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var l=mt(),u=Ur(t),h=fr(l,u);h.tag=2,n!=null&&(h.callback=n),n=Dr(t,h,u),n!==null&&(Wt(n,t,u,l),Oi(n,t,u))}};function Oh(t,n,l,u,h,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,_):n.prototype&&n.prototype.isPureReactComponent?!aa(l,u)||!aa(h,m):!0}function Lh(t,n,l){var u=!1,h=Rr,m=n.contextType;return typeof m=="object"&&m!==null?m=Rt(m):(h=yt(n)?ln:ut.current,u=n.contextTypes,m=(u=u!=null)?Kn(t,h):Rr),n=new n(l,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=zi,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=m),n}function Dh(t,n,l,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==t&&zi.enqueueReplaceState(n,n.state,null)}function Zl(t,n,l,u){var h=t.stateNode;h.props=l,h.state=t.memoizedState,h.refs={},Fl(t);var m=n.contextType;typeof m=="object"&&m!==null?h.context=Rt(m):(m=yt(n)?ln:ut.current,h.context=Kn(t,m)),h.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Xl(t,n,m,l),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&zi.enqueueReplaceState(h,h.state,null),Li(t,l,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function rs(t,n){try{var l="",u=n;do l+=Se(u),u=u.return;while(u);var h=l}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:h,digest:null}}function ec(t,n,l){return{value:t,source:null,stack:l??null,digest:n??null}}function tc(t,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var Zv=typeof WeakMap=="function"?WeakMap:Map;function Mh(t,n,l){l=fr(-1,l),l.tag=3,l.payload={element:null};var u=n.value;return l.callback=function(){Ji||(Ji=!0,gc=u),tc(t,n)},l}function $h(t,n,l){l=fr(-1,l),l.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;l.payload=function(){return u(h)},l.callback=function(){tc(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){tc(t,n),typeof u!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),l}function Fh(t,n,l){var u=t.pingCache;if(u===null){u=t.pingCache=new Zv;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(l)||(h.add(l),t=fy.bind(null,t,n,l),n.then(t,t))}function Uh(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Bh(t,n,l,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=fr(-1,1),n.tag=2,Dr(l,n,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var ey=$.ReactCurrentOwner,wt=!1;function pt(t,n,l,u){n.child=t===null?oh(n,null,l,u):Xn(n,t.child,l,u)}function zh(t,n,l,u,h){l=l.render;var m=n.ref;return es(n,h),u=Hl(t,n,l,u,m,h),l=Gl(),t!==null&&!wt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,pr(t,n,h)):($e&&l&&Tl(n),n.flags|=1,pt(t,n,u,h),n.child)}function Vh(t,n,l,u,h){if(t===null){var m=l.type;return typeof m=="function"&&!jc(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=m,qh(t,n,m,u,h)):(t=to(l.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,(t.lanes&h)===0){var _=m.memoizedProps;if(l=l.compare,l=l!==null?l:aa,l(_,u)&&t.ref===n.ref)return pr(t,n,h)}return n.flags|=1,t=zr(m,u),t.ref=n.ref,t.return=n,n.child=t}function qh(t,n,l,u,h){if(t!==null){var m=t.memoizedProps;if(aa(m,u)&&t.ref===n.ref)if(wt=!1,n.pendingProps=u=m,(t.lanes&h)!==0)(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,pr(t,n,h)}return rc(t,n,l,u,h)}function Wh(t,n,l){var u=n.pendingProps,h=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ss,kt),kt|=l;else{if((l&1073741824)===0)return t=m!==null?m.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ae(ss,kt),kt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:l,Ae(ss,kt),kt|=u}else m!==null?(u=m.baseLanes|l,n.memoizedState=null):u=l,Ae(ss,kt),kt|=u;return pt(t,n,h,l),n.child}function Hh(t,n){var l=n.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function rc(t,n,l,u,h){var m=yt(l)?ln:ut.current;return m=Kn(n,m),es(n,h),l=Hl(t,n,l,u,m,h),u=Gl(),t!==null&&!wt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,pr(t,n,h)):($e&&u&&Tl(n),n.flags|=1,pt(t,n,l,h),n.child)}function Gh(t,n,l,u,h){if(yt(l)){var m=!0;Ni(n)}else m=!1;if(es(n,h),n.stateNode===null)qi(t,n),Lh(n,l,u),Zl(n,l,u,h),u=!0;else if(t===null){var _=n.stateNode,N=n.memoizedProps;_.props=N;var C=_.context,M=l.contextType;typeof M=="object"&&M!==null?M=Rt(M):(M=yt(l)?ln:ut.current,M=Kn(n,M));var q=l.getDerivedStateFromProps,W=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==u||C!==M)&&Dh(n,_,u,M),Lr=!1;var z=n.memoizedState;_.state=z,Li(n,u,_,h),C=n.memoizedState,N!==u||z!==C||vt.current||Lr?(typeof q=="function"&&(Xl(n,l,q,u),C=n.memoizedState),(N=Lr||Oh(n,l,N,u,z,C,M))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=C),_.props=u,_.state=C,_.context=M,u=N):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{_=n.stateNode,ch(t,n),N=n.memoizedProps,M=n.type===n.elementType?N:zt(n.type,N),_.props=M,W=n.pendingProps,z=_.context,C=l.contextType,typeof C=="object"&&C!==null?C=Rt(C):(C=yt(l)?ln:ut.current,C=Kn(n,C));var J=l.getDerivedStateFromProps;(q=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==W||z!==C)&&Dh(n,_,u,C),Lr=!1,z=n.memoizedState,_.state=z,Li(n,u,_,h);var ee=n.memoizedState;N!==W||z!==ee||vt.current||Lr?(typeof J=="function"&&(Xl(n,l,J,u),ee=n.memoizedState),(M=Lr||Oh(n,l,M,u,z,ee,C)||!1)?(q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ee,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ee,C)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ee),_.props=u,_.state=ee,_.context=C,u=M):(typeof _.componentDidUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),u=!1)}return nc(t,n,l,u,m,h)}function nc(t,n,l,u,h,m){Hh(t,n);var _=(n.flags&128)!==0;if(!u&&!_)return h&&Xd(n,l,!1),pr(t,n,m);u=n.stateNode,ey.current=n;var N=_&&typeof l.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&_?(n.child=Xn(n,t.child,null,m),n.child=Xn(n,null,N,m)):pt(t,n,N,m),n.memoizedState=u.state,h&&Xd(n,l,!0),n.child}function Kh(t){var n=t.stateNode;n.pendingContext?Qd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Qd(t,n.context,!1),Ul(t,n.containerInfo)}function Jh(t,n,l,u,h){return Yn(),Rl(h),n.flags|=256,pt(t,n,l,u),n.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qh(t,n,l){var u=n.pendingProps,h=Be.current,m=!1,_=(n.flags&128)!==0,N;if((N=_)||(N=t!==null&&t.memoizedState===null?!1:(h&2)!==0),N?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ae(Be,h&1),t===null)return Al(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(_=u.children,t=u.fallback,m?(u=n.mode,m=n.child,_={mode:"hidden",children:_},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=ro(_,u,0,null),t=yn(t,u,l,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=ac(l),n.memoizedState=sc,t):ic(n,_));if(h=t.memoizedState,h!==null&&(N=h.dehydrated,N!==null))return ty(t,n,_,u,N,h,l);if(m){m=u.fallback,_=n.mode,h=t.child,N=h.sibling;var C={mode:"hidden",children:u.children};return(_&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=C,n.deletions=null):(u=zr(h,C),u.subtreeFlags=h.subtreeFlags&14680064),N!==null?m=zr(N,m):(m=yn(m,_,l,null),m.flags|=2),m.return=n,u.return=n,u.sibling=m,n.child=u,u=m,m=n.child,_=t.child.memoizedState,_=_===null?ac(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~l,n.memoizedState=sc,u}return m=t.child,t=m.sibling,u=zr(m,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=l),u.return=n,u.sibling=null,t!==null&&(l=n.deletions,l===null?(n.deletions=[t],n.flags|=16):l.push(t)),n.child=u,n.memoizedState=null,u}function ic(t,n){return n=ro({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Vi(t,n,l,u){return u!==null&&Rl(u),Xn(n,t.child,null,l),t=ic(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,l,u,h,m,_){if(l)return n.flags&256?(n.flags&=-257,u=ec(Error(r(422))),Vi(t,n,_,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=u.fallback,h=n.mode,u=ro({mode:"visible",children:u.children},h,0,null),m=yn(m,h,_,null),m.flags|=2,u.return=n,m.return=n,u.sibling=m,n.child=u,(n.mode&1)!==0&&Xn(n,t.child,null,_),n.child.memoizedState=ac(_),n.memoizedState=sc,m);if((n.mode&1)===0)return Vi(t,n,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var N=u.dgst;return u=N,m=Error(r(419)),u=ec(m,u,void 0),Vi(t,n,_,u)}if(N=(_&t.childLanes)!==0,wt||N){if(u=nt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,hr(t,h),Wt(u,t,h,-1))}return Sc(),u=ec(Error(r(421))),Vi(t,n,_,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=py.bind(null,t),h._reactRetry=n,null):(t=m.treeContext,Ct=Ir(h.nextSibling),Nt=n,$e=!0,Bt=null,t!==null&&(It[At++]=ur,It[At++]=dr,It[At++]=cn,ur=t.id,dr=t.overflow,cn=n),n=ic(n,u.children),n.flags|=4096,n)}function Yh(t,n,l){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Ml(t.return,n,l)}function oc(t,n,l,u,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=h)}function Xh(t,n,l){var u=n.pendingProps,h=u.revealOrder,m=u.tail;if(pt(t,n,u.children,l),u=Be.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,l,n);else if(t.tag===19)Yh(t,l,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ae(Be,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(l=n.child,h=null;l!==null;)t=l.alternate,t!==null&&Di(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=n.child,n.child=null):(h=l.sibling,l.sibling=null),oc(n,!1,h,l,m);break;case"backwards":for(l=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Di(t)===null){n.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}oc(n,!0,l,null,m);break;case"together":oc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function pr(t,n,l){if(t!==null&&(n.dependencies=t.dependencies),pn|=n.lanes,(l&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,l=zr(t,t.pendingProps),n.child=l,l.return=n;t.sibling!==null;)t=t.sibling,l=l.sibling=zr(t,t.pendingProps),l.return=n;l.sibling=null}return n.child}function ry(t,n,l){switch(n.tag){case 3:Kh(n),Yn();break;case 5:hh(n);break;case 1:yt(n.type)&&Ni(n);break;case 4:Ul(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Ae(Ai,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Ae(Be,Be.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?Qh(t,n,l):(Ae(Be,Be.current&1),t=pr(t,n,l),t!==null?t.sibling:null);Ae(Be,Be.current&1);break;case 19:if(u=(l&n.childLanes)!==0,(t.flags&128)!==0){if(u)return Xh(t,n,l);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ae(Be,Be.current),u)break;return null;case 22:case 23:return n.lanes=0,Wh(t,n,l)}return pr(t,n,l)}var Zh,lc,ef,tf;Zh=function(t,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},lc=function(){},ef=function(t,n,l,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,hn(tr.current);var m=null;switch(l){case"input":h=Ln(t,h),u=Ln(t,u),m=[];break;case"select":h=K({},h,{value:void 0}),u=K({},u,{value:void 0}),m=[];break;case"textarea":h=Us(t,h),u=Us(t,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ji)}Dn(l,u);var _;l=null;for(M in h)if(!u.hasOwnProperty(M)&&h.hasOwnProperty(M)&&h[M]!=null)if(M==="style"){var N=h[M];for(_ in N)N.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(o.hasOwnProperty(M)?m||(m=[]):(m=m||[]).push(M,null));for(M in u){var C=u[M];if(N=h?.[M],u.hasOwnProperty(M)&&C!==N&&(C!=null||N!=null))if(M==="style")if(N){for(_ in N)!N.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in C)C.hasOwnProperty(_)&&N[_]!==C[_]&&(l||(l={}),l[_]=C[_])}else l||(m||(m=[]),m.push(M,l)),l=C;else M==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,N=N?N.__html:void 0,C!=null&&N!==C&&(m=m||[]).push(M,C)):M==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(M,""+C):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(o.hasOwnProperty(M)?(C!=null&&M==="onScroll"&&De("scroll",t),m||N===C||(m=[])):(m=m||[]).push(M,C))}l&&(m=m||[]).push("style",l);var M=m;(n.updateQueue=M)&&(n.flags|=4)}},tf=function(t,n,l,u){l!==u&&(n.flags|=4)};function _a(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(n)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=l,n}function ny(t,n,l){var u=n.pendingProps;switch(Pl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return yt(n.type)&&Ei(),ht(n),null;case 3:return u=n.stateNode,ts(),Me(vt),Me(ut),Vl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Pi(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bt!==null&&(wc(Bt),Bt=null))),lc(t,n),ht(n),null;case 5:Bl(n);var h=hn(ma.current);if(l=n.type,t!==null&&n.stateNode!=null)ef(t,n,l,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return ht(n),null}if(t=hn(tr.current),Pi(n)){u=n.stateNode,l=n.type;var m=n.memoizedProps;switch(u[er]=n,u[ua]=m,t=(n.mode&1)!==0,l){case"dialog":De("cancel",u),De("close",u);break;case"iframe":case"object":case"embed":De("load",u);break;case"video":case"audio":for(h=0;h<oa.length;h++)De(oa[h],u);break;case"source":De("error",u);break;case"img":case"image":case"link":De("error",u),De("load",u);break;case"details":De("toggle",u);break;case"input":Qa(u,m),De("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},De("invalid",u);break;case"textarea":Za(u,m),De("invalid",u)}Dn(l,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var N=m[_];_==="children"?typeof N=="string"?u.textContent!==N&&(m.suppressHydrationWarning!==!0&&Si(u.textContent,N,t),h=["children",N]):typeof N=="number"&&u.textContent!==""+N&&(m.suppressHydrationWarning!==!0&&Si(u.textContent,N,t),h=["children",""+N]):o.hasOwnProperty(_)&&N!=null&&_==="onScroll"&&De("scroll",u)}switch(l){case"input":Rn(u),Xa(u,m,!0);break;case"textarea":Rn(u),ti(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=ji)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=le(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(l,{is:u.is}):(t=_.createElement(l),l==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,l),t[er]=n,t[ua]=u,Zh(t,n,!1,!1),n.stateNode=t;e:{switch(_=nn(l,u),l){case"dialog":De("cancel",t),De("close",t),h=u;break;case"iframe":case"object":case"embed":De("load",t),h=u;break;case"video":case"audio":for(h=0;h<oa.length;h++)De(oa[h],t);h=u;break;case"source":De("error",t),h=u;break;case"img":case"image":case"link":De("error",t),De("load",t),h=u;break;case"details":De("toggle",t),h=u;break;case"input":Qa(t,u),h=Ln(t,u),De("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=K({},u,{value:void 0}),De("invalid",t);break;case"textarea":Za(t,u),h=Us(t,u),De("invalid",t);break;default:h=u}Dn(l,h),N=h;for(m in N)if(N.hasOwnProperty(m)){var C=N[m];m==="style"?bt(t,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ce(t,C)):m==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&xe(t,C):typeof C=="number"&&xe(t,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&De("scroll",t):C!=null&&R(t,m,C,_))}switch(l){case"input":Rn(t),Xa(t,u,!1);break;case"textarea":Rn(t),ti(t);break;case"option":u.value!=null&&t.setAttribute("value",""+be(u.value));break;case"select":t.multiple=!!u.multiple,m=u.value,m!=null?br(t,!!u.multiple,m,!1):u.defaultValue!=null&&br(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=ji)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ht(n),null;case 6:if(t&&n.stateNode!=null)tf(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(l=hn(ma.current),hn(tr.current),Pi(n)){if(u=n.stateNode,l=n.memoizedProps,u[er]=n,(m=u.nodeValue!==l)&&(t=Nt,t!==null))switch(t.tag){case 3:Si(u.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Si(u.nodeValue,l,(t.mode&1)!==0)}m&&(n.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[er]=n,n.stateNode=u}return ht(n),null;case 13:if(Me(Be),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Ct!==null&&(n.mode&1)!==0&&(n.flags&128)===0)sh(),Yn(),n.flags|=98560,m=!1;else if(m=Pi(n),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[er]=n}else Yn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),m=!1}else Bt!==null&&(wc(Bt),Bt=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Be.current&1)!==0?et===0&&(et=3):Sc())),n.updateQueue!==null&&(n.flags|=4),ht(n),null);case 4:return ts(),lc(t,n),t===null&&la(n.stateNode.containerInfo),ht(n),null;case 10:return Dl(n.type._context),ht(n),null;case 17:return yt(n.type)&&Ei(),ht(n),null;case 19:if(Me(Be),m=n.memoizedState,m===null)return ht(n),null;if(u=(n.flags&128)!==0,_=m.rendering,_===null)if(u)_a(m,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(_=Di(t),_!==null){for(n.flags|=128,_a(m,!1),u=_.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=l,l=n.child;l!==null;)m=l,t=u,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Ae(Be,Be.current&1|2),n.child}t=t.sibling}m.tail!==null&&He()>as&&(n.flags|=128,u=!0,_a(m,!1),n.lanes=4194304)}else{if(!u)if(t=Di(_),t!==null){if(n.flags|=128,u=!0,l=t.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),_a(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!$e)return ht(n),null}else 2*He()-m.renderingStartTime>as&&l!==1073741824&&(n.flags|=128,u=!0,_a(m,!1),n.lanes=4194304);m.isBackwards?(_.sibling=n.child,n.child=_):(l=m.last,l!==null?l.sibling=_:n.child=_,m.last=_)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=He(),n.sibling=null,l=Be.current,Ae(Be,u?l&1|2:l&1),n):(ht(n),null);case 22:case 23:return xc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(kt&1073741824)!==0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function sy(t,n){switch(Pl(n),n.tag){case 1:return yt(n.type)&&Ei(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(),Me(vt),Me(ut),Vl(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Bl(n),null;case 13:if(Me(Be),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Yn()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Me(Be),null;case 4:return ts(),null;case 10:return Dl(n.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var Wi=!1,ft=!1,ay=typeof WeakSet=="function"?WeakSet:Set,X=null;function ns(t,n){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){We(t,n,u)}else l.current=null}function cc(t,n,l){try{l()}catch(u){We(t,n,u)}}var rf=!1;function iy(t,n){if(xl=di,t=Od(),fl(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var _=0,N=-1,C=-1,M=0,q=0,W=t,z=null;t:for(;;){for(var J;W!==l||h!==0&&W.nodeType!==3||(N=_+h),W!==m||u!==0&&W.nodeType!==3||(C=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(J=W.firstChild)!==null;)z=W,W=J;for(;;){if(W===t)break t;if(z===l&&++M===h&&(N=_),z===m&&++q===u&&(C=_),(J=W.nextSibling)!==null)break;W=z,z=W.parentNode}W=J}l=N===-1||C===-1?null:{start:N,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sl={focusedElem:t,selectionRange:l},di=!1,X=n;X!==null;)if(n=X,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,X=t;else for(;X!==null;){n=X;try{var ee=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var re=ee.memoizedProps,Ge=ee.memoizedState,A=n.stateNode,T=A.getSnapshotBeforeUpdate(n.elementType===n.type?re:zt(n.type,re),Ge);A.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var L=n.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(H){We(n,n.return,H)}if(t=n.sibling,t!==null){t.return=n.return,X=t;break}X=n.return}return ee=rf,rf=!1,ee}function xa(t,n,l){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var m=h.destroy;h.destroy=void 0,m!==void 0&&cc(n,l,m)}h=h.next}while(h!==u)}}function Hi(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&t)===t){var u=l.create;l.destroy=u()}l=l.next}while(l!==n)}}function uc(t){var n=t.ref;if(n!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof n=="function"?n(t):n.current=t}}function nf(t){var n=t.alternate;n!==null&&(t.alternate=null,nf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[er],delete n[ua],delete n[Nl],delete n[zv],delete n[Vv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sf(t){return t.tag===5||t.tag===3||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dc(t,n,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(t,n):l.insertBefore(t,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(t,l)):(n=l,n.appendChild(t)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=ji));else if(u!==4&&(t=t.child,t!==null))for(dc(t,n,l),t=t.sibling;t!==null;)dc(t,n,l),t=t.sibling}function hc(t,n,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?l.insertBefore(t,n):l.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(hc(t,n,l),t=t.sibling;t!==null;)hc(t,n,l),t=t.sibling}var lt=null,Vt=!1;function Mr(t,n,l){for(l=l.child;l!==null;)of(t,n,l),l=l.sibling}function of(t,n,l){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ai,l)}catch{}switch(l.tag){case 5:ft||ns(l,n);case 6:var u=lt,h=Vt;lt=null,Mr(t,n,l),lt=u,Vt=h,lt!==null&&(Vt?(t=lt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):lt.removeChild(l.stateNode));break;case 18:lt!==null&&(Vt?(t=lt,l=l.stateNode,t.nodeType===8?El(t.parentNode,l):t.nodeType===1&&El(t,l),Zs(t)):El(lt,l.stateNode));break;case 4:u=lt,h=Vt,lt=l.stateNode.containerInfo,Vt=!0,Mr(t,n,l),lt=u,Vt=h;break;case 0:case 11:case 14:case 15:if(!ft&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&cc(l,n,_),h=h.next}while(h!==u)}Mr(t,n,l);break;case 1:if(!ft&&(ns(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(N){We(l,n,N)}Mr(t,n,l);break;case 21:Mr(t,n,l);break;case 22:l.mode&1?(ft=(u=ft)||l.memoizedState!==null,Mr(t,n,l),ft=u):Mr(t,n,l);break;default:Mr(t,n,l)}}function lf(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new ay),n.forEach(function(u){var h=my.bind(null,t,u);l.has(u)||(l.add(u),u.then(h,h))})}}function qt(t,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];try{var m=t,_=n,N=_;e:for(;N!==null;){switch(N.tag){case 5:lt=N.stateNode,Vt=!1;break e;case 3:lt=N.stateNode.containerInfo,Vt=!0;break e;case 4:lt=N.stateNode.containerInfo,Vt=!0;break e}N=N.return}if(lt===null)throw Error(r(160));of(m,_,h),lt=null,Vt=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(M){We(h,n,M)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)cf(n,t),n=n.sibling}function cf(t,n){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(n,t),nr(t),u&4){try{xa(3,t,t.return),Hi(3,t)}catch(re){We(t,t.return,re)}try{xa(5,t,t.return)}catch(re){We(t,t.return,re)}}break;case 1:qt(n,t),nr(t),u&512&&l!==null&&ns(l,l.return);break;case 5:if(qt(n,t),nr(t),u&512&&l!==null&&ns(l,l.return),t.flags&32){var h=t.stateNode;try{xe(h,"")}catch(re){We(t,t.return,re)}}if(u&4&&(h=t.stateNode,h!=null)){var m=t.memoizedProps,_=l!==null?l.memoizedProps:m,N=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{N==="input"&&m.type==="radio"&&m.name!=null&&Ya(h,m),nn(N,_);var M=nn(N,m);for(_=0;_<C.length;_+=2){var q=C[_],W=C[_+1];q==="style"?bt(h,W):q==="dangerouslySetInnerHTML"?ce(h,W):q==="children"?xe(h,W):R(h,q,W,M)}switch(N){case"input":$s(h,m);break;case"textarea":ei(h,m);break;case"select":var z=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var J=m.value;J!=null?br(h,!!m.multiple,J,!1):z!==!!m.multiple&&(m.defaultValue!=null?br(h,!!m.multiple,m.defaultValue,!0):br(h,!!m.multiple,m.multiple?[]:"",!1))}h[ua]=m}catch(re){We(t,t.return,re)}}break;case 6:if(qt(n,t),nr(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,m=t.memoizedProps;try{h.nodeValue=m}catch(re){We(t,t.return,re)}}break;case 3:if(qt(n,t),nr(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Zs(n.containerInfo)}catch(re){We(t,t.return,re)}break;case 4:qt(n,t),nr(t);break;case 13:qt(n,t),nr(t),h=t.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(mc=He())),u&4&&lf(t);break;case 22:if(q=l!==null&&l.memoizedState!==null,t.mode&1?(ft=(M=ft)||q,qt(n,t),ft=M):qt(n,t),nr(t),u&8192){if(M=t.memoizedState!==null,(t.stateNode.isHidden=M)&&!q&&(t.mode&1)!==0)for(X=t,q=t.child;q!==null;){for(W=X=q;X!==null;){switch(z=X,J=z.child,z.tag){case 0:case 11:case 14:case 15:xa(4,z,z.return);break;case 1:ns(z,z.return);var ee=z.stateNode;if(typeof ee.componentWillUnmount=="function"){u=z,l=z.return;try{n=u,ee.props=n.memoizedProps,ee.state=n.memoizedState,ee.componentWillUnmount()}catch(re){We(u,l,re)}}break;case 5:ns(z,z.return);break;case 22:if(z.memoizedState!==null){hf(W);continue}}J!==null?(J.return=z,X=J):hf(W)}q=q.sibling}e:for(q=null,W=t;;){if(W.tag===5){if(q===null){q=W;try{h=W.stateNode,M?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(N=W.stateNode,C=W.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,N.style.display=Pt("display",_))}catch(re){We(t,t.return,re)}}}else if(W.tag===6){if(q===null)try{W.stateNode.nodeValue=M?"":W.memoizedProps}catch(re){We(t,t.return,re)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;q===W&&(q=null),W=W.return}q===W&&(q=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:qt(n,t),nr(t),u&4&&lf(t);break;case 21:break;default:qt(n,t),nr(t)}}function nr(t){var n=t.flags;if(n&2){try{e:{for(var l=t.return;l!==null;){if(sf(l)){var u=l;break e}l=l.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(xe(h,""),u.flags&=-33);var m=af(t);hc(t,m,h);break;case 3:case 4:var _=u.stateNode.containerInfo,N=af(t);dc(t,N,_);break;default:throw Error(r(161))}}catch(C){We(t,t.return,C)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function oy(t,n,l){X=t,uf(t)}function uf(t,n,l){for(var u=(t.mode&1)!==0;X!==null;){var h=X,m=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||Wi;if(!_){var N=h.alternate,C=N!==null&&N.memoizedState!==null||ft;N=Wi;var M=ft;if(Wi=_,(ft=C)&&!M)for(X=h;X!==null;)_=X,C=_.child,_.tag===22&&_.memoizedState!==null?ff(h):C!==null?(C.return=_,X=C):ff(h);for(;m!==null;)X=m,uf(m),m=m.sibling;X=h,Wi=N,ft=M}df(t)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,X=m):df(t)}}function df(t){for(;X!==null;){var n=X;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ft||Hi(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!ft)if(l===null)u.componentDidMount();else{var h=n.elementType===n.type?l.memoizedProps:zt(n.type,l.memoizedProps);u.componentDidUpdate(h,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&dh(n,m,u);break;case 3:var _=n.updateQueue;if(_!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}dh(n,_,l)}break;case 5:var N=n.stateNode;if(l===null&&n.flags&4){l=N;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var M=n.alternate;if(M!==null){var q=M.memoizedState;if(q!==null){var W=q.dehydrated;W!==null&&Zs(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ft||n.flags&512&&uc(n)}catch(z){We(n,n.return,z)}}if(n===t){X=null;break}if(l=n.sibling,l!==null){l.return=n.return,X=l;break}X=n.return}}function hf(t){for(;X!==null;){var n=X;if(n===t){X=null;break}var l=n.sibling;if(l!==null){l.return=n.return,X=l;break}X=n.return}}function ff(t){for(;X!==null;){var n=X;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Hi(4,n)}catch(C){We(n,l,C)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(C){We(n,h,C)}}var m=n.return;try{uc(n)}catch(C){We(n,m,C)}break;case 5:var _=n.return;try{uc(n)}catch(C){We(n,_,C)}}}catch(C){We(n,n.return,C)}if(n===t){X=null;break}var N=n.sibling;if(N!==null){N.return=n.return,X=N;break}X=n.return}}var ly=Math.ceil,Gi=$.ReactCurrentDispatcher,fc=$.ReactCurrentOwner,Lt=$.ReactCurrentBatchConfig,je=0,nt=null,Qe=null,ct=0,kt=0,ss=Ar(0),et=0,Sa=null,pn=0,Ki=0,pc=0,ja=null,_t=null,mc=0,as=1/0,mr=null,Ji=!1,gc=null,$r=null,Qi=!1,Fr=null,Yi=0,ba=0,vc=null,Xi=-1,Zi=0;function mt(){return(je&6)!==0?He():Xi!==-1?Xi:Xi=He()}function Ur(t){return(t.mode&1)===0?1:(je&2)!==0&&ct!==0?ct&-ct:Wv.transition!==null?(Zi===0&&(Zi=ad()),Zi):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:pd(t.type)),t)}function Wt(t,n,l,u){if(50<ba)throw ba=0,vc=null,Error(r(185));Ks(t,l,u),((je&2)===0||t!==nt)&&(t===nt&&((je&2)===0&&(Ki|=l),et===4&&Br(t,ct)),xt(t,u),l===1&&je===0&&(n.mode&1)===0&&(as=He()+500,Ci&&Or()))}function xt(t,n){var l=t.callbackNode;Wg(t,n);var u=li(t,t===nt?ct:0);if(u===0)l!==null&&rd(l),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(l!=null&&rd(l),n===1)t.tag===0?qv(mf.bind(null,t)):Zd(mf.bind(null,t)),Uv(function(){(je&6)===0&&Or()}),l=null;else{switch(id(u)){case 1:l=Qo;break;case 4:l=nd;break;case 16:l=si;break;case 536870912:l=sd;break;default:l=si}l=jf(l,pf.bind(null,t))}t.callbackPriority=n,t.callbackNode=l}}function pf(t,n){if(Xi=-1,Zi=0,(je&6)!==0)throw Error(r(327));var l=t.callbackNode;if(is()&&t.callbackNode!==l)return null;var u=li(t,t===nt?ct:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=eo(t,u);else{n=u;var h=je;je|=2;var m=vf();(nt!==t||ct!==n)&&(mr=null,as=He()+500,gn(t,n));do try{dy();break}catch(N){gf(t,N)}while(!0);Ll(),Gi.current=m,je=h,Qe!==null?n=0:(nt=null,ct=0,n=et)}if(n!==0){if(n===2&&(h=Yo(t),h!==0&&(u=h,n=yc(t,h))),n===1)throw l=Sa,gn(t,0),Br(t,u),xt(t,He()),l;if(n===6)Br(t,u);else{if(h=t.current.alternate,(u&30)===0&&!cy(h)&&(n=eo(t,u),n===2&&(m=Yo(t),m!==0&&(u=m,n=yc(t,m))),n===1))throw l=Sa,gn(t,0),Br(t,u),xt(t,He()),l;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:vn(t,_t,mr);break;case 3:if(Br(t,u),(u&130023424)===u&&(n=mc+500-He(),10<n)){if(li(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){mt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=bl(vn.bind(null,t,_t,mr),n);break}vn(t,_t,mr);break;case 4:if(Br(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var _=31-Ft(u);m=1<<_,_=n[_],_>h&&(h=_),u&=~m}if(u=h,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*ly(u/1960))-u,10<u){t.timeoutHandle=bl(vn.bind(null,t,_t,mr),u);break}vn(t,_t,mr);break;case 5:vn(t,_t,mr);break;default:throw Error(r(329))}}}return xt(t,He()),t.callbackNode===l?pf.bind(null,t):null}function yc(t,n){var l=ja;return t.current.memoizedState.isDehydrated&&(gn(t,n).flags|=256),t=eo(t,n),t!==2&&(n=_t,_t=l,n!==null&&wc(n)),t}function wc(t){_t===null?_t=t:_t.push.apply(_t,t)}function cy(t){for(var n=t;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var h=l[u],m=h.getSnapshot;h=h.value;try{if(!Ut(m(),h))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Br(t,n){for(n&=~pc,n&=~Ki,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var l=31-Ft(n),u=1<<l;t[l]=-1,n&=~u}}function mf(t){if((je&6)!==0)throw Error(r(327));is();var n=li(t,0);if((n&1)===0)return xt(t,He()),null;var l=eo(t,n);if(t.tag!==0&&l===2){var u=Yo(t);u!==0&&(n=u,l=yc(t,u))}if(l===1)throw l=Sa,gn(t,0),Br(t,n),xt(t,He()),l;if(l===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,vn(t,_t,mr),xt(t,He()),null}function _c(t,n){var l=je;je|=1;try{return t(n)}finally{je=l,je===0&&(as=He()+500,Ci&&Or())}}function mn(t){Fr!==null&&Fr.tag===0&&(je&6)===0&&is();var n=je;je|=1;var l=Lt.transition,u=Ce;try{if(Lt.transition=null,Ce=1,t)return t()}finally{Ce=u,Lt.transition=l,je=n,(je&6)===0&&Or()}}function xc(){kt=ss.current,Me(ss)}function gn(t,n){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,Fv(l)),Qe!==null)for(l=Qe.return;l!==null;){var u=l;switch(Pl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ei();break;case 3:ts(),Me(vt),Me(ut),Vl();break;case 5:Bl(u);break;case 4:ts();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Dl(u.type._context);break;case 22:case 23:xc()}l=l.return}if(nt=t,Qe=t=zr(t.current,null),ct=kt=n,et=0,Sa=null,pc=Ki=pn=0,_t=ja=null,dn!==null){for(n=0;n<dn.length;n++)if(l=dn[n],u=l.interleaved,u!==null){l.interleaved=null;var h=u.next,m=l.pending;if(m!==null){var _=m.next;m.next=h,u.next=_}l.pending=u}dn=null}return t}function gf(t,n){do{var l=Qe;try{if(Ll(),Mi.current=Bi,$i){for(var u=ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}$i=!1}if(fn=0,rt=Ze=ze=null,ga=!1,va=0,fc.current=null,l===null||l.return===null){et=1,Sa=n,Qe=null;break}e:{var m=t,_=l.return,N=l,C=n;if(n=ct,N.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var M=C,q=N,W=q.tag;if((q.mode&1)===0&&(W===0||W===11||W===15)){var z=q.alternate;z?(q.updateQueue=z.updateQueue,q.memoizedState=z.memoizedState,q.lanes=z.lanes):(q.updateQueue=null,q.memoizedState=null)}var J=Uh(_);if(J!==null){J.flags&=-257,Bh(J,_,N,m,n),J.mode&1&&Fh(m,M,n),n=J,C=M;var ee=n.updateQueue;if(ee===null){var re=new Set;re.add(C),n.updateQueue=re}else ee.add(C);break e}else{if((n&1)===0){Fh(m,M,n),Sc();break e}C=Error(r(426))}}else if($e&&N.mode&1){var Ge=Uh(_);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Bh(Ge,_,N,m,n),Rl(rs(C,N));break e}}m=C=rs(C,N),et!==4&&(et=2),ja===null?ja=[m]:ja.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var A=Mh(m,C,n);uh(m,A);break e;case 1:N=C;var T=m.type,L=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&($r===null||!$r.has(L)))){m.flags|=65536,n&=-n,m.lanes|=n;var H=$h(m,N,n);uh(m,H);break e}}m=m.return}while(m!==null)}wf(l)}catch(ne){n=ne,Qe===l&&l!==null&&(Qe=l=l.return);continue}break}while(!0)}function vf(){var t=Gi.current;return Gi.current=Bi,t===null?Bi:t}function Sc(){(et===0||et===3||et===2)&&(et=4),nt===null||(pn&268435455)===0&&(Ki&268435455)===0||Br(nt,ct)}function eo(t,n){var l=je;je|=2;var u=vf();(nt!==t||ct!==n)&&(mr=null,gn(t,n));do try{uy();break}catch(h){gf(t,h)}while(!0);if(Ll(),je=l,Gi.current=u,Qe!==null)throw Error(r(261));return nt=null,ct=0,et}function uy(){for(;Qe!==null;)yf(Qe)}function dy(){for(;Qe!==null&&!Dg();)yf(Qe)}function yf(t){var n=Sf(t.alternate,t,kt);t.memoizedProps=t.pendingProps,n===null?wf(t):Qe=n,fc.current=null}function wf(t){var n=t;do{var l=n.alternate;if(t=n.return,(n.flags&32768)===0){if(l=ny(l,n,kt),l!==null){Qe=l;return}}else{if(l=sy(l,n),l!==null){l.flags&=32767,Qe=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Qe=null;return}}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=t}while(n!==null);et===0&&(et=5)}function vn(t,n,l){var u=Ce,h=Lt.transition;try{Lt.transition=null,Ce=1,hy(t,n,l,u)}finally{Lt.transition=h,Ce=u}return null}function hy(t,n,l,u){do is();while(Fr!==null);if((je&6)!==0)throw Error(r(327));l=t.finishedWork;var h=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var m=l.lanes|l.childLanes;if(Hg(t,m),t===nt&&(Qe=nt=null,ct=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Qi||(Qi=!0,jf(si,function(){return is(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=Lt.transition,Lt.transition=null;var _=Ce;Ce=1;var N=je;je|=4,fc.current=null,iy(t,l),cf(l,t),Av(Sl),di=!!xl,Sl=xl=null,t.current=l,oy(l),Mg(),je=N,Ce=_,Lt.transition=m}else t.current=l;if(Qi&&(Qi=!1,Fr=t,Yi=h),m=t.pendingLanes,m===0&&($r=null),Ug(l.stateNode),xt(t,He()),n!==null)for(u=t.onRecoverableError,l=0;l<n.length;l++)h=n[l],u(h.value,{componentStack:h.stack,digest:h.digest});if(Ji)throw Ji=!1,t=gc,gc=null,t;return(Yi&1)!==0&&t.tag!==0&&is(),m=t.pendingLanes,(m&1)!==0?t===vc?ba++:(ba=0,vc=t):ba=0,Or(),null}function is(){if(Fr!==null){var t=id(Yi),n=Lt.transition,l=Ce;try{if(Lt.transition=null,Ce=16>t?16:t,Fr===null)var u=!1;else{if(t=Fr,Fr=null,Yi=0,(je&6)!==0)throw Error(r(331));var h=je;for(je|=4,X=t.current;X!==null;){var m=X,_=m.child;if((X.flags&16)!==0){var N=m.deletions;if(N!==null){for(var C=0;C<N.length;C++){var M=N[C];for(X=M;X!==null;){var q=X;switch(q.tag){case 0:case 11:case 15:xa(8,q,m)}var W=q.child;if(W!==null)W.return=q,X=W;else for(;X!==null;){q=X;var z=q.sibling,J=q.return;if(nf(q),q===M){X=null;break}if(z!==null){z.return=J,X=z;break}X=J}}}var ee=m.alternate;if(ee!==null){var re=ee.child;if(re!==null){ee.child=null;do{var Ge=re.sibling;re.sibling=null,re=Ge}while(re!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,X=_;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:xa(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,X=A;break e}X=m.return}}var T=t.current;for(X=T;X!==null;){_=X;var L=_.child;if((_.subtreeFlags&2064)!==0&&L!==null)L.return=_,X=L;else e:for(_=T;X!==null;){if(N=X,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Hi(9,N)}}catch(ne){We(N,N.return,ne)}if(N===_){X=null;break e}var H=N.sibling;if(H!==null){H.return=N.return,X=H;break e}X=N.return}}if(je=h,Or(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ai,t)}catch{}u=!0}return u}finally{Ce=l,Lt.transition=n}}return!1}function _f(t,n,l){n=rs(l,n),n=Mh(t,n,1),t=Dr(t,n,1),n=mt(),t!==null&&(Ks(t,1,n),xt(t,n))}function We(t,n,l){if(t.tag===3)_f(t,t,l);else for(;n!==null;){if(n.tag===3){_f(n,t,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){t=rs(l,t),t=$h(n,t,1),n=Dr(n,t,1),t=mt(),n!==null&&(Ks(n,1,t),xt(n,t));break}}n=n.return}}function fy(t,n,l){var u=t.pingCache;u!==null&&u.delete(n),n=mt(),t.pingedLanes|=t.suspendedLanes&l,nt===t&&(ct&l)===l&&(et===4||et===3&&(ct&130023424)===ct&&500>He()-mc?gn(t,0):pc|=l),xt(t,n)}function xf(t,n){n===0&&((t.mode&1)===0?n=1:(n=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var l=mt();t=hr(t,n),t!==null&&(Ks(t,n,l),xt(t,l))}function py(t){var n=t.memoizedState,l=0;n!==null&&(l=n.retryLane),xf(t,l)}function my(t,n){var l=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),xf(t,l)}var Sf;Sf=function(t,n,l){if(t!==null)if(t.memoizedProps!==n.pendingProps||vt.current)wt=!0;else{if((t.lanes&l)===0&&(n.flags&128)===0)return wt=!1,ry(t,n,l);wt=(t.flags&131072)!==0}else wt=!1,$e&&(n.flags&1048576)!==0&&eh(n,Ti,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;qi(t,n),t=n.pendingProps;var h=Kn(n,ut.current);es(n,l),h=Hl(null,n,u,t,h,l);var m=Gl();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,yt(u)?(m=!0,Ni(n)):m=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Fl(n),h.updater=zi,n.stateNode=h,h._reactInternals=n,Zl(n,u,t,l),n=nc(null,n,u,!0,m,l)):(n.tag=0,$e&&m&&Tl(n),pt(null,n,h,l),n=n.child),n;case 16:u=n.elementType;e:{switch(qi(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=vy(u),t=zt(u,t),h){case 0:n=rc(null,n,u,t,l);break e;case 1:n=Gh(null,n,u,t,l);break e;case 11:n=zh(null,n,u,t,l);break e;case 14:n=Vh(null,n,u,zt(u.type,t),l);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:zt(u,h),rc(t,n,u,h,l);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:zt(u,h),Gh(t,n,u,h,l);case 3:e:{if(Kh(n),t===null)throw Error(r(387));u=n.pendingProps,m=n.memoizedState,h=m.element,ch(t,n),Li(n,u,null,l);var _=n.memoizedState;if(u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){h=rs(Error(r(423)),n),n=Jh(t,n,u,l,h);break e}else if(u!==h){h=rs(Error(r(424)),n),n=Jh(t,n,u,l,h);break e}else for(Ct=Ir(n.stateNode.containerInfo.firstChild),Nt=n,$e=!0,Bt=null,l=oh(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yn(),u===h){n=pr(t,n,l);break e}pt(t,n,u,l)}n=n.child}return n;case 5:return hh(n),t===null&&Al(n),u=n.type,h=n.pendingProps,m=t!==null?t.memoizedProps:null,_=h.children,jl(u,h)?_=null:m!==null&&jl(u,m)&&(n.flags|=32),Hh(t,n),pt(t,n,_,l),n.child;case 6:return t===null&&Al(n),null;case 13:return Qh(t,n,l);case 4:return Ul(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Xn(n,null,u,l):pt(t,n,u,l),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:zt(u,h),zh(t,n,u,h,l);case 7:return pt(t,n,n.pendingProps,l),n.child;case 8:return pt(t,n,n.pendingProps.children,l),n.child;case 12:return pt(t,n,n.pendingProps.children,l),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,m=n.memoizedProps,_=h.value,Ae(Ai,u._currentValue),u._currentValue=_,m!==null)if(Ut(m.value,_)){if(m.children===h.children&&!vt.current){n=pr(t,n,l);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var N=m.dependencies;if(N!==null){_=m.child;for(var C=N.firstContext;C!==null;){if(C.context===u){if(m.tag===1){C=fr(-1,l&-l),C.tag=2;var M=m.updateQueue;if(M!==null){M=M.shared;var q=M.pending;q===null?C.next=C:(C.next=q.next,q.next=C),M.pending=C}}m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Ml(m.return,l,n),N.lanes|=l;break}C=C.next}}else if(m.tag===10)_=m.type===n.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(r(341));_.lanes|=l,N=_.alternate,N!==null&&(N.lanes|=l),Ml(_,l,n),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===n){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}pt(t,n,h.children,l),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,es(n,l),h=Rt(h),u=u(h),n.flags|=1,pt(t,n,u,l),n.child;case 14:return u=n.type,h=zt(u,n.pendingProps),h=zt(u.type,h),Vh(t,n,u,h,l);case 15:return qh(t,n,n.type,n.pendingProps,l);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:zt(u,h),qi(t,n),n.tag=1,yt(u)?(t=!0,Ni(n)):t=!1,es(n,l),Lh(n,u,h),Zl(n,u,h,l),nc(null,n,u,!0,t,l);case 19:return Xh(t,n,l);case 22:return Wh(t,n,l)}throw Error(r(156,n.tag))};function jf(t,n){return td(t,n)}function gy(t,n,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,n,l,u){return new gy(t,n,l,u)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vy(t){if(typeof t=="function")return jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_e)return 11;if(t===ve)return 14}return 2}function zr(t,n){var l=t.alternate;return l===null?(l=Dt(t.tag,n,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=n,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,n=t.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function to(t,n,l,u,h,m){var _=2;if(u=t,typeof t=="function")jc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case U:return yn(l.children,h,m,n);case Q:_=8,h|=8;break;case V:return t=Dt(12,l,n,h|2),t.elementType=V,t.lanes=m,t;case Le:return t=Dt(13,l,n,h),t.elementType=Le,t.lanes=m,t;case Ue:return t=Dt(19,l,n,h),t.elementType=Ue,t.lanes=m,t;case te:return ro(l,h,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:_=10;break e;case se:_=9;break e;case _e:_=11;break e;case ve:_=14;break e;case pe:_=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=Dt(_,l,n,h),n.elementType=t,n.type=u,n.lanes=m,n}function yn(t,n,l,u){return t=Dt(7,t,u,n),t.lanes=l,t}function ro(t,n,l,u){return t=Dt(22,t,u,n),t.elementType=te,t.lanes=l,t.stateNode={isHidden:!1},t}function bc(t,n,l){return t=Dt(6,t,null,n),t.lanes=l,t}function Ec(t,n,l){return n=Dt(4,t.children!==null?t.children:[],t.key,n),n.lanes=l,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function yy(t,n,l,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Nc(t,n,l,u,h,m,_,N,C){return t=new yy(t,n,l,N,C),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Dt(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fl(m),t}function wy(t,n,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:u==null?null:""+u,children:t,containerInfo:n,implementation:l}}function bf(t){if(!t)return Rr;t=t._reactInternals;e:{if(an(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(yt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var l=t.type;if(yt(l))return Yd(t,l,n)}return n}function Ef(t,n,l,u,h,m,_,N,C){return t=Nc(l,u,!0,t,h,m,_,N,C),t.context=bf(null),l=t.current,u=mt(),h=Ur(l),m=fr(u,h),m.callback=n??null,Dr(l,m,h),t.current.lanes=h,Ks(t,h,u),xt(t,u),t}function no(t,n,l,u){var h=n.current,m=mt(),_=Ur(h);return l=bf(l),n.context===null?n.context=l:n.pendingContext=l,n=fr(m,_),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Dr(h,n,_),t!==null&&(Wt(t,h,_,m),Oi(t,h,_)),_}function so(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<n?l:n}}function Cc(t,n){Nf(t,n),(t=t.alternate)&&Nf(t,n)}function _y(){return null}var Cf=typeof reportError=="function"?reportError:function(t){console.error(t)};function kc(t){this._internalRoot=t}ao.prototype.render=kc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));no(t,n,null,null)},ao.prototype.unmount=kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;mn(function(){no(null,t,null,null)}),n[lr]=null}};function ao(t){this._internalRoot=t}ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=cd();t={blockedOn:null,target:t,priority:n};for(var l=0;l<kr.length&&n!==0&&n<kr[l].priority;l++);kr.splice(l,0,t),l===0&&hd(t)}};function Tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kf(){}function xy(t,n,l,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var M=so(_);m.call(M)}}var _=Ef(n,u,t,0,null,!1,!1,"",kf);return t._reactRootContainer=_,t[lr]=_.current,la(t.nodeType===8?t.parentNode:t),mn(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var N=u;u=function(){var M=so(C);N.call(M)}}var C=Nc(t,0,!1,null,null,!1,!1,"",kf);return t._reactRootContainer=C,t[lr]=C.current,la(t.nodeType===8?t.parentNode:t),mn(function(){no(n,C,l,u)}),C}function oo(t,n,l,u,h){var m=l._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var N=h;h=function(){var C=so(_);N.call(C)}}no(n,_,t,h)}else _=xy(l,n,t,h,u);return so(_)}od=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var l=Gs(n.pendingLanes);l!==0&&(Zo(n,l|1),xt(n,He()),(je&6)===0&&(as=He()+500,Or()))}break;case 13:mn(function(){var u=hr(t,1);if(u!==null){var h=mt();Wt(u,t,1,h)}}),Cc(t,1)}},el=function(t){if(t.tag===13){var n=hr(t,134217728);if(n!==null){var l=mt();Wt(n,t,134217728,l)}Cc(t,134217728)}},ld=function(t){if(t.tag===13){var n=Ur(t),l=hr(t,n);if(l!==null){var u=mt();Wt(l,t,n,u)}Cc(t,n)}},cd=function(){return Ce},ud=function(t,n){var l=Ce;try{return Ce=t,n()}finally{Ce=l}},sn=function(t,n,l){switch(n){case"input":if($s(t,l),n=l.name,l.type==="radio"&&n!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==t&&u.form===t.form){var h=bi(u);if(!h)throw Error(r(90));Ms(u),$s(u,h)}}}break;case"textarea":ei(t,l);break;case"select":n=l.value,n!=null&&br(t,!!l.multiple,n,!1)}},Ku=_c,Ju=mn;var Sy={usingClientEntryPoint:!1,Events:[da,Hn,bi,Hu,Gu,_c]},Ea={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zu(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{ai=lo.inject(jy),Zt=lo}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy,St.createPortal=function(t,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tc(n))throw Error(r(200));return wy(t,n,null,l)},St.createRoot=function(t,n){if(!Tc(t))throw Error(r(299));var l=!1,u="",h=Cf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Nc(t,1,!1,null,null,l,!1,u,h),t[lr]=n.current,la(t.nodeType===8?t.parentNode:t),new kc(n)},St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Zu(n),t=t===null?null:t.stateNode,t},St.flushSync=function(t){return mn(t)},St.hydrate=function(t,n,l){if(!io(n))throw Error(r(200));return oo(null,t,n,!0,l)},St.hydrateRoot=function(t,n,l){if(!Tc(t))throw Error(r(405));var u=l!=null&&l.hydratedSources||null,h=!1,m="",_=Cf;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),n=Ef(n,null,t,1,l??null,h,!1,m,_),t[lr]=n.current,la(t),u)for(t=0;t<u.length;t++)l=u[t],h=l._getVersion,h=h(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,h]:n.mutableSourceEagerHydrationData.push(l,h);return new ao(n)},St.render=function(t,n,l){if(!io(n))throw Error(r(200));return oo(null,t,n,!1,l)},St.unmountComponentAtNode=function(t){if(!io(t))throw Error(r(40));return t._reactRootContainer?(mn(function(){oo(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},St.unstable_batchedUpdates=_c,St.unstable_renderSubtreeIntoContainer=function(t,n,l,u){if(!io(l))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return oo(t,n,l,!1,u)},St.version="18.3.1-next-f1338f8080-20240426",St}var Df;function Qp(){if(Df)return Ac.exports;Df=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ac.exports=Ay(),Ac.exports}var Mf;function Ry(){if(Mf)return co;Mf=1;var s=Qp();return co.createRoot=s.createRoot,co.hydrateRoot=s.hydrateRoot,co}var Oy=Ry();(function(){if(typeof window>"u"||typeof document>"u")return;function e(){try{Array.from(document.querySelectorAll("div[id]")).forEach(o=>{if(o.hasAttribute("role")||o.hasAttribute("aria-labelledby"))return;const c=o.querySelector("h1, h2, h3, h4, h5, h6");if(c){if(!c.id){const d=o.id||"region";let f=`${d}-heading`,p=1;for(;document.getElementById(f);)f=`${d}-heading-${p++}`;c.id=f}o.setAttribute("role","region"),o.setAttribute("aria-labelledby",c.id)}})}catch(a){console.warn("addRegionRoles: failed to apply roles",a)}}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(e,0):window.addEventListener("DOMContentLoaded",()=>setTimeout(e,0));const r=history.pushState;history.pushState=function(){r.apply(this,arguments),setTimeout(e,60)},window.addEventListener("popstate",()=>setTimeout(e,60))})();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $f="popstate";function Ly(s={}){function e(o,c){let{pathname:d="/",search:f="",hash:p=""}=Pn(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Xc("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let d=o.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");f=g===-1?p:p.slice(0,g)}return f+"#"+(typeof c=="string"?c:Oa(c))}function a(o,c){Mt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return My(e,r,a,s)}function Fe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Mt(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dy(){return Math.random().toString(36).substring(2,10)}function Ff(s,e){return{usr:s.state,key:s.key,idx:e}}function Xc(s,e,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Pn(e):e,state:r,key:e&&e.key||a||Dy()}}function Oa({pathname:s="/",search:e="",hash:r=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Pn(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function My(s,e,r,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,f="POP",p=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function y(){f="POP";let E=v(),k=E==null?null:E-g;g=E,p&&p({action:f,location:j.location,delta:k})}function w(E,k){f="PUSH";let P=Xc(j.location,E,k);r&&r(P,E),g=v()+1;let R=Ff(P,g),$=j.createHref(P);try{d.pushState(R,"",$)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign($)}c&&p&&p({action:f,location:j.location,delta:1})}function b(E,k){f="REPLACE";let P=Xc(j.location,E,k);r&&r(P,E),g=v();let R=Ff(P,g),$=j.createHref(P);d.replaceState(R,"",$),c&&p&&p({action:f,location:j.location,delta:0})}function S(E){return $y(E)}let j={get action(){return f},get location(){return s(o,d)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($f,y),p=E,()=>{o.removeEventListener($f,y),p=null}},createHref(E){return e(o,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:b,go(E){return d.go(E)}};return j}function $y(s,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(r,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Oa(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Yp(s,e,r="/"){return Fy(s,e,r,!1)}function Fy(s,e,r,a){let o=typeof e=="string"?Pn(e):e,c=xr(o.pathname||"/",r);if(c==null)return null;let d=Xp(s);Uy(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=Yy(c);f=Jy(d[p],g,a)}return f}function Xp(s,e=[],r=[],a="",o=!1){let c=(d,f,p=o,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Fe(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=_r([a,v.relativePath]),w=r.concat(v);d.children&&d.children.length>0&&(Fe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Xp(d.children,e,w,y,p)),!(d.path==null&&!d.index)&&e.push({path:y,score:Gy(y,d.index),routesMeta:w})};return s.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let p of Zp(d.path))c(d,f,!0,p)}),e}function Zp(s){let e=s.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=Zp(a.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function Uy(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:Ky(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var By=/^:[\w-]+$/,zy=3,Vy=2,qy=1,Wy=10,Hy=-2,Uf=s=>s==="*";function Gy(s,e){let r=s.split("/"),a=r.length;return r.some(Uf)&&(a+=Hy),e&&(a+=Vy),r.filter(o=>!Uf(o)).reduce((o,c)=>o+(By.test(c)?zy:c===""?qy:Wy),a)}function Ky(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function Jy(s,e,r=!1){let{routesMeta:a}=s,o={},c="/",d=[];for(let f=0;f<a.length;++f){let p=a[f],g=f===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",y=bo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!y&&g&&r&&!a[a.length-1].route.index&&(y=bo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:_r([c,y.pathname]),pathnameBase:tw(_r([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=_r([c,y.pathnameBase]))}return d}function bo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=Qy(s.path,s.caseSensitive,s.end),o=e.match(r);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:y},w)=>{if(v==="*"){let S=f[w]||"";d=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const b=f[w];return y&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function Qy(s,e=!1,r=!0){Mt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Yy(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function xr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function Xy(s,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof s=="string"?Pn(s):s;return{pathname:r?r.startsWith("/")?r:Zy(r,e):e,search:rw(a),hash:nw(o)}}function Zy(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Lc(s,e,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ew(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Su(s){let e=ew(s);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function ju(s,e,r,a=!1){let o;typeof s=="string"?o=Pn(s):(o={...s},Fe(!o.pathname||!o.pathname.includes("?"),Lc("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),Lc("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),Lc("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=r;else{let y=e.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}f=y>=0?e[y]:"/"}let p=Xy(o,f),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var _r=s=>s.join("/").replace(/\/\/+/g,"/"),tw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),rw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,nw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function sw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var em=["POST","PUT","PATCH","DELETE"];new Set(em);var aw=["GET",...em];new Set(aw);var As=x.createContext(null);As.displayName="DataRouter";var Fo=x.createContext(null);Fo.displayName="DataRouterState";x.createContext(!1);var tm=x.createContext({isTransitioning:!1});tm.displayName="ViewTransition";var iw=x.createContext(new Map);iw.displayName="Fetchers";var ow=x.createContext(null);ow.displayName="Await";var Yt=x.createContext(null);Yt.displayName="Navigation";var Ua=x.createContext(null);Ua.displayName="Location";var Xt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Xt.displayName="Route";var bu=x.createContext(null);bu.displayName="RouteError";function lw(s,{relative:e}={}){Fe(Rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=x.useContext(Yt),{hash:o,pathname:c,search:d}=Ba(s,{relative:e}),f=c;return r!=="/"&&(f=c==="/"?r:_r([r,c])),a.createHref({pathname:f,search:d,hash:o})}function Rs(){return x.useContext(Ua)!=null}function Zr(){return Fe(Rs(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ua).location}var rm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nm(s){x.useContext(Yt).static||x.useLayoutEffect(s)}function Je(){let{isDataRoute:s}=x.useContext(Xt);return s?xw():cw()}function cw(){Fe(Rs(),"useNavigate() may be used only in the context of a <Router> component.");let s=x.useContext(As),{basename:e,navigator:r}=x.useContext(Yt),{matches:a}=x.useContext(Xt),{pathname:o}=Zr(),c=JSON.stringify(Su(a)),d=x.useRef(!1);return nm(()=>{d.current=!0}),x.useCallback((p,g={})=>{if(Mt(d.current,rm),!d.current)return;if(typeof p=="number"){r.go(p);return}let v=ju(p,JSON.parse(c),o,g.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_r([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,c,o,s])}x.createContext(null);function sm(){let{matches:s}=x.useContext(Xt),e=s[s.length-1];return e?e.params:{}}function Ba(s,{relative:e}={}){let{matches:r}=x.useContext(Xt),{pathname:a}=Zr(),o=JSON.stringify(Su(r));return x.useMemo(()=>ju(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function uw(s,e){return am(s,e)}function am(s,e,r,a,o){Fe(Rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=x.useContext(Yt),{matches:d}=x.useContext(Xt),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let P=y&&y.path||"";im(g,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=Zr(),b;if(e){let P=typeof e=="string"?Pn(e):e;Fe(v==="/"||P.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=w;let S=b.pathname||"/",j=S;if(v!=="/"){let P=v.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=Yp(s,{pathname:j});Mt(y||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Mt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=mw(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:_r([v,c.encodeLocation?c.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:_r([v,c.encodeLocation?c.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),d,r,a,o);return e&&k?x.createElement(Ua.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function dw(){let s=_w(),e=sw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:o},r):null,d)}var hw=x.createElement(dw,null),fw=class extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?x.createElement(Xt.Provider,{value:this.props.routeContext},x.createElement(bu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pw({routeContext:s,match:e,children:r}){let a=x.useContext(As);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Xt.Provider,{value:s},r)}function mw(s,e=[],r=null,a=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let c=s,d=r?.errors;if(d!=null){let g=c.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);Fe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,p=-1;if(r)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:y,errors:w}=r,b=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||b){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,v,y)=>{let w,b=!1,S=null,j=null;r&&(w=d&&v.route.id?d[v.route.id]:void 0,S=v.route.errorElement||hw,f&&(p<0&&y===0?(im("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):p===y&&(b=!0,j=v.route.hydrateFallbackElement||null)));let E=e.concat(c.slice(0,y+1)),k=()=>{let P;return w?P=S:b?P=j:v.route.Component?P=x.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=g,x.createElement(pw,{match:v,routeContext:{outlet:g,matches:E,isDataRoute:r!=null},children:P})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?x.createElement(fw,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:a}):k()},null)}function Eu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(s){let e=x.useContext(As);return Fe(e,Eu(s)),e}function vw(s){let e=x.useContext(Fo);return Fe(e,Eu(s)),e}function yw(s){let e=x.useContext(Xt);return Fe(e,Eu(s)),e}function Nu(s){let e=yw(s),r=e.matches[e.matches.length-1];return Fe(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function ww(){return Nu("useRouteId")}function _w(){let s=x.useContext(bu),e=vw("useRouteError"),r=Nu("useRouteError");return s!==void 0?s:e.errors?.[r]}function xw(){let{router:s}=gw("useNavigate"),e=Nu("useNavigate"),r=x.useRef(!1);return nm(()=>{r.current=!0}),x.useCallback(async(o,c={})=>{Mt(r.current,rm),r.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Bf={};function im(s,e,r){!e&&!Bf[s]&&(Bf[s]=!0,Mt(!1,r))}x.memo(Sw);function Sw({routes:s,future:e,state:r,unstable_onError:a}){return am(s,void 0,r,a,e)}function Eo({to:s,replace:e,state:r,relative:a}){Fe(Rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(Yt);Mt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(Xt),{pathname:d}=Zr(),f=Je(),p=ju(s,Su(c),d,a==="path"),g=JSON.stringify(p);return x.useEffect(()=>{f(JSON.parse(g),{replace:e,state:r,relative:a})},[f,g,a,e,r]),null}function ke(s){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:s="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:c=!1}){Fe(!Rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof r=="string"&&(r=Pn(r));let{pathname:p="/",search:g="",hash:v="",state:y=null,key:w="default"}=r,b=x.useMemo(()=>{let S=xr(p,d);return S==null?null:{location:{pathname:S,search:g,hash:v,state:y,key:w},navigationType:a}},[d,p,g,v,y,w,a]);return Mt(b!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Yt.Provider,{value:f},x.createElement(Ua.Provider,{children:e,value:b}))}function bw({children:s,location:e}){return uw(Zc(s),e)}function Zc(s,e=[]){let r=[];return x.Children.forEach(s,(a,o)=>{if(!x.isValidElement(a))return;let c=[...e,o];if(a.type===x.Fragment){r.push.apply(r,Zc(a.props.children,c));return}Fe(a.type===ke,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Zc(a.props.children,c)),r.push(d)}),r}var vo="get",yo="application/x-www-form-urlencoded";function Uo(s){return s!=null&&typeof s.tagName=="string"}function Ew(s){return Uo(s)&&s.tagName.toLowerCase()==="button"}function Nw(s){return Uo(s)&&s.tagName.toLowerCase()==="form"}function Cw(s){return Uo(s)&&s.tagName.toLowerCase()==="input"}function kw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Tw(s,e){return s.button===0&&(!e||e==="_self")&&!kw(s)}var uo=null;function Pw(){if(uo===null)try{new FormData(document.createElement("form"),0),uo=!1}catch{uo=!0}return uo}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dc(s){return s!=null&&!Iw.has(s)?(Mt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yo}"`),null):s}function Aw(s,e){let r,a,o,c,d;if(Nw(s)){let f=s.getAttribute("action");a=f?xr(f,e):null,r=s.getAttribute("method")||vo,o=Dc(s.getAttribute("enctype"))||yo,c=new FormData(s)}else if(Ew(s)||Cw(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||f.getAttribute("action");if(a=p?xr(p,e):null,r=s.getAttribute("formmethod")||f.getAttribute("method")||vo,o=Dc(s.getAttribute("formenctype"))||Dc(f.getAttribute("enctype"))||yo,c=new FormData(f,s),!Pw()){let{name:g,type:v,value:y}=s;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,y)}}else{if(Uo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vo,a=null,o=yo,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cu(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Rw(s,e,r){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&xr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Ow(s,e){if(s.id in e)return e[s.id];try{let r=await import(s.module);return e[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Dw(s,e,r){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Ow(c,r);return d.links?d.links():[]}return[]}));return Uw(a.flat(1).filter(Lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zf(s,e,r,a,o,c){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,f=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Mw(s,e,{includeHydrateFallback:r}={}){return $w(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $w(s){return[...new Set(s)]}function Fw(s){let e={},r=Object.keys(s).sort();for(let a of r)e[a]=s[a];return e}function Uw(s,e){let r=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(Fw(o));return r.has(c)||(r.add(c),a.push({key:c,link:o})),a},[])}function om(){let s=x.useContext(As);return Cu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Bw(){let s=x.useContext(Fo);return Cu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var ku=x.createContext(void 0);ku.displayName="FrameworkContext";function lm(){let s=x.useContext(ku);return Cu(s,"You must render this element inside a <HydratedRouter> element"),s}function zw(s,e){let r=x.useContext(ku),[a,o]=x.useState(!1),[c,d]=x.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:y}=e,w=x.useRef(null);x.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let j=k=>{k.forEach(P=>{d(P.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[s]),x.useEffect(()=>{if(a){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[a]);let b=()=>{o(!0)},S=()=>{o(!1),d(!1)};return r?s!=="intent"?[c,w,{}]:[c,w,{onFocus:Ca(f,b),onBlur:Ca(p,S),onMouseEnter:Ca(g,b),onMouseLeave:Ca(v,S),onTouchStart:Ca(y,b)}]:[!1,w,{}]}function Ca(s,e){return r=>{s&&s(r),r.defaultPrevented||e(r)}}function Vw({page:s,...e}){let{router:r}=om(),a=x.useMemo(()=>Yp(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?x.createElement(Ww,{page:s,matches:a,...e}):null}function qw(s){let{manifest:e,routeModules:r}=lm(),[a,o]=x.useState([]);return x.useEffect(()=>{let c=!1;return Dw(s,e,r).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,r]),a}function Ww({page:s,matches:e,...r}){let a=Zr(),{manifest:o,routeModules:c}=lm(),{basename:d}=om(),{loaderData:f,matches:p}=Bw(),g=x.useMemo(()=>zf(s,e,p,o,a,"data"),[s,e,p,o,a]),v=x.useMemo(()=>zf(s,e,p,o,a,"assets"),[s,e,p,o,a]),y=x.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let S=new Set,j=!1;if(e.forEach(k=>{let P=o.routes[k.route.id];!P||!P.hasLoader||(!g.some(R=>R.route.id===k.route.id)&&k.route.id in f&&c[k.route.id]?.shouldRevalidate||P.hasClientLoader?j=!0:S.add(k.route.id))}),S.size===0)return[];let E=Rw(s,d,"data");return j&&S.size>0&&E.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[d,f,a,o,g,e,s,c]),w=x.useMemo(()=>Mw(v,o),[v,o]),b=qw(v);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),w.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),b.map(({key:S,link:j})=>x.createElement("link",{key:S,nonce:r.nonce,...j})))}function Hw(...s){return e=>{s.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var cm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cm&&(window.__reactRouterVersion="7.9.1")}catch{}function Gw({basename:s,children:e,window:r}){let a=x.useRef();a.current==null&&(a.current=Ly({window:r,v5Compat:!0}));let o=a.current,[c,d]=x.useState({action:o.action,location:o.location}),f=x.useCallback(p=>{x.startTransition(()=>d(p))},[d]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.createElement(jw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=x.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:v,viewTransition:y,...w},b){let{basename:S}=x.useContext(Yt),j=typeof g=="string"&&um.test(g),E,k=!1;if(typeof g=="string"&&j&&(E=g,cm))try{let V=new URL(window.location.href),Z=g.startsWith("//")?new URL(V.protocol+g):new URL(g),se=xr(Z.pathname,S);Z.origin===V.origin&&se!=null?g=se+Z.search+Z.hash:k=!0}catch{Mt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=lw(g,{relative:o}),[R,$,O]=zw(a,w),F=Yw(g,{replace:d,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:y});function U(V){e&&e(V),V.defaultPrevented||F(V)}let Q=x.createElement("a",{...w,...O,href:E||P,onClick:k||c?e:U,ref:Hw(b,$),target:p,"data-discover":!j&&r==="render"?"true":void 0});return R&&!j?x.createElement(x.Fragment,null,Q,x.createElement(Vw,{page:P})):Q});Bo.displayName="Link";var Kw=x.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:f,children:p,...g},v){let y=Ba(d,{relative:g.relative}),w=Zr(),b=x.useContext(Fo),{navigator:S,basename:j}=x.useContext(Yt),E=b!=null&&r0(y)&&f===!0,k=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,P=w.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(P=P.toLowerCase(),R=R?R.toLowerCase():null,k=k.toLowerCase()),R&&j&&(R=xr(R,j)||R);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=P===k||!o&&P.startsWith(k)&&P.charAt($)==="/",F=R!=null&&(R===k||!o&&R.startsWith(k)&&R.charAt(k.length)==="/"),U={isActive:O,isPending:F,isTransitioning:E},Q=O?e:void 0,V;typeof a=="function"?V=a(U):V=[a,O?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(U):c;return x.createElement(Bo,{...g,"aria-current":Q,className:V,ref:v,style:Z,to:d,viewTransition:f},typeof p=="function"?p(U):p)});Kw.displayName="NavLink";var Jw=x.forwardRef(({discover:s="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:c,method:d=vo,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y,...w},b)=>{let S=e0(),j=t0(f,{relative:g}),E=d.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&um.test(f),P=R=>{if(p&&p(R),R.defaultPrevented)return;R.preventDefault();let $=R.nativeEvent.submitter,O=$?.getAttribute("formmethod")||d;S($||R.currentTarget,{fetcherKey:e,method:O,navigate:r,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:y})};return x.createElement("form",{ref:b,method:E,action:j,onSubmit:a?p:P,...w,"data-discover":!k&&s==="render"?"true":void 0})});Jw.displayName="Form";function Qw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dm(s){let e=x.useContext(As);return Fe(e,Qw(s)),e}function Yw(s,{target:e,replace:r,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=Je(),p=Zr(),g=Ba(s,{relative:c});return x.useCallback(v=>{if(Tw(v,e)){v.preventDefault();let y=r!==void 0?r:Oa(p)===Oa(g);f(s,{replace:y,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[p,f,g,r,a,e,s,o,c,d])}var Xw=0,Zw=()=>`__${String(++Xw)}__`;function e0(){let{router:s}=dm("useSubmit"),{basename:e}=x.useContext(Yt),r=ww();return x.useCallback(async(a,o={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=Aw(a,e);if(o.navigate===!1){let v=o.fetcherKey||Zw();await s.fetch(v,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,r])}function t0(s,{relative:e}={}){let{basename:r}=x.useContext(Yt),a=x.useContext(Xt);Fe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Ba(s||".",{relative:e})},d=Zr();if(s==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:_r([r,c.pathname])),Oa(c)}function r0(s,{relative:e}={}){let r=x.useContext(tm);Fe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dm("useViewTransitionState"),o=Ba(s,{relative:e});if(!r.isTransitioning)return!1;let c=xr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=xr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return bo(o.pathname,d)!=null||bo(o.pathname,c)!=null}var n0=Qp();const hm=x.createContext();function s0(){const s=x.useContext(hm);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s}function a0({children:s}){const[e,r]=x.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch(c){return console.error("Error loading theme from localStorage:",c),"light"}});x.useEffect(()=>{const c=document.documentElement;c.classList.remove("theme-light","theme-dark"),c.classList.add(`theme-${e}`);try{localStorage.setItem("theme",e)}catch(d){console.error("Error saving theme to localStorage:",d)}},[e]);const o={theme:e,setTheme:r,toggleTheme:()=>{r(c=>c==="light"?"dark":"light")},isDark:e==="dark",isLight:e==="light"};return i.jsx(hm.Provider,{value:o,children:s})}const fm=({className:s="",onClick:e,...r})=>{const a=Je(),o=()=>{e?e():a("/")};return i.jsx("div",{className:"menu-login-logo",children:i.jsxs("div",{className:`logo-container ${s}`,onClick:o,...r,children:[i.jsx("img",{src:"/logo.png",alt:"Logo Peça Fácil",className:"logo-image"}),i.jsxs("div",{className:"logo-text-container",children:[i.jsx("h1",{className:"logo-title",children:"Peça Fácil"}),i.jsx("p",{className:"logo-subtitle",children:"Confiança e Economia"})]})]})})},i0=({onClick:s,className:e=""})=>i.jsxs("button",{className:`get-started-button ${e}`,onClick:s,type:"button",children:[i.jsx("span",{className:"button-text",children:"Comece agora - É grátis"}),i.jsx("svg",{className:"button-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),pm=({onClick:s,className:e="",size:r="medium"})=>i.jsx("button",{className:`circular-arrow-button ${r} ${e}`,onClick:s,type:"button","aria-label":"Comece agora - É grátis",children:i.jsx("svg",{className:"circular-button-arrow",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),o0=({message:s,type:e="success",duration:r=3e3,onClose:a})=>{const[o,c]=x.useState(!1),[d,f]=x.useState(!1);return x.useEffect(()=>{const p=setTimeout(()=>c(!0),10),g=setTimeout(()=>{f(!0),setTimeout(()=>{a?.()},300)},r);return()=>{clearTimeout(p),clearTimeout(g)}},[r,a]),s?i.jsxs("div",{className:`toast toast--${e} ${o?"toast--visible":""} ${d?"toast--leaving":""}`,role:"alert","aria-live":"polite",children:[i.jsxs("div",{className:"toast-content",children:[e==="success"&&i.jsx("svg",{className:"toast-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:i.jsx("path",{d:"M13.5 4.5 L6 12 L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),i.jsx("span",{className:"toast-message",children:s})]}),i.jsx("button",{className:"toast-close",onClick:()=>{f(!0),setTimeout(a,300)},"aria-label":"Fechar notificação",children:i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:i.jsx("path",{d:"M11 3L3 11M3 3L11 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}):null},l0=({message:s,priority:e="polite"})=>{const r=x.useRef(null);return x.useEffect(()=>{s&&r.current&&(r.current.textContent="",setTimeout(()=>{r.current&&(r.current.textContent=s)},10))},[s]),i.jsx("div",{ref:r,"aria-live":e,"aria-atomic":"true",className:"aria-live-region"})},$t=()=>{const[s,e]=x.useState(!1),[r,a]=x.useState({top:0,left:0}),[o,c]=x.useState(null),[d,f]=x.useState(""),[p,g]=x.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),v=x.useRef(null),y=x.useRef(null),w=Je(),{usuarioLogado:b,setUsuarioLogado:S,authLoaded:j}=x.useContext(Ve)||{},E=[{id:"inicio",label:"Início",onClick:()=>w("/inicio")},{id:"catalogo",label:"Catálogo de Peças",onClick:()=>w("/buscar-pecas")},{id:"quem-somos",label:"Quem Somos",onClick:()=>w("/quem-somos")},{id:"nosso-projeto",label:"Nosso Projeto",onClick:()=>w("/nosso-projeto")},{id:"seja-pro",label:"Seja Pro",onClick:()=>w("/seja-pro")},{id:"contato",label:"Contato",onClick:()=>w("/contato")}],k=(V,Z,se)=>{c({type:V,title:Z,message:se,id:Date.now()}),setTimeout(()=>c(null),4e3)},P=V=>{f(V),setTimeout(()=>f(""),100)},R=()=>{k("success","Login realizado","Bem-vindo de volta!"),P("Login realizado com sucesso")},$=x.useRef();x.useEffect(()=>{$.current===null&&b&&R(),$.current=b},[b]),x.useEffect(()=>{const V=()=>{const se=window.innerWidth<=768;g(se)};return window.addEventListener("resize",V),V(),()=>window.removeEventListener("resize",V)},[]);const O=()=>{if(v.current){const V=v.current.getBoundingClientRect(),Z=Math.round(V.bottom+4),se=Math.round(V.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${Z}px`),y.current.style.setProperty("--dropdown-left",`${se}px`)),a({top:Z,left:se})}},F=()=>{const V=!s;e(V),V&&window.requestAnimationFrame(()=>O())},U=()=>{e(!1)},Q=V=>Z=>{Z&&typeof Z.preventDefault=="function"&&(Z.preventDefault(),Z.stopPropagation()),U(),V()};return x.useEffect(()=>{function V(Z){s&&v.current&&!v.current.contains(Z.target)&&y.current&&!y.current.contains(Z.target)&&e(!1)}return window.addEventListener("mousedown",V),window.addEventListener("resize",O),()=>{window.removeEventListener("mousedown",V),window.removeEventListener("resize",O)}},[s]),x.useLayoutEffect(()=>{if(s&&y.current&&v.current){const V=v.current.getBoundingClientRect(),Z=Math.round(V.bottom+4),se=Math.round(V.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${Z}px`),y.current.style.setProperty("--dropdown-left",`${se}px`)),a({top:Z,left:se})}},[s]),i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"site-header",children:i.jsxs("div",{className:"menu-login-root menu-responsive",children:[i.jsx(fm,{}),i.jsxs("div",{className:"user-menu-root",children:[i.jsxs("button",{ref:v,className:`mobile-menu-toggle ${s?"active":""}`,onClick:F,"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":s,children:[i.jsx("span",{className:"hamburger-line"}),i.jsx("span",{className:"hamburger-line"}),i.jsx("span",{className:"hamburger-line"})]}),i.jsx("div",{ref:y,className:`user-dropdown ${s?"open":"closed"}`,role:"menu","aria-hidden":!s,children:E.map(V=>i.jsx("button",{className:"dropdown-item",onClick:()=>{e(!1),V.onClick()},children:V.label},V.id))})]}),i.jsx("div",{className:"menu-login-center",children:i.jsx("nav",{className:"menu-nav",children:i.jsx("ul",{className:"menu-list",children:E.map(V=>i.jsx("li",{children:i.jsx("button",{className:`menu-login-item ${V.id==="nosso-projeto"?"nosso-projeto":""}`,onClick:Q(V.onClick),children:V.label})},V.id))})})}),i.jsx("div",{className:"menu-login-right",children:p?i.jsx(pm,{onClick:V=>{V?.preventDefault?.(),V?.stopPropagation?.(),w("/login")}}):i.jsx(i0,{onClick:V=>{V?.preventDefault?.(),V?.stopPropagation?.(),w("/login")}})})]})}),o&&i.jsx(o0,{type:o.type,title:o.title,message:o.message,onClose:()=>c(null),autoClose:!0,duration:4e3}),i.jsx(l0,{message:d})]})},c0=[{id:1,nome:"João Silva",celular:"11999999999",email:"joao@email.com",senha:"123456"},{id:2,nome:"Maria Souza",celular:"11988888888",email:"maria@email.com",senha:"abcdef"}];function Ss({on:s=!1,onClick:e=()=>{},ariaLabel:r}){return i.jsx("button",{type:"button",className:`car-toggle ${s?"headlight-on":"headlight-off"}`,onClick:e,"aria-label":r||(s?"Ocultar senha":"Mostrar senha"),children:i.jsxs("svg",{width:"32",height:"24",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M28 8c0-1.1-.9-2-2-2h-2l-1-2c-.5-.9-1.4-1.5-2.4-1.5H11.4c-1 0-1.9.6-2.4 1.5l-1 2H6c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h1v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h12v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h1c1.1 0 2-.9 2-2V8z",fill:s?"#3B82F6":"#4A5568",className:"car-body"}),i.jsx("path",{d:"M24 6H8l1.5-1.5c.3-.3.7-.5 1.1-.5h9.8c.4 0 .8.2 1.1.5L24 6z",fill:s?"#1E40AF":"#2D3748",className:"car-roof"}),i.jsx("path",{d:"M10.5 4.5L9 6h3l1-1.5h-2.5z",fill:"#63B3ED",opacity:"0.3"}),i.jsx("circle",{cx:"9",cy:"16",r:"2.5",fill:"#2D3748"}),i.jsx("circle",{cx:"9",cy:"16",r:"1.5",fill:s?"#60A5FA":"#718096",className:"wheel-rim"}),i.jsx("circle",{cx:"23",cy:"16",r:"2.5",fill:"#2D3748"}),i.jsx("circle",{cx:"23",cy:"16",r:"1.5",fill:s?"#60A5FA":"#718096",className:"wheel-rim"}),i.jsx("rect",{x:"4",y:"9",width:"2",height:"4",fill:s?"#1E40AF":"#2D3748",className:"car-grille"}),i.jsx("circle",{cx:"5",cy:"10",r:"2",fill:s?"#FED7AA":"#E2E8F0",className:"headlight-main"}),s&&i.jsxs(i.Fragment,{children:[i.jsx("ellipse",{cx:"2",cy:"10",rx:"4",ry:"6",fill:"#FED7AA",opacity:"0.15",className:"headlight-beam"}),i.jsx("circle",{cx:"5",cy:"10",r:"2.8",fill:"#FBBF24",opacity:"0.25",className:"headlight-glow-1"}),i.jsx("circle",{cx:"5",cy:"10",r:"2.2",fill:"#F59E0B",opacity:"0.4",className:"headlight-glow-2"}),i.jsx("circle",{cx:"5",cy:"10",r:"1.3",fill:"#FCD34D",className:"headlight-bright"}),i.jsxs("g",{className:"headlight-rays",stroke:"#FDE68A",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.95",children:[i.jsx("line",{x1:"7",y1:"9",x2:"11",y2:"7",className:"ray ray-1"}),i.jsx("line",{x1:"7",y1:"10",x2:"12",y2:"10",className:"ray ray-2"}),i.jsx("line",{x1:"7",y1:"11",x2:"11",y2:"13",className:"ray ray-3"}),i.jsx("line",{x1:"6",y1:"8.2",x2:"9",y2:"6",className:"ray ray-4"}),i.jsx("line",{x1:"6",y1:"11.8",x2:"9",y2:"14",className:"ray ray-5"})]})]}),i.jsx("circle",{cx:"5",cy:"13.5",r:"0.8",fill:s?"#FEF3C7":"#CBD5E0"}),i.jsx("rect",{x:"15",y:"11",width:"1",height:"0.5",fill:s?"#1E40AF":"#2D3748",className:"door-handle"}),i.jsx("ellipse",{cx:"7.5",cy:"8.5",rx:"0.8",ry:"0.5",fill:s?"#3B82F6":"#4A5568",className:"side-mirror"})]})})}const u0="modulepreload",d0=function(s){return"/"+s},Vf={},za=function(e,r,a){let o=Promise.resolve();if(r&&r.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=p(r.map(g=>{if(g=d0(g),g in Vf)return;Vf[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":u0,v||(w.as="script"),w.crossOrigin="",w.href=g,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((b,S)=>{w.addEventListener("load",b),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})},h0=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>za(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},[]).then(({default:a})=>a(...r)):e=fetch,(...r)=>e(...r)};class Tu extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class qf extends Tu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wf extends Tu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hf extends Tu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var eu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(eu||(eu={}));var f0=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};class p0{constructor(e,{headers:r={},customFetch:a,region:o=eu.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=h0(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return f0(this,arguments,void 0,function*(r,a={}){var o;try{const{headers:c,method:d,body:f,signal:p}=a;let g={},{region:v}=a;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)));const b=yield this.fetch(y.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:p}).catch(k=>{throw k.name==="AbortError"?k:new qf(k)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Wf(b);if(!b.ok)throw new Hf(b);let j=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return j==="application/json"?E=yield b.json():j==="application/octet-stream"?E=yield b.blob():j==="text/event-stream"?E=b:j==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new qf(c)}:{data:null,error:c,response:c instanceof Hf||c instanceof Wf?c.context:void 0}}})}}var at={},os={},ls={},cs={},us={},ds={},m0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=m0();const g0=ks.fetch,mm=ks.fetch.bind(ks),gm=ks.Headers,v0=ks.Request,y0=ks.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:gm,Request:v0,Response:y0,default:mm,fetch:g0},Symbol.toStringTag,{value:"Module"})),w0=Ey(Os);var ho={},Gf;function vm(){if(Gf)return ho;Gf=1,Object.defineProperty(ho,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ho.default=s,ho}var Kf;function ym(){if(Kf)return ds;Kf=1;var s=ds&&ds.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ds,"__esModule",{value:!0});const e=s(w0),r=s(vm());class a{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,y,w,b;let S=null,j=null,E=null,k=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const F=await g.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?j=F:j=JSON.parse(F))}const $=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),O=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");$&&O&&O.length>1&&(E=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,E=null,k=406,P="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const $=await g.text();try{S=JSON.parse($),Array.isArray(S)&&g.status===404&&(j=[],S=null,k=200,P="OK")}catch{g.status===404&&$===""?(k=204,P="No Content"):S={message:$}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,k=200,P="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:j,count:E,status:k,statusText:P}});return this.shouldThrowOnError||(p=p.catch(g=>{var v,y,w;return{error:{message:`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return ds.default=a,ds}var Jf;function wm(){if(Jf)return us;Jf=1;var s=us&&us.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(us,"__esModule",{value:!0});const e=s(ym());class r extends e.default{select(o){let c=!1;const d=(o??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var v;const y=[o?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return us.default=r,us}var Qf;function Pu(){if(Qf)return cs;Qf=1;var s=cs&&cs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cs,"__esModule",{value:!0});const e=s(wm());class r extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return cs.default=r,cs}var Yf;function _m(){if(Yf)return ls;Yf=1;var s=ls&&ls.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ls,"__esModule",{value:!0});const e=s(Pu());class r{constructor(o,{headers:c={},schema:d,fetch:f}){this.url=o,this.headers=new Headers(c),this.schema=d,this.fetch=f}select(o,c){const{head:d=!1,count:f}=c??{},p=d?"HEAD":"GET";let g=!1;const v=(o??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(y.length>0){const w=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:c}={}){var d;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var c;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return ls.default=r,ls}var Xf;function _0(){if(Xf)return os;Xf=1;var s=os&&os.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(os,"__esModule",{value:!0});const e=s(_m()),r=s(Pu());class a{constructor(c,{headers:d={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:f=!1,get:p=!1,count:g}={}){var v;let y;const w=new URL(`${this.url}/rpc/${c}`);let b;f||p?(y=f?"HEAD":"GET",Object.entries(d).filter(([j,E])=>E!==void 0).map(([j,E])=>[j,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([j,E])=>{w.searchParams.append(j,E)})):(y="POST",b=d);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new r.default({method:y,url:w,headers:S,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return os.default=a,os}var Zf;function x0(){if(Zf)return at;Zf=1;var s=at&&at.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const e=s(_0());at.PostgrestClient=e.default;const r=s(_m());at.PostgrestQueryBuilder=r.default;const a=s(Pu());at.PostgrestFilterBuilder=a.default;const o=s(wm());at.PostgrestTransformBuilder=o.default;const c=s(ym());at.PostgrestBuilder=c.default;const d=s(vm());return at.PostgrestError=d.default,at.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},at}var S0=x0();const j0=Jp(S0),{PostgrestClient:b0,PostgrestQueryBuilder:I1,PostgrestFilterBuilder:A1,PostgrestTransformBuilder:R1,PostgrestBuilder:O1,PostgrestError:L1}=j0;class E0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const N0="2.75.0",C0=`realtime-js/${N0}`,k0="1.0.0",tu=1e4,T0=1e3,P0=100;var Ta;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ta||(Ta={}));var tt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(tt||(tt={}));var Gt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Gt||(Gt={}));var ru;(function(s){s.websocket="websocket"})(ru||(ru={}));var bn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(bn||(bn={}));class I0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,r,a)}_decodeBroadcast(e,r,a){const o=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const f=a.decode(e.slice(d,d+o));d=d+o;const p=a.decode(e.slice(d,d+c));d=d+c;const g=JSON.parse(a.decode(e.slice(d,e.byteLength)));return{ref:null,topic:f,event:p,payload:g}}}class xm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Re||(Re={}));const ep=(s,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=A0(d,s,e,o),c),{}):{}},A0=(s,e,r,a)=>{const o=e.find(f=>f.name===s),c=o?.type,d=r[s];return c&&!a.includes(c)?Sm(c,d):nu(d)},Sm=(s,e)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return D0(e,r)}switch(s){case Re.bool:return R0(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return O0(e);case Re.json:case Re.jsonb:return L0(e);case Re.timestamp:return M0(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return nu(e);default:return nu(e)}},nu=s=>s,R0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},O0=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},L0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},D0=(s,e)=>{if(typeof s!="string")return s;const r=s.length-1,a=s[r];if(s[0]==="{"&&a==="}"){let c;const d=s.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Sm(e,f))}return s},M0=s=>typeof s=="string"?s.replace(" ","T"):s,jm=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Mc{constructor(e,r,a={},o=tu){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(tp||(tp={}));class Pa{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pa.syncState(this.state,o,c,d),this.pendingDiffs.forEach(p=>{this.state=Pa.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Pa.syncDiff(this.state,o,c,d),f())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const c=this.cloneDeep(e),d=this.transformState(r),f={},p={};return this.map(c,(g,v)=>{d[g]||(p[g]=v)}),this.map(d,(g,v)=>{const y=c[g];if(y){const w=v.map(E=>E.presence_ref),b=y.map(E=>E.presence_ref),S=v.filter(E=>b.indexOf(E.presence_ref)<0),j=y.filter(E=>w.indexOf(E.presence_ref)<0);S.length>0&&(f[g]=S),j.length>0&&(p[g]=j)}else f[g]=v}),this.syncDiff(c,{joins:f,leaves:p},a,o)}static syncDiff(e,r,a,o){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(f,p)=>{var g;const v=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(p),v.length>0){const y=e[f].map(b=>b.presence_ref),w=v.filter(b=>y.indexOf(b.presence_ref)<0);e[f].unshift(...w)}a(f,v,p)}),this.map(d,(f,p)=>{let g=e[f];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),e[f]=g,o(f,g,p),g.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(rp||(rp={}));var Ia;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ia||(Ia={}));var gr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Iu{constructor(e,r={config:{}},a){var o,c;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Pa(this),this.broadcastEndpointURL=jm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Ia.PRESENCE]&&this.bindings[Ia.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(gr.CHANNEL_ERROR,b)),this._onClose(()=>e?.(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket.setAuth(),b===void 0){e?.(gr.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,E=(S=j?.length)!==null&&S!==void 0?S:0,k=[];for(let P=0;P<E;P++){const R=j[P],{filter:{event:$,schema:O,table:F,filter:U}}=R,Q=b&&b[P];if(Q&&Q.event===$&&Q.schema===O&&Q.table===F&&Q.filter===U)k.push(Object.assign(Object.assign({},R),{id:Q.id}));else{this.unsubscribe(),this.state=tt.errored,e?.(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(gr.SUBSCRIBED);return}}).receive("error",b=>{this.state=tt.errored,e?.(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===tt.joined&&e===Ia.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,a)}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const g=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Mc(this,Gt.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),d}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mc(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>P0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,c;const d=e.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=Gt;if(a&&[f,p,g,v].indexOf(d)>=0&&a!==this._joinRef())return;let w=this._onMessage(d,r,a);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var S,j,E;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(j=b.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===d}).map(b=>b.callback(w,a)):(c=this.bindings[d])===null||c===void 0||c.filter(b=>{var S,j,E,k,P,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const $=b.id,O=(S=b.filter)===null||S===void 0?void 0:S.event;return $&&((j=r.ids)===null||j===void 0?void 0:j.includes($))&&(O==="*"||O?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const $=(P=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return $==="*"||$===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:j,table:E,commit_timestamp:k,type:P,errors:R}=S;w=Object.assign(Object.assign({},{schema:j,table:E,commit_timestamp:k,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(S))}b.callback(w,a)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),c={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Iu.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ep(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ep(e.columns,e.old_record)),r}}const $c=()=>{},fo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$0=[1e3,2e3,5e3,1e4],F0=1e4,U0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B0{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tu,this.transport=null,this.heartbeatIntervalMs=fo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$c,this.ref=0,this.reconnectTimer=null,this.logger=$c,this.conn=null,this.sendBuffer=[],this.serializer=new I0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...d)=>za(async()=>{const{default:f}=await Promise.resolve().then(()=>Os);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ru.websocket}`,this.httpEndpoint=jm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:k0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return bn.Connecting;case Ta.open:return bn.Open;case Ta.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new Iu(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:a,payload:o,ref:c}=e,d=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${a} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:c,ref:d}=r,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${a} ${o} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,c,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([U0],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const o={access_token:r,version:C0};r&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,c,d,f,p,g,v;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:tu,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:fo.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:$c,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>$0[y-1]||F0),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((y,w)=>w(JSON.stringify(y))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Au extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class z0 extends Au{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class su extends Au{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var V0=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};const bm=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>za(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},void 0).then(({default:a})=>a(...r)):e=fetch,(...r)=>e(...r)},q0=()=>V0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield za(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),au=s=>{if(Array.isArray(s))return s.map(r=>au(r));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=au(a)}),e},W0=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var In=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};const Fc=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),H0=(s,e,r)=>In(void 0,void 0,void 0,function*(){const a=yield q0();s instanceof a&&!r?.noResolveJson?s.json().then(o=>{const c=s.status||500,d=o?.statusCode||c+"";e(new z0(Fc(o),c,d))}).catch(o=>{e(new su(Fc(o),o))}):e(new su(Fc(s),s))}),G0=(s,e,r,a)=>{const o={method:s,headers:e?.headers||{}};return s==="GET"||!a?o:(W0(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Va(s,e,r,a,o,c){return In(this,void 0,void 0,function*(){return new Promise((d,f)=>{s(r,G0(e,a,o,c)).then(p=>{if(!p.ok)throw p;return a?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>H0(p,f,a))})})}function No(s,e,r,a){return In(this,void 0,void 0,function*(){return Va(s,"GET",e,r,a)})}function sr(s,e,r,a,o){return In(this,void 0,void 0,function*(){return Va(s,"POST",e,a,o,r)})}function iu(s,e,r,a,o){return In(this,void 0,void 0,function*(){return Va(s,"PUT",e,a,o,r)})}function K0(s,e,r,a){return In(this,void 0,void 0,function*(){return Va(s,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Em(s,e,r,a,o){return In(this,void 0,void 0,function*(){return Va(s,"DELETE",e,a,o,r)})}var J0=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};class Q0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return J0(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}var Y0=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};class X0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new Q0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Y0(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}var jt=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};const Z0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},np={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e_{constructor(e,r={},a,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=bm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,o){return jt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},np),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(f=Object.assign(Object.assign({},f),o.headers));const g=this._removeEmptyFolders(r),v=this._getFinalPath(g),y=yield(e=="PUT"?iu:sr)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}upload(e,r,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,o){return jt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",r);try{let p;const g=Object.assign({upsert:np.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield iu(this.fetch,f.toString(),p,{headers:v});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Xe(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,r){return jt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const c=yield sr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new Au("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}update(e,r,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return jt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}copy(e,r,a){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,a){return jt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield sr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,a){return jt(this,void 0,void 0,function*(){try{const o=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),d=c?`?${c}`:"",f=this._getFinalPath(e),p=()=>No(this.fetch,`${this.url}/${o}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new X0(p,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield No(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:au(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}exists(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield K0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a)&&a instanceof su){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),o=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&o.push(c);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${g}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}list(e,r,a){return jt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Z0),r),{prefix:e||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}listV2(e,r){return jt(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const t_="2.75.0",r_={"X-Client-Info":`storage-js/${t_}`};var hs=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};class n_{constructor(e,r={},a,o){this.shouldThrowOnError=!1;const c=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r_),r),this.fetch=bm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}getBucket(e){return hs(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}createBucket(e){return hs(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return hs(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}emptyBucket(e){return hs(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return hs(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}}class s_ extends n_{constructor(e,r={},a,o){super(e,r,a,o)}from(e){return new e_(this.url,this.headers,e,this.fetch)}}const a_="2.75.0";let ka="";typeof Deno<"u"?ka="deno":typeof document<"u"?ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ka="react-native":ka="node";const i_={"X-Client-Info":`supabase-js-${ka}/${a_}`},o_={headers:i_},l_={schema:"public"},c_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={};var d_=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};const h_=s=>{let e;return s?e=s:typeof fetch>"u"?e=mm:e=fetch,(...r)=>e(...r)},f_=()=>typeof Headers>"u"?gm:Headers,p_=(s,e,r)=>{const a=h_(r),o=f_();return(c,d)=>d_(void 0,void 0,void 0,function*(){var f;const p=(f=yield e())!==null&&f!==void 0?f:s;let g=new o(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),a(c,Object.assign(Object.assign({},d),{headers:g}))})};var m_=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};function g_(s){return s.endsWith("/")?s:s+"/"}function v_(s,e){var r,a;const{db:o,auth:c,realtime:d,global:f}=s,{db:p,auth:g,realtime:v,global:y}=e,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>m_(this,void 0,void 0,function*(){return""})};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function y_(s){const e=s?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(g_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nm="2.75.0",_s=30*1e3,ou=3,Uc=ou*_s,w_="http://localhost:9999",__="supabase.auth.token",x_={"X-Client-Info":`gotrue-js/${Nm}`},lu="X-Supabase-Api-Version",Cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j_=600*1e3;class La extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function oe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class b_ extends La{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function E_(s){return oe(s)&&s.name==="AuthApiError"}class En extends La{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class en extends La{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}}class Hr extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N_(s){return oe(s)&&s.name==="AuthSessionMissingError"}class fs extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends en{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mo extends en{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C_(s){return oe(s)&&s.name==="AuthImplicitGrantRedirectError"}class sp extends en{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cu extends en{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Bc(s){return oe(s)&&s.name==="AuthRetryableFetchError"}class ap extends en{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class uu extends en{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ip=` 	
\r=`.split(""),k_=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<ip.length;e+=1)s[ip[e].charCodeAt(0)]=-2;for(let e=0;e<Co.length;e+=1)s[Co[e].charCodeAt(0)]=e;return s})();function op(s,e,r){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Co[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Co[a]),e.queuedBits-=6}}function km(s,e,r){const a=k_[s];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function lp(s){const e=[],r=d=>{e.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{I_(d,a,r)};for(let d=0;d<s.length;d+=1)km(s.charCodeAt(d),o,c);return e.join("")}function T_(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function P_(s,e){for(let r=0;r<s.length;r+=1){let a=s.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(s.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}T_(a,e)}}function I_(s,e,r){if(e.utf8seq===0){if(s<=127){r(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function js(s){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<s.length;o+=1)km(s.charCodeAt(o),r,a);return new Uint8Array(e)}function A_(s){const e=[];return P_(s,r=>e.push(r)),new Uint8Array(e)}function Nn(s){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return s.forEach(o=>op(o,r,a)),op(null,r,a),e.join("")}function R_(s){return Math.round(Date.now()/1e3)+s}function O_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},Tm=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function L_(s){const e={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const Pm=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>za(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},void 0).then(({default:a})=>a(...r)):e=fetch,(...r)=>e(...r)},D_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",xs=async(s,e,r)=>{await s.setItem(e,JSON.stringify(r))},_n=async(s,e)=>{const r=await s.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qr=async(s,e)=>{await s.removeItem(e)};let Im=class Am{constructor(){this.promise=new Am.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};Im.promiseConstructor=Promise;function zc(s){const e=s.split(".");if(e.length!==3)throw new uu("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!S_.test(e[a]))throw new uu("JWT not in base64url format");return{header:JSON.parse(lp(e[0])),payload:JSON.parse(lp(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function M_(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function $_(s,e){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await s(c);if(!e(c,null,d)){a(d);return}}catch(d){if(!e(c,d)){o(d);return}}})()})}function F_(s){return("0"+s.toString(16)).substr(-2)}function U_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,F_).join("")}async function B_(s){const r=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function z_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await B_(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(s,e,r=!1){const a=U_();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await xs(s,`${e}-code-verifier`,o);const c=await z_(a);return[c,a===c?"plain":"s256"]}const V_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q_(s){const e=s.headers.get(lu);if(!e||!e.match(V_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W_(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function H_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ms(s){if(!G_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vc(){const s={};return new Proxy(s,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cp(s){return JSON.parse(JSON.stringify(s))}var K_=function(s,e){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(r[a[o]]=s[a[o]]);return r};const Sn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),J_=[502,503,504];async function up(s){var e;if(!D_(s))throw new cu(Sn(s),0);if(J_.includes(s.status))throw new cu(Sn(s),s.status);let r;try{r=await s.json()}catch(c){throw new En(Sn(c),c)}let a;const o=q_(s);if(o&&o.getTime()>=Cm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new ap(Sn(r),s.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new ap(Sn(r),s.status,r.weak_password.reasons);throw new b_(Sn(r),s.status||500,a)}const Q_=(s,e,r,a)=>{const o={method:s,headers:e?.headers||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function he(s,e,r,a){var o;const c=Object.assign({},a?.headers);c[lu]||(c[lu]=Cm["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Y_(s,e,r+f,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(p):{data:Object.assign({},p),error:null}}async function Y_(s,e,r,a,o,c){const d=Q_(e,a,o,c);let f;try{f=await s(r,Object.assign({},d))}catch(p){throw console.error(p),new cu(Sn(p),0)}if(f.ok||await up(f),a?.noResolveJson)return f;try{return await f.json()}catch(p){await up(p)}}function Ht(s){var e;let r=null;ex(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=R_(s.expires_in)));const a=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:r,user:a},error:null}}function dp(s){const e=Ht(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Gr(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function X_(s){return{data:s,error:null}}function Z_(s){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:c}=s,d=K_(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function hp(s){return s}function ex(s){return s.access_token&&s.refresh_token&&s.expires_in}const qc=["global","local","others"];var tx=function(s,e){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(r[a[o]]=s[a[o]]);return r};class rx{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=Pm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=qc[0]){if(qc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=tx(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Z_,redirectTo:r?.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,c,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:hp});if(v.error)throw v.error;const y=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);g[`${E}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){ms(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ms(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){ms(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ms(e.userId);try{const{data:r,error:a}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ms(e.userId),ms(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,c,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:hp});if(v.error)throw v.error;const y=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);g[`${E}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function fp(s={}){return{getItem:e=>s[e]||null,setItem:(e,r)=>{s[e]=r},removeItem:e=>{delete s[e]}}}const gs={debug:!!(globalThis&&Tm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nx extends Rm{}async function sx(s,e,r){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await r()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(e===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new nx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(gs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ax(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Om(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function ix(s){return parseInt(s,16)}function ox(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function lx(s){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:v,uri:y,version:w}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const b=Om(s.address),S=v?`${v}://${a}`:a,j=s.statement?`${s.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${b}

${j}`;let k=`URI: ${y}
Version: ${w}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),p&&(k+=`
Request ID: ${p}`),g){let P=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}k+=P}return`${E}
${k}`}class Ye extends Error{constructor({message:e,code:r,cause:a,name:o}){var c;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class ko extends Ye{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function cx({error:s,options:e}){var r,a,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ye({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Dm(d)){if(c.rp.id!==d)return new Ye({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function ux({error:s,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ye({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Dm(a)){if(r.rpId!==a)return new Ye({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}var Lm=function(s,e){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(r[a[o]]=s[a[o]]);return r};class dx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const hx=new dx;function fx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:r,excludeCredentials:a}=s,o=Lm(s,["challenge","user","excludeCredentials"]),c=js(e).buffer,d=Object.assign(Object.assign({},r),{id:js(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:c,user:d});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const g=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:js(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function px(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:r}=s,a=Lm(s,["challenge","allowCredentials"]),o=js(e).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:js(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function mx(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Nn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Nn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gx(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,a=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Nn(new Uint8Array(o.authenticatorData)),clientDataJSON:Nn(new Uint8Array(o.clientDataJSON)),signature:Nn(new Uint8Array(o.signature)),userHandle:o.userHandle?Nn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dm(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function pp(){var s,e;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function vx(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",e)}:{data:null,error:new ko("Empty credential response",e)}}catch(e){return{data:null,error:cx({error:e,options:s})}}}async function yx(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",e)}:{data:null,error:new ko("Empty credential response",e)}}catch(e){return{data:null,error:ux({error:e,options:s})}}}const wx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_x={userVerification:"preferred",hints:["security-key"]};function To(...s){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of s)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))a[c]=d;else if(r(d))a[c]=d;else if(e(d)){const f=a[c];e(f)?a[c]=To(f,d):a[c]=To(d)}else a[c]=d}return a}function xx(s,e){return To(wx,s,e||{})}function Sx(s,e){return To(_x,s,e||{})}class jx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:f};const p=o??hx.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=xx(d.webauthn.credential_options.publicKey,c?.create),{data:v,error:y}=await vx({publicKey:g,signal:p});return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=Sx(d.webauthn.credential_options.publicKey,c?.request),{data:v,error:y}=await yx(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new En("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!r)return{data:null,error:new La("rpId is required for WebAuthn authentication")};try{if(!pp())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:c});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:a,credential_response:p.credential_response}})}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new En("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!r)return{data:null,error:new La("rpId is required for WebAuthn registration")};try{if(!pp())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:c});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new En("Unexpected error in register",d)}}}}ax();const bx={url:w_,storageKey:__,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mp(s,e,r){return await r()}const vs={};class Da{get jwks(){var e,r;return(r=(e=vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:e})}constructor(e){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Da.nextInstanceID,Da.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},bx),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Pm(o.fetch),this.lock=o.lock||mp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sx:this.lock=mp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jx(this)},this.persistSession?(o.storage?this.storage=o.storage:Tm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fp(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=fp(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=L_(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),Tt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),C_(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new En("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var r,a,o;try{let c;if("email"in e){const{email:v,password:y,options:w}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await ps(this.storage,this.storageKey)),c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:S},xform:Ht})}else if("phone"in e){const{phone:v,password:y,options:w}=e;c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ht})}else throw new po("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:d,options:f}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dp})}else if("phone"in e){const{phone:c,password:d,options:f}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dp})}else throw new po("You must provide either an email or phone number and a password");const{data:a,error:o}=r;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new fs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,a,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,c,d,f,p,g,v,y,w;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:j,wallet:E,statement:k,options:P}=e;let R;if(Tt())if(typeof E=="object")R=E;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")R=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const $=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),O=await R.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Om(O[0]);let U=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!U){const V=await R.request({method:"eth_chainId"});U=ix(V)}const Q={domain:$.host,address:F,statement:k,uri:$.href,version:"1",chainId:U,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=P?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=lx(Q),S=await R.request({method:"personal_sign",params:[ox(b),F]})}try{const{data:j,error:E}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ht});if(E)throw E;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new fs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:E})}catch(j){if(oe(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,a,o,c,d,f,p,g,v,y,w,b;let S,j;if("message"in e)S=e.message,j=e.signature;else{const{chain:E,wallet:k,statement:P,options:R}=e;let $;if(Tt())if(typeof k=="object")$=k;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))$=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=k}const O=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const F=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),P?{statement:P}:null));let U;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")U=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)U=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),j=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(o=(a=R?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const F=await $.signMessage(new TextEncoder().encode(S),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=F}}try{const{data:E,error:k}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Nn(j)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ht});if(k)throw k;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new fs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:k})}catch(E){if(oe(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const r=await _n(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{const{data:c,error:d}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Ht});if(await qr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new fs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(oe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:c,nonce:d}=e,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ht}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new fs}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,a,o,c,d;try{if("email"in e){const{email:f,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ps(this.storage,this.storageKey));const{error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:f,options:p}=e,{data:g,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new po("You must provide either an email or phone number.")}catch(f){if(oe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var r,a;try{let o,c;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Ht});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,a,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await ps(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:X_})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new Hr;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:c}=e,{error:d}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:a,type:o,options:c}=e,{data:d,error:f}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new po("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const d=await _n(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Vc()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,v)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,v))})}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gr}):await this._useSession(async r=>{var a,o,c;const{data:d,error:f}=r;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Gr})})}catch(r){if(oe(r))return N_(r)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new Hr;const d=o.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await ps(this.storage,this.storageKey));const{data:g,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:Gr});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hr;const r=Date.now()/1e3;let a=r,o=!0,c=null;const{payload:d}=zc(e.access_token);if(d.exp&&(a=d.exp,o=a<=r),o){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:d,error:f}=r;if(f)throw f;e=(a=d.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new Hr;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Tt())throw new mo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sp("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=e;if(!c||!f||!d||!g)throw new mo("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let w=v+y;p&&(w=parseInt(p));const b=w-v;b*1e3<=_s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const S=w-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,v);const{data:j,error:E}=await this._getUser(c);if(E)throw E;const k={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:w,refresh_token:d,token_type:g,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(a){if(oe(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c)return{error:c};const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(E_(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=O_(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:c},error:d}=r;if(d)throw d;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ps(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async c=>{var d,f,p,g,v;const{data:y,error:w}=c;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Tt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(oe(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:d,provider:f,token:p,access_token:g,nonce:v}=e,y=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ht}),{data:w,error:b}=y;return b?{data:{user:null,session:null},error:b}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new fs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:b})}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:c,error:d}=r;if(d)throw d;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await $_(async o=>(o>0&&await M_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(o,c)=>{const d=200*Math.pow(2,o);return c&&Bc(c)&&Date.now()+d-a<_s})}catch(a){if(this._debug(r,"error",a),oe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Tt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await _n(this.storage,this.storageKey);if(o&&this.userStorage){let d=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await xs(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d?.user)!==null&&e!==void 0?e:Vc()}else if(o&&!o.user&&!o.user){const d=await _n(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await qr(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,o)):o.user=Vc()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uc;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Uc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Bc(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(o.access_token);!f&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Im;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new Hr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(o,"error",c),oe(c)){const d={data:null,error:c};return Bc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await xs(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=cp(o);await xs(this.storage,this.storageKey,c)}else{const o=cp(r);await xs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_s);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/_s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_s}ms, refresh threshold is ${ou} ticks`),o<=ou&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await ps(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(f.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;return c?{data:null,error:c}:await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:c,error:d}=r;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?mx(e.webauthn.credential_response):gx(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:fx(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:px(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,a;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zc(o.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((a=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(f=>f.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+j_>o)return a;const{data:c,error:d}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};a=b.session.access_token}const{header:o,payload:c,signature:d,raw:{header:f,payload:p}}=zc(a);r?.allowExpired||W_(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:c,header:o,signature:d},error:null}}const v=H_(o.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,d,A_(`${f}.${p}`)))throw new uu("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}}Da.nextInstanceID=0;const Ex=Da;class Nx extends Ex{constructor(e){super(e)}}var Cx=function(s,e,r,a){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?c(v.value):o(v.value).then(f,p)}g((a=a.apply(s,e||[])).next())})};class kx{constructor(e,r,a){var o,c,d;this.supabaseUrl=e,this.supabaseKey=r;const f=y_(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:l_,realtime:u_,auth:Object.assign(Object.assign({},c_),{storageKey:p}),global:o_},v=v_(a??{},g);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=p_(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new b0(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new s_(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new p0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,a)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Cx(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:d,flowType:f,lock:p,debug:g},v,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nx({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:d,autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:o,userStorage:c,flowType:f,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new B0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(e,r,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tx=(s,e,r)=>new kx(s,e,r);function Px(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Px()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Po={};const Ix="https://nishmqdbtcqrnxbvssvw.supabase.co",Ax="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",Rx=typeof window<"u"&&(window.__SUPABASE_URL||window.__SUPABASE?.url)||null,Ox=typeof window<"u"&&(window.__SUPABASE_ANON_KEY||window.__SUPABASE?.anonKey||window.__SUPABASE?.key)||null,Lx=Rx||Po.VITE_SUPABASE_URL||Po.REACT_APP_SUPABASE_URL||Ix,Dx=Ox||Po.VITE_SUPABASE_KEY||Po.REACT_APP_SUPABASE_KEY||Ax,du=Tx(String(Lx).replace(/\/$/,""),Dx);typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});const Mx=()=>{};var gp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=function(s){const e=[];let r=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},$x=function(s){const e=[];let r=0,a=0;for(;r<s.length;){const o=s[r++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[r++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[r++],d=s[r++],f=s[r++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[r++],d=s[r++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,f=d?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,v=c>>2,y=(c&3)<<4|f>>4;let w=(f&15)<<2|g>>6,b=g&63;p||(b=64,d||(w=64)),a.push(r[v],r[y],r[w],r[b])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mm(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$x(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=r[s.charAt(o++)],f=o<s.length?r[s.charAt(o)]:0;++o;const g=o<s.length?r[s.charAt(o)]:64;++o;const y=o<s.length?r[s.charAt(o)]:64;if(++o,c==null||f==null||g==null||y==null)throw new Fx;const w=c<<2|f>>4;if(a.push(w),g!==64){const b=f<<4&240|g>>2;if(a.push(b),y!==64){const S=g<<6&192|y;a.push(S)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ux=function(s){const e=Mm(s);return $m.encodeByteArray(e,!0)},Fm=function(s){return Ux(s).replace(/\./g,"")},Um=function(s){try{return $m.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=()=>Bx().__FIREBASE_DEFAULTS__,Vx=()=>{if(typeof process>"u"||typeof gp>"u")return;const s=gp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Um(s[1]);return e&&JSON.parse(e)},Ru=()=>{try{return Mx()||zx()||Vx()||qx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wx=s=>Ru()?.emulatorHosts?.[s],Bm=()=>Ru()?.config,zm=s=>Ru()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gx(s){return(await fetch(s,{credentials:"include"})).ok}const Aa={};function Kx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Aa))Aa[e]?s.emulator.push(e):s.prod.push(e);return s}function Jx(s){let e=document.getElementById(s),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),r=!0),{created:r,element:e}}let vp=!1;function Qx(s,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||Aa[s]===e||Aa[s]||vp)return;Aa[s]=e;function r(w){return`__firebase__banner__${w}`}const a="__firebase__banner",c=Kx().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,b){w.setAttribute("width","24"),w.setAttribute("id",b),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{vp=!0,d()},w}function v(w,b){w.setAttribute("id",b),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=Jx(a),b=r("text"),S=document.getElementById(b)||document.createElement("span"),j=r("learnmore"),E=document.getElementById(j)||document.createElement("a"),k=r("preprendIcon"),P=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const R=w.element;f(R),v(E,j);const $=g();p(P,k),R.append(P,S,E,$),document.body.appendChild(R)}c?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Xx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const s=gt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((s,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class tn extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=sS,Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?aS(c,a):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new tn(o,f,a)}}function aS(s,e){return s.replace(iS,(r,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const iS=/\{\$([^}]+)}/g;function oS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ts(s,e){if(s===e)return!0;const r=Object.keys(s),a=Object.keys(e);for(const o of r){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(yp(c)&&yp(d)){if(!Ts(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!r.includes(o))return!1;return!0}function yp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(s){const e=[];for(const[r,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function lS(s,e){const r=new cS(s,e);return r.subscribe.bind(r)}class cS{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let o;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:a},o.next===void 0&&(o.next=Wc),o.error===void 0&&(o.error=Wc),o.complete===void 0&&(o.complete=Wc);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(s,e){if(typeof s!="object"||s===null)return!1;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}function Wc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new Hx;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fS(e))try{this.getOrInitializeService({instanceIdentifier:jn})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jn){return this.instances.has(e)}getOptions(e=jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);a===f&&d.resolve(o)}return o}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const o of a)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hS(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jn){return this.component?this.component.multipleInstances?e:jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(s){return s===jn?void 0:s}function fS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new dS(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const mS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},gS=Pe.INFO,vS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},yS=(s,e,...r)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=vS[e];if(o)console[o](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wS=(s,e)=>e.some(r=>s instanceof r);let wp,_p;function _S(){return wp||(wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return _p||(_p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qm=new WeakMap,hu=new WeakMap,Wm=new WeakMap,Hc=new WeakMap,Ou=new WeakMap;function SS(s){const e=new Promise((r,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{r(Yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(r=>{r instanceof IDBCursor&&qm.set(r,s)}).catch(()=>{}),Ou.set(e,s),e}function jS(s){if(hu.has(s))return;const e=new Promise((r,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{r(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});hu.set(s,e)}let fu={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return hu.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wm.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Yr(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bS(s){fu=s(fu)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=s.call(Gc(this),e,...r);return Wm.set(a,e.sort?e.sort():[e]),Yr(a)}:xS().includes(s)?function(...e){return s.apply(Gc(this),e),Yr(qm.get(this))}:function(...e){return Yr(s.apply(Gc(this),e))}}function NS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&jS(s),wS(s,_S())?new Proxy(s,fu):s)}function Yr(s){if(s instanceof IDBRequest)return SS(s);if(Hc.has(s))return Hc.get(s);const e=NS(s);return e!==s&&(Hc.set(s,e),Ou.set(e,s)),e}const Gc=s=>Ou.get(s);function CS(s,e,{blocked:r,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),f=Yr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Yr(d.result),p.oldVersion,p.newVersion,Yr(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const kS=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Kc=new Map;function xp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kc.get(e))return Kc.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,o=TS.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kS.includes(r)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(f.shift())),(await Promise.all([g[r](...f),o&&p.done]))[0]};return Kc.set(e,c),c}bS(s=>({...s,get:(e,r,a)=>xp(e,r)||s.get(e,r,a),has:(e,r)=>!!xp(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(IS(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function IS(s){return s.getComponent()?.type==="VERSION"}const pu="@firebase/app",Sp="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Vm("@firebase/app"),AS="@firebase/app-compat",RS="@firebase/analytics-compat",OS="@firebase/analytics",LS="@firebase/app-check-compat",DS="@firebase/app-check",MS="@firebase/auth",$S="@firebase/auth-compat",FS="@firebase/database",US="@firebase/data-connect",BS="@firebase/database-compat",zS="@firebase/functions",VS="@firebase/functions-compat",qS="@firebase/installations",WS="@firebase/installations-compat",HS="@firebase/messaging",GS="@firebase/messaging-compat",KS="@firebase/performance",JS="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",ZS="@firebase/storage-compat",ej="@firebase/firestore",tj="@firebase/ai",rj="@firebase/firestore-compat",nj="firebase",sj="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="[DEFAULT]",aj={[pu]:"fire-core",[AS]:"fire-core-compat",[OS]:"fire-analytics",[RS]:"fire-analytics-compat",[DS]:"fire-app-check",[LS]:"fire-app-check-compat",[MS]:"fire-auth",[$S]:"fire-auth-compat",[FS]:"fire-rtdb",[US]:"fire-data-connect",[BS]:"fire-rtdb-compat",[zS]:"fire-fn",[VS]:"fire-fn-compat",[qS]:"fire-iid",[WS]:"fire-iid-compat",[HS]:"fire-fcm",[GS]:"fire-fcm-compat",[KS]:"fire-perf",[JS]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[ZS]:"fire-gcs-compat",[ej]:"fire-fst",[rj]:"fire-fst-compat",[tj]:"fire-vertex","fire-js":"fire-js",[nj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,ij=new Map,gu=new Map;function jp(s,e){try{s.container.addComponent(e)}catch(r){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function Ma(s){const e=s.name;if(gu.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;gu.set(e,s);for(const r of Io.values())jp(r,s);for(const r of ij.values())jp(r,s);return!0}function Hm(s,e){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(e)}function ar(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new qa("app","Firebase",oj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=sj;function Gm(s,e={}){let r=s;typeof e!="object"&&(e={name:e});const a={name:mu,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(r||(r=Bm()),!r)throw Xr.create("no-options");const c=Io.get(o);if(c){if(Ts(r,c.options)&&Ts(a,c.config))return c;throw Xr.create("duplicate-app",{appName:o})}const d=new pS(o);for(const p of gu.values())d.addComponent(p);const f=new lj(r,a,d);return Io.set(o,f),f}function cj(s=mu){const e=Io.get(s);if(!e&&s===mu&&Bm())return Gm();if(!e)throw Xr.create("no-app",{appName:s});return e}function bs(s,e,r){let a=aj[s]??s;r&&(a+=`-${r}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(d.join(" "));return}Ma(new Ps(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="firebase-heartbeat-database",dj=1,$a="firebase-heartbeat-store";let Jc=null;function Km(){return Jc||(Jc=CS(uj,dj,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($a)}catch(r){console.warn(r)}}}}).catch(s=>{throw Xr.create("idb-open",{originalErrorMessage:s.message})})),Jc}async function hj(s){try{const r=(await Km()).transaction($a),a=await r.objectStore($a).get(Jm(s));return await r.done,a}catch(e){if(e instanceof tn)Sr.warn(e.message);else{const r=Xr.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(r.message)}}}async function bp(s,e){try{const a=(await Km()).transaction($a,"readwrite");await a.objectStore($a).put(e,Jm(s)),await a.done}catch(r){if(r instanceof tn)Sr.warn(r.message);else{const a=Xr.create("idb-set",{originalErrorMessage:r?.message});Sr.warn(a.message)}}}function Jm(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=1024,pj=30;class mj{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vj(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ep();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>pj){const o=yj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ep(),{heartbeatsToSend:r,unsentEntries:a}=gj(this._heartbeatsCache.heartbeats),o=Fm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Sr.warn(e),""}}}function Ep(){return new Date().toISOString().substring(0,10)}function gj(s,e=fj){const r=[];let a=s.slice();for(const o of s){const c=r.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Np(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Np(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class vj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hj(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return bp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return bp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Np(s){return Fm(JSON.stringify({version:2,heartbeats:s})).length}function yj(s){if(s.length===0)return-1;let e=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(s){Ma(new Ps("platform-logger",e=>new PS(e),"PRIVATE")),Ma(new Ps("heartbeat",e=>new mj(e),"PRIVATE")),bs(pu,Sp,s),bs(pu,Sp,"esm2020"),bs("fire-js","")}wj("");var _j="firebase",xj="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(_j,xj,"app");function Qm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sj=Qm,Ym=new qa("auth","Firebase",Qm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Vm("@firebase/auth");function jj(s,...e){Ao.logLevel<=Pe.WARN&&Ao.warn(`Auth (${Ha}): ${s}`,...e)}function wo(s,...e){Ao.logLevel<=Pe.ERROR&&Ao.error(`Auth (${Ha}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(s,...e){throw Du(s,...e)}function Qt(s,...e){return Du(s,...e)}function Lu(s,e,r){const a={...Sj(),[e]:r};return new qa("auth","Firebase",a).create(e,{appName:s.name})}function kn(s){return Lu(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bj(s,e,r){const a=r;if(!(e instanceof a))throw a.name!==e.constructor.name&&or(s,"argument-error"),Lu(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Du(s,...e){if(typeof s!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(r,...a)}return Ym.create(s,...e)}function de(s,e,...r){if(!s)throw Du(e,...r)}function yr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw wo(e),new Error(e)}function jr(s,e){s||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(){return typeof self<"u"&&self.location?.href||""}function Ej(){return Cp()==="http:"||Cp()==="https:"}function Cp(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ej()||Zx()||"connection"in navigator)?navigator.onLine:!0}function Cj(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,r){this.shortDelay=e,this.longDelay=r,jr(r>e,"Short delay should be less than long delay!"),this.isMobile=Yx()||eS()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(s,e){jr(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pj=new Ga(3e4,6e4);function $u(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ds(s,e,r,a,o={}){return Zm(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const f=Wa({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:p,...c};return Xx()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&zo(s.emulatorConfig.host)&&(g.credentials="include"),Xm.fetch()(await eg(s,s.config.apiHost,r,f),g)})}async function Zm(s,e,r){s._canInitEmulator=!1;const a={...kj,...e};try{const o=new Aj(s),c=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw go(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw go(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw go(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw go(s,"user-disabled",d);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Lu(s,v,g);or(s,v)}}catch(o){if(o instanceof tn)throw o;or(s,"network-request-failed",{message:String(o)})}}async function Ij(s,e,r,a,o={}){const c=await Ds(s,e,r,a,o);return"mfaPendingCredential"in c&&or(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function eg(s,e,r,a){const o=`${e}${r}?${a}`,c=s,d=c.config.emulator?Mu(s.config,o):`${s.config.apiScheme}://${o}`;return Tj.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Aj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Qt(this.auth,"network-request-failed")),Pj.get())})}}function go(s,e,r){const a={appName:s.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const o=Qt(s,e,a);return o.customData._tokenResponse=r,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(s,e){return Ds(s,"POST","/v1/accounts:delete",e)}async function Ro(s,e){return Ds(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oj(s,e=!1){const r=Ls(s),a=await r.getIdToken(e),o=Fu(a);de(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ra(Qc(o.auth_time)),issuedAtTime:Ra(Qc(o.iat)),expirationTime:Ra(Qc(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qc(s){return Number(s)*1e3}function Fu(s){const[e,r,a]=s.split(".");if(e===void 0||r===void 0||a===void 0)return wo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Um(r);return o?JSON.parse(o):(wo("Failed to decode base64 JWT payload"),null)}catch(o){return wo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function kp(s){const e=Fu(s);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(s,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof tn&&Lj(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Lj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(s){const e=s.auth,r=await s.getIdToken(),a=await Fa(s,Ro(e,{idToken:r}));de(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?tg(o.providerUserInfo):[],d=$j(s.providerData,c),f=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,g=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new yu(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,v)}async function Mj(s){const e=Ls(s);await Oo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $j(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function tg(s){return s.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(s,e){const r=await Zm(s,{},async()=>{const a=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await eg(s,o,"/v1/token",`key=${c}`),f=await s._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:a};return s.emulatorConfig&&zo(s.emulatorConfig.host)&&(p.credentials="include"),Xm.fetch()(d,p)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Uj(s,e){return Ds(s,"POST","/v2/accounts:revokeToken",$u(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){de(e.length!==0,"internal-error");const r=kp(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:o,expiresIn:c}=await Fj(e,r);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:o,expirationTime:c}=r,d=new Es;return a&&(de(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(de(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(de(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Es,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(s,e){de(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jt{constructor({uid:e,auth:r,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return de(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Oj(this,e)}reload(){return Mj(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Jt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Oo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await Fa(this,Rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,o=r.email??void 0,c=r.phoneNumber??void 0,d=r.photoURL??void 0,f=r.tenantId??void 0,p=r._redirectEventId??void 0,g=r.createdAt??void 0,v=r.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:S,stsTokenManager:j}=r;de(y&&j,e,"internal-error");const E=Es.fromJSON(this.name,j);de(typeof y=="string",e,"internal-error"),Wr(a,e.name),Wr(o,e.name),de(typeof w=="boolean",e,"internal-error"),de(typeof b=="boolean",e,"internal-error"),Wr(c,e.name),Wr(d,e.name),Wr(f,e.name),Wr(p,e.name),Wr(g,e.name),Wr(v,e.name);const k=new Jt({uid:y,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:b,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(k.providerData=S.map(P=>({...P}))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,r,a=!1){const o=new Es;o.updateFromServerResponse(r);const c=new Jt({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Oo(c),c}static async _fromGetAccountInfoResponse(e,r,a){const o=r.users[0];de(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tg(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,f=new Es;f.updateFromIdToken(a);const p=new Jt({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new yu(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map;function wr(s){jr(s instanceof Function,"Expected a class definition");let e=Tp.get(s);return e?(jr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Tp.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}rg.type="NONE";const Pp=rg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(s,e,r){return`firebase:${s}:${e}:${r}`}class Ns{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=_o(this.userKey,o.apiKey,c),this.fullPersistenceKey=_o("persistence",o.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Ro(this.auth,{idToken:e}).catch(()=>{});return r?Jt._fromGetAccountInfoResponse(this.auth,r,e):null}return Jt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Ns(wr(Pp),e,a);const o=(await Promise.all(r.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||wr(Pp);const d=_o(a,e.config.apiKey,e.name);let f=null;for(const g of r)try{const v=await g._get(d);if(v){let y;if(typeof v=="string"){const w=await Ro(e,{idToken:v}).catch(()=>{});if(!w)break;y=await Jt._fromGetAccountInfoResponse(e,w,v)}else y=Jt._fromJSON(e,v);g!==c&&(f=y),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ns(c,e,a):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(r.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ns(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ig(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ng(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lg(e))return"Blackberry";if(cg(e))return"Webos";if(sg(e))return"Safari";if((e.includes("chrome/")||ag(e))&&!e.includes("edge/"))return"Chrome";if(og(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(r);if(a?.length===2)return a[1]}return"Other"}function ng(s=gt()){return/firefox\//i.test(s)}function sg(s=gt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ag(s=gt()){return/crios\//i.test(s)}function ig(s=gt()){return/iemobile/i.test(s)}function og(s=gt()){return/android/i.test(s)}function lg(s=gt()){return/blackberry/i.test(s)}function cg(s=gt()){return/webos/i.test(s)}function Uu(s=gt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Bj(s=gt()){return Uu(s)&&!!window.navigator?.standalone}function zj(){return tS()&&document.documentMode===10}function ug(s=gt()){return Uu(s)||og(s)||cg(s)||lg(s)||/windows phone/i.test(s)||ig(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(s,e=[]){let r;switch(s){case"Browser":r=Ip(gt());break;case"Worker":r=`${Ip(gt())}-${s}`;break;default:r=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ha}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});a.onAbort=r,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(s,e={}){return Ds(s,"GET","/v2/passwordPolicy",$u(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=6;class Hj{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Wj,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,r,a,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ap(this),this.idTokenSubscription=new Ap(this),this.beforeStateQueue=new Vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ym,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=wr(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ro(this,{idToken:e}),a=await Jt._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Oo(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(kn(this));const r=e?Ls(e):null;return r&&de(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qj(this),r=new Hj(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await Uj(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&wr(e)||this._popupRedirectResolver;de(r,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[wr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,o){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof r=="function"){const p=e.addObserver(r,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(r);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(s){return Ls(s)}class Ap{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(r=>this.observer=r)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(s){Bu=s}function Jj(s){return Bu.loadJS(s)}function Qj(){return Bu.gapiScript}function Yj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(s,e){const r=Hm(s,"auth");if(r.isInitialized()){const o=r.getImmediate(),c=r.getOptions();if(Ts(c,e??{}))return o;or(o,"already-initialized")}return r.initialize({options:e})}function Zj(s,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(wr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function eb(s,e,r){const a=Vo(s);de(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=hg(e),{host:d,port:f}=tb(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},v=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){de(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),de(Ts(g,a.config.emulator)&&Ts(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,zo(d)?(Gx(`${c}//${d}${p}`),Qx("Auth",!0)):rb()}function hg(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function tb(s){const e=hg(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Rp(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Rp(d)}}}function Rp(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function rb(){function s(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,r){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(s,e){return Ij(s,"POST","/v1/accounts:signInWithIdp",$u(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="http://localhost";class Tn extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Tn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):or("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=r;if(!a||!o)return null;const d=new Tn(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const r=this.buildRequest();return Cs(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,Cs(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Cs(e,r)}buildRequest(){const e={requestUri:nb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Wa(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends zu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Ka{constructor(){super("facebook.com")}static credential(e){return Tn._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ka{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Tn._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return vr.credential(r,a)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Ka{constructor(){super("github.com")}static credential(e){return Tn._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ka{constructor(){super("twitter.com")}static credential(e,r){return Tn._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return Qr.credential(r,a)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,o=!1){const c=await Jt._fromIdTokenResponse(e,a,o),d=Op(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const o=Op(a);return new Is({user:e,providerId:o,_tokenResponse:a,operationType:r})}}function Op(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends tn{constructor(e,r,a,o){super(r.code,r.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Lo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,o){return new Lo(e,r,a,o)}}function pg(s,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lo._fromErrorAndOperation(s,c,e,a):c})}async function sb(s,e,r=!1){const a=await Fa(s,e._linkToIdToken(s.auth,await s.getIdToken()),r);return Is._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(s,e,r=!1){const{auth:a}=s;if(ar(a.app))return Promise.reject(kn(a));const o="reauthenticate";try{const c=await Fa(s,pg(a,o,e,s),r);de(c.idToken,a,"internal-error");const d=Fu(c.idToken);de(d,a,"internal-error");const{sub:f}=d;return de(s.uid===f,a,"user-mismatch"),Is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&or(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(s,e,r=!1){if(ar(s.app))return Promise.reject(kn(s));const a="signIn",o=await pg(s,a,e),c=await Is._fromIdTokenResponse(s,a,o);return r||await s._updateCurrentUser(c.user),c}function ob(s,e,r,a){return Ls(s).onIdTokenChanged(e,r,a)}function lb(s,e,r){return Ls(s).beforeAuthStateChanged(e,r)}const Do="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=1e3,ub=10;class gg extends mg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ug(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),o=this.localCache[r];a!==o&&e(r,o,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const a=e.key;r?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!r&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ub):o()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},cb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}gg.type="LOCAL";const db=gg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends mg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}vg.type="SESSION";const yg=vg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(o=>o.isListeningto(e));if(r)return r;const a=new qo(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:o,data:c}=r.data,d=this.handlersMap[o];if(!d?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const f=Array.from(d).map(async g=>g(r.origin,c)),p=await hb(f);r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(s="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=Vu("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(y){const w=y;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(w.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:r},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function pb(s){ir().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function mb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gb(){return navigator?.serviceWorker?.controller||null}function vb(){return wg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="firebaseLocalStorageDb",yb=1,Mo="firebaseLocalStorage",xg="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Wo(s,e){return s.transaction([Mo],e?"readwrite":"readonly").objectStore(Mo)}function wb(){const s=indexedDB.deleteDatabase(_g);return new Ja(s).toPromise()}function wu(){const s=indexedDB.open(_g,yb);return new Promise((e,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Mo,{keyPath:xg})}catch(o){r(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Mo)?e(a):(a.close(),await wb(),e(await wu()))})})}async function Lp(s,e,r){const a=Wo(s,!0).put({[xg]:e,value:r});return new Ja(a).toPromise()}async function _b(s,e){const r=Wo(s,!1).get(e),a=await new Ja(r).toPromise();return a===void 0?null:a.value}function Dp(s,e){const r=Wo(s,!0).delete(e);return new Ja(r).toPromise()}const xb=800,Sb=3;class Sg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wu(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>Sb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qo._getInstance(vb()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mb(),!this.activeServiceWorker)return;this.sender=new fb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wu();return await Lp(e,Do,"1"),await Dp(e,Do),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>Lp(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>_b(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dp(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Wo(o,!1).getAll();return new Ja(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),r.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sg.type="LOCAL";const jb=Sg;new Ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(s,e){return e?wr(e):(de(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Cs(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function bb(s){return ib(s.auth,new qu(s),s.bypassAuthState)}function Eb(s){const{auth:e,user:r}=s;return de(r,e,"internal-error"),ab(r,new qu(s),s.bypassAuthState)}async function Nb(s){const{auth:e,user:r}=s;return de(r,e,"internal-error"),sb(r,new qu(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,r,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bb;case"linkViaPopup":case"linkViaRedirect":return Nb;case"reauthViaPopup":case"reauthViaRedirect":return Eb;default:or(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Ga(2e3,1e4);async function kb(s,e,r){if(ar(s.app))return Promise.reject(Qt(s,"operation-not-supported-in-this-environment"));const a=Vo(s);bj(s,e,zu);const o=jg(a,r);return new Cn(a,"signInViaPopup",e,o).executeNotNull()}class Cn extends bg{constructor(e,r,a,o,c){super(e,r,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Cn.currentPopupAction&&Cn.currentPopupAction.cancel(),Cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Vu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Cb.get())};e()}}Cn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="pendingRedirect",xo=new Map;class Pb extends bg{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=xo.get(this.auth._key());if(!e){try{const a=await Ib(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}xo.set(this.auth._key(),e)}return this.bypassAuthState||xo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ib(s,e){const r=Ob(e),a=Rb(s);if(!await a._isAvailable())return!1;const o=await a._get(r)==="true";return await a._remove(r),o}function Ab(s,e){xo.set(s._key(),e)}function Rb(s){return wr(s._redirectPersistence)}function Ob(s){return _o(Tb,s.config.apiKey,s.name)}async function Lb(s,e,r=!1){if(ar(s.app))return Promise.reject(kn(s));const a=Vo(s),o=jg(a,e),d=await new Pb(a,o,r).execute();return d&&!r&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=600*1e3;class Mb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$b(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Eg(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Qt(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Db&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mp(e))}saveEventToCache(e){this.cachedEventUids.add(Mp(e)),this.lastProcessedEventTime=Date.now()}}function Mp(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Eg({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $b(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eg(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(s,e={}){return Ds(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bb=/^https?/;async function zb(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Fb(s);for(const r of e)try{if(Vb(r))return}catch{}or(s,"unauthorized-domain")}function Vb(s){const e=vu(),{protocol:r,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&d.hostname===a}if(!Bb.test(r))return!1;if(Ub.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Ga(3e4,6e4);function $p(){const s=ir().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function Wb(s){return new Promise((e,r)=>{function a(){$p(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$p(),r(Qt(s,"network-request-failed"))},timeout:qb.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)a();else{const o=Yj("iframefcb");return ir()[o]=()=>{gapi.load?a():r(Qt(s,"network-request-failed"))},Jj(`${Qj()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw So=null,e})}let So=null;function Hb(s){return So=So||Wb(s),So}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Ga(5e3,15e3),Kb="__/auth/iframe",Jb="emulator/auth/iframe",Qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xb(s){const e=s.config;de(e.authDomain,s,"auth-domain-config-required");const r=e.emulator?Mu(e,Jb):`https://${s.config.authDomain}/${Kb}`,a={apiKey:e.apiKey,appName:s.name,v:Ha},o=Yb.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${Wa(a).slice(1)}`}async function Zb(s){const e=await Hb(s),r=ir().gapi;return de(r,s,"internal-error"),e.open({where:document.body,url:Xb(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qb,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Qt(s,"network-request-failed"),f=ir().setTimeout(()=>{c(d)},Gb.get());function p(){ir().clearTimeout(f),o(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tE=500,rE=600,nE="_blank",sE="http://localhost";class Fp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aE(s,e,r,a=tE,o=rE){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const p={...eE,width:a.toString(),height:o.toString(),top:c,left:d},g=gt().toLowerCase();r&&(f=ag(g)?nE:r),ng(g)&&(e=e||sE,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[b,S])=>`${w}${b}=${S},`,"");if(Bj(g)&&f!=="_self")return iE(e||"",f),new Fp(null);const y=window.open(e||"",f,v);de(y,s,"popup-blocked");try{y.focus()}catch{}return new Fp(y)}function iE(s,e){const r=document.createElement("a");r.href=s,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__/auth/handler",lE="emulator/auth/handler",cE=encodeURIComponent("fac");async function Up(s,e,r,a,o,c){de(s.config.authDomain,s,"auth-domain-config-required"),de(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:a,v:Ha,eventId:o};if(e instanceof zu){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",oS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))d[v]=y}if(e instanceof Ka){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(d.scopes=v.join(","))}s.tenantId&&(d.tid=s.tenantId);const f=d;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await s._getAppCheckToken(),g=p?`#${cE}=${encodeURIComponent(p)}`:"";return`${uE(s)}?${Wa(f).slice(1)}${g}`}function uE({config:s}){return s.emulator?Mu(s,lE):`https://${s.authDomain}/${oE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="webStorageSupport";class dE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yg,this._completeRedirectFn=Lb,this._overrideRedirectResult=Ab}async _openPopup(e,r,a,o){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Up(e,r,a,vu(),o);return aE(e,c,Vu())}async _openRedirect(e,r,a,o){await this._originValidation(e);const c=await Up(e,r,a,vu(),o);return pb(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:o,promise:c}=this.eventManagers[r];return o?Promise.resolve(o):(jr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await Zb(e),a=new Mb(e);return r.register("authEvent",o=>(de(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Yc,{type:Yc},o=>{const c=o?.[0]?.[Yc];c!==void 0&&r(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=zb(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ug()||sg()||Uu()}}const hE=dE;var Bp="@firebase/auth",zp="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mE(s){Ma(new Ps("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=a.options;de(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:f,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dg(s)},g=new Gj(a,o,c,p);return Zj(g,r),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Ma(new Ps("auth-internal",e=>{const r=Vo(e.getProvider("auth").getImmediate());return(a=>new fE(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(Bp,zp,pE(s)),bs(Bp,zp,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=300,vE=zm("authIdTokenMaxAge")||gE;let Vp=null;const yE=s=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>vE)return;const o=r?.token;Vp!==o&&(Vp=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wE(s=cj()){const e=Hm(s,"auth");if(e.isInitialized())return e.getImmediate();const r=Xj(s,{popupRedirectResolver:hE,persistence:[jb,db,yg]}),a=zm("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=yE(c.toString());lb(r,d,()=>d(r.currentUser)),ob(r,f=>d(f))}}const o=Wx("auth");return o&&eb(r,`http://${o}`),r}function _E(){return document.getElementsByTagName("head")?.[0]??document}Kj({loadJS(s){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Qt("internal-error");c.customData=o,r(c)},a.type="text/javascript",a.charset="UTF-8",_E().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mE("Browser");const qp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"https://luciofreitas-github-io.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyDJVCHV890AbYmb1BmwAK5Kqm5iQNg69BU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.appspot.com"};var xE={};let Te=null;try{Te=typeof import.meta<"u"&&import.meta&&qp?qp:null}catch{Te=null}const Oe=typeof process<"u"&&xE||{},SE={apiKey:Te&&Te.VITE_FIREBASE_API_KEY||Oe.REACT_APP_FIREBASE_API_KEY||Oe.FIREBASE_API_KEY,authDomain:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN||Oe.REACT_APP_FIREBASE_AUTH_DOMAIN||Oe.FIREBASE_AUTH_DOMAIN,projectId:Te&&Te.VITE_FIREBASE_PROJECT_ID||Oe.REACT_APP_FIREBASE_PROJECT_ID||Oe.FIREBASE_PROJECT_ID,storageBucket:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET||Oe.REACT_APP_FIREBASE_STORAGE_BUCKET||Oe.FIREBASE_STORAGE_BUCKET,messagingSenderId:Te&&Te.VITE_FIREBASE_MESSAGING_SENDER_ID||Oe.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||Oe.FIREBASE_MESSAGING_SENDER_ID,appId:Te&&Te.VITE_FIREBASE_APP_ID||Oe.REACT_APP_FIREBASE_APP_ID||Oe.FIREBASE_APP_ID,measurementId:Te&&Te.VITE_FIREBASE_MEASUREMENT_ID||Oe.REACT_APP_FIREBASE_MEASUREMENT_ID||Oe.FIREBASE_MEASUREMENT_ID};try{const s={apiKeySource:Te&&Te.VITE_FIREBASE_API_KEY?"import.meta.env (VITE_)":Oe.REACT_APP_FIREBASE_API_KEY||Oe.FIREBASE_API_KEY?"process.env":"none",authDomainSource:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN?"import.meta.env (VITE_)":Oe.REACT_APP_FIREBASE_AUTH_DOMAIN||Oe.FIREBASE_AUTH_DOMAIN?"process.env":"none",projectIdSource:Te&&Te.VITE_FIREBASE_PROJECT_ID?"import.meta.env (VITE_)":Oe.REACT_APP_FIREBASE_PROJECT_ID||Oe.FIREBASE_PROJECT_ID?"process.env":"none",storageBucketSource:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET?"import.meta.env (VITE_)":Oe.REACT_APP_FIREBASE_STORAGE_BUCKET||Oe.FIREBASE_STORAGE_BUCKET?"process.env":"none",appIdSource:Te&&Te.VITE_FIREBASE_APP_ID?"import.meta.env (VITE_)":Oe.REACT_APP_FIREBASE_APP_ID||Oe.FIREBASE_APP_ID?"process.env":"none"},e=(()=>{const r=Te&&Te.VITE_FIREBASE_API_KEY||Oe.REACT_APP_FIREBASE_API_KEY||Oe.FIREBASE_API_KEY||"";return r?r.length>8?`${r.slice(0,8)}...[masked]`:"[masked]":"(none)"})();console.debug("[firebase] env sources:",s,"maskedApiKey:",e)}catch(s){console.debug("[firebase] env debug failed",s&&s.message)}const jE=Gm(SE),bE=wE(jE),EE=new vr;async function NE(){try{return{user:(await kb(bE,EE)).user}}catch(s){return{error:s}}}const CE=[{id:"demo1",nome:"Usuário Demo",email:"demo@pecafacil.com",senha:"123456",celular:"11999999999",isDemo:!0},{id:"admin1",nome:"Admin Demo",email:"admin@pecafacil.com",senha:"admin123",celular:"11888888888",isDemo:!0},{id:"teste1",nome:"Teste Público",email:"teste@pecafacil.com",senha:"teste123",celular:"11777777777",isDemo:!0}];function kE(){const[s,e]=x.useState(""),[r,a]=x.useState(""),[o,c]=x.useState(""),[d,f]=x.useState(!1),[p,g]=x.useState(!1),v=Je();x.useEffect(()=>{try{const E=window.history.state&&window.history.state.usr&&window.history.state.usr.state||window.history.state&&window.history.state.state,k=E&&E.email;k&&e(String(k).trim())}catch{}},[]);const{setUsuarioLogado:y}=x.useContext(Ve||{});x.useEffect(()=>{try{localStorage.setItem("__test_localStorage__","test"),localStorage.removeItem("__test_localStorage__")}catch{}},[]);function w(){let j=[...CE];try{const E=localStorage.getItem("usuarios");E&&(j=j.concat(JSON.parse(E)))}catch{}try{const E=(c0||[]).map(k=>({id:k.id,nome:k.nome||"",celular:String(k.celular||"").replace(/\D/g,""),email:String(k.email||"").trim().toLowerCase(),senha:String(k.senha||"")}));j=j.concat(E)}catch{}return j}function b(j){j.preventDefault();const E=String(s||"").trim().toLowerCase(),k=String(r||"");(async()=>{try{const{data:R,error:$}=await du.auth.signInWithPassword({email:E,password:k});if($){console.warn("Supabase auth signIn error:",$);const _e=$&&$.status?` (status: ${$.status})`:"",Le=$&&$.message?String($.message)+_e:"E-mail ou senha incorretos.";c(Le);return}const O=R&&R.session?R.session:null,F=O&&O.access_token?O.access_token:null;if(!F){console.warn("Supabase signIn returned no access token"),c("Erro ao efetuar login. Tente novamente.");return}const U=window.__API_BASE||"",Q=await fetch(`${U}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({access_token:F})});if(!Q.ok){let _e="";try{_e=await Q.text()}catch{_e=""}console.warn("Backend supabase-verify failed",Q.status,_e),c(`Erro ao verificar conta (servidor retornou ${Q.status}). Tente novamente.`);return}const V=await Q.json().catch(()=>({})),Z=V&&V.user?V.user:null;if(!Z){c("Erro ao obter dados do usuário.");return}const se={...Z,nome:(Z.nome||Z.name||"").trim(),name:(Z.name||Z.nome||"").trim(),access_token:F};c(""),y&&y(se);try{localStorage.setItem("usuario-logado",JSON.stringify(se))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${se.nome||"Usuário"}!`,"success",3e3),v("/buscar-pecas");return}catch(R){console.error("Login flow failed, falling back to local users",R);const $=R&&R.message?String(R.message):"Erro inesperado durante o login.";c($)}const P=w().find(R=>String(R.email||"").trim().toLowerCase()===E&&String(R.senha||"")===k);if(!P){c("E-mail ou senha incorretos.");return}c(""),y&&y(P);try{localStorage.setItem("usuario-logado",JSON.stringify(P))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${P.nome||"Usuário"}!`,"success",3e3),v("/buscar-pecas")})()}async function S(j){j&&j.preventDefault&&j.preventDefault(),c("");const E=String(s||"").trim().toLowerCase();if(!E){c("Informe seu e-mail para receber o link de redefinição.");return}try{const{data:k,error:P}=await du.auth.resetPasswordForEmail(E);if(P){console.warn("resetPasswordForEmail error:",P),c(P&&P.message?String(P.message):"Erro ao enviar e-mail de recuperação.");return}c("Enviamos um e-mail com instruções para redefinir sua senha. Verifique sua caixa de entrada.")}catch(k){console.error("Unexpected resetPassword error:",k),c("Erro inesperado ao tentar enviar e-mail de recuperação. Tente novamente mais tarde.")}}return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsx("div",{className:"page-content",children:i.jsx("div",{className:"cadastro-card-outer",children:i.jsxs("div",{className:"cadastro-card-grid",children:[i.jsxs("section",{className:"cadastro-card",children:[i.jsx("h1",{className:"cadastro-title",children:"Entrar"}),i.jsx("p",{className:"cadastro-sub",children:"Acesse sua conta para gerenciar pedidos e recursos"}),i.jsxs("form",{className:"cadastro-form",onSubmit:b,noValidate:!0,children:[o&&i.jsx("div",{className:"form-error",children:o}),i.jsxs("label",{className:"field",children:[i.jsx("span",{className:"label",children:"E-mail"}),i.jsx("input",{className:"input",type:"email",value:s,onChange:j=>e(j.target.value),placeholder:"seu@exemplo.com",autoComplete:"username"})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{className:"label",children:"Senha"}),i.jsxs("div",{className:"password-field",children:[i.jsx("input",{className:"input password-input",type:d?"text":"password",value:r,onChange:j=>a(j.target.value),placeholder:"Senha",autoComplete:"current-password"}),i.jsx(Ss,{on:d,onClick:()=>f(j=>!j),ariaLabel:d?"Ocultar senha":"Mostrar senha"})]})]}),i.jsx("div",{className:"cadastro-forgot-row",children:i.jsx("a",{href:"#",className:"login-forgot-link",onClick:S,children:"Esqueci minha senha"})}),i.jsx("button",{className:"submit",type:"submit",children:"Entrar"}),i.jsx("div",{className:"social-login-row",children:i.jsx("button",{type:"button",className:"google-btn google-btn-round","aria-label":"Entrar com Google",title:"Entrar com Google",disabled:p,onClick:async()=>{if(!p){g(!0),c("");try{const{user:j,error:E}=await NE();if(E){console.error("Google sign-in error:",E),E.code==="auth/cancelled-popup-request"?c("Login cancelado. Por favor, tente novamente."):E.code==="auth/popup-blocked"?c("Popup bloqueado. Permita popups para este site."):E.code==="auth/popup-closed-by-user"?c("Popup fechado. Tente novamente."):c("Erro no login com Google. Tente novamente.");return}const k={id:j.uid,nome:j.displayName||"",email:j.email||""};try{localStorage.setItem("usuario-logado",JSON.stringify(k))}catch{}y&&y(k),window.showToast&&window.showToast(`Bem-vindo(a), ${k.nome||"Usuário"}!`,"success",3e3),v("/buscar-pecas")}catch(j){console.error("Unexpected error:",j),c("Erro inesperado. Tente novamente.")}finally{g(!1)}}},children:i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",children:[i.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.9 0 7.1 1.4 9.2 3.2l6.8-6.6C35.6 3 30.1 1 24 1 14.7 1 6.9 6.6 3.1 14.7l7.9 6.1C12.4 15.1 17.7 9.5 24 9.5z"}),i.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-2.9-.4-4.3H24v8.2h12.9c-.6 3.2-2.9 5.9-6.1 7.4l9.4 7.3C43.9 37.4 46.5 31.1 46.5 24z"}),i.jsx("path",{fill:"#4A90E2",d:"M10 29.8A14.9 14.9 0 0 1 9.1 24c0-1.2.2-2.3.5-3.4L2 14.5A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.5 10.8l7.5-5z"}),i.jsx("path",{fill:"#FBBC05",d:"M24 46c6.1 0 11.6-2 15.7-5.4l-9.4-7.3c-2.5 1.7-5.7 2.8-9 2.8-6.3 0-11.6-4.6-13.6-10.8L2.5 34.8C6.9 41.4 14.7 46 24 46z"}),i.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),i.jsx("div",{className:"cadastro-signup-row",children:i.jsx(Bo,{to:"/cadastro",className:"signup-link",children:"Crie sua conta agora!"})})]})]}),i.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:i.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peças automotivas"})})]})})})})]})}const TE="/assets/catalogo-1-CWn-hfwu.jpg",PE="/assets/catalogo-2-B_qKnqUI.jpg",IE="/assets/recall-1-4Fo6nwHT.jpg",AE="/assets/recall-2-6eoDvbiW.jpg",RE="/assets/guias-1-OSyNC6Y0.jpg",OE="/assets/guias-2-B35-uliW.jpg";function LE(){Je();const[s,e]=x.useState(null),r=[TE,PE,IE,AE,RE,OE],[a,o]=x.useState(0),c=x.useRef(null),d=()=>o(p=>(p-1+r.length)%r.length),f=()=>o(p=>(p+1)%r.length);return x.useEffect(()=>{const p=g=>{g.key==="ArrowLeft"&&d(),g.key==="ArrowRight"&&f()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper page-inicio",children:i.jsxs("div",{className:"page-content inicio-main",children:[i.jsx("div",{className:"inicio-hero",children:i.jsxs("div",{className:"inicio-hero-inner",children:[i.jsx("h1",{className:"page-title",children:"Seja um entendedor automotivo, agora mesmo!"}),i.jsx("div",{className:"inicio-intro",children:i.jsx("p",{className:"inicio-subtitle",children:"No PeçaFácil você conseguirá se virar sozinho, aprenderá a identificar e comprar as peças certas para o seu carro com confiança e economia, aprenderá sobre manutenção preventiva, instalação de peças e muito mais."})})]})}),i.jsxs("div",{className:"inicio-carousel","aria-roledescription":"carousel",children:[i.jsx("button",{className:"carousel-control prev","aria-label":"Anterior",onClick:d,children:"❮"}),i.jsx("div",{className:"carousel-track",ref:c,children:(()=>{const p=r.length,g=(a-1+p)%p,v=(a+1)%p;return[g,a,v].map((w,b)=>{const S=r[w],j=b===1,E=j?"carousel-item is-center":"carousel-item is-thumb";return i.jsxs("div",{className:E,onClick:()=>{j?e(S):o(w)},role:"button",tabIndex:0,onKeyDown:k=>{k.key==="Enter"&&(j?e(S):o(w))},children:[i.jsx("img",{src:S,alt:`Slide ${w+1}`}),j&&i.jsx("span",{className:"carousel-zoom-icon","aria-hidden":"true",title:"Ver imagem ampliada",children:"🔍"})]},w)})})()}),i.jsx("button",{className:"carousel-control next","aria-label":"Próximo",onClick:f,children:"❯"})]}),i.jsx("div",{className:"inicio-band",children:i.jsxs("div",{className:"inicio-band-inner",children:[i.jsx("div",{className:"inicio-band-left",children:i.jsx("h1",{className:"inicio-band-title",children:"10 motivos para que você escolha o Peça Fácil"})}),i.jsx("div",{className:"inicio-band-right",children:i.jsx("div",{className:"inicio-reasons",children:i.jsxs("div",{className:"reasons-grid",children:[i.jsxs("ol",{className:"reasons-col",children:[i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"1"}),"Conexão Simplificada com Oficinas."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"2"}),"Busca Inteligente de Peças."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"3"}),"Especificação Completa das Peças."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"4"}),"Informações Essenciais sobre Recalls."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"5"}),"Guias Automotivos Abrangentes."]})]}),i.jsxs("ol",{className:"reasons-col",children:[i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"6"}),"Economia de Tempo e Esforço."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"7"}),"Decisões de Manutenção Informadas."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"8"}),"Histórico de Manutenção Organizado."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"9"}),"Segurança e Confiabilidade."]}),i.jsxs("li",{children:[i.jsx("span",{className:"reason-number",children:"10"}),"Comunidade e Suporte."]})]})]})})})]})}),i.jsx("div",{className:"inicio-stats-section",children:i.jsxs("div",{className:"inicio-stats-container",children:[i.jsx("h2",{className:"inicio-stats-title",children:"Impacto e Credibilidade: A Peça Fácil em Números"}),i.jsxs("div",{className:"inicio-stats-grid",children:[i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🔧"}),i.jsx("div",{className:"stat-number",children:"50.000+"}),i.jsx("div",{className:"stat-label",children:"Peças Catalogadas"}),i.jsx("div",{className:"stat-description",children:"Base de dados completa e atualizada"})]}),i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🚗"}),i.jsx("div",{className:"stat-number",children:"500+"}),i.jsx("div",{className:"stat-label",children:"Modelos de Veículos"}),i.jsx("div",{className:"stat-description",children:"Compatibilidade verificada e testada"})]}),i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👥"}),i.jsx("div",{className:"stat-number",children:"10.000+"}),i.jsx("div",{className:"stat-label",children:"Usuários Ativos"}),i.jsx("div",{className:"stat-description",children:"Comunidade crescente de entusiastas"})]}),i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"⭐"}),i.jsx("div",{className:"stat-number",children:"98%"}),i.jsx("div",{className:"stat-label",children:"Satisfação"}),i.jsx("div",{className:"stat-description",children:"Avaliação positiva dos usuários"})]}),i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💰"}),i.jsx("div",{className:"stat-number",children:"R$ 5.000"}),i.jsx("div",{className:"stat-label",children:"Economia Média/Ano"}),i.jsx("div",{className:"stat-description",children:"Por usuário em compras certeiras"})]}),i.jsxs("div",{className:"inicio-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"⚡"}),i.jsx("div",{className:"stat-number",children:"70%"}),i.jsx("div",{className:"stat-label",children:"Redução de Tempo"}),i.jsx("div",{className:"stat-description",children:"Na busca e compra de peças"})]})]})]})})]})}),s&&i.jsx("div",{className:"pf-zoom-overlay",onClick:()=>e(null),children:i.jsx("img",{className:"pf-zoom-image",src:s,alt:"Imagem ampliada",onClick:p=>p.stopPropagation()})})]})}function DE(){return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"quem-somos",children:[i.jsx("h2",{className:"page-title",children:"Quem Somos"}),i.jsx("div",{className:"quem-somos-intro",children:i.jsx("p",{children:"Conheça nossa história e missão no setor automotivo."})}),i.jsx("div",{className:"quem-somos-content",children:i.jsx("p",{className:"quem-somos-body",children:"Somos uma empresa fundada por três amigos que, cansados de depender de terceiros, decidiram transformar iniciativa em soluções concretas. Com recursos iniciais modestos, unimos curiosidade técnica, colaboração e disciplina para resolver problemas reais do setor automotivo. Atuamos com foco em eficiência, acessibilidade e resultados mensuráveis. Nosso compromisso é entregar produtos úteis e confiáveis, sustentados por ética, transparência e aprendizado contínuo. Não buscamos ser apenas mais uma empresa no mercado global — trabalhamos com serenidade e consistência para, um dia, nos tornar referência em tecnologia."})}),i.jsxs("div",{className:"quem-somos-equipe-section",children:[i.jsx("h3",{className:"equipe-section-title",children:"Nossa Equipe"}),i.jsxs("div",{className:"equipe-cards-container",children:[i.jsxs("div",{className:"equipe-card",children:[i.jsx("div",{className:"equipe-card-photo",children:i.jsx("img",{src:"/path/to/rafael.jpg",alt:"Rafael",className:"equipe-photo"})}),i.jsxs("div",{className:"equipe-card-content",children:[i.jsx("h4",{className:"equipe-nome",children:"Rafael de Almeida"}),i.jsx("p",{className:"equipe-cargo",children:"Fundador & Head de Inovação"}),i.jsx("p",{className:"equipe-bio",children:"Idealizador do Peça Fácil, é quem trouxe a visão inicial do projeto e ajuda a guiar seus rumos estratégicos. Tem perfil criativo e inovador, buscando sempre novas formas de gerar valor para o negócio e seus usuários."})]})]}),i.jsxs("div",{className:"equipe-card",children:[i.jsx("div",{className:"equipe-card-photo",children:i.jsx("img",{src:"/fotos-socios/guilherme.jpg",alt:"Guilherme",className:"equipe-photo"})}),i.jsxs("div",{className:"equipe-card-content",children:[i.jsx("h4",{className:"equipe-nome",children:"Guilherme Melo Fleury"}),i.jsx("p",{className:"equipe-cargo",children:"Co-Fundador & Head de Negócios"}),i.jsx("p",{className:"equipe-bio",children:"Responsável pela liderança e pela representação do Peça Fácil em eventos e apresentações. Atua como porta-voz do projeto, conduzindo negociações e transmitindo a visão da empresa. Tem foco em crescimento, conexões estratégicas e novos negócios."})]})]}),i.jsxs("div",{className:"equipe-card",children:[i.jsx("div",{className:"equipe-card-photo",children:i.jsx("img",{src:"/fotos-socios/lucio.jpg",alt:"Nome do Membro 3",className:"equipe-photo"})}),i.jsxs("div",{className:"equipe-card-content",children:[i.jsx("h4",{className:"equipe-nome",children:"Lúcio de Freitas Pereira"}),i.jsx("p",{className:"equipe-cargo",children:"Co-Fundador & Product Designer/Desenvolvedor"}),i.jsx("p",{className:"equipe-bio",children:"Apaixonado por tecnologia e design, é responsável pelo desenvolvimento e pela experiência digital do Peça Fácil. Com formação em TI e experiência em análise de dados, encontrou no design UX/UI uma forma de unir criatividade e funcionalidade."})]})]})]})]})]})})]})}function ME(){return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"nosso-projeto",children:[i.jsx("h2",{className:"page-title",children:"Nosso Projeto"}),i.jsx("div",{className:"nossoprojeto-intro",children:i.jsx("p",{children:"Conheça o Peça Fácil - nossa solução para compatibilidade automotiva."})}),i.jsx("div",{className:"nosso-projeto-content",children:i.jsxs("p",{className:"nosso-projeto-body",children:["O Peça Fácil é uma plataforma completa e intuitiva desenvolvida para transformar a forma como você cuida do seu veículo. Nascemos da necessidade de simplificar o complexo universo automotivo, oferecendo ferramentas práticas que colocam o conhecimento técnico ao alcance de todos — desde consumidores finais até profissionais do setor.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Busca Inteligente de Peças:"})," Nossa ferramenta de busca foi projetada para eliminar a frustração de encontrar a peça certa. Utilizando um sistema de compatibilidade preciso, você seleciona marca, modelo e ano do seu veículo e recebe apenas as peças que realmente servem. Acabaram-se as compras erradas, devoluções e tempo perdido — cada resultado é verificado e validado para garantir compatibilidade total.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Tabela FIPE Atualizada:"})," Tenha acesso instantâneo aos valores de referência do mercado automotivo brasileiro. Nossa Tabela FIPE apresenta preços médios atualizados de centenas de modelos, com filtros por marca, ano e busca por modelo. Seja para comprar, vender ou simplesmente acompanhar a valorização do seu veículo, você tem informações confiáveis a um clique de distância.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Alertas de Recalls:"})," A segurança é nossa prioridade. Disponibilizamos uma base completa de recalls automotivos, permitindo que você verifique se o seu veículo possui alguma convocação ativa das montadoras. Mantenha-se informado sobre campanhas de segurança, defeitos identificados e procedimentos de correção — porque dirigir com tranquilidade faz toda a diferença.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Guias Automotivos Completos:"})," Oferecemos uma biblioteca rica de guias práticos que cobrem desde conceitos básicos até procedimentos técnicos avançados. Aprenda sobre manutenção preventiva, instalação de componentes, diagnóstico de problemas comuns e muito mais. Nossos guias são escritos em linguagem acessível, com ilustrações e explicações passo a passo para que você ganhe autonomia e confiança no cuidado com seu veículo.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Conexão com Oficinas Parceiras:"})," Construímos uma rede de parceiros confiáveis — oficinas, mecânicos e fornecedores verificados que compartilham nosso compromisso com qualidade e transparência. Ao precisar de um serviço especializado, você encontra profissionais qualificados próximos a você, com avaliações reais de outros usuários e a certeza de um atendimento ético.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Histórico de Manutenção Organizado:"})," Com o Peça Fácil, você mantém um registro completo de todas as manutenções, trocas de peças e serviços realizados no seu veículo. Esse histórico digital facilita o acompanhamento de revisões periódicas, aumenta o valor de revenda e garante que nenhum cuidado essencial seja esquecido.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Versão Pro:"})," Para quem busca ainda mais recursos, nossa Versão Pro oferece funcionalidades exclusivas como notificações personalizadas de recalls, acesso antecipado a novos guias técnicos, suporte prioritário e ferramentas avançadas de gestão de frota — ideal para oficinas, revendedoras e entusiastas que levam a sério o cuidado automotivo.",i.jsx("br",{}),i.jsx("br",{}),"Em resumo, o Peça Fácil centraliza informações técnicas, preços de mercado, alertas de segurança e conhecimento especializado em uma única plataforma moderna e acessível. Nosso compromisso é entregar economia de tempo e dinheiro, decisões mais informadas e a confiança de que você está fazendo as escolhas certas para o seu veículo. Seja bem-vindo a uma nova era de autonomia e transparência no setor automotivo."]})})]})})]})}function $E(){return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"seja-pro",children:[i.jsx("h2",{className:"page-title",children:"Seja Pro"}),i.jsx("div",{className:"sejapro-intro",children:i.jsx("p",{children:"Tenha acesso a benefícios exclusivos e suporte prioritário ao se tornar um membro Pro."})}),i.jsxs("div",{className:"seja-pro-cards",children:[i.jsxs("div",{className:"seja-pro-card",children:[i.jsx("h3",{className:"seja-pro-card-title",children:"Básico"}),i.jsx("p",{className:"seja-pro-card-lead",children:"Benefícios da versão Básica."}),i.jsx("div",{className:"seja-pro-card-body",children:i.jsxs("ul",{className:"seja-pro-features",children:[i.jsx("li",{children:"Acesso ao buscador de peças."}),i.jsx("li",{className:"seja-pro-feature-unavailable",children:"Acesso ao endereço das lojas que vendem as peças."}),i.jsx("li",{className:"seja-pro-feature-unavailable",children:"Acesso ao valores da Tabela FIPE."}),i.jsx("li",{children:"Suporte via email."}),i.jsx("li",{className:"seja-pro-feature-unavailable",children:"Suporte via whatsapp."}),i.jsx("li",{className:"seja-pro-feature-unavailable",children:"Comunidade no discord."})]})})]}),i.jsxs("div",{className:"seja-pro-card seja-pro-card-pro",children:[i.jsx("h3",{className:"seja-pro-card-title",children:"Pro"}),i.jsx("p",{className:"seja-pro-card-lead",children:"Benefícios da versão Pro."}),i.jsx("div",{className:"seja-pro-card-body",children:i.jsxs("ul",{className:"seja-pro-features",children:[i.jsx("li",{children:" Acesso ao buscador de peças."}),i.jsx("li",{children:" Acesso ao endereço das lojas que vendem as peças."}),i.jsx("li",{children:" Acesso ao valores da Tabela FIPE."}),i.jsx("li",{children:" Suporte via email."}),i.jsx("li",{children:" Suporte via whatsapp."}),i.jsx("li",{children:" Comunidade no discord."})]})})]})]})]})})]})}function FE({nome:s,isPro:e=!1,onPerfil:r,onMeusCarros:a,onPro:o,onLogout:c}){const[d,f]=x.useState(!1),p=x.useRef(null),g=x.useRef(null),[v,y]=x.useState({top:0,right:0}),w=()=>{if(p.current){const b=p.current.getBoundingClientRect();y({top:b.bottom,right:window.innerWidth-b.right})}};return x.useEffect(()=>{d&&w()},[d]),x.useEffect(()=>{function b(S){d&&p.current&&!p.current.contains(S.target)&&g.current&&!g.current.contains(S.target)&&f(!1)}return window.addEventListener("mousedown",b),window.addEventListener("resize",w),()=>{window.removeEventListener("mousedown",b),window.removeEventListener("resize",w)}},[d]),i.jsxs("div",{className:"user-menu-root",children:[i.jsxs("button",{ref:p,className:`user-button icon-only ${e?"user-pro":""}`,onClick:()=>f(b=>!b),"aria-haspopup":"true","aria-expanded":d,children:[i.jsx("span",{className:"user-icon-desktop",children:i.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",fill:"currentColor"})})}),i.jsx("span",{className:"user-icon-mobile",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",fill:"currentColor"})})})]}),d&&i.jsxs("div",{ref:g,className:"user-dropdown",style:{top:`${v.top}px`,right:`${v.right}px`},children:[i.jsxs("div",{className:"dropdown-item dropdown-user-name dropdown-user-name-header",children:[i.jsxs("div",{className:"dropdown-user-name-row",children:["Olá, ",s]}),e&&i.jsx("div",{className:"dropdown-user-subtitle",children:"Assinante Pro"})]}),i.jsx("button",{className:"dropdown-item",onClick:()=>{f(!1),r()},children:"Perfil"}),i.jsx("button",{className:"dropdown-item",onClick:()=>{f(!1),a()},children:"Meus Carros"}),i.jsx("button",{className:"dropdown-item",onClick:()=>{f(!1),o()},children:"Versão Pro"}),i.jsx("button",{className:"dropdown-item dropdown-item-logout",onClick:()=>{f(!1),c()},children:"Sair"})]})]})}function Ke(){const[s,e]=x.useState(!1),[r,a]=x.useState(0),[o,c]=x.useState(!1),[d,f]=x.useState({top:0,left:0}),[p,g]=x.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),v=x.useRef(null),y=x.useRef(null),w=Je(),{usuarioLogado:b,setUsuarioLogado:S}=x.useContext(Ve),j=!!(b&&b.isPro)||localStorage.getItem("versaoProAtiva")==="true",E=x.useRef(null),k=[{id:"buscar",label:"Catálogo de Peças",onClick:()=>w("/buscar-pecas")},{id:"tabela-fipe",label:"Tabela FIPE",onClick:()=>w("/tabela-fipe")},{id:"recalls",label:"Recalls",onClick:()=>w("/recalls")},{id:"guias",label:"Guias",onClick:()=>w("/guias")},{id:"contato",label:"Contato",onClick:()=>w("/contato-logado")}];x.useEffect(()=>{const O=()=>{const F=window.scrollY;F>r&&F>60?e(!0):e(!1),a(F)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[r]),x.useEffect(()=>{const O=()=>{g(window.innerWidth<=768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const P=()=>{if(v.current){const O=v.current.getBoundingClientRect(),F=Math.round(O.bottom+4),U=Math.round(O.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${F}px`),y.current.style.setProperty("--dropdown-left",`${U}px`)),f({top:F,left:U})}},R=()=>{c(!1)},$=O=>F=>{F&&typeof F.preventDefault=="function"&&F.preventDefault(),R(),O()};return x.useEffect(()=>{function O(F){o&&v.current&&!v.current.contains(F.target)&&y.current&&!y.current.contains(F.target)&&c(!1)}return window.addEventListener("mousedown",O),window.addEventListener("resize",P),()=>{window.removeEventListener("mousedown",O),window.removeEventListener("resize",P)}},[o]),x.useLayoutEffect(()=>{if(o&&y.current&&v.current){const O=v.current.getBoundingClientRect(),F=Math.round(O.bottom+4),U=Math.round(O.left);try{y.current.style.setProperty("--dropdown-top",`${F}px`),y.current.style.setProperty("--dropdown-left",`${U}px`)}catch{}f({top:F,left:U})}},[o]),i.jsx("header",{ref:E,className:"site-header menu-login",children:i.jsxs("div",{className:"menu-login-root menu-responsive",children:[i.jsx(fm,{}),i.jsxs("div",{className:"user-menu-root",children:[i.jsxs("button",{ref:v,className:`mobile-menu-toggle ${o?"active":""}`,onClick:()=>{c(O=>!O),o||P()},"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":o,children:[i.jsx("span",{className:"hamburger-line"}),i.jsx("span",{className:"hamburger-line"}),i.jsx("span",{className:"hamburger-line"})]}),i.jsx("div",{ref:y,className:`user-dropdown ${o?"open":"closed"}`,role:"menu","aria-hidden":!o,hidden:!o,...o?{}:{inert:"true"},children:k.map(O=>i.jsx("button",{className:"dropdown-item",onClick:()=>{c(!1),typeof O.onClick=="function"&&O.onClick()},disabled:!o,tabIndex:o?0:-1,children:O.label},O.id))})]}),i.jsx("div",{className:"menu-login-center",children:i.jsx("nav",{className:"menu-nav",children:i.jsx("ul",{className:"menu-list",children:k.map(O=>i.jsx("li",{children:i.jsx("a",{href:`#${O.id}`,className:"menu-login-item",onClick:$(O.onClick),children:O.label})},O.id))})})}),i.jsx("div",{className:"menu-login-right",children:b?i.jsx(FE,{nome:b?.nome,isPro:j,onPerfil:$(()=>w("/perfil")),onMeusCarros:$(()=>w("/meus-carros")),onPro:$(()=>w(j?"/versao-pro-assinado":"/versao-pro")),onLogout:$(()=>{S(null);try{localStorage.removeItem("usuario-logado")}catch{}w("/login")})}):i.jsx(pm,{onClick:$(()=>w("/login"))})})]})})}function UE(){const s=Je();return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",id:"versao-pro",children:[i.jsx("h2",{className:"page-title",children:"Versão Pro"}),i.jsx("p",{className:"versao-pro-intro",children:"Tenha acesso a todos os recursos avançados, suporte prioritário e integrações para otimizar sua busca por peças."}),i.jsxs("div",{className:"versao-pro-cards",children:[i.jsxs("div",{className:"versao-pro-features",children:[i.jsx("h3",{className:"versao-pro-features-title",children:"Recursos incluídos"}),i.jsxs("ul",{className:"versao-pro-list",children:[i.jsx("li",{children:" Acesso ao buscador de peças."}),i.jsx("li",{children:" Acesso ao endereço das lojas que vendem as peças."}),i.jsx("li",{children:" Acesso ao valores da Tabela FIPE."}),i.jsx("li",{children:" Suporte via email."}),i.jsx("li",{children:" Suporte via whatsapp."}),i.jsx("li",{children:" Comunidade no discord."})]})]}),i.jsxs("div",{className:"versao-pro-pricecard",children:[i.jsx("div",{className:"versao-pro-price",children:"R$ 9,90/mês"}),i.jsx("div",{className:"versao-pro-price-note",children:"Cancelamento a qualquer momento"}),i.jsx("button",{className:"versao-pro-cta",onClick:()=>s("/checkin"),children:"Assinar Pro"})]})]})]})})]})}function BE(){const[s,e]=x.useState(""),[r,a]=x.useState(""),[o,c]=x.useState(""),[d,f]=x.useState(""),[p,g]=x.useState(""),[v,y]=x.useState(!1),[w,b]=x.useState(!1),[S,j]=x.useState(""),[E,k]=x.useState(""),[P,R]=x.useState(""),[$,O]=x.useState(""),[F,U]=x.useState(""),{usuarioLogado:Q,setUsuarioLogado:V}=x.useContext(Ve);function Z(ve){ve.preventDefault(),j("");let pe=!1;if(s.trim()||(k("Nome é obrigatório."),pe=!0),r.replace(/\D/g,"").length<12&&(R("Número de cartão inválido."),pe=!0),!/^\d{2}\/\d{2}$/.test(o))O("Validade inválida. Use MM/AA."),pe=!0;else{const[D,Y]=o.split("/").map(K=>parseInt(K,10));D>=1&&D<=12||(O("Mês inválido."),pe=!0)}if(/^\d{3,4}$/.test(d)||(U("CVC inválido."),pe=!0),pe){j("Revise os campos destacados.");return}y(!0),setTimeout(()=>{y(!1),b(!0);try{const D=JSON.parse(localStorage.getItem("payments")||"[]"),Y={id:Date.now(),user:Q?Q.email||Q.nome:"guest",amount:9.9,currency:"BRL",date:new Date().toISOString(),card:"**** **** **** "+r.replace(/\s+/g,"").slice(-4)};D.push(Y),localStorage.setItem("payments",JSON.stringify(D))}catch{}if(Q&&V){const D={...Q,isPro:!0};V(D),localStorage.setItem("usuario-logado",JSON.stringify(D))}else try{localStorage.setItem("versaoProAtiva","true")}catch{}},1200)}function se(ve){e(ve),E&&ve.trim()&&k("")}function _e(ve){const pe=ve.replace(/\D/g,"").slice(0,19),D=(pe.match(/\d{1,4}/g)||[]).join(" ");a(D),P&&pe.length>=12&&R("")}function Le(ve){const pe=ve.replace(/\D/g,"").slice(0,4);let te=pe;pe.length>=3&&(te=pe.slice(0,2)+"/"+pe.slice(2)),c(te),$&&/^\d{2}\/\d{2}$/.test(te)&&O("")}function Ue(ve){const pe=ve.replace(/\D/g,"").slice(0,4);f(pe),F&&/^\d{3,4}$/.test(pe)&&U("")}return w?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",children:[i.jsx("h2",{className:"page-title",children:"Pagamento concluído"}),i.jsx("p",{className:"checkin-success-text",children:"Obrigado — sua assinatura Pro foi ativada (simulado)."}),i.jsxs("p",{className:"checkin-success-text",children:["Você pode retornar à ",i.jsx("a",{href:"/",children:"página inicial"}),"."]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsx("div",{className:"page-content checkin-section",children:i.jsxs("div",{className:"checkin-container",children:[i.jsx("h2",{className:"page-title",children:"Finalizar Assinatura — Versão Pro"}),i.jsx("p",{className:"checkin-intro",children:"R$ 9,90/mês — cancelamento a qualquer momento."}),i.jsxs("form",{onSubmit:Z,className:"checkin-form",children:[i.jsxs("label",{className:"checkin-label",children:["Nome no cartão",i.jsx("input",{className:"checkin-input checkin-input",value:s,onChange:ve=>se(ve.target.value),placeholder:"Nome completo"}),E&&i.jsx("div",{className:"checkin-error",children:E})]}),i.jsxs("label",{className:"checkin-label",children:["Número do cartão",i.jsx("input",{className:"checkin-input checkin-input",value:r,onChange:ve=>_e(ve.target.value),placeholder:"1234 5678 9012 3456",inputMode:"numeric"}),P&&i.jsx("div",{className:"checkin-error",children:P})]}),i.jsxs("div",{className:"checkin-row",children:[i.jsxs("label",{className:"checkin-label checkin-row-item",children:["Validade",i.jsx("input",{className:"checkin-input checkin-input",value:o,onChange:ve=>Le(ve.target.value),placeholder:"MM/AA",inputMode:"numeric"}),$&&i.jsx("div",{className:"checkin-error",children:$})]}),i.jsxs("label",{className:"checkin-label checkin-row-item-small",children:["CVC",i.jsx("input",{className:"checkin-input checkin-input",value:d,onChange:ve=>Ue(ve.target.value),placeholder:"123",inputMode:"numeric"}),F&&i.jsx("div",{className:"checkin-error",children:F})]})]}),i.jsxs("label",{className:"checkin-label",children:["Cupom (opcional)",i.jsx("input",{className:"checkin-input checkin-input",value:p,onChange:ve=>g(ve.target.value),placeholder:"CUPOM"})]}),S&&i.jsx("div",{className:"checkin-error-global",children:S}),i.jsxs("div",{className:"checkin-actions",children:[i.jsx("button",{type:"submit",disabled:v,className:"checkin-btn-primary",children:v?"Processando...":"Pagar R$ 9,90"}),i.jsx("button",{type:"button",onClick:()=>{window.history.back()},className:"checkin-btn-secondary",children:"Voltar"})]}),i.jsx("div",{className:"checkin-note",children:"Este é um formulário de pagamento simulado. Integre seu provedor de pagamentos (Stripe, PayPal, PagSeguro etc.) conforme necessário."})]})]})})})]})}function zE(){const s=Je(),{usuarioLogado:e}=x.useContext(Ve),r=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsx("div",{className:"page-content versao-pro-assinado-section",children:i.jsxs("div",{className:"versao-pro-assinado-container",children:[i.jsx("h2",{className:"page-title",children:"Assinatura Pro ativada"}),i.jsxs("p",{className:"versao-pro-assinado-intro",children:["Obrigado",e&&e.nome?`, ${e.nome}`:""," — sua assinatura Pro foi ativada com sucesso (simulada)."]}),i.jsxs("div",{className:"versao-pro-assinado-actions",children:[i.jsx("button",{className:"versao-pro-assinado-btn-primary",onClick:()=>s("/"),children:"Ir para a página inicial"}),i.jsx("button",{className:"versao-pro-assinado-btn-secondary",onClick:()=>s("/perfil"),children:"Ver meu perfil"})]}),i.jsxs("div",{className:"versao-pro-assinado-benefits",children:[i.jsx("h3",{className:"versao-pro-assinado-benefits-title",children:"Benefícios ativos"}),r?i.jsxs("ul",{className:"versao-pro-assinado-benefits-list",children:[i.jsx("li",{children:"✓ Acesso ao endereço das lojas que vendem as peças."}),i.jsx("li",{children:"✓ Contato direto via WhatsApp dentro das compatibilidades."}),i.jsx("li",{children:"✓ Suporte prioritário por eMail e WhatsApp."}),i.jsx("li",{children:"✓ Acesso à comunidade exclusiva (Discord)."})]}):i.jsx("p",{className:"versao-pro-assinado-empty",children:"Nenhuma assinatura ativa encontrada. Se você acabou de pagar, recarregue a página ou faça login novamente para sincronizar o status."}),i.jsx("div",{className:"versao-pro-assinado-note",children:"Nota: este é um ambiente de simulação. Para integração com gateway real (Stripe, PayPal etc.), implemente a comunicação do servidor e verificação das transações."})]})]})})})]})}function Ng({requireAuth:s=!1,user:e=null,initialValues:r={},onRequireLogin:a=null,onSubmit:o=null}){const c=Je(),[d,f]=x.useState({nome:"",email:"",mensagem:"",...r}),[p,g]=x.useState(!1),v=x.useRef(null),y=()=>`contato_rascunho_${e&&e.id?e.id:"anon"}`;x.useEffect(()=>{try{const S=localStorage.getItem(y());if(S){const j=JSON.parse(S);j&&typeof j=="object"&&f(E=>({...E,...j}))}}catch(S){console.warn("Failed to restore contato draft",S)}return()=>{v.current&&(clearTimeout(v.current),v.current=null)}},[e]),x.useEffect(()=>{e&&f(S=>({...S,nome:S.nome||e.nome||e.name||"",email:S.email||e.email||""}))},[e]);const w=S=>{const{name:j,value:E}=S.target,k={...d,[j]:E};f(k),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{try{k.nome||k.email||k.mensagem?localStorage.setItem(y(),JSON.stringify(k)):localStorage.removeItem(y())}catch(P){console.warn("Failed to save contato draft",P)}v.current=null},700)};if(s&&!e){const S=()=>{if(typeof a=="function")return a();c("/login")};return i.jsxs("div",{className:"contato-need-login",children:[i.jsx("p",{children:"Faça login para enviar uma mensagem."}),i.jsx("button",{type:"button",className:"contato-login-btn",onClick:S,children:"Entrar"})]})}const b=async S=>{if(S.preventDefault(),!p){g(!0);try{typeof o=="function"?await o(d):alert("Mensagem enviada com sucesso!"),f({nome:"",email:"",mensagem:"",...r});try{localStorage.removeItem(y())}catch{}}catch(j){console.error("Erro ao enviar contato:",j),alert("Falha ao enviar a mensagem. Tente novamente.")}finally{g(!1)}}};return i.jsxs("form",{className:"contato-form-wrapper",onSubmit:b,children:[i.jsx("input",{name:"nome",className:"contato-input",type:"text",placeholder:"Seu nome",value:d.nome,onChange:w,required:!0}),i.jsx("input",{name:"email",className:"contato-input",type:"email",placeholder:"Seu e-mail",value:d.email,onChange:w,required:!0}),i.jsx("textarea",{name:"mensagem",className:"contato-textarea",placeholder:"Mensagem",rows:6,value:d.mensagem,onChange:w,required:!0}),i.jsx("button",{className:"contato-submit",type:"submit",disabled:p,children:p?"Enviando...":"Enviar Mensagem"})]})}function VE(){return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"contato",children:[i.jsx("h2",{className:"page-title",children:"Contato"}),i.jsx("div",{className:"contato-intro",children:i.jsx("p",{children:"Entre em contato conosco pelo formulário abaixo ou pelos canais oficiais."})}),i.jsx(Ng,{}),i.jsxs("div",{className:"contato-info",children:[i.jsx("p",{children:"Telefone: (00) 0000-0000"}),i.jsx("p",{children:"EMail: suporte@pecafacil.com.br"})]})]})})]})}function qE(){const[s,e]=x.useState(""),[r,a]=x.useState(""),[o,c]=x.useState(""),[d,f]=x.useState(""),[p,g]=x.useState(!1),[v,y]=x.useState(!1),[w,b]=x.useState({}),[S,j]=x.useState(""),E=Je(),k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function P(){const $={};return(!s||!s.trim())&&($.nome="Nome é obrigatório."),!r||!r.trim()?$.email="E-mail é obrigatório.":k.test(r)||($.email="E-mail inválido."),o?o.length<6&&($.senha="Senha deve ter pelo menos 6 caracteres."):$.senha="Senha é obrigatória.",o!==d&&($.confirmSenha="As senhas não conferem."),b($),Object.keys($).length===0}function R($){$.preventDefault(),j(""),P()&&(async()=>{try{const O=window.__API_BASE||"",F=await fetch(`${O}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:s.trim(),email:r.trim(),senha:o})});if(F.status===201){j("Cadastro realizado com sucesso!"),window.showToast&&window.showToast("Cadastro realizado com sucesso! Redirecionando para o login...","success",2e3),setTimeout(()=>{try{E("/login",{state:{email:r.trim()}})}catch{}},1500),e(""),a(""),c(""),f(""),b({});return}if(F.status===409){const U=await F.json().catch(()=>({}));b({form:"Usuário já existe. Tente recuperar a senha ou entre em contato."}),console.warn("User exists:",U);return}console.warn("API /api/users returned non-201 status, trying Supabase signup fallback",F.status);try{const U=r.trim(),{data:Q,error:V}=await du.auth.signUp({email:U,password:o},{data:{nome:s.trim()}});if(V)console.warn("Supabase signUp fallback error:",V),b({form:V&&V.message?String(V.message):"Erro ao registrar usuário."});else{j("Cadastro realizado! Verifique seu e-mail para confirmar a conta (se aplicável)."),window.showToast&&window.showToast("Cadastro realizado! Verifique seu e-mail.","success",3e3),setTimeout(()=>{try{E("/login",{state:{email:r.trim()}})}catch{}},1500),e(""),a(""),c(""),f(""),b({});return}}catch(U){console.warn("Supabase signup fallback threw an error:",U&&U.message)}}catch(O){console.warn("Failed to call /api/users, falling back to Supabase/localStorage",O&&O.message)}try{const O="usuarios",F=JSON.parse(localStorage.getItem(O)||"[]");F.push({nome:s.trim(),email:r.trim(),senha:o,criadoEm:new Date().toISOString()}),localStorage.setItem(O,JSON.stringify(F)),j("Cadastro (local) realizado com sucesso!"),window.showToast&&window.showToast("Cadastro realizado (local). Redirecionando para o login...","success",2e3),setTimeout(()=>{try{E("/login",{state:{email:r.trim()}})}catch{}},1500),e(""),a(""),c(""),f(""),b({})}catch(O){b({form:"Erro ao salvar os dados localmente. Verifique o console."}),console.error("Erro salvando usuário localmente:",O)}})()}return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsx("div",{className:"page-content",children:i.jsx("div",{className:"cadastro-card-outer",children:i.jsxs("div",{className:"cadastro-card-grid",children:[i.jsxs("section",{className:"cadastro-card",children:[i.jsx("h1",{className:"cadastro-title",children:"Cadastro"}),i.jsx("p",{className:"cadastro-sub",children:"Crie sua conta para acessar recursos adicionais"}),i.jsxs("form",{className:"cadastro-form",onSubmit:R,noValidate:!0,children:[w.form&&i.jsx("div",{className:"form-error",children:w.form}),i.jsxs("label",{className:"field",children:[i.jsx("span",{className:"label",children:"Nome completo"}),i.jsx("input",{className:`input ${w.nome?"input-error":""}`,type:"text",value:s,onChange:$=>e($.target.value),placeholder:"Seu nome","aria-invalid":!!w.nome,"aria-describedby":w.nome?"err-nome":void 0}),w.nome&&i.jsx("div",{id:"err-nome",className:"error",children:w.nome})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{className:"label",children:"E-mail"}),i.jsx("input",{className:`input ${w.email?"input-error":""}`,type:"email",value:r,onChange:$=>a($.target.value),placeholder:"seu@exemplo.com","aria-invalid":!!w.email,"aria-describedby":w.email?"err-email":void 0}),w.email&&i.jsx("div",{id:"err-email",className:"error",children:w.email})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{className:"label",children:"Senha"}),i.jsxs("div",{className:"password-field",children:[i.jsx("input",{className:`input password-input ${w.senha?"input-error":""}`,type:p?"text":"password",value:o,onChange:$=>c($.target.value),placeholder:"Crie uma senha","aria-invalid":!!w.senha,"aria-describedby":w.senha?"err-senha":void 0}),i.jsx(Ss,{on:p,onClick:()=>g($=>!$),ariaLabel:p?"Ocultar senha":"Mostrar senha"})]}),w.senha&&i.jsx("div",{id:"err-senha",className:"error",children:w.senha})]}),i.jsxs("label",{className:"field field-password",children:[i.jsx("span",{className:"label",children:"Confirmar senha"}),i.jsxs("div",{className:"password-field",children:[i.jsx("input",{className:`input password-input ${w.confirmSenha?"input-error":""}`,type:v?"text":"password",value:d,onChange:$=>f($.target.value),placeholder:"Repita a senha","aria-invalid":!!w.confirmSenha,"aria-describedby":w.confirmSenha?"err-confirm":void 0}),i.jsx(Ss,{on:v,onClick:()=>y($=>!$),ariaLabel:v?"Ocultar senha":"Mostrar senha"})]}),w.confirmSenha&&i.jsx("div",{id:"err-confirm",className:"error",children:w.confirmSenha})]}),i.jsx("button",{className:"submit",type:"submit",children:"Criar conta"}),S&&i.jsx("div",{className:"success",children:S})]})]}),i.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:i.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peças automotivas"})})]})})})})]})}function WE(){return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",id:"parceiros",children:[i.jsx("h2",{className:"page-title",children:"Parceiros"}),i.jsx("div",{className:"parceiros-intro",children:i.jsx("p",{children:"Esta página apresenta informações sobre nossos parceiros e oportunidades de colaboração. Aqui você pode encontrar como se tornar um parceiro, benefícios e contatos."})}),i.jsx("div",{className:"parceiros-cta",children:i.jsx("button",{className:"search-btn parceiros-cta-btn",children:"Entre em contato"})})]})})]})}function HE(){const{usuarioLogado:s}=x.useContext(Ve)||{},e=async r=>{alert("Mensagem enviada com sucesso (usuário logado)!")};return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",id:"contato-logado",children:[i.jsx("h2",{className:"page-title",children:"Contato"}),i.jsx("div",{className:"contatologado-intro",children:i.jsx("p",{children:"Entre em contato conosco pelo formulário abaixo ou pelos canais oficiais."})}),i.jsx(Ng,{requireAuth:!0,user:s,onSubmit:e}),i.jsxs("div",{className:"contato-logado-info",children:[i.jsx("p",{children:"Telefone: (00) 0000-0000"}),i.jsx("p",{children:"EMail: suporte@pecafacil.com.br"})]})]})})]})}const jo=[{id:1,nome:"Motor",icone:"🔴",cor:"vermelho",prioridade:"Alta",descricao:"Indica problema crítico no motor. Pare imediatamente e procure assistência técnica.",causas:["Superaquecimento do motor","Baixa pressão do óleo","Falha no sistema de arrefecimento","Problema na bomba d'água"],acoes:["Pare o veículo em local seguro imediatamente","Desligue o motor","Não tente continuar dirigindo","Chame o guincho ou mecânico"]},{id:2,nome:"Freios",icone:"🛑",cor:"vermelho",prioridade:"Alta",descricao:"Sistema de freios com falha crítica. Risco de acidente grave.",causas:["Pastilhas de freio gastas","Vazamento no sistema hidráulico","Freio de mão acionado","Baixo nível do fluido de freio"],acoes:["Pare em local seguro imediatamente","Verifique o freio de mão","Não dirija o veículo","Procure assistência urgente"]},{id:3,nome:"Bateria",icone:"🔋",cor:"vermelho",prioridade:"Alta",descricao:"Sistema de carga da bateria com problema. Risco de pane elétrica.",causas:["Alternador com defeito","Bateria descarregada ou danificada","Correia do alternador rompida","Problema no regulador de voltagem"],acoes:["Desligue equipamentos não essenciais","Procure oficina rapidamente","Evite parar o motor","Verifique se há ruídos estranhos"]},{id:4,nome:"Óleo do Motor",icone:"🛢️",cor:"amarelo",prioridade:"Média",descricao:"Nível ou pressão do óleo abaixo do recomendado. Pode causar danos ao motor.",causas:["Nível baixo de óleo","Vazamento de óleo","Bomba de óleo com defeito","Filtro de óleo entupido"],acoes:["Verifique o nível de óleo com a vareta","Complete o óleo se necessário","Procure vazamentos embaixo do carro","Agende revisão"]},{id:5,nome:"Injeção Eletrônica",icone:"⚡",cor:"amarelo",prioridade:"Média",descricao:"Problema detectado no sistema de injeção eletrônica do combustível.",causas:["Sensor com defeito","Bico injetor entupido","Problema na centralina","Combustível de má qualidade"],acoes:["Verifique se há perda de potência","Observe o consumo de combustível","Faça diagnóstico eletrônico","Use combustível de qualidade"]},{id:6,nome:"ABS",icone:"🚗",cor:"amarelo",prioridade:"Média",descricao:"Sistema de freios ABS desativado. Freios funcionam, mas sem assistência.",causas:["Sensor de velocidade com defeito","Problema na central ABS","Fusível queimado","Conexão elétrica solta"],acoes:["Dirija com cuidado redobrado","Evite frenagens bruscas","Procure oficina especializada","Teste os freios em velocidade baixa"]},{id:7,nome:"Faróis Ligados",icone:"💡",cor:"verde",prioridade:"Baixa",descricao:"Indica que os faróis estão ligados e funcionando normalmente.",causas:["Faróis acionados pelo motorista","Sensor automático ativado","Sistema funcionando corretamente"],acoes:["Nenhuma ação necessária","Luz informativa normal","Verifique se os faróis estão funcionando"]},{id:8,nome:"Eco Mode",icone:"🌱",cor:"verde",prioridade:"Baixa",descricao:"Modo econômico ativado para reduzir consumo de combustível.",causas:["Modo eco selecionado pelo motorista","Sistema de economia ativo","Dirigindo de forma econômica"],acoes:["Continue dirigindo normalmente","Aproveite a economia de combustível","Mode pode ser desativado se precisar de mais potência"]},{id:9,nome:"Farol Alto",icone:"🔵",cor:"azul",prioridade:"Baixa",descricao:"Farol alto ligado. LembreSe de abaixar para não ofuscar outros motoristas.",causas:["Farol alto acionado pelo motorista","Alavanca puxada ou travada"],acoes:["Abaixe o farol ao cruzar com outros veículos","Verifique se não está incomodando outros motoristas","Use apenas quando necessário"]},{id:10,nome:"Temperatura Baixa",icone:"❄️",cor:"azul",prioridade:"Baixa",descricao:"Motor ainda frio, em processo de aquecimento.",causas:["Motor recém ligado","Temperatura ambiente baixa","Sistema de arrefecimento funcionando"],acoes:["Aguarde o motor aquecer","Evite acelerações bruscas","Dirija suavemente até a temperatura normalizar","Luz deve apagar em alguns minutos"]},{id:11,nome:"Combustível Baixo",icone:"⛽",cor:"laranja",prioridade:"Média",descricao:"Nível de combustível baixo. Abasteça assim que possível.",causas:["Tanque com pouco combustível","Cerca de 50-60km de autonomia restante"],acoes:["Procure um posto de combustível","Evite rodar na reserva por muito tempo","Planeje o abastecimento","Verifique a autonomia no painel"]},{id:12,nome:"Airbag",icone:"🎈",cor:"laranja",prioridade:"Alta",descricao:"Sistema de airbag com problema. Pode não funcionar em caso de acidente.",causas:["Sensor de airbag com defeito","Problema na centralina","Cinto de segurança mal colocado","Sistema desativado"],acoes:["Use sempre o cinto de segurança","Dirija com cuidado extra","Procure oficina especializada urgente","Não ignore esta luz"]}],GE={glossarioAutomotivo:{total:847,soma:3892,media:4.6},manutencaoPreventiva:{total:234,soma:1053,media:4.5},pecasOriginais:{total:156,soma:702,media:4.5}},KE=[{id:"manutencaoPreventiva",titulo:"Manutenção Preventiva",subtitulo:"Cuidados essenciais para seu veículo",descricao:"Guia completo sobre quando e como fazer a manutenção do seu carro.",icone:"🔧",categoria:"Manutenção",rota:"/manutencao-preventiva"},{id:"pecasOriginais",titulo:"Peças Originais vs Compatíveis",subtitulo:"Entenda as diferenças e quando usar cada uma",descricao:"Compare vantagens, desvantagens e quando optar por cada tipo de peça.",icone:"⚙️",categoria:"Peças",rota:"/pecas-originais-vs-compativeis"}],JE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"https://luciofreitas-github-io.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyDJVCHV890AbYmb1BmwAK5Kqm5iQNg69BU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.appspot.com"};class QE{constructor(){this.isLocal=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",this.baseUrl=typeof window<"u"&&window.__API_BASE||JE&&"https://luciofreitas-github-io.onrender.com"||(this.isLocal?"http://localhost:3001":"")}async fetchWithFallback(e,r=null){const a=this.baseUrl+e;try{const o=await fetch(a);if(o.ok)return await o.json()}catch(o){console.warn(`API call failed for ${a}, falling back to local data:`,o)}if(r)return r;try{const o=this.getJsonFallbackPath(e);if(o){const c=await fetch(o);if(c.ok)return await c.json()}}catch(o){console.warn(`JSON fallback failed for ${e}:`,o)}return{data:[],message:"No data available"}}getJsonFallbackPath(e){return{"/api/glossario-dashboard":null,"/api/luzes-painel":"/data/luzes_painel.json","/api/pecas/meta":"/data/parts_db.json"}[e]||null}async getGlossarioDashboard(){return this.fetchWithFallback("/api/glossario-dashboard",jo)}async getLuzesPainel(){try{const e=await fetch("/data/luzes_painel.json"),r=e.ok?await e.json():null;return this.fetchWithFallback("/api/luzes-painel",r)}catch{return this.fetchWithFallback("/api/luzes-painel")}}async getPecasMeta(){try{const e=await fetch("/data/parts_db.json");if(e.ok){const r=await e.json(),a=[...new Set(r.map(v=>v.category).filter(Boolean))].sort(),o=[...new Set(r.map(v=>v.manufacturer).filter(Boolean))].sort(),c=new Set,d=new Set,f=new Set;let p=0;return r.forEach(v=>{v.applications&&Array.isArray(v.applications)&&v.applications.forEach(y=>{if(p++,typeof y=="string"){const w=y.trim().split(/\s+/);if(w.length>=2){const b=w[0],S=w[1];f.add(b),c.add(`${b} ${S}`);const j=y.match(/\b(19|20)\d{2}\b/g);j&&j.forEach(E=>d.add(E))}}else typeof y=="object"&&(y.model&&c.add(y.model),y.year&&d.add(y.year),y.make&&f.add(y.make))})}),{grupos:a,pecas:r,marcas:[...f].sort(),modelos:[...c].sort(),anos:[...d].sort(),fabricantes:o}}}catch(e){console.warn("Error loading parts_db.json:",e)}return this.fetchWithFallback("/api/pecas/meta")}async filtrarPecas(e){if(this.isLocal)try{const r=await fetch("/api/pecas/filtrar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok)return await r.json();console.warn("ApiService: API response not ok:",r.status)}catch(r){console.warn("API filter call failed, using local data:",r)}try{const r=await fetch("/data/parts_db.json");if(r.ok){let o=await r.json();if(e.grupo){const d=o.length;console.log("🔍 Filtrando por grupo:",e.grupo),console.log("📊 Categorias disponíveis:",[...new Set(o.map(f=>f.category))]),o=o.filter(f=>(console.log(`Comparando: "${f.category}" === "${e.grupo}"`,f.category===e.grupo),f.category===e.grupo)),console.log(`✅ Filtrado: ${d} → ${o.length} peças`)}const c=e.categoria||e.peca;if(c){const d=String(c).toLowerCase();o=o.filter(f=>(f.name||"").toLowerCase()===d)}return e.marca&&(o=o.filter(d=>d.applications&&d.applications.some(f=>typeof f=="string"?f.toLowerCase().includes(e.marca.toLowerCase()):!1))),e.modelo&&(o=o.filter(d=>d.applications&&d.applications.some(f=>typeof f=="string"?f.toLowerCase().includes(e.modelo.toLowerCase()):!1))),e.ano&&(o=o.filter(d=>d.applications&&d.applications.some(f=>typeof f=="string"?f.includes(e.ano):!1))),e.fabricante&&(o=o.filter(d=>d.manufacturer&&d.manufacturer.toLowerCase().includes(e.fabricante.toLowerCase()))),{pecas:o,total:o.length}}else console.error("ApiService: Failed to load /data/parts_db.json:",r.status)}catch(r){console.warn("Error filtering local data:",r)}return{pecas:[],total:0}}async getPecaById(e){if(this.isLocal)try{const r=await fetch(`/api/pecas/${e}`);if(r.ok)return await r.json()}catch(r){console.warn(`API call failed for piece ${e}, using local data:`,r)}try{const r=await fetch("/data/parts_detailed.json");if(r.ok){const c=(await r.json()).find(d=>d.id===e||d.id===parseInt(e)||d.id===String(e));if(c)return c}const a=await fetch("/data/parts_db.json");if(a.ok)return(await a.json()).find(d=>d.id===e||d.id===parseInt(e)||d.id===String(e))||{error:"Peça não encontrada"}}catch(r){console.warn("Error finding piece in local data:",r)}return{error:"Peça não encontrada"}}}const $o=new QE,ys=[];function Cg(s,e){x.useEffect(()=>{const r=e?.current;if(!s||!r)return;const a=document.activeElement;ys.push({container:r,prevActive:a});const o=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(",");function c(){return Array.from(r.querySelectorAll(o)).filter(g=>!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length))}function d(){const g=c();g.length?g[0].focus():(r.hasAttribute("tabindex")||r.setAttribute("tabindex","-1"),r.focus())}function f(){const g=ys[ys.length-1];return g&&g.container===r}function p(g){if(!f()||g.key!=="Tab")return;const v=c();if(v.length===0){g.preventDefault();return}const y=v[0],w=v[v.length-1];g.shiftKey?(document.activeElement===y||document.activeElement===r)&&(g.preventDefault(),w.focus()):document.activeElement===w&&(g.preventDefault(),y.focus())}return d(),document.addEventListener("keydown",p),()=>{for(let g=ys.length-1;g>=0;g--)if(ys[g].container===r){const v=ys.splice(g,1)[0];try{v.prevActive&&typeof v.prevActive.focus=="function"&&v.prevActive.focus()}catch{}break}document.removeEventListener("keydown",p)}},[s,e])}function YE({show:s,onClose:e,title:r,titleIcon:a,children:o}){const c=x.useRef(null);if(Cg(s,c),x.useEffect(()=>{if(s){const f=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=f}}},[s]),!s)return null;const d=f=>{f.target.classList.contains("modal-overlay")&&e()};return i.jsx("div",{className:"modal-overlay",onClick:d,children:i.jsxs("div",{ref:c,className:"compat-modal",role:"dialog","aria-modal":"true","aria-label":r||"Modal",children:[i.jsxs("div",{className:"app-compat-header",children:[i.jsxs("div",{className:"app-compat-title-wrapper",children:[a&&i.jsx("img",{src:a,alt:"",className:"app-compat-title-icon"}),i.jsx("span",{className:"app-compat-title",children:r})]}),i.jsx("button",{className:"app-compat-close","aria-label":"Fechar",onClick:e,children:"✕"})]}),i.jsx("div",{className:"app-compat-body",children:o})]})})}function XE({isOpen:s,onClose:e,productId:r}){const[a,o]=x.useState(null),[c,d]=x.useState(!1),[f,p]=x.useState("geral"),[g,v]=x.useState(0);x.useEffect(()=>{s&&r&&w(r)},[s,r]);const y=x.useRef(null);Cg(s,y);const w=async S=>{d(!0);try{const j=await $o.getPecaById(S);if(j.error)throw console.error("ProductDetailModal: Error from API:",j.error),new Error(j.error);o(j),v(0)}catch(j){console.error("Erro ao carregar detalhes da peça:",j),o(null)}finally{d(!1)}},b=S=>{S.target===S.currentTarget&&e()};return s?i.jsx("div",{className:"product-modal-overlay",onClick:b,children:i.jsxs("div",{ref:y,className:"product-modal",role:"dialog","aria-modal":"true","aria-label":a?.nome||"Detalhes da peça",children:[i.jsxs("div",{className:"product-modal-header",children:[i.jsx("h2",{children:a?.nome||"Carregando..."}),i.jsx("button",{className:"product-modal-close",onClick:e,children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:i.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),c?i.jsxs("div",{className:"product-modal-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Carregando detalhes da peça..."})]}):a?i.jsxs("div",{className:"product-modal-content",children:[i.jsxs("div",{className:"product-header-section",children:[i.jsxs("div",{className:"product-images",children:[i.jsx("div",{className:"main-image",children:i.jsx("img",{src:a.imagens?.[g]||"./assets/placeholderPart.jpg",alt:a?.nome||"",onError:S=>{S.target.src="./assets/placeholderPart.jpg"}})}),a.imagens&&a.imagens.length>1&&i.jsx("div",{className:"image-thumbnails",children:a.imagens.map((S,j)=>i.jsx("img",{src:S,alt:a?.nome?`${a.nome} - ${j+1}`:"",className:g===j?"active":"",onClick:()=>v(j),onError:E=>{E.target.src="./assets/placeholderPart.jpg"}},j))})]}),i.jsxs("div",{className:"product-basic-info",children:[a.recall_relacionado&&i.jsxs("div",{className:"recall-alert",children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),i.jsx("path",{d:"M11 7h2v6h-2zM11 15h2v2h-2z",fill:"currentColor"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Recall Relacionado"}),i.jsx("p",{children:a.recall_detalhes?.descricao}),i.jsxs("small",{children:["Ref: ",a.recall_detalhes?.numero]})]})]}),i.jsxs("div",{className:"product-codes",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Fabricante:"})," ",a.fabricante]}),a.codigos?.oem&&i.jsxs("div",{children:[i.jsx("strong",{children:"Códigos OEM:"})," ",a.codigos.oem.join(", ")]})]}),i.jsxs("div",{className:"installation-info",children:[i.jsxs("div",{className:"install-difficulty",children:[i.jsx("span",{className:"label",children:"Dificuldade:"}),i.jsx("span",{className:`difficulty ${a.instalacao?.dificuldade?.toLowerCase()}`,children:a.instalacao?.dificuldade})]}),i.jsxs("div",{className:"install-time",children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2"})]}),a.instalacao?.tempo_estimado_min," min"]})]}),i.jsxs("div",{className:"contact-workshop",children:[i.jsx("p",{children:i.jsx("strong",{children:"💡 Para preços e disponibilidade:"})}),i.jsx("p",{children:"Consulte nossas oficinas parceiras próximas ao seu local"})]})]})]}),i.jsxs("div",{className:"product-tabs",children:[i.jsxs("div",{className:"tab-buttons",children:[i.jsx("button",{className:f==="geral"?"active":"",onClick:()=>p("geral"),children:"Geral"}),i.jsx("button",{className:f==="especificacoes"?"active":"",onClick:()=>p("especificacoes"),children:"Especificações"}),i.jsx("button",{className:f==="compatibilidade"?"active":"",onClick:()=>p("compatibilidade"),children:"Compatibilidade"}),i.jsx("button",{className:f==="instalacao"?"active":"",onClick:()=>p("instalacao"),children:"Instalação"}),i.jsx("button",{className:f==="avaliacoes"?"active":"",onClick:()=>p("avaliacoes"),children:"Avaliações"})]}),i.jsxs("div",{className:"tab-content",children:[f==="geral"&&i.jsxs("div",{className:"tab-panel",children:[i.jsx("h3",{children:"Como Adquirir"}),i.jsxs("div",{className:"workshop-info",children:[i.jsx("div",{children:"🏪 Consulte preços e disponibilidade com nossas oficinas parceiras"}),i.jsx("div",{children:"🛠️ Instalação profissional disponível"}),i.jsx("div",{children:"� Garantia conforme política de cada oficina"})]}),a.pecas_relacionadas&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:"Peças Relacionadas"}),i.jsx("div",{className:"related-parts",children:a.pecas_relacionadas.map((S,j)=>i.jsxs("div",{className:"related-part",children:[i.jsx("strong",{children:S.nome}),i.jsx("span",{children:S.relacao})]},j))})]})]}),f==="especificacoes"&&i.jsxs("div",{className:"tab-panel",children:[i.jsx("h3",{children:"Especificações Técnicas"}),i.jsx("div",{className:"specs-grid",children:a.especificacoes_tecnicas&&Object.entries(a.especificacoes_tecnicas).map(([S,j])=>i.jsxs("div",{className:"spec-item",children:[i.jsxs("span",{className:"spec-label",children:[S.replace(/_/g," "),":"]}),i.jsx("span",{className:"spec-value",children:j})]},S))})]}),f==="compatibilidade"&&i.jsxs("div",{className:"tab-panel",children:[i.jsx("h3",{children:"Aplicações Detalhadas"}),i.jsx("div",{className:"compatibility-table",children:a.aplicacoes_detalhadas?.map((S,j)=>i.jsxs("div",{className:"compatibility-row",children:[i.jsxs("div",{className:"app-main",children:[i.jsxs("strong",{children:[S.marca," ",S.modelo]}),i.jsxs("span",{children:[S.ano_inicio,"-",S.ano_fim]})]}),i.jsxs("div",{className:"app-details",children:[i.jsxs("span",{children:["Motor: ",S.motor]}),S.observacoes&&i.jsx("small",{children:S.observacoes})]})]},j))})]}),f==="instalacao"&&i.jsxs("div",{className:"tab-panel",children:[i.jsx("h3",{children:"Guia de Instalação"}),i.jsxs("div",{className:"install-guide",children:[i.jsxs("div",{className:"install-requirements",children:[i.jsx("div",{children:i.jsx("strong",{children:"Ferramentas necessárias:"})}),i.jsx("ul",{children:a.instalacao?.ferramentas_necessarias?.map((S,j)=>i.jsx("li",{children:S},j))})]}),a.instalacao?.precaucoes&&i.jsxs("div",{className:"install-precautions",children:[i.jsx("div",{children:i.jsx("strong",{children:"⚠️ Precauções:"})}),i.jsx("ul",{children:a.instalacao.precaucoes.map((S,j)=>i.jsx("li",{children:S},j))})]})]})]}),f==="avaliacoes"&&i.jsxs("div",{className:"tab-panel",children:[i.jsx("h3",{children:"Avaliações de Clientes"}),i.jsx("div",{className:"reviews",children:a.avaliacoes?.map((S,j)=>i.jsxs("div",{className:"review-item",children:[i.jsxs("div",{className:"review-header",children:[i.jsx("strong",{children:S.usuario}),i.jsxs("div",{className:"review-rating",children:["★".repeat(S.nota),"☆".repeat(5-S.nota)]}),i.jsx("span",{className:"review-date",children:new Date(S.data).toLocaleDateString("pt-BR")})]}),i.jsx("p",{children:S.texto})]},j))}),a.perguntasFrequentes&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:"Perguntas Frequentes"}),i.jsx("div",{className:"faq",children:a.perguntasFrequentes.map((S,j)=>i.jsxs("div",{className:"faq-item",children:[i.jsxs("strong",{children:["Q: ",S.pergunta]}),i.jsxs("p",{children:["R: ",S.resposta]})]},j))})]})]})]})]})]}):i.jsx("div",{className:"product-modal-error",children:i.jsx("p",{children:"Não foi possível carregar os detalhes da peça."})})]})}):null}function xn({options:s=[],value:e,onChange:r,placeholder:a="",disabled:o=!1}){const[c,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>{function y(w){f.current&&!f.current.contains(w.target)&&d(!1)}return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);function p(y){r(y),d(!1)}const g=s.find(y=>y.value===e)?.label||"",v=s;return i.jsxs("div",{className:`custom-dropdown${o?" disabled":""}`,ref:f,children:[i.jsxs("button",{className:`dropdown-btn${c?" open":""}`,onClick:()=>!o&&d(!c),disabled:o,type:"button",children:[i.jsx("span",{className:"dropdown-label",children:g||a}),i.jsx("span",{className:"dropdown-arrow",children:i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"custom-dropdown-arrow-svg","aria-hidden":"true",children:i.jsx("path",{d:"M4 6 L8 10 L12 6",stroke:"#444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]}),c&&i.jsxs("div",{className:"dropdown-menu",children:[v.length===0&&i.jsx("div",{className:"dropdown-item disabled",children:"Nenhum item"}),v.map((y,w)=>i.jsx("div",{className:`dropdown-item${y.value===e?" selected":""}`,onClick:()=>p(y.value),children:y.label},`${y.value}${w}`))]})]})}const ZE=({size:s="medium",color:e="primary",text:r=""})=>i.jsxs("div",{className:`loading-spinner-container loading-spinner-${s}`,children:[i.jsxs("div",{className:`loading-spinner loading-spinner-${e}`,children:[i.jsx("div",{className:"spinner-ring"}),i.jsx("div",{className:"spinner-ring"}),i.jsx("div",{className:"spinner-ring"})]}),r&&i.jsx("p",{className:"loading-text",children:r})]}),_u="pf_user_cars";async function An(s){if(!s)return[];try{const e=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com",r=await fetch(`${e}/api/users/${encodeURIComponent(s)}/cars`);if(r.ok)return await r.json()}catch(e){console.warn("API getCars failed, falling back to localStorage:",e)}try{return JSON.parse(localStorage.getItem(_u)||"{}")[s]||[]}catch(e){return console.error("Erro ao carregar carros:",e),[]}}async function Ho(s,e){if(!s)return!1;try{const r=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com";if((await fetch(`${r}/api/users/${encodeURIComponent(s)}/cars`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cars:e})})).ok)return!0}catch(r){console.warn("API saveCars failed, falling back to localStorage:",r)}try{const r=JSON.parse(localStorage.getItem(_u)||"{}");return r[s]=e,localStorage.setItem(_u,JSON.stringify(r)),!0}catch(r){return console.error("Erro ao salvar carros:",r),!1}}async function e1(s,e){if(!s||!e)return null;try{const r=await An(s),a={id:Date.now().toString()+Math.random().toString(36).substr(2,9),...e,createdAt:new Date().toISOString()};return r.push(a),await Ho(s,r),a}catch(r){return console.error("Erro ao adicionar carro:",r),null}}async function t1(s,e){if(!s||!e)return!1;try{const r=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com";if((await fetch(`${r}/api/users/${encodeURIComponent(s)}/cars/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)return!0}catch(r){console.warn("API removeCar failed, falling back to localStorage:",r)}try{const a=(await An(s)).filter(o=>o.id!==e);return await Ho(s,a),!0}catch(r){return console.error("Erro ao remover carro:",r),!1}}async function r1(s,e,r){if(!s||!e||!r)return!1;try{const o=(await An(s)).map(c=>c.id===e?{...c,...r,updatedAt:new Date().toISOString()}:c);return await Ho(s,o),!0}catch(a){return console.error("Erro ao atualizar carro:",a),!1}}async function n1(s,e){if(!s||!e)return!1;try{const a=(await An(s)).map(o=>({...o,isDefault:o.id===e}));return await Ho(s,a),!0}catch(r){return console.error("Erro ao definir carro padrão:",r),!1}}function s1({selectedGrupo:s,setSelectedGrupo:e,selectedCategoria:r,setSelectedCategoria:a,selectedMarca:o,setSelectedMarca:c,selectedModelo:d,setSelectedModelo:f,selectedAno:p,setSelectedAno:g,selectedFabricante:v,setSelectedFabricante:y,grupos:w,todasPecas:b,marcas:S,modelos:j,anos:E,fabricantes:k,onSearch:P,onClear:R,loading:$,error:O,warningMarca:F,warningModelo:U,warningAno:Q,warningFabricante:V,emptyFieldsWarning:Z}){const{usuarioLogado:se}=x.useContext(Ve)||{},[_e,Le]=x.useState([]),[Ue,ve]=x.useState("");x.useEffect(()=>{(async()=>{if(se){const D=se.id||se.email,Y=await An(D);Le(Y)}else Le([]),ve("")})()},[se]);const pe=te=>{if(ve(te),!te)return;const D=_e.find(Y=>Y.id===te);D&&(c(D.marca),f(D.modelo),g(String(D.ano)))};return i.jsxs("form",{className:"search-form",onSubmit:P,"aria-label":"Formulário de busca de peças",children:[se&&_e.length>0&&i.jsxs("div",{className:"search-form-car-selector",children:[i.jsx("label",{htmlFor:"carro-selecionado",children:"Buscar para um carro específico (opcional)"}),i.jsx(xn,{options:[{value:"",label:"-- Busca geral (deixar em branco) --"},..._e.map(te=>({value:te.id,label:`${te.marca} ${te.modelo} ${te.ano}${te.isDefault?" ⭐":""}`}))],value:Ue,onChange:pe,placeholder:"Selecione um carro cadastrado"})]}),i.jsxs("div",{className:"search-form-row",children:[i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"grupo",children:"Grupo"}),i.jsx(xn,{options:[{value:"",label:""},...w.map(te=>({value:te,label:te}))],value:s,onChange:e,placeholder:""})]}),i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"categoria",children:"Peça"}),i.jsx(xn,{options:[{value:"",label:""},...b.map(te=>({value:te,label:te}))],value:r,onChange:a,placeholder:""})]})]}),i.jsxs("div",{className:"search-form-row",children:[i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"marca",children:"Marca"}),i.jsx(xn,{options:[{value:"",label:""},...S.map(te=>({value:te,label:te}))],value:o,onChange:c,placeholder:""})]}),i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"modelo",children:"Modelo"}),i.jsx(xn,{options:[{value:"",label:""},...j.map(te=>({value:te,label:te}))],value:d,onChange:f,placeholder:""})]})]}),i.jsxs("div",{className:"search-form-row",children:[i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"ano",children:"Ano"}),i.jsx(xn,{options:[{value:"",label:""},...E.map(te=>({value:te,label:te}))],value:p,onChange:g,placeholder:""})]}),i.jsxs("div",{className:"search-form-field",children:[i.jsx("label",{htmlFor:"fabricante",children:"Fabricante"}),i.jsx(xn,{options:[{value:"",label:""},...k.map(te=>({value:te,label:te}))],value:v,onChange:y,placeholder:""})]})]}),i.jsxs("div",{className:"search-form-actions",children:[i.jsxs("div",{className:"search-form-buttons-row",children:[i.jsxs("div",{className:"search-form-buttons",children:[i.jsx("button",{className:"search-form-btn search-form-btn-primary",type:"submit",disabled:$,children:$?i.jsxs("span",{className:"loading-inline",children:[i.jsx(ZE,{size:"small",color:"primary"}),"Buscando..."]}):"Buscar"}),i.jsx("button",{type:"button",className:"search-form-btn search-form-btn-secondary",onClick:R,children:"Limpar"})]}),i.jsx("div",{className:"search-form-warnings-container",children:Z?i.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",Z]}):F?i.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",F]}):U?i.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",U]}):Q?i.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",Q]}):V?i.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",V]}):null})]}),O&&i.jsx("div",{className:"search-form-error",role:"status","aria-live":"polite",children:O})]})]})}function a1({anchorRef:s,children:e,visible:r}){const a=x.useRef(null),[o,c]=x.useState({top:0,left:0});return x.useEffect(()=>{if(!r)return;function d(){const p=s&&s.current,g=a.current;if(!p||!g)return;const v=p.getBoundingClientRect(),y=g.getBoundingClientRect();let w=v.top-y.height-8,b=v.left+v.width/2-y.width/2;const S=8;b<S&&(b=S),b+y.width>window.innerWidth-S&&(b=window.innerWidth-y.width-S),w<S&&(w=v.bottom+8),c({top:w,left:b})}d(),window.addEventListener("resize",d),window.addEventListener("scroll",d,!0);let f;return typeof window.ResizeObserver<"u"&&(f=new window.ResizeObserver(d),f.observe(document.body)),()=>{window.removeEventListener("resize",d),window.removeEventListener("scroll",d,!0),f&&f.disconnect()}},[r,s]),r?n0.createPortal(i.jsx("div",{ref:a,className:"whatsapp-portal-tooltip-text",role:"status","aria-hidden":!r,style:{position:"fixed",top:o.top,left:o.left},children:e}),document.body):null}function i1({vehicle:s,isPro:e}){const r=`https://api.whatsapp.com/send?text=${encodeURIComponent("Olá, tenho interesse na peça para: "+(s||""))}`,a=x.useRef(null),[o,c]=x.useState(!1),d=()=>c(!0),f=()=>c(!1);return i.jsxs("div",{className:"whatsapp-button-container",children:[i.jsxs("div",{className:"whatsapp-button-wrapper",children:[i.jsx("a",{className:"whatsapp-button",href:r,target:"_blank",rel:"noopener noreferrer","aria-label":`Contato via WhatsApp: ${s||""}`,children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[i.jsx("path",{d:"M20.52 3.48A11.94 11.94 0 0012 0C5.37 0 0 5.37 0 12c0 2.11.55 4.09 1.52 5.83L0 24l6.39-1.65A11.95 11.95 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.24-6.18-3.48-8.52zM12 21.5c-1.2 0-2.38-.26-3.44-.75l-.25-.11-3.79.98.97-3.06-.17-.27A9.5 9.5 0 0112 3.5c5.25 0 9.5 4.25 9.5 9.5S17.25 22.5 12 22.5z"}),i.jsx("path",{d:"M17.06 14.34c-.31-.16-1.83-.9-2.11-1-.28-.11-.48-.16-.68.16s-.78 1-.95 1.19c-.17.19-.34.21-.66.07a6.77 6.77 0 01-2-1.23 7.02 7.02 0 01-1.28-1.58c-.13-.22 0-.34.09-.45.09-.09.2-.21.3-.32.1-.11.13-.19.2-.32.07-.13.04-.24-.02-.35-.07-.11-.68-1.64-.93-2.24-.24-.59-.48-.51-.66-.52l-.56-.01c-.18 0-.47.07-.72.35s-.94.92-.94 2.24.96 2.6 1.09 2.78c.13.19 1.87 2.86 4.53 3.9 2.66 1.04 2.66.69 3.14.65.48-.04 1.83-.74 2.09-1.45.26-.71.26-1.32.18-1.45-.08-.13-.28-.19-.59-.35z",fill:"#fff"})]})}),!e&&i.jsx("div",{className:"whatsapp-button-blur"})]}),!e&&i.jsxs("div",{className:"whatsapp-tooltip",onMouseEnter:d,onMouseLeave:f,children:[i.jsx("div",{className:"whatsapp-tooltip-icon",ref:a,onFocus:d,onBlur:f,tabIndex:0,children:i.jsx("img",{src:"./padlock.png",alt:"Cadeado",className:"whatsapp-padlock"})}),i.jsx(a1,{anchorRef:a,visible:o,children:"Seja Pro, para liberar o contato da oficina"})]})]})}function o1({peca:s,onViewCompatibility:e,onViewDetails:r}){const{usuarioLogado:a}=x.useContext(Ve)||{},o=Je();return i.jsxs("div",{className:"peca-card",children:[i.jsx("h3",{className:"peca-card-title",children:s.name}),i.jsxs("p",{className:"peca-card-info",children:[i.jsx("strong",{children:"Categoria:"})," ",s.category]}),i.jsxs("p",{className:"peca-card-info",children:[i.jsx("strong",{children:"Fabricante:"})," ",s.manufacturer]}),s.specifications&&i.jsxs("div",{className:"peca-card-specs",children:[i.jsx("strong",{children:"Especificações:"}),Object.entries(s.specifications).map(([c,d])=>i.jsxs("div",{className:"peca-card-spec-item",children:[c,": ",d]},c))]}),i.jsxs("div",{className:"peca-card-actions",children:[i.jsxs("div",{className:"button-with-lock",children:[i.jsx("button",{className:`peca-card-compat-btn ${a?"":"btn-blocked"}`,onClick:()=>a&&e(s),disabled:!a,children:"Ver compatibilidade"}),!a&&i.jsxs("div",{className:"lock-icon-wrapper",children:[i.jsx("span",{className:"lock-icon",children:"🔒"}),i.jsx("span",{className:"lock-tooltip",children:"Faça login para ver a compatibilidade completa desta peça"})]})]}),i.jsxs("div",{className:"button-with-lock",children:[i.jsx("button",{className:`peca-card-details-btn ${a?"":"btn-blocked"}`,onClick:()=>a&&r&&r(s.id),disabled:!a,children:"Ver ficha completa"}),!a&&i.jsxs("div",{className:"lock-icon-wrapper",children:[i.jsx("span",{className:"lock-icon",children:"🔒"}),i.jsx("span",{className:"lock-tooltip",children:"Faça login para acessar a ficha técnica completa desta peça"})]})]})]}),!a&&i.jsxs("div",{className:"cta-login-box",children:[i.jsxs("p",{children:["💡 ",i.jsx("strong",{children:"Quer acessar todos os detalhes?"})]}),i.jsx("button",{onClick:()=>o("/login"),className:"cta-login-button",children:"Fazer Login / Cadastrar Grátis"})]})]})}function l1({pecas:s,onViewCompatibility:e,onViewDetails:r}){return!s||s.length===0?i.jsx("div",{className:"pecas-grid-empty",children:i.jsx("p",{children:"Nenhuma peça encontrada para os filtros selecionados."})}):i.jsx("div",{className:"pecas-grid",children:s.map(a=>i.jsx(o1,{peca:a,onViewCompatibility:e,onViewDetails:r},a.id))})}function c1({applications:s,usuarioLogado:e}){const r=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");return i.jsxs("div",{className:"compatibility-grid",children:[i.jsxs("div",{className:"compatibility-grid-header",children:[i.jsx("div",{className:"compatibility-header-vehicle",children:i.jsx("strong",{children:"Carro"})}),i.jsx("div",{className:"compatibility-header-years",children:i.jsx("strong",{children:"Anos"})}),i.jsx("div",{className:"compatibility-header-contact",children:i.jsx("strong",{children:"Contato"})})]}),s.map((a,o)=>{let c=[],d="";return typeof a=="string"?((a.match(/\d{4}(?:-\d{4})?/g)||[]).forEach(p=>{if(p.includes("-")){const[g,v]=p.split("-").map(Number);for(let y=g;y<=v;y++)c.push(String(y))}else c.push(p)}),d=a.replace(/\d{4}(-\d{4})?/g,"").replace(/--/g,"").replace(/\(|\)|,/g,"").replace(/-+/g,"").trim()):typeof a=="object"&&(d=a.vehicle||"",c=a.years||[]),i.jsxs("div",{className:"compatibility-grid-row",children:[i.jsx("div",{className:"compatibility-grid-vehicle",children:i.jsx("div",{className:"compatibility-vehicle-text",children:d||"-"})}),i.jsx("div",{className:"compatibility-grid-years",children:i.jsx("div",{className:"compatibility-years-text",children:c.length?c.join(", "):"-"})}),i.jsx("div",{className:"compatibility-grid-contact",children:i.jsx(i1,{vehicle:d,isPro:r})})]},o)})]})}function u1(){const{usuarioLogado:s}=x.useContext(Ve)||{},[e,r]=x.useState(""),[a,o]=x.useState(""),[c,d]=x.useState(""),[f,p]=x.useState(""),[g,v]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState([]),[j,E]=x.useState([]),[k,P]=x.useState([]),[R,$]=x.useState([]),[O,F]=x.useState([]),[U,Q]=x.useState([]),[V,Z]=x.useState([]),[se,_e]=x.useState(!1),[Le,Ue]=x.useState(""),[ve,pe]=x.useState(""),[te,D]=x.useState(""),[Y,K]=x.useState(""),[I,B]=x.useState(""),[me,fe]=x.useState(""),[Se,we]=x.useState(!1),[Ne,be]=x.useState(""),[Ie,it]=x.useState(null),[Rn,Ms]=x.useState(!1),[On,Ln]=x.useState(null);x.useEffect(()=>{const le=async()=>{try{const G=await $o.getPecasMeta();S(G.grupos||[]),E(G.pecas||[]),P(G.marcas||[]),$(G.modelos||[]),F(G.anos||[]),Q(G.fabricantes||[]),G.pecas&&G.pecas.length>0&&Z(G.pecas)}catch(G){console.warn("Failed to load metadata:",G&&G.message?G.message:G),Ue("Não foi possível carregar os dados iniciais. Tente recarregar a página.")}};le();const ge=()=>le();return window.addEventListener("app-refresh",ge),()=>window.removeEventListener("app-refresh",ge)},[]),x.useEffect(()=>{if(pe(""),D(""),K(""),B(""),(e||a||c||f||g||y)&&fe(""),y&&j.length>0){const ge=j.filter(G=>(!e||G.category===e)&&(!a||G.name===a)&&G.manufacturer===y);c&&ge.length>0&&(ge.some(ce=>!ce.applications||!Array.isArray(ce.applications)?!1:ce.applications.some(xe=>String(xe).toLowerCase().includes(c.toLowerCase())))||pe(`Não há peças do fabricante "${y}" compatíveis com a marca "${c}"`)),f&&ge.length>0&&(ge.some(ce=>!ce.applications||!Array.isArray(ce.applications)?!1:ce.applications.some(xe=>String(xe).toLowerCase().includes(f.toLowerCase())))||D(`Não há peças do fabricante "${y}" compatíveis com o modelo "${f}"`)),g&&ge.length>0&&(ge.some(ce=>!ce.applications||!Array.isArray(ce.applications)?!1:ce.applications.some(xe=>String(xe).toLowerCase().includes(g)))||K(`Não há peças do fabricante "${y}" compatíveis com o ano "${g}"`))}(c||f||g)&&y&&j.filter(G=>{const ce=!e||G.category===e,xe=!a||G.name===a,qe=G.manufacturer===y;return!ce||!xe||!qe||!G.applications||!Array.isArray(G.applications)?!1:G.applications.some(ot=>{const Pt=String(ot).toLowerCase(),bt=!c||Pt.includes(c.toLowerCase()),Bs=!f||Pt.includes(f.toLowerCase()),Dn=!g||Pt.includes(g);return bt&&Bs&&Dn})}).length===0&&!ve&&!te&&!Y&&B("Não há peças que atendam todos os filtros selecionados")},[e,a,y,c,f,g,j]);const Qa=()=>{if(!j||j.length===0)return[];if(!e||e==="")return Array.from(new Set(j.map(ce=>ce.name||"").filter(Boolean)));const le=j.filter(G=>G.category?G.category.toLowerCase().trim()===e.toLowerCase().trim():!1);return Array.from(new Set(le.map(G=>G.name||"").filter(Boolean)))},Ya=()=>{if(!Array.isArray(j))return[];let le=j;return e&&(le=le.filter(ge=>ge&&ge.category===e)),a&&(le=le.filter(ge=>ge&&ge.name===a)),Array.from(new Set(le.map(ge=>ge&&ge.manufacturer).filter(Boolean)))},$s=()=>{if(!Array.isArray(j))return[];let le=j;e&&(le=le.filter(G=>G&&G.category===e)),a&&(le=le.filter(G=>G&&G.name===a)),y&&(le=le.filter(G=>G&&G.manufacturer===y));const ge=new Set;return le.forEach(G=>{G&&G.applications&&Array.isArray(G.applications)&&G.applications.forEach(ce=>{const xe=String(ce).toLowerCase();["ford","chevrolet","volkswagen","fiat","honda","toyota","hyundai","nissan","renault","peugeot","citroën","bmw","mercedes","audi","volvo","mitsubishi","kia","suzuki","jeep","land rover","jaguar"].forEach(ot=>{xe.includes(ot)&&ge.add(ot.charAt(0).toUpperCase()+ot.slice(1))})})}),Array.from(ge)},Xa=()=>{if(!c)return Array.isArray(R)?R:[];if(!Array.isArray(j))return[];let le=j;e&&(le=le.filter(ce=>ce&&ce.category===e)),a&&(le=le.filter(ce=>ce&&ce.name===a)),y&&(le=le.filter(ce=>ce&&ce.manufacturer===y));const ge=new Set,G=c.toLowerCase();return le.forEach(ce=>{ce&&ce.applications&&Array.isArray(ce.applications)&&ce.applications.forEach(xe=>{const qe=String(xe).toLowerCase();if(qe.includes(G)){const ot=qe.split(" "),Pt=ot.findIndex(bt=>bt.includes(G));if(Pt>=0&&Pt<ot.length-1){const bt=ot[Pt+1];bt&&bt.length>1&&ge.add(bt.charAt(0).toUpperCase()+bt.slice(1))}}})}),Array.from(ge)},Fs=()=>{if(!c&&!f)return Array.isArray(O)?O:[];if(!Array.isArray(j))return[];let le=j;e&&(le=le.filter(xe=>xe&&xe.category===e)),a&&(le=le.filter(xe=>xe&&xe.name===a)),y&&(le=le.filter(xe=>xe&&xe.manufacturer===y));const ge=new Set,G=c?.toLowerCase(),ce=f?.toLowerCase();return le.forEach(xe=>{xe&&xe.applications&&Array.isArray(xe.applications)&&xe.applications.forEach(qe=>{const ot=String(qe).toLowerCase(),Pt=!G||ot.includes(G),bt=!ce||ot.includes(ce);if(Pt&&bt){const Bs=/\d{4}(?:-\d{4})?/g;(ot.match(Bs)||[]).forEach(nn=>{if(nn.includes("-")){const[zs,Vs]=nn.split("-").map(Number);for(let sn=zs;sn<=Vs;sn++)ge.add(String(sn))}else ge.add(nn)})}})}),Array.from(ge).sort()},rn=le=>i.jsx("div",{className:"buscarpeca-modal-pecas",children:i.jsx("div",{className:"compat-results-grid",children:i.jsx(l1,{pecas:le,onViewCompatibility:Za,onViewDetails:br})})}),br=le=>{Ln(le),Ms(!0)},Us=()=>{Ms(!1),Ln(null)},Za=le=>{const ge=typeof le=="object"&&le?le:V.find(ce=>ce.id===le);if(be("Compatibilidade"),!ge||!ge.applications){console.debug("[BuscarPeca] no applications for peca",ge),it(i.jsx("div",{children:"Nenhuma aplicação encontrada."})),we(!0);return}const G=i.jsx("div",{className:"buscarpeca-compat-wrapper",children:i.jsx(c1,{applications:ge.applications,usuarioLogado:s})});it(G),we(!0)},ei=async le=>{if(le&&le.preventDefault&&le.preventDefault(),fe(""),!(e||a||c||f||g||y)){fe("Por favor, preencha pelo menos um campo para realizar a busca."),pe(""),D(""),K(""),B("");return}_e(!0),Ue("");const G={grupo:e,categoria:a,marca:c,modelo:f,ano:g,fabricante:y};try{const ce=await $o.filtrarPecas(G);console.log("🔍 Filtros aplicados:",G),console.log("📦 Dados retornados da API:",ce),console.log("📋 Peças encontradas:",ce.pecas?.length||0);const xe=ce.pecas||[];if(Z(xe),xe.length===0){const qe=[];G.marca&&qe.push(`Marca: ${G.marca}`),G.modelo&&qe.push(`Modelo: ${G.modelo}`),G.ano&&qe.push(`Ano: ${G.ano}`),G.grupo&&qe.push(`Grupo: ${G.grupo}`),G.categoria&&qe.push(`Peça: ${G.categoria}`),G.fabricante&&qe.push(`Fabricante: ${G.fabricante}`);const ot=qe.length>0?`Nenhuma peça encontrada para: ${qe.join(", ")}. Tente remover alguns filtros ou buscar por termos mais genéricos.`:"Nenhuma peça encontrada para os filtros selecionados.";Ue(ot)}else be(`Encontradas ${xe.length} peça(s)`),it(rn(xe)),we(!0)}catch(ce){console.error("❌ Erro na busca:",ce),Ue(ce.message||"Erro ao buscar peças")}finally{_e(!1)}},ti=()=>{r(""),o(""),d(""),p(""),v(""),w(""),Z([]),Ue(""),pe(""),D(""),K(""),B(""),fe("")};return i.jsxs(i.Fragment,{children:[s?i.jsx(Ke,{}):i.jsx($t,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content buscarpeca-section",children:[i.jsx("h2",{className:"page-title",children:"Catálogo de Peças"}),i.jsx("div",{className:"buscarpeca-intro",children:i.jsx("p",{children:"Encontre peças automotivas compatíveis com seu veículo. Busque por marca, modelo e ano."})}),i.jsx(s1,{selectedGrupo:e,setSelectedGrupo:r,selectedCategoria:a,setSelectedCategoria:o,selectedMarca:c,setSelectedMarca:d,selectedModelo:f,setSelectedModelo:p,selectedAno:g,setSelectedAno:v,selectedFabricante:y,setSelectedFabricante:w,grupos:b,todasPecas:Qa(),marcas:$s(),modelos:Xa(),anos:Fs(),fabricantes:Ya(),onSearch:ei,onClear:ti,loading:se,error:Le,warningMarca:ve,warningModelo:te,warningAno:Y,warningFabricante:I,emptyFieldsWarning:me})]})}),i.jsx(YE,{show:Se,onClose:()=>we(!1),title:Ne,titleIcon:Ne==="Compatibilidade"?"./check.png":null,children:Ie}),i.jsx(XE,{isOpen:Rn,onClose:Us,productId:On})]})}var d1={};function h1({formData:s={},onChange:e=()=>{},onSave:r=()=>{},onCancel:a=()=>{},showPassword:o=!1,onToggleShowPassword:c=()=>{}}){const{usuarioLogado:d,setUsuarioLogado:f}=x.useContext(Ve),[p,g]=x.useState({nome:"",celular:"",email:"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""}),[v,y]=x.useState(!1),[w,b]=x.useState(!1),[S,j]=x.useState(!1),[E,k]=x.useState({});x.useEffect(()=>{d&&g({nome:d.nome||"",celular:d.celular||"",email:d.email||"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""})},[d]);function P(){const U={};return p.nome.trim()||(U.nome="Nome é obrigatório"),p.email.trim()?/^\S+@\S+\.\S+$/.test(p.email)||(U.email="E-mail inválido"):U.email="E-mail é obrigatório",p.celular.trim()?/^\d{8,}$/.test(p.celular.replace(/\D/g,""))||(U.celular="Celular inválido"):U.celular="Celular é obrigatório",(p.senhaAtual||p.novaSenha||p.confirmNovaSenha)&&(p.senhaAtual||(U.senhaAtual="Senha atual é obrigatória para alterar senha"),p.novaSenha?p.novaSenha.length<6&&(U.novaSenha="Nova senha deve ter pelo menos 6 caracteres"):U.novaSenha="Nova senha é obrigatória",p.novaSenha!==p.confirmNovaSenha&&(U.confirmNovaSenha="Confirmação de senha não confere")),k(U),Object.keys(U).length===0}function R(U){let{name:Q,value:V}=U.target;Q&&Q.includes("-")&&(Q=Q.split("-").map((se,_e)=>_e===0?se:se.charAt(0).toUpperCase()+se.slice(1)).join(""));let Z=V;if(Q==="celular"){const se=V.replace(/\D/g,"");let _e="";se.length>0&&(_e+="("+se.substring(0,2),se.length>=2&&(_e+=") ",_e+=se.substring(2,7)),se.length>7&&(_e+="-"+se.substring(7,11))),Z=_e}g(se=>({...se,[Q]:Z})),E[Q]&&k(se=>({...se,[Q]:""}));try{e({target:{name:Q,value:Z}})}catch{}}async function $(){if(P()){if(p.senhaAtual)try{const U=await fetch(`${d1.REACT_APP_API_BASE||""}/api/auth/verify-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,senha:p.senhaAtual})});if(!U.ok){if(U.status===401){k(V=>({...V,senhaAtual:"Senha atual incorreta"}));return}k(V=>({...V,senhaAtual:"Erro ao verificar senha atual"}));return}const Q=await U.json();if(!Q||!Q.success){k(V=>({...V,senhaAtual:"Senha atual incorreta"}));return}}catch{k(Q=>({...Q,senhaAtual:"Erro ao verificar senha atual"}));return}if(!d){alert("Erro: usuário não está logado");return}try{const U={...d,...p};p.novaSenha&&(U.senha=p.novaSenha),f(U),localStorage.setItem("usuario-logado",JSON.stringify(U));const V=JSON.parse(localStorage.getItem("usuarios")||"[]").map(Z=>Z.id===d.id?U:Z);localStorage.setItem("usuarios",JSON.stringify(V)),g(Z=>({...Z,senhaAtual:"",novaSenha:"",confirmNovaSenha:""})),alert("Dados salvos com sucesso!"),r(U)}catch(U){alert("Erro ao salvar dados: "+U.message)}}}function O(){d&&g({nome:d.nome||"",celular:d.celular||"",email:d.email||"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""}),k({});try{a()}catch{}}function F(){y(!v);try{c()}catch{}}return i.jsxs("div",{className:"login-form-card",children:[i.jsx("div",{children:i.jsx("h2",{className:"login-section-title",children:"Informações Pessoais"})}),i.jsxs("form",{className:"login-form",children:[i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsx("input",{id:"nome",name:"nome",type:"text",value:p.nome,onChange:R,className:`input input-bordered w-full bg-white text-black ${E.nome?"error":""}`,placeholder:"Nome Completo",autoComplete:"name"}),E.nome&&i.jsx("span",{className:"error-message",children:E.nome})]}),i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsx("input",{id:"celular",name:"celular",type:"tel",value:p.celular,onChange:R,className:`input input-bordered w-full bg-white text-black ${E.celular?"error":""}`,placeholder:"Celular",autoComplete:"tel"}),E.celular&&i.jsx("span",{className:"error-message",children:E.celular})]}),i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsx("input",{id:"email",name:"email",type:"email",value:p.email,onChange:R,className:`input input-bordered w-full bg-white text-black ${E.email?"error":""}`,placeholder:"E-mail",autoComplete:"email"}),E.email&&i.jsx("span",{className:"error-message",children:E.email})]}),i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsxs("div",{className:"password-field",children:[i.jsx("input",{id:"senha-atual",name:"senha-atual",type:w?"text":"password",value:p.senhaAtual,onChange:R,className:`form-input password-input ${E.senhaAtual?"error":""}`,placeholder:"Senha atual",autoComplete:"current-password"}),i.jsx(Ss,{on:w,onClick:()=>b(U=>!U),ariaLabel:w?"Ocultar senha":"Mostrar senha"})]}),E.senhaAtual&&i.jsx("span",{className:"error-message",children:E.senhaAtual})]}),i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsxs("div",{className:"password-field",children:[i.jsx("input",{id:"nova-senha",name:"nova-senha",type:v?"text":"password",value:p.novaSenha,onChange:R,className:`form-input password-input ${E.novaSenha?"error":""}`,placeholder:"Nova senha",autoComplete:"new-password"}),i.jsx(Ss,{on:v,onClick:F,ariaLabel:v?"Ocultar senha":"Mostrar senha"})]}),E.novaSenha&&i.jsx("span",{className:"error-message",children:E.novaSenha})]}),i.jsxs("div",{className:"form-control w-full login-form-control",children:[i.jsxs("div",{className:"password-field",children:[i.jsx("input",{id:"confirm-nova-senha",name:"confirm-nova-senha",type:S?"text":"password",value:p.confirmNovaSenha,onChange:R,className:`form-input password-input ${E.confirmNovaSenha?"error":""}`,placeholder:"Confirmar nova senha",autoComplete:"new-password"}),i.jsx(Ss,{on:S,onClick:()=>j(U=>!U),ariaLabel:S?"Ocultar senha":"Mostrar senha"})]}),E.confirmNovaSenha&&i.jsx("span",{className:"error-message",children:E.confirmNovaSenha})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn login-submit",onClick:$,children:"Salvar"}),i.jsx("button",{type:"button",className:"btn btn-cancel",onClick:O,children:"Cancelar"})]})]})]})}function f1(){const{usuarioLogado:s}=x.useContext(Ve);return s?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",id:"perfil",children:[i.jsx("h2",{className:"page-title",children:"Meu Perfil"}),i.jsx(h1,{formData:s})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"menu-page",children:i.jsxs("div",{className:"perfil-error",children:[i.jsx("h2",{className:"page-heading",children:"Acesso Negado"}),i.jsx("p",{children:"Você precisa estar logado para acessar esta página."})]})})]})}const kg={Chevrolet:["Agile","Astra","Blazer","Bolt","Camaro","Captiva","Celta","Classic","Cobalt","Corsa","Cruze","Equinox","Joy","Montana","Meriva","Omega","Onix","Onix Plus","Prisma","S10","Sonic","Spin","Tracker","Trailblazer","Vectra","Zafira"],Fiat:["147","500","Argo","Brava","Cronos","Doblo","Ducato","Fastback","Fiorino","Freemont","Grand Siena","Idea","Linea","Marea","Mobi","Palio","Palio Weekend","Pulse","Punto","Siena","Stilo","Strada","Toro","Tipo","Uno"],Volkswagen:["Amarok","Arteon","Bora","Brasília","Crossfox","Fox","Fusca","Gol","Golf","Jetta","Kombi","Nivus","Novo Gol","Parati","Passat","Polo","Santana","Saveiro","SpaceFox","T-Cross","Taos","Tiguan","Touareg","Up","Virtus","Voyage"],Ford:["Belina","Bronco","Bronco Sport","Corcel","Courier","Del Rey","EcoSport","Edge","Escort","Explorer","F-150","F-250","F-350","Fiesta","Fusion","Ka","Ka+","Maverick","Mondeo","Mustang","Ranger","Territory","Transit"],Renault:["Alaskan","Captur","Clio","Duster","Fluence","Grand Tour","Kangoo","Kardian","Koleos","Kwid","Logan","Master","Megane","Oroch","Sandero","Sandero RS","Scenic","Stepway","Symbol","Twingo","Zoe"],Hyundai:["Accent","Azera","Creta","Elantra","Equus","Galloper","Genesis","HB20","HB20S","HB20X","i30","Ioniq","ix35","Kauai","Kona","Palisade","Santa Fe","Sonata","Tucson","Veloster","Venue"],Toyota:["Bandeirante","Camry","Corolla","Corolla Cross","Etios","Fielder","Hilux","Hilux SW4","Prius","RAV4","SW4","Yaris","Yaris Sedan"],Honda:["Accord","City","Civic","CR-V","Fit","HR-V","WR-V"],Nissan:["Frontier","Kicks","Leaf","Livina","March","Sentra","Tiida","Versa","X-Trail"],Jeep:["Cherokee","Commander","Compass","Grand Cherokee","Renegade","Wrangler"],Peugeot:["106","2008","206","207","208","3008","306","307","308","406","408","5008","504","508","Boxer","Expert","Hoggar","Partner","RCZ"],Citroën:["Aircross","Berlingo","C3","C3 Aircross","C4","C4 Cactus","C4 Lounge","C4 Pallas","C5","C8","Jumper","Picasso","Xantia","Xsara"],Mitsubishi:["ASX","Eclipse Cross","L200","Lancer","Outlander","Pajero"],Kia:["Bongo","Cadenza","Carnival","Cerato","Mohave","Optima","Picanto","Rio","Sorento","Soul","Sportage","Stinger","Stonic"],BMW:["118i","120i","316i","318i","320i","325i","328i","330i","Série 1","Série 2","Série 3","Série 4","Série 5","Série 6","Série 7","X1","X3","X4","X5","X6","Z4"],"Mercedes-Benz":["A 160","A 190","A 200","A 250","C 180","C 200","C 220","C 250","C 300","Classe A","Classe B","Classe C","Classe E","Classe G","Classe S","CLA","CLS","GLA","GLB","GLC","GLE","GLS","Sprinter"],Audi:["A3","A4","A5","A6","A7","A8","Q3","Q5","Q7","Q8","TT"],Volvo:["C30","S40","S60","S80","V40","V60","XC40","XC60","XC90"],"Land Rover":["Defender","Discovery","Discovery Sport","Evoque","Freelander","Range Rover","Range Rover Sport","Range Rover Velar"],Porsche:["911","Boxster","Cayenne","Cayman","Macan","Panamera","Taycan"],JAC:["iEV20","iEV40","J2","J3","J5","J6","T40","T50","T60","T8"],Chery:["Arrizo 5","Arrizo 6","Celer","QQ","Tiggo 2","Tiggo 3","Tiggo 5","Tiggo 7","Tiggo 8"],"Caoa Chery":["Arrizo 5","Arrizo 6","Tiggo 5x","Tiggo 7","Tiggo 8"],BYD:["Dolphin","e2","e5","Song","Tan","Yuan"],GWM:["Haval H6","Poer","Wingle"],RAM:["1500","2500","3500","Rampage"],Dodge:["Challenger","Charger","Dakota","Durango","Journey","Ram"],Subaru:["Forester","Impreza","Legacy","Outback","XV","WRX"],Suzuki:["Grand Vitara","Jimny","SX4","Swift","Vitara"],Mini:["Cooper","Countryman","Paceman"],Jaguar:["E-Pace","F-Pace","F-Type","I-Pace","XE","XF","XJ"],Lexus:["CT","ES","IS","LS","NX","RX","UX"],Lifan:["320","530","620","X60"],Troller:["T4"],Outro:[]},p1=Object.keys(kg).sort(),m1=s=>kg[s]||[];function g1(){const{usuarioLogado:s}=x.useContext(Ve),e=Je(),[r,a]=x.useState([]),[o,c]=x.useState(!1),[d,f]=x.useState(null),[p,g]=x.useState(!1),[v,y]=x.useState(""),[w,b]=x.useState(""),[S,j]=x.useState(""),[E,k]=x.useState([]),[P,R]=x.useState(""),[$,O]=x.useState(""),[F,U]=x.useState(""),[Q,V]=x.useState("");x.useEffect(()=>{if(!s){e("/login");return}Z()},[s,e]),x.useEffect(()=>{if(v&&v!=="Outro"){const D=m1(v);k(D),o||(b(""),j(""))}else k([])},[v,o]);const Z=async()=>{if(s){const D=await An(s.id||s.email);a(D)}},se=()=>{y(""),b(""),j(""),k([]),R(""),O(""),U(""),V(""),c(!1),f(null),g(!1)},_e=D=>{const Y=D.target.value;y(Y),b(""),j("")},Le=D=>{b(D.target.value),D.target.value!=="Outro"&&j("")},Ue=async D=>{D.preventDefault();const Y=w==="Outro"?S:w;if(!v||!Y||!P){window.showToast&&window.showToast("Preencha marca, modelo e ano","error",3e3);return}const K=s.id||s.email,I={marca:v.trim(),modelo:Y.trim(),ano:P.trim(),placa:$.trim().toUpperCase(),cor:F.trim(),observacoes:Q.trim()};o&&d?(await r1(K,d,I),window.showToast&&window.showToast("Carro atualizado com sucesso!","success",3e3)):(await e1(K,I),window.showToast&&window.showToast("Carro cadastrado com sucesso!","success",3e3)),await Z(),se()},ve=D=>{y(D.marca),b(D.modelo),R(D.ano),O(D.placa||""),U(D.cor||""),V(D.observacoes||""),c(!0),f(D.id),g(!0)},pe=async D=>{if(window.confirm("Tem certeza que deseja excluir este carro?")){const Y=s.id||s.email;await t1(Y,D),await Z(),window.showToast&&window.showToast("Carro removido com sucesso!","success",3e3)}},te=async D=>{const Y=s.id||s.email;await n1(Y,D),await Z(),window.showToast&&window.showToast("Carro definido como padrão!","success",2e3)};return s?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",children:[i.jsx("h2",{className:"page-title",children:"Meus Carros"}),i.jsx("div",{className:"meus-carros-intro",children:i.jsx("p",{children:"Cadastre seus veículos para facilitar as buscas por peças, recalls e informações específicas. Você pode marcar um carro como padrão para pesquisas rápidas."})}),!p&&i.jsx("div",{className:"add-car-section",children:i.jsx("button",{className:"btn-add-car",onClick:()=>g(!0),children:"+ Adicionar Carro"})}),p&&i.jsxs("div",{className:"car-form-container",children:[i.jsx("h3",{className:"form-title",children:o?"Editar Carro":"Cadastrar Novo Carro"}),i.jsxs("form",{onSubmit:Ue,className:"car-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"marca",children:"Marca *"}),i.jsxs("select",{id:"marca",value:v,onChange:_e,required:!0,children:[i.jsx("option",{value:"",children:"Selecione a marca"}),p1.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"modelo",children:"Modelo *"}),i.jsxs("select",{id:"modelo",value:w,onChange:Le,disabled:!v,required:!0,children:[i.jsx("option",{value:"",children:"Selecione o modelo"}),E.map(D=>i.jsx("option",{value:D,children:D},D)),i.jsx("option",{value:"Outro",children:"Outro (digitar manualmente)"})]})]})]}),w==="Outro"&&i.jsx("div",{className:"form-row",children:i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"modeloCustom",children:"Digite o modelo *"}),i.jsx("input",{type:"text",id:"modeloCustom",value:S,onChange:D=>j(D.target.value),placeholder:"Ex: Onix",required:!0})]})}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"ano",children:"Ano *"}),i.jsx("input",{type:"text",id:"ano",value:P,onChange:D=>R(D.target.value),placeholder:"Ex: 2020",maxLength:"4",required:!0})]}),i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"placa",children:"Placa"}),i.jsx("input",{type:"text",id:"placa",value:$,onChange:D=>O(D.target.value.toUpperCase()),placeholder:"Ex: ABC-1234",maxLength:"8"})]})]}),i.jsx("div",{className:"form-row",children:i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"cor",children:"Cor"}),i.jsx("input",{type:"text",id:"cor",value:F,onChange:D=>U(D.target.value),placeholder:"Ex: Prata"})]})}),i.jsxs("div",{className:"form-field",children:[i.jsx("label",{htmlFor:"observacoes",children:"Observações"}),i.jsx("textarea",{id:"observacoes",value:Q,onChange:D=>V(D.target.value),placeholder:"Informações adicionais sobre o veículo...",rows:"3"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"submit",className:"btn-submit",children:o?"Salvar Alterações":"Cadastrar Carro"}),i.jsx("button",{type:"button",className:"btn-cancel",onClick:se,children:"Cancelar"})]})]})]}),r.length>0?i.jsxs("div",{className:"cars-list",children:[i.jsxs("h3",{className:"list-title",children:["Carros Cadastrados (",r.length,")"]}),i.jsx("div",{className:"cars-grid",children:r.map(D=>i.jsxs("div",{className:`car-card ${D.isDefault?"car-card-default":""}`,children:[D.isDefault&&i.jsx("div",{className:"default-badge",children:"⭐ Padrão"}),i.jsxs("div",{className:"car-header",children:[i.jsxs("h4",{className:"car-title",children:[D.marca," ",D.modelo]}),i.jsx("span",{className:"car-year",children:D.ano})]}),i.jsxs("div",{className:"car-details",children:[D.placa&&i.jsxs("p",{className:"car-info",children:[i.jsx("strong",{children:"Placa:"})," ",D.placa]}),D.cor&&i.jsxs("p",{className:"car-info",children:[i.jsx("strong",{children:"Cor:"})," ",D.cor]}),D.observacoes&&i.jsxs("p",{className:"car-info",children:[i.jsx("strong",{children:"Obs:"})," ",D.observacoes]})]}),i.jsxs("div",{className:"car-actions",children:[!D.isDefault&&i.jsx("button",{className:"btn-set-default",onClick:()=>te(D.id),title:"Definir como padrão",children:"⭐"}),i.jsx("button",{className:"btn-edit",onClick:()=>ve(D),children:"✏️ Editar"}),i.jsx("button",{className:"btn-delete",onClick:()=>pe(D.id),children:"🗑️ Excluir"})]})]},D.id))})]}):!p&&i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"🚗 Você ainda não cadastrou nenhum carro."}),i.jsx("p",{children:'Clique em "Adicionar Carro" para começar!'})]})]})})]}):null}const Wp=[{recall_id:"FORD-2024-001",marca:"Ford",modelo:"Ka",ano_inicial:2016,ano_final:2018,data_publicacao:"2024-03-15",componente:"Airbag do Condutor",risco:"Alto",descricao:"O inflador do airbag do condutor pode romper durante a ativação, causando projeção de fragmentos metálicos que podem causar ferimentos graves ou fatais aos ocupantes do veículo.",acao_recomendada:"Substituição gratuita do módulo do airbag em concessionária autorizada Ford. O reparo leva aproximadamente 1 hora.",status:"Ativo",fonte_oficial:"Comunicado Ford BR-2024-001",vin_affected:"Veículos fabricados entre janeiro/2016 e dezembro/2018"},{recall_id:"GM-2024-012",marca:"Chevrolet",modelo:"Onix",ano_inicial:2019,ano_final:2021,data_publicacao:"2024-02-20",componente:"Cinto de Segurança",risco:"Médio",descricao:"O mecanismo do cinto de segurança traseiro central pode não travar adequadamente em caso de impacto, reduzindo a eficácia da proteção oferecida.",acao_recomendada:"Inspeção e possível substituição do mecanismo do cinto de segurança traseiro central sem custo para o cliente.",status:"Ativo",fonte_oficial:"Comunicado GM BR-2024-012",vin_affected:"Veículos produzidos entre março/2019 e agosto/2021"},{recall_id:"VW-2023-045",marca:"Volkswagen",modelo:"Gol",ano_inicial:2017,ano_final:2019,data_publicacao:"2023-11-10",componente:"Sistema de Freios",risco:"Alto",descricao:"Falha no servo-freio pode resultar em aumento significativo do esforço necessário para acionamento do pedal de freio, aumentando a distância de frenagem.",acao_recomendada:"Substituição do servo-freio sem custo para o proprietário. Atendimento prioritário devido ao risco de segurança.",status:"Concluído",fonte_oficial:"Comunicado VW BR-2023-045",vin_affected:"Veículos fabricados entre junho/2017 e abril/2019"},{recall_id:"FIAT-2024-008",marca:"Fiat",modelo:"Uno",ano_inicial:2020,ano_final:2022,data_publicacao:"2024-01-25",componente:"Sistema Elétrico",risco:"Médio",descricao:"Possível superaquecimento do chicote elétrico próximo ao motor pode causar mau funcionamento de componentes elétricos ou, em casos extremos, princípio de incêndio.",acao_recomendada:"Inspeção e possível substituição do chicote elétrico. Reparo gratuito em oficinas autorizadas Fiat.",status:"Ativo",fonte_oficial:"Comunicado Fiat BR-2024-008",vin_affected:"Veículos produzidos entre janeiro/2020 e dezembro/2022"},{recall_id:"TOYOTA-2023-067",marca:"Toyota",modelo:"Corolla",ano_inicial:2018,ano_final:2020,data_publicacao:"2023-09-18",componente:"Bomba de Combustível",risco:"Médio",descricao:"A bomba de combustível pode apresentar falha prematura, causando perda de potência do motor ou até mesmo parada completa do veículo durante a condução.",acao_recomendada:"Substituição da bomba de combustível sem custo para o cliente. Agendamento prioritário disponível.",status:"Ativo",fonte_oficial:"Comunicado Toyota BR-2023-067",vin_affected:"Veículos fabricados entre setembro/2018 e março/2020"},{recall_id:"HONDA-2024-003",marca:"Honda",modelo:"Civic",ano_inicial:2021,ano_final:2023,data_publicacao:"2024-04-12",componente:"Software do Motor",risco:"Baixo",descricao:"Atualização de software necessária para corrigir possível falha na calibração do sistema de injeção eletrônica que pode afetar o desempenho do motor.",acao_recomendada:"Atualização gratuita do software do motor em concessionárias autorizadas Honda. Procedimento leva cerca de 30 minutos.",status:"Ativo",fonte_oficial:"Comunicado Honda BR-2024-003",vin_affected:"Todos os veículos do período especificado"}];function v1(){const{usuarioLogado:s}=x.useContext(Ve)||{},[e,r]=x.useState([]),[a,o]=x.useState([]),[c,d]=x.useState(""),[f,p]=x.useState(""),[g,v]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState([]),[j,E]=x.useState("");x.useEffect(()=>{(async()=>{if(s){const F=s.id||s.email,U=await An(F);S(U)}else S([]),E("")})()},[s]);const k=O=>{const F=O.target.value;if(E(F),!F)return;const U=b.find(Q=>Q.id===F);U&&(d(U.marca),p(U.modelo))};x.useEffect(()=>{r(Wp),o(Wp)},[]),x.useEffect(()=>{let O=e;if(c&&(O=O.filter(F=>F.marca.toLowerCase().includes(c.toLowerCase()))),f&&(O=O.filter(F=>F.modelo.toLowerCase().includes(f.toLowerCase()))),g){const F=parseInt(g);O=O.filter(U=>F>=U.anoInicial&&F<=U.anoFinal)}y&&(O=O.filter(F=>F.risco===y)),o(O)},[c,f,g,y,e]);const P=O=>{switch(O){case"Alto":return"risk-high";case"Médio":return"risk-medium";case"Baixo":return"risk-low";default:return"risk-unknown"}},R=O=>O==="Ativo"?"status-active":"status-completed",$=()=>{d(""),p(""),v(""),w("")};return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content recalls-section",children:[i.jsx("h2",{className:"page-title",children:"Recalls por Modelo"}),i.jsx("div",{className:"recalls-intro-wrapper",children:i.jsx("div",{className:"recalls-intro",children:i.jsx("p",{children:"Consulte recalls oficiais por marca, modelo e ano do seu veículo. MantenhaSe informado sobre questões de segurança."})})}),i.jsxs("div",{className:"recalls-search",children:[s&&b.length>0&&i.jsxs("div",{className:"recalls-car-selector",children:[i.jsx("label",{htmlFor:"carro-selecionado",children:"Buscar recalls para um carro específico (opcional)"}),i.jsxs("select",{id:"carro-selecionado",value:j,onChange:k,className:"recalls-input",children:[i.jsx("option",{value:"",children:"-- Busca geral (deixar em branco) --"}),b.map(O=>i.jsxs("option",{value:O.id,children:[O.marca," ",O.modelo," ",O.ano,O.isDefault?" ⭐":""]},O.id))]})]}),i.jsxs("div",{className:"search-row",children:[i.jsxs("div",{className:"search-field",children:[i.jsx("label",{htmlFor:"marca",children:"Marca"}),i.jsx("input",{type:"text",id:"marca",value:c,onChange:O=>d(O.target.value),placeholder:"Ex: Ford, Chevrolet, Volkswagen",className:"recalls-input"})]}),i.jsxs("div",{className:"search-field",children:[i.jsx("label",{htmlFor:"modelo",children:"Modelo"}),i.jsx("input",{type:"text",id:"modelo",value:f,onChange:O=>p(O.target.value),placeholder:"Ex: Ka, Onix, Gol",className:"recalls-input"})]}),i.jsxs("div",{className:"search-field",children:[i.jsx("label",{htmlFor:"ano",children:"Ano"}),i.jsx("input",{type:"number",id:"ano",value:g,onChange:O=>v(O.target.value),placeholder:"Ex: 2020",min:"1990",max:"2025",className:"recalls-input"})]}),i.jsxs("div",{className:"search-field",children:[i.jsx("label",{htmlFor:"risco",children:"Nível de Risco"}),i.jsxs("select",{id:"risco",value:y,onChange:O=>w(O.target.value),className:"recalls-select",children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"Alto",children:"Alto"}),i.jsx("option",{value:"Médio",children:"Médio"}),i.jsx("option",{value:"Baixo",children:"Baixo"})]})]})]}),i.jsx("div",{className:"search-actions",children:i.jsx("button",{onClick:$,className:"recalls-btn recalls-btn-secondary",children:"Limpar Filtros"})})]}),i.jsxs("div",{className:"recalls-results",children:[i.jsx("div",{className:"results-header",children:i.jsxs("h3",{children:[a.length," recall",a.length!==1?"s":""," encontrado",a.length!==1?"s":""]})}),i.jsx("div",{className:"recalls-list",children:a.map(O=>i.jsxs("div",{className:"recall-card",children:[i.jsxs("div",{className:"recall-header",children:[i.jsxs("div",{className:"recall-title",children:[i.jsxs("h4",{children:[O.marca," ",O.modelo]}),i.jsxs("span",{className:"recall-years",children:[O.anoInicial," - ",O.anoFinal]})]}),i.jsxs("div",{className:"recall-badges",children:[i.jsxs("span",{className:`risk-badge ${P(O.risco)}`,children:["Risco ",O.risco]}),i.jsx("span",{className:`status-badge ${R(O.status)}`,children:O.status})]})]}),i.jsxs("div",{className:"recall-info",children:[i.jsxs("div",{className:"recall-component",children:[i.jsx("strong",{children:"Componente:"})," ",O.componente]}),i.jsxs("div",{className:"recall-date",children:[i.jsx("strong",{children:"Data de Publicação:"})," ",new Date(O.dataPublicacao).toLocaleDateString("pt-BR")]})]}),i.jsxs("div",{className:"recall-description",children:[i.jsx("h5",{children:"Descrição do Problema"}),i.jsx("p",{children:O.descricao})]}),i.jsxs("div",{className:"recall-action",children:[i.jsx("h5",{children:"Ação Recomendada"}),i.jsx("p",{children:O.acaoRecomendada})]}),i.jsxs("div",{className:"recall-details",children:[i.jsxs("div",{className:"recall-vin",children:[i.jsx("strong",{children:"Veículos Afetados:"})," ",O.vinAffected]}),i.jsxs("div",{className:"recall-source",children:[i.jsx("strong",{children:"Fonte:"})," ",O.fonteOficial]})]}),i.jsxs("div",{className:"recall-id",children:["ID: ",O.recallId]})]},O.recallId))}),a.length===0&&i.jsxs("div",{className:"no-results",children:[i.jsx("p",{children:"Nenhum recall encontrado para os critérios selecionados."}),i.jsx("p",{children:"Isso pode significar que não há recalls ativos para este veículo ou que os dados ainda não foram atualizados."})]})]}),i.jsx("div",{className:"recalls-footer",children:i.jsxs("div",{className:"important-info",children:[i.jsx("h3",{children:"Informações Importantes"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Gratuito:"})," Todo atendimento de recall é gratuito, mesmo fora da garantia."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Agendamento:"})," Entre em contato com a concessionária autorizada para agendar."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Documentos:"})," Leve o documento do veículo e um documento pessoal com foto."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Prazo:"})," Recalls não têm prazo de validade - podem ser realizados a qualquer momento."]})]})]})})]})})]})}const y1=({guiaId:s,mediaAtual:e,totalVotos:r,votosUsuario:a,onAvaliar:o,somenteLeitura:c=!1})=>{const[d,f]=x.useState(0),p=a[s]!==void 0,g=y=>{!c&&!p&&o(s,y)},v=y=>{const w=y<=(d||e),b=p?y<=a[s]?"#FFAB00":"#d1d5db":w?"#FFAB00":"#d1d5db";return i.jsx("span",{className:`estrela ${!c&&!p?"estrela-interativa":""}`,style:{color:b,fontSize:"1.2rem",cursor:!c&&!p?"pointer":"default"},onClick:()=>g(y),onMouseEnter:()=>!c&&!p&&f(y),onMouseLeave:()=>!c&&!p&&f(0),children:"★"},y)};return i.jsxs("div",{className:"sistema-avaliacao",children:[i.jsx("div",{className:"estrelas-container",children:[1,2,3,4,5].map(v)}),i.jsxs("div",{className:"avaliacao-info",children:[i.jsx("span",{className:"media-nota",children:e.toFixed(1)}),i.jsxs("span",{className:"total-votos",children:["(",r," avaliação",r!==1?"ões":"",")"]})]}),p&&i.jsxs("div",{className:"voto-confirmado",children:["Sua avaliação: ",a[s]," ★"]})]})};function Tg({rating:s=0,totalRatings:e=0,onRate:r=null,readOnly:a=!1,size:o="medium"}){const[c,d]=x.useState(0),[f,p]=x.useState(!1),g=b=>{!a&&r&&(p(!0),r(b),setTimeout(()=>p(!1),300))},v=b=>{a||d(b)},y=()=>{a||d(0)},w=c||s;return i.jsxs("div",{className:`rating-stars-container ${o} ${a?"read-only":"interactive"}`,children:[i.jsx("div",{className:"stars-wrapper",onMouseLeave:y,children:[1,2,3,4,5].map(b=>i.jsx("button",{type:"button",className:`star-button ${b<=w?"filled":"empty"} ${f?"animating":""}`,onClick:()=>g(b),onMouseEnter:()=>v(b),disabled:a,"aria-label":`${b} ${b===1?"estrela":"estrelas"}`,children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},b))}),e>0&&s>0&&i.jsxs("div",{className:"rating-info",children:[i.jsx("span",{className:"rating-average",children:s.toFixed(1)}),i.jsxs("span",{className:"rating-count",children:["(",e," ",e===1?"avaliação":"avaliações",")"]})]}),!a&&e===0&&i.jsx("span",{className:"rating-prompt",children:"Seja o primeiro a avaliar"}),a&&e===0&&i.jsx("span",{className:"rating-prompt",children:"Sem avaliações ainda"})]})}const Pg=()=>{const[s,e]=x.useState(GE),[r,a]=x.useState({});return x.useEffect(()=>{const c=JSON.parse(localStorage.getItem("votosGuias")||"{}"),d=JSON.parse(localStorage.getItem("avaliacoesGuias")||"{}");a(c),e(f=>({...f,...d}))},[]),{avaliacoes:s,votosUsuario:r,avaliarGuia:(c,d)=>{if(r[c]){alert("Você já avaliou este guia!");return}e(p=>{const g=p[c]||{total:0,soma:0},v=g.total+1,y=g.soma+d,w=y/v,b={...p,[c]:{total:v,soma:y,media:Number(w.toFixed(1))}};return localStorage.setItem("avaliacoesGuias",JSON.stringify(b)),b});const f={...r,[c]:d};a(f),localStorage.setItem("votosGuias",JSON.stringify(f))}}},Hp="user_custom_guias",Gp=7,w1=3;class _1{constructor(){this.guias=[]}async loadGuias(){try{const e=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com",r=`${e}/api/guias`;console.debug("[guiasService] loadGuias: baseUrl=",e),console.debug("[guiasService] loadGuias: attempting fetch",r);const a=await fetch(r);if(console.debug("[guiasService] loadGuias: response status",a.status),a.ok)return this.guias=await a.json(),console.debug("[guiasService] loadGuias: received",this.guias&&this.guias.length,"items",this.guias.map(o=>o.id).slice(0,10)),this.guias;{let o="";try{o=await a.text()}catch{o="<failed to read response text>"}console.warn("[guiasService] loadGuias: non-ok response",a.status,a.statusText,o)}}catch(e){console.warn("API loadGuias failed, falling back to localStorage:",e)}try{const e=localStorage.getItem(Hp);return this.guias=e?JSON.parse(e):[],this.guias}catch(e){return console.error("Erro ao carregar guias:",e),[]}}saveGuias(){try{localStorage.setItem(Hp,JSON.stringify(this.guias))}catch(e){console.error("Erro ao salvar guias:",e)}}async createGuia(e,r){const a={id:`guia_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,autorEmail:r,titulo:e.titulo,descricao:e.descricao,categoria:e.categoria,conteudo:e.conteudo,imagem:e.imagem||null,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),ratings:[],status:"ativo",views:0};try{const c=`${typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com"}/api/guias`;console.debug("[guiasService] createGuia: POST",c,a);const d=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(console.debug("[guiasService] createGuia: response status",d.status),d.ok){const f=await d.json();return console.debug("[guiasService] createGuia: created",f),await this.loadGuias(),a}else console.warn("[guiasService] createGuia: non-ok response",d.status,d.statusText)}catch(o){console.warn("API createGuia failed, falling back to localStorage:",o)}return this.guias.push(a),this.saveGuias(),a}async updateGuia(e,r,a){const o=this.guias.findIndex(f=>f.id===e);if(o===-1)throw new Error("Guia não encontrado");const c=this.guias[o];if(c.autorEmail!==a)throw new Error("Apenas o autor pode editar este guia");const d={...c,titulo:r.titulo||c.titulo,descricao:r.descricao||c.descricao,categoria:r.categoria||c.categoria,conteudo:r.conteudo||c.conteudo,imagem:r.imagem!==void 0?r.imagem:c.imagem,atualizadoEm:new Date().toISOString(),status:"ativo"};try{const f=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com";if((await fetch(`${f}/api/guias/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)return await this.loadGuias(),d}catch(f){console.warn("API updateGuia failed, falling back to localStorage:",f)}return this.guias[o]=d,this.saveGuias(),this.guias[o]}async deleteGuia(e,r){const a=this.guias.find(o=>o.id===e);if(!a)throw new Error("Guia não encontrado");if(a.autorEmail!==r)throw new Error("Apenas o autor pode deletar este guia");try{const o=typeof window<"u"&&window.__API_BASE||"https://luciofreitas-github-io.onrender.com";if((await fetch(`${o}/api/guias/${e}`,{method:"DELETE"})).ok)return await this.loadGuias(),!0}catch(o){console.warn("API deleteGuia failed, falling back to localStorage:",o)}return this.guias=this.guias.filter(o=>o.id!==e),this.saveGuias(),!0}addRating(e,r,a){const o=this.guias.findIndex(d=>d.id===e);if(o===-1)throw new Error("Guia não encontrado");const c=this.guias[o];return c.ratings=c.ratings.filter(d=>d.userEmail!==r),c.ratings.push({userEmail:r,rating:a,timestamp:new Date().toISOString()}),this.checkAndUpdateStatus(o),this.saveGuias(),this.guias[o]}calculateAverageRating(e){return!e.ratings||e.ratings.length===0?0:e.ratings.reduce((a,o)=>a+o.rating,0)/e.ratings.length}isWithinEvaluationPeriod(e){const r=new Date(e.criadoEm);return(new Date-r)/(1e3*60*60*24)<=Gp}checkAndUpdateStatus(e){const r=this.guias[e];if(this.isWithinEvaluationPeriod(r)){const a=this.calculateAverageRating(r);a!==null&&a<w1&&(this.guias[e].status="oculto")}}async getVisibleGuias(e=null){return await this.loadGuias(),this.guias.filter(r=>e&&r.autorEmail===e?!0:r.status==="ativo")}async getGuiaById(e){return await this.loadGuias(),this.guias.find(r=>r.id===e)}getGuiasByAutor(e){return this.guias.filter(r=>r.autorEmail===e)}incrementViews(e){const r=this.guias.findIndex(a=>a.id===e);r!==-1&&(this.guias[r].views=(this.guias[r].views||0)+1,this.saveGuias())}getGuiaStats(e){const r=this.calculateAverageRating(e),a=this.isWithinEvaluationPeriod(e),o=a?Math.ceil(Gp-(new Date-new Date(e.criadoEm))/(1e3*60*60*24)):0;return{averageRating:r,totalRatings:e.ratings?e.ratings.length:0,views:e.views||0,isInEvaluationPeriod:a,evaluationDaysRemaining:o,status:e.status}}}const Kt=new _1;function x1(){const s=Je(),{usuarioLogado:e}=x.useContext(Ve)||{},{avaliacoes:r,votosUsuario:a,avaliarGuia:o}=Pg(),[c,d]=x.useState([]),f=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");x.useEffect(()=>{let w=!0;return(async()=>{try{const b=await Kt.getVisibleGuias(e?.email);w&&d(b||[])}catch(b){console.error("Erro ao carregar guias visíveis:",b),w&&d([])}})(),()=>{w=!1}},[e]);const g=[{id:"glossario-automotivo",titulo:"Luzes do Painel",subtitulo:"Entenda os avisos do seu veículo",descricao:"Aprenda sobre as luzes de aviso do painel e o que fazer quando elas acendem.",icone:"⚠️",categoria:"Diagnóstico",rota:"/luzes-do-painel"},...KE],v=(w,b)=>{if(!e?.email){alert("Faça login para avaliar guias");return}Kt.addRating(w,e.email,b),(async()=>{try{const S=await Kt.getVisibleGuias(e?.email);d(S||[])}catch(S){console.error("Erro ao recarregar guias após avaliação:",S)}})()},y=w=>{Kt.incrementViews(w),s(`/guia/${w}`)};return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",children:[i.jsx("h2",{className:"page-title",children:"Guias"}),i.jsx("div",{className:"guias-intro-wrapper",children:i.jsx("div",{className:"guias-intro",children:i.jsx("p",{children:"Encontre guias completos sobre manutenção, diagnóstico, peças e tudo relacionado ao seu veículo."})})}),!f&&i.jsxs("div",{className:"guias-pro-notice",children:[i.jsx("div",{className:"pro-notice-icon",children:"⭐"}),i.jsxs("div",{className:"pro-notice-content",children:[i.jsx("h3",{children:"Crie seus próprios guias!"}),i.jsxs("p",{children:["Assinantes ",i.jsx("strong",{children:"Pro"})," podem ",i.jsx("span",{className:"highlight-orange",children:"criar"})," e ",i.jsx("span",{className:"highlight-orange",children:"compartilhar"})," guias customizados com a comunidade.",i.jsx("a",{className:"btn-seja-pro-inline",href:"#/versao-pro",children:"Versão Pro →"})]})]})]}),f&&i.jsx("div",{className:"criar-guia-section",children:i.jsx("button",{className:"btn-criar-guia",onClick:()=>s("/criar-guia"),children:"✏️ Criar Novo Guia"})}),i.jsx("h3",{className:"section-title",children:"📖 Guias Oficiais"}),i.jsx("div",{className:"guias-grid",children:g.map(w=>i.jsxs("div",{className:"guia-card",children:[i.jsxs("div",{className:"guia-header",children:[i.jsx("div",{className:"guia-icone",children:w.icone}),i.jsx("div",{className:"guia-categoria",children:w.categoria})]}),i.jsxs("div",{className:"guia-content",children:[i.jsx("h3",{className:"guia-titulo",children:w.titulo}),i.jsx("p",{className:"guia-subtitulo",children:w.subtitulo}),i.jsx("p",{className:"guia-descricao",children:w.descricao}),i.jsx("div",{className:"guia-avaliacao",children:i.jsx(y1,{guiaId:w.id,mediaAtual:r[w.id]?.media||0,totalVotos:r[w.id]?.total||0,votosUsuario:a,onAvaliar:o})})]}),i.jsx("div",{className:"guia-footer",children:i.jsx("span",{className:"guia-cta",onClick:()=>s(w.rota),children:"Ver guia completo →"})})]},w.id))}),i.jsx("h3",{className:"section-title",children:"� Guias da Comunidade"}),c.length>0?i.jsx("div",{className:"guias-grid",children:c.map(w=>{const b=e?.email===w.autorEmail,S=Kt.calculateAverageRating(w),j=w.status==="oculto";return i.jsxs("div",{className:`guia-card ${j?"guia-oculto":""} ${!f&&!b?"locked":""}`,children:[i.jsxs("div",{className:"guia-header",children:[i.jsx("div",{className:"guia-icone",children:"📄"}),i.jsx("div",{className:"guia-categoria",children:w.categoria}),b&&i.jsx("div",{className:"guia-author-badge",title:"Você é o autor deste guia",children:"👤 Seu Guia"})]}),w.imagem&&i.jsx("div",{className:"guia-imagem",children:i.jsx("img",{src:w.imagem,alt:w.titulo})}),i.jsxs("div",{className:"guia-content",children:[i.jsx("h3",{className:"guia-titulo",children:w.titulo}),i.jsx("p",{className:"guia-descricao",children:w.descricao}),j&&b&&i.jsx("div",{className:"guia-status-warning",children:"⚠️ Este guia está oculto devido a avaliações baixas. Edite-o para melhorar!"}),i.jsxs("div",{className:"guia-avaliacao",children:[i.jsx(Tg,{rating:S,totalRatings:(w.ratings||[]).length,onRate:E=>v(w.id,E),readOnly:b||!e,size:"medium"}),w.views>0&&i.jsxs("span",{className:"guia-views",children:["👁️ ",w.views," visualizações"]})]})]}),i.jsxs("div",{className:"guia-footer",children:[b&&i.jsx("button",{className:"btn-editar-guia",onClick:()=>s(`/criar-guia/${w.id}`),children:"✏️ Editar"}),!f&&!b?i.jsx("div",{className:"guia-locked-wrapper",children:i.jsx("button",{className:"btn-locked",onClick:()=>s("/versao-pro"),children:"🔒 Somente Pro — Assine para abrir"})}):i.jsx("span",{className:"guia-cta",onClick:()=>y(w.id),children:"Ver guia completo →"})]})]},w.id)})}):i.jsxs("p",{className:"guias-empty-message",children:["Nenhum guia da comunidade criado ainda. ",f?"Seja o primeiro!":"Seja Pro para criar o primeiro guia!"]}),i.jsx("div",{className:"guias-footer",children:i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{children:"💡 Dica"}),i.jsx("p",{children:"Nossos guias são atualizados regularmente com as melhores práticas e informações mais recentes do setor automotivo. Marque esta página nos favoritos para consultar sempre que precisar!"})]})})]})})]})}function Kp(){const{usuarioLogado:s}=x.useContext(Ve)||{},e=Je(),{guiaId:r}=sm(),a=!!r,[o,c]=x.useState({titulo:"",descricao:"",categoria:"",conteudo:"",imagem:""}),[d,f]=x.useState({}),[p,g]=x.useState(!1),[v,y]=x.useState(""),w=!!(s&&s.isPro||localStorage.getItem("versaoProAtiva")==="true");x.useEffect(()=>{if(!w){e("/seja-pro");return}if(a&&r){const k=Kt.getGuiaById(r);if(!k){alert("Guia não encontrado"),e("/guias");return}if(k.autorEmail!==s?.email){alert("Você não tem permissão para editar este guia"),e("/guias");return}c({titulo:k.titulo,descricao:k.descricao,categoria:k.categoria,conteudo:k.conteudo,imagem:k.imagem||""})}},[w,a,r,s,e]);const b=k=>{const{name:P,value:R}=k.target;c($=>({...$,[P]:R})),d[P]&&f($=>({...$,[P]:""}))},S=()=>{const k={};return o.titulo.trim()?o.titulo.length<10&&(k.titulo="Título deve ter pelo menos 10 caracteres"):k.titulo="Título é obrigatório",o.descricao.trim()?o.descricao.length<20&&(k.descricao="Descrição deve ter pelo menos 20 caracteres"):k.descricao="Descrição é obrigatória",o.categoria||(k.categoria="Selecione uma categoria"),o.conteudo.trim()?o.conteudo.length<100&&(k.conteudo="Conteúdo deve ter pelo menos 100 caracteres"):k.conteudo="Conteúdo é obrigatório",f(k),Object.keys(k).length===0},j=async k=>{if(k.preventDefault(),!!S()){g(!0),y("");try{a?(Kt.updateGuia(r,o,s.email),y("Guia atualizado com sucesso!")):(Kt.createGuia(o,s.email),y("Guia criado com sucesso!")),setTimeout(()=>{e("/guias")},2e3)}catch(P){alert("Erro ao salvar guia: "+P.message)}finally{g(!1)}}},E=["Manutenção Preventiva","Instalação de Peças","Diagnóstico de Problemas","Elétrica Automotiva","Mecânica Geral","Suspensão e Freios","Motor e Transmissão","Ar Condicionado","Estética Automotiva","Outros"];return w?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"criar-guia",children:[i.jsx("h2",{className:"page-title",children:a?"✏️ Editar Guia":"📝 Criar Novo Guia"}),i.jsxs("div",{className:"criar-guia-intro",children:[i.jsx("p",{children:a?"Edite seu guia e compartilhe seu conhecimento atualizado com a comunidade.":"Compartilhe seu conhecimento criando um guia personalizado para a comunidade."}),i.jsx("p",{className:"pro-badge",children:"⭐ Recurso exclusivo para assinantes Pro"})]}),v&&i.jsxs("div",{className:"success-message",children:["✅ ",v]}),i.jsxs("form",{className:"guia-form",onSubmit:j,children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"titulo",className:"form-label",children:["Título do Guia ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"titulo",name:"titulo",className:`form-input ${d.titulo?"error":""}`,value:o.titulo,onChange:b,placeholder:"Ex: Como trocar o óleo do motor passo a passo",maxLength:100}),d.titulo&&i.jsx("span",{className:"error-message",children:d.titulo}),i.jsxs("span",{className:"char-count",children:[o.titulo.length,"/100"]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"descricao",className:"form-label",children:["Descrição Breve ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("textarea",{id:"descricao",name:"descricao",className:`form-textarea ${d.descricao?"error":""}`,value:o.descricao,onChange:b,placeholder:"Breve resumo do que o guia aborda (20-200 caracteres)",rows:3,maxLength:200}),d.descricao&&i.jsx("span",{className:"error-message",children:d.descricao}),i.jsxs("span",{className:"char-count",children:[o.descricao.length,"/200"]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"categoria",className:"form-label",children:["Categoria ",i.jsx("span",{className:"required",children:"*"})]}),i.jsxs("select",{id:"categoria",name:"categoria",className:`form-select ${d.categoria?"error":""}`,value:o.categoria,onChange:b,children:[i.jsx("option",{value:"",children:"Selecione uma categoria"}),E.map(k=>i.jsx("option",{value:k,children:k},k))]}),d.categoria&&i.jsx("span",{className:"error-message",children:d.categoria})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"imagem",className:"form-label",children:"URL da Imagem (opcional)"}),i.jsx("input",{type:"url",id:"imagem",name:"imagem",className:"form-input",value:o.imagem,onChange:b,placeholder:"https://exemplo.com/imagem.jpg"}),i.jsx("span",{className:"help-text",children:"Cole o link de uma imagem ilustrativa para seu guia"})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"conteudo",className:"form-label",children:["Conteúdo do Guia ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("textarea",{id:"conteudo",name:"conteudo",className:`form-textarea large ${d.conteudo?"error":""}`,value:o.conteudo,onChange:b,placeholder:"Escreva aqui o conteúdo detalhado do seu guia. Seja claro e objetivo. Você pode usar quebras de linha para organizar melhor o conteúdo.",rows:15,maxLength:5e3}),d.conteudo&&i.jsx("span",{className:"error-message",children:d.conteudo}),i.jsxs("span",{className:"char-count",children:[o.conteudo.length,"/5000"]})]}),i.jsxs("div",{className:"form-tips",children:[i.jsx("h3",{children:"💡 Dicas para um bom guia:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Use uma linguagem clara e objetiva"}),i.jsx("li",{children:"Organize o conteúdo em passos numerados quando apropriado"}),i.jsx("li",{children:"Inclua avisos de segurança quando necessário"}),i.jsx("li",{children:"Mencione ferramentas e materiais necessários"}),i.jsx("li",{children:"Seja específico sobre modelos e anos de veículos quando relevante"})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>e("/guias"),disabled:p,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn-submit",disabled:p,children:p?a?"Salvando...":"Criando...":a?"Salvar Alterações":"Criar Guia"})]})]}),!a&&i.jsxs("div",{className:"evaluation-notice",children:[i.jsx("h3",{children:"📊 Sobre o sistema de avaliação"}),i.jsxs("p",{children:["Seu guia ficará disponível para avaliação da comunidade por ",i.jsx("strong",{children:"7 dias"}),". Se a média de avaliações for inferior a ",i.jsx("strong",{children:"3 estrelas"}),", o guia ficará oculto para outros usuários, permitindo que você o edite e melhore antes de republicá-lo."]})]})]})})]}):null}function S1(){const{guiaId:s}=sm(),e=Je(),{usuarioLogado:r}=x.useContext(Ve)||{},[a,o]=x.useState(null),[c,d]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(null);x.useEffect(()=>{let E=!0,k=null;return(async()=>{try{v(null),d(!0),k=setTimeout(()=>{E&&(v("Tempo de carregamento excedido. Verifique sua conexão e tente novamente."),d(!1))},8e3);const R=await Kt.getGuiaById(s);if(!E)return;if(clearTimeout(k),!R){p(!0),d(!1);return}if(R.status==="oculto"&&r?.email!==R.autorEmail){p(!0),d(!1);return}R.descricao=R.descricao||"",R.conteudo=R.conteudo||"",R.ratings=R.ratings||[],R.views=R.views||0,o(R),d(!1)}catch(R){console.error("Erro ao carregar guia:",R),E&&(v("Erro ao carregar o guia. Veja o console para detalhes."),d(!1))}})(),()=>{E=!1,k&&clearTimeout(k)}},[s,r]);const y=()=>{p(!1),v(null),d(!0),window.location.reload()},w=E=>{if(!r?.email){alert("Faça login para avaliar este guia"),e("/login");return}if(r.email===a.autorEmail){alert("Você não pode avaliar seu próprio guia");return}try{const k=Kt.addRating(s,r.email,E);o(k)}catch(k){console.error("Erro ao avaliar guia:",k)}};if(c)return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsx("div",{className:"page-content",children:i.jsx("div",{className:"loading-message",children:"Carregando guia..."})})})]});if(g)return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsx("div",{className:"page-content",children:i.jsxs("div",{className:"not-found-message",children:[i.jsx("h2",{children:"⚠️ Problema ao carregar"}),i.jsx("p",{children:g}),i.jsx("div",{style:{marginTop:"1rem"},children:i.jsx("button",{className:"btn-voltar",onClick:y,children:"Tentar novamente"})})]})})})]});if(f)return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsx("div",{className:"page-content",children:i.jsxs("div",{className:"not-found-message",children:[i.jsx("h2",{children:"❌ Guia não encontrado"}),i.jsx("p",{children:"O guia que você está procurando não existe ou não está mais disponível."}),i.jsx("button",{className:"btn-voltar",onClick:()=>e("/guias"),children:"← Voltar para Guias"})]})})})]});const b=r?.email===a.autorEmail,S=!!(r&&r.isPro||localStorage.getItem("versaoProAtiva")==="true"),j=Kt.calculateAverageRating(a);return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content visualizar-guia",children:[i.jsx(Bo,{to:"/guias",className:"voltar-link",children:"← Voltar para Guias"}),i.jsxs("div",{className:"guia-header-full",children:[i.jsxs("div",{className:"guia-meta",children:[i.jsx("span",{className:"guia-categoria-badge",children:a.categoria}),b&&i.jsx("span",{className:"guia-author-badge",children:"👤 Seu Guia"})]}),i.jsx("h1",{className:"guia-titulo-full",children:a.titulo}),i.jsxs("div",{className:"guia-info",children:[i.jsxs("span",{className:"guia-autor",children:["Por: ",a.autorNome||"Anônimo"]}),i.jsxs("span",{className:"guia-data",children:["Criado em: ",new Date(a.criadoEm).toLocaleDateString("pt-BR")]}),a.views>0&&i.jsxs("span",{className:"guia-views",children:["👁️ ",a.views," visualizações"]})]}),i.jsx("div",{className:"guia-rating-section",children:i.jsx(Tg,{rating:j,totalRatings:a.ratings&&a.ratings.length||0,onRate:w,readOnly:b||!r,size:"large"})})]}),a.imagem&&i.jsx("div",{className:"guia-imagem-full",children:i.jsx("img",{src:a.imagem,alt:a.titulo})}),i.jsxs("div",{className:"guia-descricao-section",children:[i.jsx("h3",{children:"📝 Descrição"}),i.jsx("p",{className:"guia-descricao-texto",children:!S&&!b?a.descricao?a.descricao.split(`
`).slice(0,2).join(`
`)+"...":"":a.descricao})]}),i.jsxs("div",{className:"guia-conteudo-section",children:[i.jsx("h3",{children:"📖 Conteúdo"}),i.jsx("div",{className:"guia-conteudo-texto",children:(()=>{const E=a.conteudo.split(`
`).filter(Boolean);return!S&&!b?E.slice(0,3).map((k,P)=>i.jsx("p",{children:k},P)).concat(i.jsx("div",{className:"visual-lock-cta",children:i.jsx("button",{className:"btn-locked",onClick:()=>e("/versao-pro"),children:"🔒 Somente Pro — Assine para ler o conteúdo completo"})},"locked-cta")):E.map((k,P)=>k.trim()&&i.jsx("p",{children:k},P))})()})]}),b&&i.jsx("div",{className:"guia-actions",children:i.jsx("button",{className:"btn-editar-guia-full",onClick:()=>e(`/criar-guia/${s}`),children:"✏️ Editar este guia"})}),a.status==="oculto"&&b&&i.jsxs("div",{className:"guia-warning-oculto",children:[i.jsx("h3",{children:"⚠️ Guia Oculto"}),i.jsx("p",{children:"Este guia está oculto devido a avaliações baixas (média abaixo de 2.5 estrelas). Edite o conteúdo para melhorar e aumentar a nota!"})]}),i.jsx("div",{className:"guia-footer-info",children:i.jsxs("p",{children:["💡 ",i.jsx("strong",{children:"Dica:"})," Se este guia foi útil para você, não esqueça de avaliá-lo!"]})})]})})]})}function j1(){const s=Je(),{theme:e,toggleTheme:r,isDark:a}=s0();return i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsx("div",{className:"page-wrapper",children:i.jsx("div",{className:"page-content",children:i.jsxs("div",{className:"config-container",children:[i.jsxs("div",{className:"config-header",children:[i.jsxs("button",{className:"config-back-btn",onClick:()=>s(-1),"aria-label":"Voltar",children:[i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"})}),"Voltar"]}),i.jsx("h1",{className:"config-title",children:"Configurações"}),i.jsx("p",{className:"config-subtitle",children:"Personalize sua experiência no Peça Fácil"})]}),i.jsxs("div",{className:"config-sections",children:[i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"config-section-header",children:[i.jsx("div",{className:"config-section-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"5"}),i.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),i.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),i.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),i.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),i.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),i.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),i.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),i.jsxs("div",{className:"config-section-info",children:[i.jsx("h2",{className:"config-section-title",children:"Aparência"}),i.jsx("p",{className:"config-section-description",children:"Escolha o tema que melhor se adapta ao seu estilo"})]})]}),i.jsxs("div",{className:"config-option",children:[i.jsx("div",{className:"config-option-content",children:i.jsxs("label",{htmlFor:"theme-toggle",className:"config-option-label",children:[i.jsx("span",{className:"config-option-title",children:"Modo Escuro"}),i.jsx("span",{className:"config-option-description",children:a?"Ativado - Interface com cores escuras":"Desativado - Interface com cores claras"})]})}),i.jsxs("div",{className:"theme-toggle-wrapper",children:[i.jsx("input",{type:"checkbox",id:"theme-toggle",className:"theme-toggle-input",checked:a,onChange:r,"aria-label":"Alternar modo escuro"}),i.jsx("label",{htmlFor:"theme-toggle",className:"theme-toggle-label",children:i.jsx("span",{className:"theme-toggle-button",children:i.jsx("span",{className:"theme-toggle-icon",children:a?i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:i.jsx("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"})}):i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:i.jsx("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"})})})})})]})]}),i.jsxs("div",{className:"theme-preview",children:[i.jsxs("div",{className:`theme-preview-card ${a?"":"active"}`,children:[i.jsxs("div",{className:"theme-preview-header light",children:[i.jsx("div",{className:"theme-preview-dot"}),i.jsx("div",{className:"theme-preview-dot"}),i.jsx("div",{className:"theme-preview-dot"})]}),i.jsxs("div",{className:"theme-preview-body light",children:[i.jsx("div",{className:"theme-preview-line light"}),i.jsx("div",{className:"theme-preview-line light short"})]}),i.jsx("span",{className:"theme-preview-label",children:"Claro"})]}),i.jsxs("div",{className:`theme-preview-card ${a?"active":""}`,children:[i.jsxs("div",{className:"theme-preview-header dark",children:[i.jsx("div",{className:"theme-preview-dot"}),i.jsx("div",{className:"theme-preview-dot"}),i.jsx("div",{className:"theme-preview-dot"})]}),i.jsxs("div",{className:"theme-preview-body dark",children:[i.jsx("div",{className:"theme-preview-line dark"}),i.jsx("div",{className:"theme-preview-line dark short"})]}),i.jsx("span",{className:"theme-preview-label",children:"Escuro"})]})]})]}),i.jsx("section",{className:"config-section config-section-disabled",children:i.jsxs("div",{className:"config-section-header",children:[i.jsx("div",{className:"config-section-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),i.jsx("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})]})}),i.jsxs("div",{className:"config-section-info",children:[i.jsx("h2",{className:"config-section-title",children:"Mais Configurações"}),i.jsx("p",{className:"config-section-description",children:"Em breve mais opções de personalização"})]})]})})]})]})})})]})}function b1(){const{usuarioLogado:s}=x.useContext(Ve)||{},e=Je(),[r,a]=x.useState(""),[o,c]=x.useState(""),[d,f]=x.useState(""),p=!!(s&&s.isPro||localStorage.getItem("versaoProAtiva")==="true"),g=[{id:1,marca:"Chevrolet",modelo:"Onix 1.0 Turbo",ano:2024,preco:"R$ 89.500",codigo:"001234-1"},{id:2,marca:"Volkswagen",modelo:"Gol 1.0",ano:2024,preco:"R$ 68.900",codigo:"002345-2"},{id:3,marca:"Fiat",modelo:"Argo 1.3",ano:2024,preco:"R$ 75.800",codigo:"003456-3"},{id:4,marca:"Toyota",modelo:"Corolla 2.0 XEi",ano:2024,preco:"R$ 145.900",codigo:"004567-4"},{id:5,marca:"Honda",modelo:"Civic 2.0 EXL",ano:2024,preco:"R$ 168.900",codigo:"005678-5"},{id:6,marca:"Hyundai",modelo:"HB20 1.0",ano:2024,preco:"R$ 72.900",codigo:"006789-6"},{id:7,marca:"Jeep",modelo:"Compass 1.3 Turbo",ano:2024,preco:"R$ 189.900",codigo:"007890-7"},{id:8,marca:"Chevrolet",modelo:"Tracker 1.0 Turbo",ano:2023,preco:"R$ 125.900",codigo:"008901-8"},{id:9,marca:"Volkswagen",modelo:"T-Cross 1.0 TSI",ano:2023,preco:"R$ 119.900",codigo:"009012-9"},{id:10,marca:"Fiat",modelo:"Toro 1.8 Freedom",ano:2023,preco:"R$ 139.900",codigo:"010123-0"},{id:11,marca:"Toyota",modelo:"Hilux 2.8 SRX",ano:2024,preco:"R$ 285.900",codigo:"011234-1"},{id:12,marca:"Honda",modelo:"HR-V 1.5 Turbo",ano:2023,preco:"R$ 149.900",codigo:"012345-2"},{id:13,marca:"Hyundai",modelo:"Creta 1.0 Turbo",ano:2024,preco:"R$ 129.900",codigo:"013456-3"},{id:14,marca:"Nissan",modelo:"Kicks 1.6",ano:2023,preco:"R$ 109.900",codigo:"014567-4"},{id:15,marca:"Renault",modelo:"Kwid 1.0",ano:2024,preco:"R$ 64.900",codigo:"015678-5"},{id:16,marca:"Ford",modelo:"Ranger 3.2 XLT",ano:2023,preco:"R$ 259.900",codigo:"016789-6"},{id:17,marca:"Chevrolet",modelo:"S10 2.8 LTZ",ano:2023,preco:"R$ 245.900",codigo:"017890-7"},{id:18,marca:"Volkswagen",modelo:"Amarok 2.0 Highline",ano:2024,preco:"R$ 279.900",codigo:"018901-8"},{id:19,marca:"Fiat",modelo:"Pulse 1.3 Turbo",ano:2024,preco:"R$ 99.900",codigo:"019012-9"},{id:20,marca:"Jeep",modelo:"Renegade 1.8",ano:2023,preco:"R$ 129.900",codigo:"020123-0"}],v=x.useMemo(()=>[...new Set(g.map(j=>j.marca))].sort(),[]),y=x.useMemo(()=>[...new Set(g.map(j=>j.ano))].sort((j,E)=>E-j),[]),w=x.useMemo(()=>g.filter(S=>{const j=r===""||S.modelo.toLowerCase().includes(r.toLowerCase())||S.marca.toLowerCase().includes(r.toLowerCase())||S.codigo.includes(r),E=o===""||S.marca===o,k=d===""||S.ano.toString()===d;return j&&E&&k}),[r,o,d]),b=()=>{a(""),c(""),f("")};return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsx("div",{className:"page-wrapper",children:i.jsxs("div",{className:"page-content",id:"tabela-fipe",children:[i.jsx("h2",{className:"page-title",children:"Tabela FIPE"}),i.jsx("div",{className:"fipe-intro",children:i.jsx("p",{children:"Consulte os preços de referência de veículos atualizados pela Tabela FIPE."})}),i.jsxs("div",{className:"fipe-filtros",children:[i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{htmlFor:"search",className:"filtro-label",children:"Buscar por modelo ou código:"}),i.jsx("input",{type:"text",id:"search",className:"filtro-input",placeholder:"Digite o modelo ou código FIPE...",value:r,onChange:S=>a(S.target.value)})]}),i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{htmlFor:"marca",className:"filtro-label",children:"Marca:"}),i.jsxs("select",{id:"marca",className:"filtro-select",value:o,onChange:S=>c(S.target.value),children:[i.jsx("option",{value:"",children:"Todas as marcas"}),v.map(S=>i.jsx("option",{value:S,children:S},S))]})]}),i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{htmlFor:"ano",className:"filtro-label",children:"Ano:"}),i.jsxs("select",{id:"ano",className:"filtro-select",value:d,onChange:S=>f(S.target.value),children:[i.jsx("option",{value:"",children:"Todos os anos"}),y.map(S=>i.jsx("option",{value:S,children:S},S))]})]}),i.jsx("button",{className:"filtro-btn-limpar",onClick:b,children:"Limpar Filtros"})]}),i.jsx("div",{className:"fipe-resultados-info",children:i.jsxs("p",{children:["Exibindo ",i.jsx("strong",{children:w.length})," de ",i.jsx("strong",{children:g.length})," veículos"]})}),i.jsx("div",{className:"fipe-tabela-container",children:w.length>0?i.jsxs("table",{className:"fipe-tabela",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Código FIPE"}),i.jsx("th",{children:"Marca"}),i.jsx("th",{children:"Modelo"}),i.jsx("th",{children:"Ano"}),i.jsx("th",{children:"Preço Médio"})]})}),i.jsx("tbody",{children:w.map(S=>i.jsxs("tr",{children:[i.jsx("td",{"data-label":"Código FIPE",children:S.codigo}),i.jsx("td",{"data-label":"Marca",children:S.marca}),i.jsx("td",{"data-label":"Modelo",children:S.modelo}),i.jsx("td",{"data-label":"Ano",children:S.ano}),i.jsx("td",{"data-label":"Preço Médio",className:"fipe-preco",children:i.jsxs("div",{className:"fipe-preco-wrapper",children:[i.jsx("span",{className:p?"":"fipe-preco-blur",children:S.preco}),!p&&i.jsxs("div",{className:"fipe-preco-lock",children:[i.jsx("img",{src:"./padlock.png",alt:"Cadeado",className:"fipe-padlock-icon"}),i.jsx("div",{className:"fipe-preco-tooltip",children:"Seja Pro para visualizar os preços da Tabela FIPE"})]})]})})]},S.id))})]}):i.jsxs("div",{className:"fipe-sem-resultados",children:[i.jsx("p",{children:"Nenhum veículo encontrado com os filtros aplicados."}),i.jsx("button",{className:"filtro-btn-limpar",onClick:b,children:"Limpar Filtros"})]})}),!p&&w.length>0&&i.jsx("div",{className:"fipe-cta-pro",children:i.jsxs("div",{className:"fipe-cta-content",children:[i.jsx("h3",{children:"🔓 Desbloqueie os Preços da Tabela FIPE"}),i.jsx("p",{children:"Assine a Versão Pro e tenha acesso completo aos preços atualizados de todos os veículos da Tabela FIPE, além de outros benefícios exclusivos!"}),i.jsx("button",{className:"fipe-cta-button",onClick:()=>e("/seja-pro"),children:"Assinar Versão Pro"})]})}),i.jsxs("div",{className:"fipe-aviso",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Atenção:"})," Os valores apresentados são preços médios de mercado coletados pela Tabela FIPE e servem apenas como referência. Os preços reais podem variar conforme o estado de conservação, quilometragem, opcionais e região."]}),i.jsx("p",{className:"fipe-atualizacao",children:"Última atualização: Janeiro/2025"})]})]})})]})}const E1=()=>{const{usuarioLogado:s}=x.useContext(Ve)||{},e=Je(),[r,a]=x.useState(null),o={quilometragens:[{km:"5.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Verificação de níveis (freio, arrefecimento, direção)",prioridade:"alta"},{item:"Calibragem dos pneus",prioridade:"média"},{item:"Inspeção visual de vazamentos",prioridade:"média"}]},{km:"10.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de ar condicionado",prioridade:"média"},{item:"Rodízio de pneus",prioridade:"média"},{item:"Verificação do sistema de freios",prioridade:"alta"},{item:"Limpeza dos bicos injetores",prioridade:"média"}]},{km:"20.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de combustível",prioridade:"alta"},{item:"Verificação das pastilhas de freio",prioridade:"alta"},{item:"Verificação da bateria",prioridade:"média"},{item:"Alinhamento e balanceamento",prioridade:"média"}]},{km:"30.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca das velas de ignição",prioridade:"alta"},{item:"Limpeza do corpo de borboleta",prioridade:"média"},{item:"Verificação da correia dentada",prioridade:"alta"},{item:"Troca do fluido de freio",prioridade:"alta"}]},{km:"40.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Verificação das velas de ignição",prioridade:"média"},{item:"Troca do fluido de arrefecimento",prioridade:"alta"},{item:"Verificação da suspensão",prioridade:"média"},{item:"Limpeza dos bicos injetores",prioridade:"média"}]},{km:"50.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca da correia dentada",prioridade:"alta"},{item:"Troca da correia do alternador",prioridade:"média"},{item:"Substituição das pastilhas de freio",prioridade:"alta"},{item:"Verificação do sistema de direção",prioridade:"média"}]},{km:"60.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de combustível",prioridade:"alta"},{item:"Troca das velas de ignição",prioridade:"alta"},{item:"Troca do fluido de freio",prioridade:"alta"},{item:"Revisão completa da suspensão",prioridade:"alta"},{item:"Verificação dos discos de freio",prioridade:"alta"}]}],dicasPraticas:[{titulo:"Verificação Semanal",descricao:"Faça estas verificações toda semana para evitar surpresas",lista:["Nível do óleo do motor (com o motor frio)","Nível da água do radiador","Calibragem dos pneus (incluindo o estepe)","Funcionamento das luzes (faróis, lanternas, setas)","Limpadores de para-brisa e nível do reservatório","Vazamentos embaixo do veículo"]},{titulo:"Verificação Mensal",descricao:"Checagens importantes para fazer mensalmente",lista:["Nível do fluido de freio","Nível do fluido da direção hidráulica","Estado das palhetas do limpador","Condição dos pneus (desgaste e danos)","Funcionamento do ar condicionado","Bateria (terminais e fixação)"]},{titulo:"Sinais de Alerta",descricao:"Fique atento a estes sinais que indicam necessidade de revisão",lista:["Luzes do painel acesas","Ruídos estranhos ao frear","Vibrações anormais no volante","Perda de potência do motor","Consumo excessivo de combustível","Dificuldade para dar partida","Vazamentos de fluidos","Fumaça excessiva pelo escapamento"]},{titulo:"Economia e Vida Útil",descricao:"Práticas que economizam e prolongam a vida do veículo",lista:["Deixe o motor aquecer antes de acelerar forte","Evite arrancadas e freadas bruscas","Use o freio motor em descidas","Não sobrecarregue o veículo","Mantenha o filtro de ar sempre limpo","Use combustível de qualidade","Evite deixar o carro parado por longos períodos","Lave o carro regularmente (protege a pintura)"]}],custosReferencia:[{servico:"Troca de óleo + filtro",faixa:"R$ 150 - R$ 350",periodicidade:"A cada 5.000 - 10.000 km"},{servico:"Troca de filtro de ar",faixa:"R$ 50 - R$ 150",periodicidade:"A cada 10.000 km"},{servico:"Troca de pastilhas de freio",faixa:"R$ 200 - R$ 500",periodicidade:"A cada 20.000 - 40.000 km"},{servico:"Troca de correia dentada",faixa:"R$ 600 - R$ 1.500",periodicidade:"A cada 40.000 - 60.000 km"},{servico:"Alinhamento e balanceamento",faixa:"R$ 100 - R$ 200",periodicidade:"A cada 10.000 km ou quando necessário"},{servico:"Troca de velas de ignição",faixa:"R$ 150 - R$ 400",periodicidade:"A cada 30.000 km"},{servico:"Troca do fluido de freio",faixa:"R$ 80 - R$ 200",periodicidade:"A cada 2 anos ou 30.000 km"},{servico:"Revisão completa (60.000 km)",faixa:"R$ 1.500 - R$ 3.500",periodicidade:"A cada 60.000 km"}]};return i.jsxs("div",{className:"manutencao-page",children:[s?i.jsx(Ke,{}):i.jsx($t,{}),i.jsxs("div",{className:"manutencao-container",children:[i.jsxs("div",{className:"manutencao-header",children:[i.jsx("div",{className:"header-icon",children:"🔧"}),i.jsx("h1",{children:"Guia de Manutenção Preventiva"}),i.jsx("p",{className:"header-subtitle",children:"Mantenha seu veículo sempre em perfeito estado seguindo este guia completo de manutenção preventiva. Evite surpresas, economize e prolongue a vida útil do seu carro."})]}),i.jsx("section",{className:"manutencao-intro",children:i.jsxs("div",{className:"intro-card",children:[i.jsx("h2",{children:"Por que fazer manutenção preventiva?"}),i.jsxs("div",{className:"intro-benefits",children:[i.jsxs("div",{className:"benefit-item",children:[i.jsx("span",{className:"benefit-icon",children:"💰"}),i.jsx("h3",{children:"Economia"}),i.jsx("p",{children:"Prevenir é sempre mais barato que corrigir. Uma manutenção regular evita gastos maiores com reparos emergenciais."})]}),i.jsxs("div",{className:"benefit-item",children:[i.jsx("span",{className:"benefit-icon",children:"🛡️"}),i.jsx("h3",{children:"Segurança"}),i.jsx("p",{children:"Veículo bem mantido oferece mais segurança para você e sua família, evitando falhas mecânicas em momentos críticos."})]}),i.jsxs("div",{className:"benefit-item",children:[i.jsx("span",{className:"benefit-icon",children:"⏰"}),i.jsx("h3",{children:"Durabilidade"}),i.jsx("p",{children:"Manutenção adequada prolonga significativamente a vida útil do veículo e mantém seu valor de revenda."})]}),i.jsxs("div",{className:"benefit-item",children:[i.jsx("span",{className:"benefit-icon",children:"🚀"}),i.jsx("h3",{children:"Performance"}),i.jsx("p",{children:"Motor e componentes bem cuidados mantêm a potência, eficiência e conforto originais do veículo."})]})]})]})}),i.jsxs("section",{className:"manutencao-cronograma",children:[i.jsx("h2",{children:"Cronograma de Manutenção por Quilometragem"}),i.jsx("p",{className:"section-description",children:"Siga este cronograma baseado na quilometragem do seu veículo. Os itens variam conforme o fabricante, sempre consulte o manual do proprietário do seu carro."}),i.jsx("div",{className:"cronograma-grid",children:o.quilometragens.map((c,d)=>i.jsxs("div",{className:"cronograma-card",children:[i.jsxs("div",{className:"cronograma-header",children:[i.jsx("h3",{children:c.km}),i.jsxs("span",{className:"itens-count",children:[c.itens.length," itens"]})]}),i.jsx("ul",{className:"cronograma-lista",children:c.itens.map((f,p)=>i.jsxs("li",{className:`prioridade-${f.prioridade}`,children:[i.jsx("span",{className:"prioridade-badge",children:f.prioridade}),f.item]},p))})]},d))}),i.jsxs("div",{className:"legenda-prioridades",children:[i.jsx("h4",{children:"Legenda de Prioridades:"}),i.jsxs("div",{className:"legenda-items",children:[i.jsxs("span",{className:"legenda-item alta",children:[i.jsx("span",{className:"legenda-badge",children:"alta"})," Essencial - não pode ser adiado"]}),i.jsxs("span",{className:"legenda-item media",children:[i.jsx("span",{className:"legenda-badge",children:"média"})," Importante - agende em breve"]})]})]})]}),i.jsxs("section",{className:"manutencao-dicas",children:[i.jsx("h2",{children:"Dicas Práticas de Manutenção"}),i.jsx("div",{className:"dicas-grid",children:o.dicasPraticas.map((c,d)=>i.jsxs("div",{className:"dica-card",children:[i.jsx("h3",{children:c.titulo}),i.jsx("p",{className:"dica-descricao",children:c.descricao}),i.jsx("ul",{className:"dica-lista",children:c.lista.map((f,p)=>i.jsxs("li",{children:[i.jsx("span",{className:"check-icon",children:"✓"}),f]},p))})]},d))})]}),i.jsxs("section",{className:"manutencao-custos",children:[i.jsx("h2",{children:"Custos Médios de Referência"}),i.jsx("p",{className:"section-description",children:"Valores aproximados para você planejar seu orçamento. Os preços variam conforme região, modelo do veículo e oficina."}),i.jsxs("div",{className:"custos-tabela",children:[i.jsxs("div",{className:"tabela-header",children:[i.jsx("div",{className:"col-servico",children:"Serviço"}),i.jsx("div",{className:"col-faixa",children:"Faixa de Preço"}),i.jsx("div",{className:"col-periodicidade",children:"Periodicidade"})]}),o.custosReferencia.map((c,d)=>i.jsxs("div",{className:"tabela-row",children:[i.jsx("div",{className:"col-servico",children:c.servico}),i.jsx("div",{className:"col-faixa",children:c.faixa}),i.jsx("div",{className:"col-periodicidade",children:c.periodicidade})]},d))]}),i.jsxs("div",{className:"custos-aviso",children:[i.jsx("span",{className:"aviso-icon",children:"ℹ️"}),i.jsx("p",{children:"Os valores são apenas referências e podem variar significativamente. Sempre solicite orçamentos em diferentes oficinas e verifique a reputação antes de contratar o serviço."})]})]}),i.jsx("section",{className:"manutencao-conclusao",children:i.jsxs("div",{className:"conclusao-card",children:[i.jsx("h2",{children:"Lembre-se"}),i.jsxs("div",{className:"conclusao-content",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"📖 Consulte sempre o manual do proprietário:"})," Cada veículo tem suas especificidades e o manual é o guia definitivo para a manutenção do seu modelo específico."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"🔍 Escolha oficinas de confiança:"})," Pesquise a reputação, peça indicações e sempre solicite orçamentos detalhados antes de autorizar qualquer serviço."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"📝 Mantenha um histórico:"})," Guarde todas as notas fiscais e registros de manutenção. Isso valoriza o veículo na revenda e ajuda a acompanhar o que já foi feito."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"⚠️ Não ignore os sinais:"})," Ruídos estranhos, luzes no painel ou mudanças no comportamento do veículo são avisos importantes. Investigue imediatamente."]})]})]})}),i.jsx("div",{className:"guia-footer-voltar",children:i.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})]})},N1=()=>{const{usuarioLogado:s}=x.useContext(Ve)||{},e=Je(),[r,a]=x.useState("todas"),o={definicoes:{originais:{titulo:"Peças Originais",icone:"🏭",definicao:"São peças fabricadas pela montadora do veículo ou por fornecedores oficiais autorizados pela montadora. Possuem o selo e garantia do fabricante original.",caracteristicas:["Fabricadas com os mesmos padrões da montadora","Possuem garantia direta do fabricante","Geralmente mais caras","Encontradas em concessionárias autorizadas","Embalagem com selo de autenticidade","Código de peça específico da montadora"]},compativeis:{titulo:"Peças Compatíveis (Aftermarket)",icone:"🔧",definicao:"São peças fabricadas por empresas terceirizadas que não são autorizadas pela montadora, mas seguem as especificações técnicas originais para serem compatíveis com o veículo.",caracteristicas:["Fabricadas por empresas independentes","Preço geralmente mais acessível","Garantia do fabricante da peça","Disponíveis em diversas lojas de autopeças","Qualidade varia conforme o fabricante","Várias marcas e opções disponíveis"]}},comparacoes:[{categoria:"Qualidade",original:{texto:"Qualidade garantida e testada pela montadora",pontos:["Rigoroso controle de qualidade","Durabilidade comprovada","Encaixe perfeito garantido"],nota:10},compativel:{texto:"Qualidade varia conforme fabricante",pontos:["Marcas premium têm qualidade similar","Marcas desconhecidas podem ter problemas","Importante verificar certificações"],nota:7}},{categoria:"Preço",original:{texto:"Preço mais elevado",pontos:["30% a 70% mais caro","Custo-benefício em longo prazo","Menos opções de negociação"],nota:5},compativel:{texto:"Preço mais acessível",pontos:["Economia significativa","Várias faixas de preço","Melhor custo-benefício imediato"],nota:9}},{categoria:"Garantia",original:{texto:"Garantia da montadora",pontos:["Garantia de fábrica ampla","Aceita em qualquer concessionária","Cobertura mais abrangente"],nota:10},compativel:{texto:"Garantia do fabricante da peça",pontos:["Varia de 3 meses a 1 ano","Limitada ao fabricante","Pode exigir nota fiscal"],nota:7}},{categoria:"Disponibilidade",original:{texto:"Disponível em concessionárias",pontos:["Pode demorar para chegar","Estoque limitado em algumas regiões","Importação pode ser necessária"],nota:6},compativel:{texto:"Amplamente disponível",pontos:["Fácil de encontrar","Várias opções de fornecedores","Pronta entrega na maioria"],nota:9}},{categoria:"Durabilidade",original:{texto:"Alta durabilidade comprovada",pontos:["Testadas em condições extremas","Vida útil longa","Mantém características originais"],nota:10},compativel:{texto:"Durabilidade depende da marca",pontos:["Marcas premium são duráveis","Marcas genéricas podem durar menos","Importante pesquisar avaliações"],nota:7}},{categoria:"Garantia de Veículo",original:{texto:"Não afeta garantia do veículo",pontos:["Recomendada para carros na garantia","Mantém histórico da concessionária","Sem risco de perda de garantia"],nota:10},compativel:{texto:"Pode afetar garantia em alguns casos",pontos:["Verifique termos da garantia","Problema deve ser comprovadamente da peça","Após garantia, sem restrições"],nota:6}}],quandoUsar:[{titulo:"Use Peças Originais Quando:",icone:"✅",situacoes:["Veículo ainda está na garantia de fábrica","Peças de segurança críticas (freios, suspensão, airbag)","Veículo de alto valor que você pretende revender","Histórico completo de manutenção é importante","Peça apresentou defeito recorrente com compatíveis","Modelo muito específico ou raro","Sistema eletrônico complexo (injeção, ABS, etc.)","Você busca máxima durabilidade sem preocupações"]},{titulo:"Use Peças Compatíveis Quando:",icone:"✅",situacoes:["Veículo já saiu da garantia de fábrica","Orçamento limitado para a manutenção","Peça de desgaste natural (filtros, velas, lâmpadas)","Veículo mais antigo ou de menor valor","Marca compatível de reconhecida qualidade","Peça estética ou de acabamento interno","Urgência e peça original indisponível","Relação custo-benefício é prioridade"]}],marcasRenomadas:[{nome:"Bosch",especialidade:"Sistema elétrico, freios, injeção",qualidade:"Premium",descricao:"Fornecedora oficial de várias montadoras, qualidade comparável às originais."},{nome:"Mahle",especialidade:"Motor, filtros, arrefecimento",qualidade:"Premium",descricao:"Fabricante alemão com altíssima qualidade, fornece para montadoras."},{nome:"Monroe",especialidade:"Suspensão e amortecedores",qualidade:"Premium",descricao:"Referência mundial em sistemas de suspensão."},{nome:"NGK",especialidade:"Velas de ignição",qualidade:"Premium",descricao:"Líder mundial em velas, fornece para montadoras japonesas."},{nome:"Cofap",especialidade:"Amortecedores, suspensão",qualidade:"Boa",descricao:"Marca brasileira consolidada, boa relação custo-benefício."},{nome:"Tecfil",especialidade:"Filtros em geral",qualidade:"Boa",descricao:"Marca nacional com boa qualidade e preço acessível."},{nome:"TRW",especialidade:"Freios e suspensão",qualidade:"Premium",descricao:"Fornecedora de montadoras, especialmente em sistemas de freio."},{nome:"Nakata",especialidade:"Suspensão e direção",qualidade:"Boa",descricao:"Marca japonesa com amplo catálogo e qualidade consistente."}],dicasEconomia:[{titulo:"Pesquise Preços",descricao:"Compare preços em diferentes lojas e online. A variação pode chegar a 50%.",icone:"💰"},{titulo:"Compre em Conjunto",descricao:"Ao fazer várias trocas, negocie desconto ou peça frete grátis.",icone:"📦"},{titulo:"Verifique Promoções",descricao:"Grandes varejistas oferecem promoções em datas especiais.",icone:"🎯"},{titulo:"Avalie Marcas Intermediárias",descricao:"Nem sempre o mais barato ou mais caro é a melhor opção.",icone:"⚖️"},{titulo:"Peça Original Usada",descricao:"Para alguns itens, peças de desmanches são viáveis e econômicas.",icone:"♻️"},{titulo:"Certifique-se da Necessidade",descricao:"Nem sempre é preciso trocar. Consulte um mecânico de confiança.",icone:"🔍"}],alertas:[{titulo:"⚠️ Cuidado com Peças Falsificadas",conteudo:["Verifique sempre se há selo de autenticidade","Desconfie de preços extremamente baixos","Compre em lojas estabelecidas e confiáveis","Peças falsificadas podem causar acidentes graves","Embalagens originais têm código de barras e QR code"]},{titulo:"⚠️ Atenção à Garantia do Veículo",conteudo:["Leia o manual e termos da garantia do fabricante","Peças não originais podem cancelar garantia em alguns casos","Guarde todas as notas fiscais de manutenção","Consulte a concessionária antes em caso de dúvida","Após o fim da garantia, você tem liberdade total"]},{titulo:"⚠️ Instalação Profissional",conteudo:["Use mecânico qualificado independente da peça","Instalação incorreta pode danificar a peça","Guarde a nota e comprovante de instalação","Erro de instalação pode invalidar garantia","Peças de segurança exigem cuidado redobrado"]}]};return i.jsxs("div",{className:"pecas-page",children:[s?i.jsx(Ke,{}):i.jsx($t,{}),i.jsxs("div",{className:"pecas-container",children:[i.jsxs("div",{className:"pecas-header",children:[i.jsx("div",{className:"header-icon",children:"⚙️"}),i.jsx("h1",{children:"Peças Originais vs Compatíveis"}),i.jsx("p",{className:"header-subtitle",children:"Entenda as diferenças, vantagens e desvantagens de cada tipo de peça para tomar a melhor decisão na manutenção do seu veículo."})]}),i.jsxs("section",{className:"pecas-definicoes",children:[i.jsx("h2",{children:"O que são?"}),i.jsxs("div",{className:"definicoes-grid",children:[i.jsxs("div",{className:"definicao-card original",children:[i.jsx("div",{className:"definicao-icon",children:o.definicoes.originais.icone}),i.jsx("h3",{children:o.definicoes.originais.titulo}),i.jsx("p",{className:"definicao-texto",children:o.definicoes.originais.definicao}),i.jsx("h4",{children:"Características:"}),i.jsx("ul",{children:o.definicoes.originais.caracteristicas.map((c,d)=>i.jsx("li",{children:c},d))})]}),i.jsxs("div",{className:"definicao-card compativel",children:[i.jsx("div",{className:"definicao-icon",children:o.definicoes.compativeis.icone}),i.jsx("h3",{children:o.definicoes.compativeis.titulo}),i.jsx("p",{className:"definicao-texto",children:o.definicoes.compativeis.definicao}),i.jsx("h4",{children:"Características:"}),i.jsx("ul",{children:o.definicoes.compativeis.caracteristicas.map((c,d)=>i.jsx("li",{children:c},d))})]})]})]}),i.jsxs("section",{className:"pecas-comparacao",children:[i.jsx("h2",{children:"Comparação Detalhada"}),i.jsx("p",{className:"section-subtitle",children:"Análise ponto a ponto para ajudar na sua decisão"}),i.jsx("div",{className:"comparacao-grid",children:o.comparacoes.map((c,d)=>i.jsxs("div",{className:"comparacao-card",children:[i.jsx("h3",{className:"comparacao-categoria",children:c.categoria}),i.jsxs("div",{className:"comparacao-sides",children:[i.jsxs("div",{className:"side original",children:[i.jsxs("div",{className:"side-header",children:[i.jsx("span",{className:"side-badge",children:"Original"}),i.jsxs("span",{className:"side-nota",children:[c.original.nota,"/10"]})]}),i.jsx("p",{className:"side-texto",children:c.original.texto}),i.jsx("ul",{className:"side-pontos",children:c.original.pontos.map((f,p)=>i.jsx("li",{children:f},p))})]}),i.jsxs("div",{className:"side compativel",children:[i.jsxs("div",{className:"side-header",children:[i.jsx("span",{className:"side-badge",children:"Compatível"}),i.jsxs("span",{className:"side-nota",children:[c.compativel.nota,"/10"]})]}),i.jsx("p",{className:"side-texto",children:c.compativel.texto}),i.jsx("ul",{className:"side-pontos",children:c.compativel.pontos.map((f,p)=>i.jsx("li",{children:f},p))})]})]})]},d))})]}),i.jsxs("section",{className:"pecas-quando-usar",children:[i.jsx("h2",{children:"Quando Usar Cada Tipo?"}),i.jsx("div",{className:"quando-grid",children:o.quandoUsar.map((c,d)=>i.jsxs("div",{className:"quando-card",children:[i.jsxs("div",{className:"quando-header",children:[i.jsx("span",{className:"quando-icon",children:c.icone}),i.jsx("h3",{children:c.titulo})]}),i.jsx("ul",{className:"quando-lista",children:c.situacoes.map((f,p)=>i.jsxs("li",{children:[i.jsx("span",{className:"bullet",children:"•"}),f]},p))})]},d))})]}),i.jsxs("section",{className:"pecas-marcas",children:[i.jsx("h2",{children:"Marcas Compatíveis Renomadas"}),i.jsx("p",{className:"section-subtitle",children:"Fabricantes de peças compatíveis com excelente reputação no mercado"}),i.jsx("div",{className:"marcas-grid",children:o.marcasRenomadas.map((c,d)=>i.jsxs("div",{className:"marca-card",children:[i.jsxs("div",{className:"marca-header",children:[i.jsx("h3",{children:c.nome}),i.jsx("span",{className:`qualidade-badge ${c.qualidade.toLowerCase()}`,children:c.qualidade})]}),i.jsxs("p",{className:"marca-especialidade",children:[i.jsx("strong",{children:"Especialidade:"})," ",c.especialidade]}),i.jsx("p",{className:"marca-descricao",children:c.descricao})]},d))})]}),i.jsxs("section",{className:"pecas-dicas-economia",children:[i.jsx("h2",{children:"Dicas para Economizar"}),i.jsx("div",{className:"dicas-economia-grid",children:o.dicasEconomia.map((c,d)=>i.jsxs("div",{className:"dica-economia-card",children:[i.jsx("div",{className:"dica-icon",children:c.icone}),i.jsx("h3",{children:c.titulo}),i.jsx("p",{children:c.descricao})]},d))})]}),i.jsxs("section",{className:"pecas-alertas",children:[i.jsx("h2",{children:"Alertas Importantes"}),i.jsx("div",{className:"alertas-grid",children:o.alertas.map((c,d)=>i.jsxs("div",{className:"alerta-card",children:[i.jsx("h3",{children:c.titulo}),i.jsx("ul",{children:c.conteudo.map((f,p)=>i.jsx("li",{children:f},p))})]},d))})]}),i.jsx("section",{className:"pecas-conclusao",children:i.jsxs("div",{className:"conclusao-card",children:[i.jsx("h2",{children:"Decisão Informada"}),i.jsxs("div",{className:"conclusao-content",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Não existe escolha certa ou errada absoluta."})," A decisão entre peças originais e compatíveis deve considerar múltiplos fatores: condição do veículo, orçamento disponível, tipo de peça, urgência da troca e suas prioridades pessoais."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Para segurança, nunca economize."})," Itens críticos como freios, suspensão, airbags e componentes estruturais merecem atenção especial. Nesses casos, considere sempre peças originais ou compatíveis de marcas premium reconhecidas."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Pesquise e compare."})," Avalie avaliações de outros usuários, consulte mecânicos de confiança e compare preços. Uma escolha bem informada é sempre a melhor escolha."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Guarde a documentação."})," Independente da escolha, sempre guarde notas fiscais, certificados de garantia e comprovantes de instalação. Isso protege seus direitos e agrega valor ao veículo."]})]})]})}),i.jsx("div",{className:"guia-footer-voltar",children:i.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})]})};function C1(){const{usuarioLogado:s}=x.useContext(Ve)||{},e=Je(),[r,a]=x.useState([]),[o,c]=x.useState(!0),[d,f]=x.useState(null),[p,g]=x.useState({busca:"",prioridade:"",cor:""});Pg(),x.useEffect(()=>{(async()=>{try{const j=await $o.getGlossarioDashboard(),E=Array.isArray(j)?j:j?[j]:jo;a(E)}catch(j){console.error("Erro ao carregar glossário:",j),a(Array.isArray(jo)?jo:[]),f(null)}finally{c(!1)}})()},[]);const v=()=>{g({busca:"",prioridade:"",cor:""})},y=S=>({Alta:"#dc2626",Média:"#f59e0b",Baixa:"#16a34a"})[S]||"#6b7280",w=S=>({vermelho:"#dc2626",amarelo:"#f59e0b",verde:"#16a34a",azul:"#2563eb",laranja:"#ea580c"})[S.toLowerCase()]||"#6b7280",b=r.filter(S=>{const j=!p.busca||S.nome.toLowerCase().includes(p.busca.toLowerCase()),E=!p.prioridade||S.prioridade===p.prioridade,k=!p.cor||S.cor.toLowerCase()===p.cor.toLowerCase();return j&&E&&k});return i.jsxs(i.Fragment,{children:[s?i.jsx(Ke,{}):i.jsx($t,{}),i.jsx("div",{className:"page-wrapper menu-page",children:i.jsxs("div",{className:"page-content",children:[i.jsxs("div",{className:"luzes-header",children:[i.jsx("div",{className:"header-icon",children:"⚠️"}),i.jsx("h2",{className:"page-title",children:"Luzes do Painel"}),i.jsx("p",{className:"header-subtitle",children:"Entenda os avisos do seu veículo e saiba como agir quando as luzes do painel acenderem. Mantenha-se seguro e evite problemas maiores."})]}),o?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Carregando glossário..."})]}):d?i.jsxs("div",{className:"error-container",children:[i.jsx("h2",{children:"Erro ao carregar"}),i.jsx("p",{children:d})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"filtros-section",children:[i.jsxs("div",{className:"filtros-row",children:[i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{children:"Buscar:"}),i.jsx("input",{type:"text",className:"busca-input",placeholder:"Digite o nome da luz...",value:p.busca,onChange:S=>g({...p,busca:S.target.value})})]}),i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{children:"Prioridade:"}),i.jsxs("select",{value:p.prioridade,onChange:S=>g({...p,prioridade:S.target.value}),children:[i.jsx("option",{value:"",children:"Todas"}),i.jsx("option",{value:"Alta",children:"Alta"}),i.jsx("option",{value:"Média",children:"Média"}),i.jsx("option",{value:"Baixa",children:"Baixa"})]})]}),i.jsxs("div",{className:"filtro-group",children:[i.jsx("label",{children:"Cor:"}),i.jsxs("select",{value:p.cor,onChange:S=>g({...p,cor:S.target.value}),children:[i.jsx("option",{value:"",children:"Todas"}),i.jsx("option",{value:"vermelho",children:"Vermelho"}),i.jsx("option",{value:"amarelo",children:"Amarelo"}),i.jsx("option",{value:"verde",children:"Verde"}),i.jsx("option",{value:"azul",children:"Azul"}),i.jsx("option",{value:"laranja",children:"Laranja"})]})]}),i.jsx("button",{className:"btn-limpar-filtros",onClick:v,children:"Limpar"})]}),i.jsxs("div",{className:"resultados-info",children:[b.length," luz(es) encontrada(s)"]})]}),b.length===0?i.jsx("div",{className:"no-results",children:i.jsx("p",{children:"Nenhuma luz encontrada com os filtros aplicados."})}):i.jsx("div",{className:"luzes-grid",children:b.map(S=>i.jsxs("div",{className:"luz-card",children:[i.jsxs("div",{className:"luz-header",children:[i.jsx("div",{className:"luz-icone",children:S.icone}),i.jsxs("div",{className:"luz-info",children:[i.jsx("h3",{className:"luz-nome",children:S.nome}),i.jsxs("div",{className:"luz-indicators",children:[i.jsx("span",{className:"prioridade-badge",style:{backgroundColor:y(S.prioridade)},children:S.prioridade}),i.jsx("div",{className:"cor-indicator",style:{backgroundColor:w(S.cor)}})]})]})]}),i.jsxs("div",{className:"luz-content",children:[i.jsx("div",{className:"luz-descricao",children:S.descricao}),S.acoes&&S.acoes.length>0&&i.jsxs("div",{className:"luz-section",children:[i.jsx("h4",{children:"⚡ O que fazer:"}),i.jsx("ul",{className:"acoes-list",children:S.acoes.map((j,E)=>i.jsx("li",{children:j},E))})]}),S.causas&&S.causas.length>0&&i.jsxs("div",{className:"luz-section",children:[i.jsx("h4",{children:"🔍 Possíveis causas:"}),i.jsx("ul",{className:"causas-list",children:S.causas.map((j,E)=>i.jsx("li",{children:j},E))})]})]})]},S.id))}),i.jsxs("div",{className:"glossario-footer-section",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{children:"🎨 Legenda das Cores"}),i.jsxs("div",{className:"cores-legend",children:[i.jsxs("div",{className:"cor-item",children:[i.jsx("div",{className:"cor-dot",style:{backgroundColor:"#dc2626"}}),i.jsxs("span",{children:[i.jsx("strong",{children:"Vermelho:"})," Pare imediatamente"]})]}),i.jsxs("div",{className:"cor-item",children:[i.jsx("div",{className:"cor-dot",style:{backgroundColor:"#f59e0b"}}),i.jsxs("span",{children:[i.jsx("strong",{children:"Amarelo:"})," Atenção necessária"]})]}),i.jsxs("div",{className:"cor-item",children:[i.jsx("div",{className:"cor-dot",style:{backgroundColor:"#16a34a"}}),i.jsxs("span",{children:[i.jsx("strong",{children:"Verde:"})," Sistema funcionando"]})]}),i.jsxs("div",{className:"cor-item",children:[i.jsx("div",{className:"cor-dot",style:{backgroundColor:"#2563eb"}}),i.jsxs("span",{children:[i.jsx("strong",{children:"Azul:"})," Informativo"]})]}),i.jsxs("div",{className:"cor-item",children:[i.jsx("div",{className:"cor-dot",style:{backgroundColor:"#ea580c"}}),i.jsxs("span",{children:[i.jsx("strong",{children:"Laranja:"})," Atenção"]})]})]})]}),i.jsx("div",{className:"disclaimer",children:i.jsxs("p",{children:["⚠️ ",i.jsx("strong",{children:"Aviso:"})," Este glossário é apenas informativo. Sempre consulte um mecânico qualificado para diagnósticos precisos."]})})]})]}),i.jsx("div",{className:"guia-footer-voltar",children:i.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})})]})}const k1=()=>{const[s,e]=x.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",s),localStorage.setItem("theme",s?"dark":"light");const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content",s?"#0f172a":"#2b6cb0")},[s]);const r=()=>{e(a=>!a)};return i.jsxs("button",{className:"theme-toggle",onClick:r,"aria-label":s?"Alternar para modo claro":"Alternar para modo escuro",title:s?"Modo Claro (Dia)":"Modo Escuro (Noite)",children:[i.jsx("div",{className:`traffic-light ${s?"dark":"light"}`,children:i.jsxs("div",{className:"light-container",children:[i.jsx("div",{className:`light red ${s?"active":""}`}),i.jsx("div",{className:`light green ${s?"":"active"}`})]})}),i.jsx("span",{className:"theme-label",children:s?"Noite":"Dia"})]})},Ve=x.createContext(null);function ws({children:s}){const{usuarioLogado:e,authLoaded:r}=x.useContext(Ve)||{};return r?e?s:i.jsx(Eo,{to:"/login",replace:!0}):null}function T1(){const{usuarioLogado:s,authLoaded:e}=x.useContext(Ve)||{};return e?i.jsx(Eo,{to:s?"/buscar-pecas":"/inicio",replace:!0}):null}function P1(){const[s,e]=x.useState(null),[r,a]=x.useState(!1);return Ty.useEffect(()=>{try{const o=localStorage.getItem("usuario-logado");o&&e(JSON.parse(o))}catch(o){console.warn("Failed to parse usuario-logado from localStorage",o)}a(!0)},[]),i.jsx(a0,{children:i.jsx(Ve.Provider,{value:{usuarioLogado:s,setUsuarioLogado:e,authLoaded:r,setAuthLoaded:a},children:i.jsx(Gw,{children:i.jsxs("div",{className:"app",children:[i.jsx(k1,{}),i.jsxs(bw,{children:[i.jsx(ke,{path:"/",element:i.jsx(T1,{})}),i.jsx(ke,{path:"/buscar-pecas",element:i.jsx(u1,{})}),i.jsx(ke,{path:"/login",element:i.jsx(kE,{})}),i.jsx(ke,{path:"/cadastro",element:i.jsx(qE,{})}),i.jsx(ke,{path:"/inicio",element:i.jsx(LE,{})}),i.jsx(ke,{path:"/quem-somos",element:i.jsx(DE,{})}),i.jsx(ke,{path:"/seja-pro",element:i.jsx($E,{})}),i.jsx(ke,{path:"/versao-pro",element:i.jsx(UE,{})}),i.jsx(ke,{path:"/checkin",element:i.jsx(BE,{})}),i.jsx(ke,{path:"/versao-pro-assinado",element:i.jsx(zE,{})}),i.jsx(ke,{path:"/contato",element:i.jsx(VE,{})}),i.jsx(ke,{path:"/contato-logado",element:i.jsx(HE,{})}),i.jsx(ke,{path:"/parceiros",element:i.jsx(WE,{})}),i.jsx(ke,{path:"/recalls",element:i.jsx(v1,{})}),i.jsx(ke,{path:"/guias",element:i.jsx(x1,{})}),i.jsx(ke,{path:"/guia/:guiaId",element:i.jsx(S1,{})}),i.jsx(ke,{path:"/glossario",element:i.jsx(Eo,{to:"/guias",replace:!0})}),i.jsx(ke,{path:"/criar-guia",element:i.jsx(ws,{children:i.jsx(Kp,{})})}),i.jsx(ke,{path:"/criar-guia/:guiaId",element:i.jsx(ws,{children:i.jsx(Kp,{})})}),i.jsx(ke,{path:"/manutencao-preventiva",element:i.jsx(E1,{})}),i.jsx(ke,{path:"/pecas-originais-vs-compativeis",element:i.jsx(N1,{})}),i.jsx(ke,{path:"/luzes-do-painel",element:i.jsx(C1,{})}),i.jsx(ke,{path:"/nosso-projeto",element:i.jsx(ME,{})}),i.jsx(ke,{path:"/perfil",element:i.jsx(ws,{children:i.jsx(f1,{})})}),i.jsx(ke,{path:"/meus-carros",element:i.jsx(ws,{children:i.jsx(g1,{})})}),i.jsx(ke,{path:"/configuracoes",element:i.jsx(ws,{children:i.jsx(j1,{})})}),i.jsx(ke,{path:"/tabela-fipe",element:i.jsx(ws,{children:i.jsx(b1,{})})}),i.jsx(ke,{path:"/perfil-teste",element:i.jsx(Eo,{to:"/perfil",replace:!0})})]})]})})})})}Oy.createRoot(document.getElementById("root")).render(i.jsx(x.StrictMode,{children:i.jsx(P1,{})}));try{const s="https://luciofreitas-github-io.onrender.com";s&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&(window.__API_BASE=s,console.log("[runtime] API base set to",s))}catch{}
