(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function og(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function v_(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var _u={exports:{}},ea={},Eu={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function y_(){if(Rp)return Ie;Rp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function j(R,G,be){this.props=R,this.context=G,this.refs=S,this.updater=be||b}j.prototype.isReactComponent={},j.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=j.prototype;function I(R,G,be){this.props=R,this.context=G,this.refs=S,this.updater=be||b}var T=I.prototype=new N;T.constructor=I,x(T,j.prototype),T.isPureReactComponent=!0;var $=Array.isArray,P=Object.prototype.hasOwnProperty,U={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function q(R,G,be){var B,H={},V=null,ye=null;if(G!=null)for(B in G.ref!==void 0&&(ye=G.ref),G.key!==void 0&&(V=""+G.key),G)P.call(G,B)&&!O.hasOwnProperty(B)&&(H[B]=G[B]);var ee=arguments.length-2;if(ee===1)H.children=be;else if(1<ee){for(var ie=Array(ee),je=0;je<ee;je++)ie[je]=arguments[je+2];H.children=ie}if(R&&R.defaultProps)for(B in ee=R.defaultProps,ee)H[B]===void 0&&(H[B]=ee[B]);return{$$typeof:r,type:R,key:V,ref:ye,props:H,_owner:U.current}}function z(R,G){return{$$typeof:r,type:R.type,key:G,ref:R.ref,props:R.props,_owner:R._owner}}function W(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function re(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(be){return G[be]})}var Ee=/\/+/g;function ve(R,G){return typeof R=="object"&&R!==null&&R.key!=null?re(""+R.key):G.toString(36)}function he(R,G,be,B,H){var V=typeof R;(V==="undefined"||V==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(V){case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case r:case e:ye=!0}}if(ye)return ye=R,H=H(ye),R=B===""?"."+ve(ye,0):B,$(H)?(be="",R!=null&&(be=R.replace(Ee,"$&/")+"/"),he(H,G,be,"",function(je){return je})):H!=null&&(W(H)&&(H=z(H,be+(!H.key||ye&&ye.key===H.key?"":(""+H.key).replace(Ee,"$&/")+"/")+R)),G.push(H)),1;if(ye=0,B=B===""?".":B+":",$(R))for(var ee=0;ee<R.length;ee++){V=R[ee];var ie=B+ve(V,ee);ye+=he(V,G,be,ie,H)}else if(ie=w(R),typeof ie=="function")for(R=ie.call(R),ee=0;!(V=R.next()).done;)V=V.value,ie=B+ve(V,ee++),ye+=he(V,G,be,ie,H);else if(V==="object")throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ye}function ce(R,G,be){if(R==null)return R;var B=[],H=0;return he(R,B,"","",function(V){return G.call(be,V,H++)}),B}function xe(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(be){(R._status===0||R._status===-1)&&(R._status=1,R._result=be)},function(be){(R._status===0||R._status===-1)&&(R._status=2,R._result=be)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var oe={current:null},D={transition:null},ne={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:D,ReactCurrentOwner:U};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:ce,forEach:function(R,G,be){ce(R,function(){G.apply(this,arguments)},be)},count:function(R){var G=0;return ce(R,function(){G++}),G},toArray:function(R){return ce(R,function(G){return G})||[]},only:function(R){if(!W(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ie.Component=j,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=I,Ie.StrictMode=i,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ie.act=Z,Ie.cloneElement=function(R,G,be){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var B=x({},R.props),H=R.key,V=R.ref,ye=R._owner;if(G!=null){if(G.ref!==void 0&&(V=G.ref,ye=U.current),G.key!==void 0&&(H=""+G.key),R.type&&R.type.defaultProps)var ee=R.type.defaultProps;for(ie in G)P.call(G,ie)&&!O.hasOwnProperty(ie)&&(B[ie]=G[ie]===void 0&&ee!==void 0?ee[ie]:G[ie])}var ie=arguments.length-2;if(ie===1)B.children=be;else if(1<ie){ee=Array(ie);for(var je=0;je<ie;je++)ee[je]=arguments[je+2];B.children=ee}return{$$typeof:r,type:R.type,key:H,ref:V,props:B,_owner:ye}},Ie.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Ie.createElement=q,Ie.createFactory=function(R){var G=q.bind(null,R);return G.type=R,G},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(R){return{$$typeof:h,render:R}},Ie.isValidElement=W,Ie.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:xe}},Ie.memo=function(R,G){return{$$typeof:g,type:R,compare:G===void 0?null:G}},Ie.startTransition=function(R){var G=D.transition;D.transition={};try{R()}finally{D.transition=G}},Ie.unstable_act=Z,Ie.useCallback=function(R,G){return oe.current.useCallback(R,G)},Ie.useContext=function(R){return oe.current.useContext(R)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(R){return oe.current.useDeferredValue(R)},Ie.useEffect=function(R,G){return oe.current.useEffect(R,G)},Ie.useId=function(){return oe.current.useId()},Ie.useImperativeHandle=function(R,G,be){return oe.current.useImperativeHandle(R,G,be)},Ie.useInsertionEffect=function(R,G){return oe.current.useInsertionEffect(R,G)},Ie.useLayoutEffect=function(R,G){return oe.current.useLayoutEffect(R,G)},Ie.useMemo=function(R,G){return oe.current.useMemo(R,G)},Ie.useReducer=function(R,G,be){return oe.current.useReducer(R,G,be)},Ie.useRef=function(R){return oe.current.useRef(R)},Ie.useState=function(R){return oe.current.useState(R)},Ie.useSyncExternalStore=function(R,G,be){return oe.current.useSyncExternalStore(R,G,be)},Ie.useTransition=function(){return oe.current.useTransition()},Ie.version="18.3.1",Ie}var Op;function gd(){return Op||(Op=1,Eu.exports=y_()),Eu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function w_(){if(Lp)return ea;Lp=1;var r=gd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var v,y={},w=null,b=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)i.call(p,v)&&!c.hasOwnProperty(v)&&(y[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:e,type:h,key:w,ref:b,props:y,_owner:o.current}}return ea.Fragment=t,ea.jsx=u,ea.jsxs=u,ea}var Dp;function __(){return Dp||(Dp=1,_u.exports=w_()),_u.exports}var a=__();typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});var E=gd();const Gu=og(E);var qo={},xu={exports:{}},Ft={},Su={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function E_(){return Mp||(Mp=1,(function(r){function e(D,ne){var Z=D.length;D.push(ne);e:for(;0<Z;){var R=Z-1>>>1,G=D[R];if(0<o(G,ne))D[R]=ne,D[Z]=G,Z=R;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var ne=D[0],Z=D.pop();if(Z!==ne){D[0]=Z;e:for(var R=0,G=D.length,be=G>>>1;R<be;){var B=2*(R+1)-1,H=D[B],V=B+1,ye=D[V];if(0>o(H,Z))V<G&&0>o(ye,H)?(D[R]=ye,D[V]=Z,R=V):(D[R]=H,D[B]=Z,R=B);else if(V<G&&0>o(ye,Z))D[R]=ye,D[V]=Z,R=V;else break e}}return ne}function o(D,ne){var Z=D.sortIndex-ne.sortIndex;return Z!==0?Z:D.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],g=[],v=1,y=null,w=3,b=!1,x=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(D){for(var ne=t(g);ne!==null;){if(ne.callback===null)i(g);else if(ne.startTime<=D)i(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=t(g)}}function $(D){if(S=!1,T(D),!x)if(t(p)!==null)x=!0,xe(P);else{var ne=t(g);ne!==null&&oe($,ne.startTime-D)}}function P(D,ne){x=!1,S&&(S=!1,N(q),q=-1),b=!0;var Z=w;try{for(T(ne),y=t(p);y!==null&&(!(y.expirationTime>ne)||D&&!re());){var R=y.callback;if(typeof R=="function"){y.callback=null,w=y.priorityLevel;var G=R(y.expirationTime<=ne);ne=r.unstable_now(),typeof G=="function"?y.callback=G:y===t(p)&&i(p),T(ne)}else i(p);y=t(p)}if(y!==null)var be=!0;else{var B=t(g);B!==null&&oe($,B.startTime-ne),be=!1}return be}finally{y=null,w=Z,b=!1}}var U=!1,O=null,q=-1,z=5,W=-1;function re(){return!(r.unstable_now()-W<z)}function Ee(){if(O!==null){var D=r.unstable_now();W=D;var ne=!0;try{ne=O(!0,D)}finally{ne?ve():(U=!1,O=null)}}else U=!1}var ve;if(typeof I=="function")ve=function(){I(Ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ce=he.port2;he.port1.onmessage=Ee,ve=function(){ce.postMessage(null)}}else ve=function(){j(Ee,0)};function xe(D){O=D,U||(U=!0,ve())}function oe(D,ne){q=j(function(){D(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_continueExecution=function(){x||b||(x=!0,xe(P))},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(D){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Z=w;w=ne;try{return D()}finally{w=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(D,ne){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=w;w=D;try{return ne()}finally{w=Z}},r.unstable_scheduleCallback=function(D,ne,Z){var R=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?R+Z:R):Z=R,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,D={id:v++,callback:ne,priorityLevel:D,startTime:Z,expirationTime:G,sortIndex:-1},Z>R?(D.sortIndex=Z,e(g,D),t(p)===null&&D===t(g)&&(S?(N(q),q=-1):S=!0,oe($,Z-R))):(D.sortIndex=G,e(p,D),x||b||(x=!0,xe(P))),D},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(D){var ne=w;return function(){var Z=w;w=ne;try{return D.apply(this,arguments)}finally{w=Z}}}})(bu)),bu}var Up;function x_(){return Up||(Up=1,Su.exports=E_()),Su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function S_(){if(Fp)return Ft;Fp=1;var r=gd(),e=x_();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(n){return p.call(y,n)?!0:p.call(v,n)?!1:g.test(n)?y[n]=!0:(v[n]=!0,!1)}function b(n,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,d){if(s===null||typeof s>"u"||b(n,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(n,s,l,d,f,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new S(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(N,I);j[s]=new S(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(N,I);j[s]=new S(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(N,I);j[s]=new S(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,s,l,d){var f=j.hasOwnProperty(s)?j[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,f,d)&&(l=null),d||f===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):f.mustUseProperty?n[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?n.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?n.setAttributeNS(d,s,l):n.setAttribute(s,l))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),U=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),D=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Object.assign,R;function G(n){if(R===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+n}var be=!1;function B(n,s){if(!n||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(F){var d=F}Reflect.construct(n,[],s)}else{try{s.call()}catch(F){d=F}n.call(s.prototype)}else{try{throw Error()}catch(F){d=F}n()}}catch(F){if(F&&d&&typeof F.stack=="string"){for(var f=F.stack.split(`
`),m=d.stack.split(`
`),_=f.length-1,k=m.length-1;1<=_&&0<=k&&f[_]!==m[k];)k--;for(;1<=_&&0<=k;_--,k--)if(f[_]!==m[k]){if(_!==1||k!==1)do if(_--,k--,0>k||f[_]!==m[k]){var C=`
`+f[_].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=_&&0<=k);break}}}finally{be=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?G(n):""}function H(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=B(n.type,!1),n;case 11:return n=B(n.type.render,!1),n;case 1:return n=B(n.type,!0),n;default:return""}}function V(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case U:return"Portal";case z:return"Profiler";case q:return"StrictMode";case ve:return"Suspense";case he:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case re:return(n.displayName||"Context")+".Consumer";case W:return(n._context.displayName||"Context")+".Provider";case Ee:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ce:return s=n.displayName||null,s!==null?s:V(n.type)||"Memo";case xe:s=n._payload,n=n._init;try{return V(n(s))}catch{}}return null}function ye(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ie(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function je(n){var s=ie(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){d=""+_,m.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function zt(n){n._valueTracker||(n._valueTracker=je(n))}function Et(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=ie(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function tt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Le(n,s){var l=s.checked;return Z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Be(n,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ee(s.value!=null?s.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function dt(n,s){s=s.checked,s!=null&&T(n,"checked",s,!1)}function tr(n,s){dt(n,s);var l=ee(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Te(n,s.type,l):s.hasOwnProperty("defaultValue")&&Te(n,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function En(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Te(n,s,l){(s!=="number"||tt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Ct=Array.isArray;function mt(n,s,l,d){if(n=n.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=s.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&d&&(n[l].defaultSelected=!0)}else{for(l=""+ee(l),s=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,d&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function xn(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function pi(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ct(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:ee(l)}}function Oa(n,s){var l=ee(s.value),d=ee(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function La(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ge(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ge(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var te,we=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return n(s,l,d,f)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(te=te||document.createElement("div"),te.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=te.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ce(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(n){xt.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Qe[s]=Qe[n]})});function Jt(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Qe.hasOwnProperty(n)&&Qe[n]?(""+s).trim():s+"px"}function Vt(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=Jt(l,s[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,f):n[l]=f}}var mi=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cs(n,s){if(s){if(mi[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Or(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function vi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lr=null,us=null,ds=null;function Jd(n){if(n=Fi(n)){if(typeof Lr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=so(s),Lr(n.stateNode,n.type,s))}}function Yd(n){us?ds?ds.push(n):ds=[n]:us=n}function Qd(){if(us){var n=us,s=ds;if(ds=us=null,Jd(n),s)for(n=0;n<s.length;n++)Jd(s[n])}}function Xd(n,s){return n(s)}function Zd(){}var Ml=!1;function eh(n,s,l){if(Ml)return n(s,l);Ml=!0;try{return Xd(n,s,l)}finally{Ml=!1,(us!==null||ds!==null)&&(Zd(),Qd())}}function yi(n,s){var l=n.stateNode;if(l===null)return null;var d=so(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Ul=!1;if(h)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Ul=!1}function Sy(n,s,l,d,f,m,_,k,C){var F=Array.prototype.slice.call(arguments,3);try{s.apply(l,F)}catch(J){this.onError(J)}}var _i=!1,Da=null,Ma=!1,Fl=null,by={onError:function(n){_i=!0,Da=n}};function jy(n,s,l,d,f,m,_,k,C){_i=!1,Da=null,Sy.apply(by,arguments)}function ky(n,s,l,d,f,m,_,k,C){if(jy.apply(this,arguments),_i){if(_i){var F=Da;_i=!1,Da=null}else throw Error(t(198));Ma||(Ma=!0,Fl=F)}}function Dr(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function th(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function nh(n){if(Dr(n)!==n)throw Error(t(188))}function Ny(n){var s=n.alternate;if(!s){if(s=Dr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var l=n,d=s;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return nh(f),n;if(m===d)return nh(f),s;m=m.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=m;else{for(var _=!1,k=f.child;k;){if(k===l){_=!0,l=f,d=m;break}if(k===d){_=!0,d=f,l=m;break}k=k.sibling}if(!_){for(k=m.child;k;){if(k===l){_=!0,l=m,d=f;break}if(k===d){_=!0,d=m,l=f;break}k=k.sibling}if(!_)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:s}function rh(n){return n=Ny(n),n!==null?sh(n):null}function sh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=sh(n);if(s!==null)return s;n=n.sibling}return null}var ih=e.unstable_scheduleCallback,ah=e.unstable_cancelCallback,Iy=e.unstable_shouldYield,Cy=e.unstable_requestPaint,nt=e.unstable_now,Ty=e.unstable_getCurrentPriorityLevel,$l=e.unstable_ImmediatePriority,oh=e.unstable_UserBlockingPriority,Ua=e.unstable_NormalPriority,Ay=e.unstable_LowPriority,lh=e.unstable_IdlePriority,Fa=null,Sn=null;function Py(n){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Fa,n,void 0,(n.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Ly,Ry=Math.log,Oy=Math.LN2;function Ly(n){return n>>>=0,n===0?32:31-(Ry(n)/Oy|0)|0}var $a=64,Ba=4194304;function Ei(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function za(n,s){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,m=n.pingedLanes,_=l&268435455;if(_!==0){var k=_&~f;k!==0?d=Ei(k):(m&=_,m!==0&&(d=Ei(m)))}else _=l&~f,_!==0?d=Ei(_):m!==0&&(d=Ei(m));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)l=31-cn(s),f=1<<l,d|=n[l],s&=~f;return d}function Dy(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-cn(m),k=1<<_,C=f[_];C===-1?((k&l)===0||(k&d)!==0)&&(f[_]=Dy(k,s)):C<=s&&(n.expiredLanes|=k),m&=~k}}function Bl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ch(){var n=$a;return $a<<=1,($a&4194240)===0&&($a=64),n}function zl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function xi(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-cn(s),n[s]=l}function Uy(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var f=31-cn(l),m=1<<f;s[f]=0,d[f]=-1,n[f]=-1,l&=~m}}function Vl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-cn(l),f=1<<d;f&s|n[d]&s&&(n[d]|=s),l&=~f}}var Re=0;function uh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var dh,ql,hh,fh,ph,Hl=!1,Va=[],nr=null,rr=null,sr=null,Si=new Map,bi=new Map,ir=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mh(n,s){switch(n){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(s.pointerId)}}function ji(n,s,l,d,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Fi(s),s!==null&&ql(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function $y(n,s,l,d,f){switch(s){case"focusin":return nr=ji(nr,n,s,l,d,f),!0;case"dragenter":return rr=ji(rr,n,s,l,d,f),!0;case"mouseover":return sr=ji(sr,n,s,l,d,f),!0;case"pointerover":var m=f.pointerId;return Si.set(m,ji(Si.get(m)||null,n,s,l,d,f)),!0;case"gotpointercapture":return m=f.pointerId,bi.set(m,ji(bi.get(m)||null,n,s,l,d,f)),!0}return!1}function gh(n){var s=Mr(n.target);if(s!==null){var l=Dr(s);if(l!==null){if(s=l.tag,s===13){if(s=th(l),s!==null){n.blockedOn=s,ph(n.priority,function(){hh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qa(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Gl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);gi=d,l.target.dispatchEvent(d),gi=null}else return s=Fi(l),s!==null&&ql(s),n.blockedOn=l,!1;s.shift()}return!0}function vh(n,s,l){qa(n)&&l.delete(s)}function By(){Hl=!1,nr!==null&&qa(nr)&&(nr=null),rr!==null&&qa(rr)&&(rr=null),sr!==null&&qa(sr)&&(sr=null),Si.forEach(vh),bi.forEach(vh)}function ki(n,s){n.blockedOn===s&&(n.blockedOn=null,Hl||(Hl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,By)))}function Ni(n){function s(f){return ki(f,n)}if(0<Va.length){ki(Va[0],n);for(var l=1;l<Va.length;l++){var d=Va[l];d.blockedOn===n&&(d.blockedOn=null)}}for(nr!==null&&ki(nr,n),rr!==null&&ki(rr,n),sr!==null&&ki(sr,n),Si.forEach(s),bi.forEach(s),l=0;l<ir.length;l++)d=ir[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)gh(l),l.blockedOn===null&&ir.shift()}var hs=$.ReactCurrentBatchConfig,Ha=!0;function zy(n,s,l,d){var f=Re,m=hs.transition;hs.transition=null;try{Re=1,Wl(n,s,l,d)}finally{Re=f,hs.transition=m}}function Vy(n,s,l,d){var f=Re,m=hs.transition;hs.transition=null;try{Re=4,Wl(n,s,l,d)}finally{Re=f,hs.transition=m}}function Wl(n,s,l,d){if(Ha){var f=Gl(n,s,l,d);if(f===null)uc(n,s,d,Wa,l),mh(n,d);else if($y(f,n,s,l,d))d.stopPropagation();else if(mh(n,d),s&4&&-1<Fy.indexOf(n)){for(;f!==null;){var m=Fi(f);if(m!==null&&dh(m),m=Gl(n,s,l,d),m===null&&uc(n,s,d,Wa,l),m===f)break;f=m}f!==null&&d.stopPropagation()}else uc(n,s,d,null,l)}}var Wa=null;function Gl(n,s,l,d){if(Wa=null,n=vi(d),n=Mr(n),n!==null)if(s=Dr(n),s===null)n=null;else if(l=s.tag,l===13){if(n=th(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Wa=n,null}function yh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ty()){case $l:return 1;case oh:return 4;case Ua:case Ay:return 16;case lh:return 536870912;default:return 16}default:return 16}}var ar=null,Kl=null,Ga=null;function wh(){if(Ga)return Ga;var n,s=Kl,l=s.length,d,f="value"in ar?ar.value:ar.textContent,m=f.length;for(n=0;n<l&&s[n]===f[n];n++);var _=l-n;for(d=1;d<=_&&s[l-d]===f[m-d];d++);return Ga=f.slice(n,1<d?1-d:void 0)}function Ka(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ja(){return!0}function _h(){return!1}function qt(n){function s(l,d,f,m,_){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(l=n[k],this[k]=l?l(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ja:_h,this.isPropagationStopped=_h,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=qt(fs),Ii=Z({},fs,{view:0,detail:0}),qy=qt(Ii),Yl,Ql,Ci,Ya=Z({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ci&&(Ci&&n.type==="mousemove"?(Yl=n.screenX-Ci.screenX,Ql=n.screenY-Ci.screenY):Ql=Yl=0,Ci=n),Yl)},movementY:function(n){return"movementY"in n?n.movementY:Ql}}),Eh=qt(Ya),Hy=Z({},Ya,{dataTransfer:0}),Wy=qt(Hy),Gy=Z({},Ii,{relatedTarget:0}),Xl=qt(Gy),Ky=Z({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Jy=qt(Ky),Yy=Z({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Qy=qt(Yy),Xy=Z({},fs,{data:0}),xh=qt(Xy),Zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=tw[n])?!!s[n]:!1}function Zl(){return nw}var rw=Z({},Ii,{key:function(n){if(n.key){var s=Zy[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ka(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ew[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(n){return n.type==="keypress"?Ka(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ka(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),sw=qt(rw),iw=Z({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=qt(iw),aw=Z({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),ow=qt(aw),lw=Z({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=qt(lw),uw=Z({},Ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dw=qt(uw),hw=[9,13,27,32],ec=h&&"CompositionEvent"in window,Ti=null;h&&"documentMode"in document&&(Ti=document.documentMode);var fw=h&&"TextEvent"in window&&!Ti,bh=h&&(!ec||Ti&&8<Ti&&11>=Ti),jh=" ",kh=!1;function Nh(n,s){switch(n){case"keyup":return hw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ps=!1;function pw(n,s){switch(n){case"compositionend":return Ih(s);case"keypress":return s.which!==32?null:(kh=!0,jh);case"textInput":return n=s.data,n===jh&&kh?null:n;default:return null}}function mw(n,s){if(ps)return n==="compositionend"||!ec&&Nh(n,s)?(n=wh(),Ga=Kl=ar=null,ps=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bh&&s.locale!=="ko"?null:s.data;default:return null}}var gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!gw[n.type]:s==="textarea"}function Th(n,s,l,d){Yd(d),s=to(s,"onChange"),0<s.length&&(l=new Jl("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var Ai=null,Pi=null;function vw(n){Kh(n,0)}function Qa(n){var s=ws(n);if(Et(s))return n}function yw(n,s){if(n==="change")return s}var Ah=!1;if(h){var tc;if(h){var nc="oninput"in document;if(!nc){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),nc=typeof Ph.oninput=="function"}tc=nc}else tc=!1;Ah=tc&&(!document.documentMode||9<document.documentMode)}function Rh(){Ai&&(Ai.detachEvent("onpropertychange",Oh),Pi=Ai=null)}function Oh(n){if(n.propertyName==="value"&&Qa(Pi)){var s=[];Th(s,Pi,n,vi(n)),eh(vw,s)}}function ww(n,s,l){n==="focusin"?(Rh(),Ai=s,Pi=l,Ai.attachEvent("onpropertychange",Oh)):n==="focusout"&&Rh()}function _w(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qa(Pi)}function Ew(n,s){if(n==="click")return Qa(s)}function xw(n,s){if(n==="input"||n==="change")return Qa(s)}function Sw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var un=typeof Object.is=="function"?Object.is:Sw;function Ri(n,s){if(un(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!un(n[f],s[f]))return!1}return!0}function Lh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dh(n,s){var l=Lh(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lh(l)}}function Mh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Mh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Uh(){for(var n=window,s=tt();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=tt(n.document)}return s}function rc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function bw(n){var s=Uh(),l=n.focusedElem,d=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Mh(l.ownerDocument.documentElement,l)){if(d!==null&&rc(l)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=l.textContent.length,m=Math.min(d.start,f);d=d.end===void 0?m:Math.min(d.end,f),!n.extend&&m>d&&(f=d,d=m,m=f),f=Dh(l,m);var _=Dh(l,d);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),m>d?(n.addRange(s),n.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jw=h&&"documentMode"in document&&11>=document.documentMode,ms=null,sc=null,Oi=null,ic=!1;function Fh(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ic||ms==null||ms!==tt(d)||(d=ms,"selectionStart"in d&&rc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oi&&Ri(Oi,d)||(Oi=d,d=to(sc,"onSelect"),0<d.length&&(s=new Jl("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=ms)))}function Xa(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var gs={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},ac={},$h={};h&&($h=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Za(n){if(ac[n])return ac[n];if(!gs[n])return n;var s=gs[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in $h)return ac[n]=s[l];return n}var Bh=Za("animationend"),zh=Za("animationiteration"),Vh=Za("animationstart"),qh=Za("transitionend"),Hh=new Map,Wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(n,s){Hh.set(n,s),c(s,[n])}for(var oc=0;oc<Wh.length;oc++){var lc=Wh[oc],kw=lc.toLowerCase(),Nw=lc[0].toUpperCase()+lc.slice(1);or(kw,"on"+Nw)}or(Bh,"onAnimationEnd"),or(zh,"onAnimationIteration"),or(Vh,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(qh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Gh(n,s,l){var d=n.type||"unknown-event";n.currentTarget=l,ky(d,s,void 0,n),n.currentTarget=null}function Kh(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],f=d.event;d=d.listeners;e:{var m=void 0;if(s)for(var _=d.length-1;0<=_;_--){var k=d[_],C=k.instance,F=k.currentTarget;if(k=k.listener,C!==m&&f.isPropagationStopped())break e;Gh(f,k,F),m=C}else for(_=0;_<d.length;_++){if(k=d[_],C=k.instance,F=k.currentTarget,k=k.listener,C!==m&&f.isPropagationStopped())break e;Gh(f,k,F),m=C}}}if(Ma)throw n=Fl,Ma=!1,Fl=null,n}function ze(n,s){var l=s[gc];l===void 0&&(l=s[gc]=new Set);var d=n+"__bubble";l.has(d)||(Jh(s,n,2,!1),l.add(d))}function cc(n,s,l){var d=0;s&&(d|=4),Jh(l,n,d,s)}var eo="_reactListening"+Math.random().toString(36).slice(2);function Di(n){if(!n[eo]){n[eo]=!0,i.forEach(function(l){l!=="selectionchange"&&(Iw.has(l)||cc(l,!1,n),cc(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[eo]||(s[eo]=!0,cc("selectionchange",!1,s))}}function Jh(n,s,l,d){switch(yh(s)){case 1:var f=zy;break;case 4:f=Vy;break;default:f=Wl}l=f.bind(null,s,l,n),f=void 0,!Ul||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?n.addEventListener(s,l,{capture:!0,passive:f}):n.addEventListener(s,l,!0):f!==void 0?n.addEventListener(s,l,{passive:f}):n.addEventListener(s,l,!1)}function uc(n,s,l,d,f){var m=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var k=d.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(_===4)for(_=d.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;_=_.return}for(;k!==null;){if(_=Mr(k),_===null)return;if(C=_.tag,C===5||C===6){d=m=_;continue e}k=k.parentNode}}d=d.return}eh(function(){var F=m,J=vi(l),Y=[];e:{var K=Hh.get(n);if(K!==void 0){var se=Jl,le=n;switch(n){case"keypress":if(Ka(l)===0)break e;case"keydown":case"keyup":se=sw;break;case"focusin":le="focus",se=Xl;break;case"focusout":le="blur",se=Xl;break;case"beforeblur":case"afterblur":se=Xl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=ow;break;case Bh:case zh:case Vh:se=Jy;break;case qh:se=cw;break;case"scroll":se=qy;break;case"wheel":se=dw;break;case"copy":case"cut":case"paste":se=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Sh}var ue=(s&4)!==0,rt=!ue&&n==="scroll",L=ue?K!==null?K+"Capture":null:K;ue=[];for(var A=F,M;A!==null;){M=A;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,L!==null&&(X=yi(A,L),X!=null&&ue.push(Mi(A,X,M)))),rt)break;A=A.return}0<ue.length&&(K=new se(K,le,null,l,J),Y.push({event:K,listeners:ue}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",K&&l!==gi&&(le=l.relatedTarget||l.fromElement)&&(Mr(le)||le[Pn]))break e;if((se||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,se?(le=l.relatedTarget||l.toElement,se=F,le=le?Mr(le):null,le!==null&&(rt=Dr(le),le!==rt||le.tag!==5&&le.tag!==6)&&(le=null)):(se=null,le=F),se!==le)){if(ue=Eh,X="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ue=Sh,X="onPointerLeave",L="onPointerEnter",A="pointer"),rt=se==null?K:ws(se),M=le==null?K:ws(le),K=new ue(X,A+"leave",se,l,J),K.target=rt,K.relatedTarget=M,X=null,Mr(J)===F&&(ue=new ue(L,A+"enter",le,l,J),ue.target=M,ue.relatedTarget=rt,X=ue),rt=X,se&&le)t:{for(ue=se,L=le,A=0,M=ue;M;M=vs(M))A++;for(M=0,X=L;X;X=vs(X))M++;for(;0<A-M;)ue=vs(ue),A--;for(;0<M-A;)L=vs(L),M--;for(;A--;){if(ue===L||L!==null&&ue===L.alternate)break t;ue=vs(ue),L=vs(L)}ue=null}else ue=null;se!==null&&Yh(Y,K,se,ue,!1),le!==null&&rt!==null&&Yh(Y,rt,le,ue,!0)}}e:{if(K=F?ws(F):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var de=yw;else if(Ch(K))if(Ah)de=xw;else{de=_w;var fe=ww}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(de=Ew);if(de&&(de=de(n,F))){Th(Y,de,l,J);break e}fe&&fe(n,K,F),n==="focusout"&&(fe=K._wrapperState)&&fe.controlled&&K.type==="number"&&Te(K,"number",K.value)}switch(fe=F?ws(F):window,n){case"focusin":(Ch(fe)||fe.contentEditable==="true")&&(ms=fe,sc=F,Oi=null);break;case"focusout":Oi=sc=ms=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Fh(Y,l,J);break;case"selectionchange":if(jw)break;case"keydown":case"keyup":Fh(Y,l,J)}var pe;if(ec)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ps?Nh(n,l)&&(_e="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(_e="onCompositionStart");_e&&(bh&&l.locale!=="ko"&&(ps||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ps&&(pe=wh()):(ar=J,Kl="value"in ar?ar.value:ar.textContent,ps=!0)),fe=to(F,_e),0<fe.length&&(_e=new xh(_e,n,null,l,J),Y.push({event:_e,listeners:fe}),pe?_e.data=pe:(pe=Ih(l),pe!==null&&(_e.data=pe)))),(pe=fw?pw(n,l):mw(n,l))&&(F=to(F,"onBeforeInput"),0<F.length&&(J=new xh("onBeforeInput","beforeinput",null,l,J),Y.push({event:J,listeners:F}),J.data=pe))}Kh(Y,s)})}function Mi(n,s,l){return{instance:n,listener:s,currentTarget:l}}function to(n,s){for(var l=s+"Capture",d=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=yi(n,l),m!=null&&d.unshift(Mi(n,m,f)),m=yi(n,s),m!=null&&d.push(Mi(n,m,f))),n=n.return}return d}function vs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Yh(n,s,l,d,f){for(var m=s._reactName,_=[];l!==null&&l!==d;){var k=l,C=k.alternate,F=k.stateNode;if(C!==null&&C===d)break;k.tag===5&&F!==null&&(k=F,f?(C=yi(l,m),C!=null&&_.unshift(Mi(l,C,k))):f||(C=yi(l,m),C!=null&&_.push(Mi(l,C,k)))),l=l.return}_.length!==0&&n.push({event:s,listeners:_})}var Cw=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function Qh(n){return(typeof n=="string"?n:""+n).replace(Cw,`
`).replace(Tw,"")}function no(n,s,l){if(s=Qh(s),Qh(n)!==s&&l)throw Error(t(425))}function ro(){}var dc=null,hc=null;function fc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(n){return Xh.resolve(null).then(n).catch(Rw)}:pc;function Rw(n){setTimeout(function(){throw n})}function mc(n,s){var l=s,d=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){n.removeChild(f),Ni(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Ni(s)}function lr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Zh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var ys=Math.random().toString(36).slice(2),bn="__reactFiber$"+ys,Ui="__reactProps$"+ys,Pn="__reactContainer$"+ys,gc="__reactEvents$"+ys,Ow="__reactListeners$"+ys,Lw="__reactHandles$"+ys;function Mr(n){var s=n[bn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Pn]||l[bn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Zh(n);n!==null;){if(l=n[bn])return l;n=Zh(n)}return s}n=l,l=n.parentNode}return null}function Fi(n){return n=n[bn]||n[Pn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ws(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function so(n){return n[Ui]||null}var vc=[],_s=-1;function cr(n){return{current:n}}function Ve(n){0>_s||(n.current=vc[_s],vc[_s]=null,_s--)}function Ue(n,s){_s++,vc[_s]=n.current,n.current=s}var ur={},jt=cr(ur),Ot=cr(!1),Ur=ur;function Es(n,s){var l=n.type.contextTypes;if(!l)return ur;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in l)f[m]=s[m];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function Lt(n){return n=n.childContextTypes,n!=null}function io(){Ve(Ot),Ve(jt)}function ef(n,s,l){if(jt.current!==ur)throw Error(t(168));Ue(jt,s),Ue(Ot,l)}function tf(n,s,l){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,ye(n)||"Unknown",f));return Z({},l,d)}function ao(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ur,Ur=jt.current,Ue(jt,n),Ue(Ot,Ot.current),!0}function nf(n,s,l){var d=n.stateNode;if(!d)throw Error(t(169));l?(n=tf(n,s,Ur),d.__reactInternalMemoizedMergedChildContext=n,Ve(Ot),Ve(jt),Ue(jt,n)):Ve(Ot),Ue(Ot,l)}var Rn=null,oo=!1,yc=!1;function rf(n){Rn===null?Rn=[n]:Rn.push(n)}function Dw(n){oo=!0,rf(n)}function dr(){if(!yc&&Rn!==null){yc=!0;var n=0,s=Re;try{var l=Rn;for(Re=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Rn=null,oo=!1}catch(f){throw Rn!==null&&(Rn=Rn.slice(n+1)),ih($l,dr),f}finally{Re=s,yc=!1}}return null}var xs=[],Ss=0,lo=null,co=0,Yt=[],Qt=0,Fr=null,On=1,Ln="";function $r(n,s){xs[Ss++]=co,xs[Ss++]=lo,lo=n,co=s}function sf(n,s,l){Yt[Qt++]=On,Yt[Qt++]=Ln,Yt[Qt++]=Fr,Fr=n;var d=On;n=Ln;var f=32-cn(d)-1;d&=~(1<<f),l+=1;var m=32-cn(s)+f;if(30<m){var _=f-f%5;m=(d&(1<<_)-1).toString(32),d>>=_,f-=_,On=1<<32-cn(s)+f|l<<f|d,Ln=m+n}else On=1<<m|l<<f|d,Ln=n}function wc(n){n.return!==null&&($r(n,1),sf(n,1,0))}function _c(n){for(;n===lo;)lo=xs[--Ss],xs[Ss]=null,co=xs[--Ss],xs[Ss]=null;for(;n===Fr;)Fr=Yt[--Qt],Yt[Qt]=null,Ln=Yt[--Qt],Yt[Qt]=null,On=Yt[--Qt],Yt[Qt]=null}var Ht=null,Wt=null,We=!1,dn=null;function af(n,s){var l=tn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function of(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ht=n,Wt=lr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ht=n,Wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Fr!==null?{id:On,overflow:Ln}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=tn(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Ht=n,Wt=null,!0):!1;default:return!1}}function Ec(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xc(n){if(We){var s=Wt;if(s){var l=s;if(!of(n,s)){if(Ec(n))throw Error(t(418));s=lr(l.nextSibling);var d=Ht;s&&of(n,s)?af(d,l):(n.flags=n.flags&-4097|2,We=!1,Ht=n)}}else{if(Ec(n))throw Error(t(418));n.flags=n.flags&-4097|2,We=!1,Ht=n}}}function lf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ht=n}function uo(n){if(n!==Ht)return!1;if(!We)return lf(n),We=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!fc(n.type,n.memoizedProps)),s&&(s=Wt)){if(Ec(n))throw cf(),Error(t(418));for(;s;)af(n,s),s=lr(s.nextSibling)}if(lf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Wt=lr(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Wt=null}}else Wt=Ht?lr(n.stateNode.nextSibling):null;return!0}function cf(){for(var n=Wt;n;)n=lr(n.nextSibling)}function bs(){Wt=Ht=null,We=!1}function Sc(n){dn===null?dn=[n]:dn.push(n)}var Mw=$.ReactCurrentBatchConfig;function $i(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,n));var f=d,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var k=f.refs;_===null?delete k[m]:k[m]=_},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function ho(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function uf(n){var s=n._init;return s(n._payload)}function df(n){function s(L,A){if(n){var M=L.deletions;M===null?(L.deletions=[A],L.flags|=16):M.push(A)}}function l(L,A){if(!n)return null;for(;A!==null;)s(L,A),A=A.sibling;return null}function d(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function f(L,A){return L=wr(L,A),L.index=0,L.sibling=null,L}function m(L,A,M){return L.index=M,n?(M=L.alternate,M!==null?(M=M.index,M<A?(L.flags|=2,A):M):(L.flags|=2,A)):(L.flags|=1048576,A)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function k(L,A,M,X){return A===null||A.tag!==6?(A=pu(M,L.mode,X),A.return=L,A):(A=f(A,M),A.return=L,A)}function C(L,A,M,X){var de=M.type;return de===O?J(L,A,M.props.children,X,M.key):A!==null&&(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===xe&&uf(de)===A.type)?(X=f(A,M.props),X.ref=$i(L,A,M),X.return=L,X):(X=Do(M.type,M.key,M.props,null,L.mode,X),X.ref=$i(L,A,M),X.return=L,X)}function F(L,A,M,X){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=mu(M,L.mode,X),A.return=L,A):(A=f(A,M.children||[]),A.return=L,A)}function J(L,A,M,X,de){return A===null||A.tag!==7?(A=Kr(M,L.mode,X,de),A.return=L,A):(A=f(A,M),A.return=L,A)}function Y(L,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=pu(""+A,L.mode,M),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case P:return M=Do(A.type,A.key,A.props,null,L.mode,M),M.ref=$i(L,null,A),M.return=L,M;case U:return A=mu(A,L.mode,M),A.return=L,A;case xe:var X=A._init;return Y(L,X(A._payload),M)}if(Ct(A)||ne(A))return A=Kr(A,L.mode,M,null),A.return=L,A;ho(L,A)}return null}function K(L,A,M,X){var de=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return de!==null?null:k(L,A,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return M.key===de?C(L,A,M,X):null;case U:return M.key===de?F(L,A,M,X):null;case xe:return de=M._init,K(L,A,de(M._payload),X)}if(Ct(M)||ne(M))return de!==null?null:J(L,A,M,X,null);ho(L,M)}return null}function se(L,A,M,X,de){if(typeof X=="string"&&X!==""||typeof X=="number")return L=L.get(M)||null,k(A,L,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return L=L.get(X.key===null?M:X.key)||null,C(A,L,X,de);case U:return L=L.get(X.key===null?M:X.key)||null,F(A,L,X,de);case xe:var fe=X._init;return se(L,A,M,fe(X._payload),de)}if(Ct(X)||ne(X))return L=L.get(M)||null,J(A,L,X,de,null);ho(A,X)}return null}function le(L,A,M,X){for(var de=null,fe=null,pe=A,_e=A=0,yt=null;pe!==null&&_e<M.length;_e++){pe.index>_e?(yt=pe,pe=null):yt=pe.sibling;var Pe=K(L,pe,M[_e],X);if(Pe===null){pe===null&&(pe=yt);break}n&&pe&&Pe.alternate===null&&s(L,pe),A=m(Pe,A,_e),fe===null?de=Pe:fe.sibling=Pe,fe=Pe,pe=yt}if(_e===M.length)return l(L,pe),We&&$r(L,_e),de;if(pe===null){for(;_e<M.length;_e++)pe=Y(L,M[_e],X),pe!==null&&(A=m(pe,A,_e),fe===null?de=pe:fe.sibling=pe,fe=pe);return We&&$r(L,_e),de}for(pe=d(L,pe);_e<M.length;_e++)yt=se(pe,L,_e,M[_e],X),yt!==null&&(n&&yt.alternate!==null&&pe.delete(yt.key===null?_e:yt.key),A=m(yt,A,_e),fe===null?de=yt:fe.sibling=yt,fe=yt);return n&&pe.forEach(function(_r){return s(L,_r)}),We&&$r(L,_e),de}function ue(L,A,M,X){var de=ne(M);if(typeof de!="function")throw Error(t(150));if(M=de.call(M),M==null)throw Error(t(151));for(var fe=de=null,pe=A,_e=A=0,yt=null,Pe=M.next();pe!==null&&!Pe.done;_e++,Pe=M.next()){pe.index>_e?(yt=pe,pe=null):yt=pe.sibling;var _r=K(L,pe,Pe.value,X);if(_r===null){pe===null&&(pe=yt);break}n&&pe&&_r.alternate===null&&s(L,pe),A=m(_r,A,_e),fe===null?de=_r:fe.sibling=_r,fe=_r,pe=yt}if(Pe.done)return l(L,pe),We&&$r(L,_e),de;if(pe===null){for(;!Pe.done;_e++,Pe=M.next())Pe=Y(L,Pe.value,X),Pe!==null&&(A=m(Pe,A,_e),fe===null?de=Pe:fe.sibling=Pe,fe=Pe);return We&&$r(L,_e),de}for(pe=d(L,pe);!Pe.done;_e++,Pe=M.next())Pe=se(pe,L,_e,Pe.value,X),Pe!==null&&(n&&Pe.alternate!==null&&pe.delete(Pe.key===null?_e:Pe.key),A=m(Pe,A,_e),fe===null?de=Pe:fe.sibling=Pe,fe=Pe);return n&&pe.forEach(function(g_){return s(L,g_)}),We&&$r(L,_e),de}function rt(L,A,M,X){if(typeof M=="object"&&M!==null&&M.type===O&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case P:e:{for(var de=M.key,fe=A;fe!==null;){if(fe.key===de){if(de=M.type,de===O){if(fe.tag===7){l(L,fe.sibling),A=f(fe,M.props.children),A.return=L,L=A;break e}}else if(fe.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===xe&&uf(de)===fe.type){l(L,fe.sibling),A=f(fe,M.props),A.ref=$i(L,fe,M),A.return=L,L=A;break e}l(L,fe);break}else s(L,fe);fe=fe.sibling}M.type===O?(A=Kr(M.props.children,L.mode,X,M.key),A.return=L,L=A):(X=Do(M.type,M.key,M.props,null,L.mode,X),X.ref=$i(L,A,M),X.return=L,L=X)}return _(L);case U:e:{for(fe=M.key;A!==null;){if(A.key===fe)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){l(L,A.sibling),A=f(A,M.children||[]),A.return=L,L=A;break e}else{l(L,A);break}else s(L,A);A=A.sibling}A=mu(M,L.mode,X),A.return=L,L=A}return _(L);case xe:return fe=M._init,rt(L,A,fe(M._payload),X)}if(Ct(M))return le(L,A,M,X);if(ne(M))return ue(L,A,M,X);ho(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(l(L,A.sibling),A=f(A,M),A.return=L,L=A):(l(L,A),A=pu(M,L.mode,X),A.return=L,L=A),_(L)):l(L,A)}return rt}var js=df(!0),hf=df(!1),fo=cr(null),po=null,ks=null,bc=null;function jc(){bc=ks=po=null}function kc(n){var s=fo.current;Ve(fo),n._currentValue=s}function Nc(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function Ns(n,s){po=n,bc=ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Dt=!0),n.firstContext=null)}function Xt(n){var s=n._currentValue;if(bc!==n)if(n={context:n,memoizedValue:s,next:null},ks===null){if(po===null)throw Error(t(308));ks=n,po.dependencies={lanes:0,firstContext:n}}else ks=ks.next=n;return s}var Br=null;function Ic(n){Br===null?Br=[n]:Br.push(n)}function ff(n,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Ic(s)):(l.next=f.next,f.next=l),s.interleaved=l,Dn(n,d)}function Dn(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var hr=!1;function Cc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Mn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function fr(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Ae&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Dn(n,l)}return f=d.interleaved,f===null?(s.next=s,Ic(d)):(s.next=f.next,f.next=s),d.interleaved=s,Dn(n,l)}function mo(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Vl(n,l)}}function mf(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?f=m=_:m=m.next=_,l=l.next}while(l!==null);m===null?f=m=s:m=m.next=s}else f=m=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function go(n,s,l,d){var f=n.updateQueue;hr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var C=k,F=C.next;C.next=null,_===null?m=F:_.next=F,_=C;var J=n.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==_&&(k===null?J.firstBaseUpdate=F:k.next=F,J.lastBaseUpdate=C))}if(m!==null){var Y=f.baseState;_=0,J=F=C=null,k=m;do{var K=k.lane,se=k.eventTime;if((d&K)===K){J!==null&&(J=J.next={eventTime:se,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var le=n,ue=k;switch(K=s,se=l,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){Y=le.call(se,Y,K);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,K=typeof le=="function"?le.call(se,Y,K):le,K==null)break e;Y=Z({},Y,K);break e;case 2:hr=!0}}k.callback!==null&&k.lane!==0&&(n.flags|=64,K=f.effects,K===null?f.effects=[k]:K.push(k))}else se={eventTime:se,lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(F=J=se,C=Y):J=J.next=se,_|=K;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;K=k,k=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);if(J===null&&(C=Y),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=J,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);qr|=_,n.lanes=_,n.memoizedState=Y}}function gf(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Bi={},jn=cr(Bi),zi=cr(Bi),Vi=cr(Bi);function zr(n){if(n===Bi)throw Error(t(174));return n}function Tc(n,s){switch(Ue(Vi,s),Ue(zi,n),Ue(jn,Bi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ne(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ne(s,n)}Ve(jn),Ue(jn,s)}function Is(){Ve(jn),Ve(zi),Ve(Vi)}function vf(n){zr(Vi.current);var s=zr(jn.current),l=Ne(s,n.type);s!==l&&(Ue(zi,n),Ue(jn,l))}function Ac(n){zi.current===n&&(Ve(jn),Ve(zi))}var Je=cr(0);function vo(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pc=[];function Rc(){for(var n=0;n<Pc.length;n++)Pc[n]._workInProgressVersionPrimary=null;Pc.length=0}var yo=$.ReactCurrentDispatcher,Oc=$.ReactCurrentBatchConfig,Vr=0,Ye=null,ht=null,gt=null,wo=!1,qi=!1,Hi=0,Uw=0;function kt(){throw Error(t(321))}function Lc(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!un(n[l],s[l]))return!1;return!0}function Dc(n,s,l,d,f,m){if(Vr=m,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,yo.current=n===null||n.memoizedState===null?zw:Vw,n=l(d,f),qi){m=0;do{if(qi=!1,Hi=0,25<=m)throw Error(t(301));m+=1,gt=ht=null,s.updateQueue=null,yo.current=qw,n=l(d,f)}while(qi)}if(yo.current=xo,s=ht!==null&&ht.next!==null,Vr=0,gt=ht=Ye=null,wo=!1,s)throw Error(t(300));return n}function Mc(){var n=Hi!==0;return Hi=0,n}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ye.memoizedState=gt=n:gt=gt.next=n,gt}function Zt(){if(ht===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var s=gt===null?Ye.memoizedState:gt.next;if(s!==null)gt=s,ht=n;else{if(n===null)throw Error(t(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Ye.memoizedState=gt=n:gt=gt.next=n}return gt}function Wi(n,s){return typeof s=="function"?s(n):s}function Uc(n){var s=Zt(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var d=ht,f=d.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}d.baseQueue=f=m,l.pending=null}if(f!==null){m=f.next,d=d.baseState;var k=_=null,C=null,F=m;do{var J=F.lane;if((Vr&J)===J)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),d=F.hasEagerState?F.eagerState:n(d,F.action);else{var Y={lane:J,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(k=C=Y,_=d):C=C.next=Y,Ye.lanes|=J,qr|=J}F=F.next}while(F!==null&&F!==m);C===null?_=d:C.next=k,un(d,s.memoizedState)||(Dt=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=C,l.lastRenderedState=d}if(n=l.interleaved,n!==null){f=n;do m=f.lane,Ye.lanes|=m,qr|=m,f=f.next;while(f!==n)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Fc(n){var s=Zt(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var d=l.dispatch,f=l.pending,m=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);un(m,s.memoizedState)||(Dt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,d]}function yf(){}function wf(n,s){var l=Ye,d=Zt(),f=s(),m=!un(d.memoizedState,f);if(m&&(d.memoizedState=f,Dt=!0),d=d.queue,$c(xf.bind(null,l,d,n),[n]),d.getSnapshot!==s||m||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Gi(9,Ef.bind(null,l,d,f,s),void 0,null),vt===null)throw Error(t(349));(Vr&30)!==0||_f(l,s,f)}return f}function _f(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Ef(n,s,l,d){s.value=l,s.getSnapshot=d,Sf(s)&&bf(n)}function xf(n,s,l){return l(function(){Sf(s)&&bf(n)})}function Sf(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!un(n,l)}catch{return!0}}function bf(n){var s=Dn(n,1);s!==null&&mn(s,n,1,-1)}function jf(n){var s=kn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},s.queue=n,n=n.dispatch=Bw.bind(null,Ye,n),[s.memoizedState,n]}function Gi(n,s,l,d){return n={tag:n,create:s,destroy:l,deps:d,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n)),n}function kf(){return Zt().memoizedState}function _o(n,s,l,d){var f=kn();Ye.flags|=n,f.memoizedState=Gi(1|s,l,void 0,d===void 0?null:d)}function Eo(n,s,l,d){var f=Zt();d=d===void 0?null:d;var m=void 0;if(ht!==null){var _=ht.memoizedState;if(m=_.destroy,d!==null&&Lc(d,_.deps)){f.memoizedState=Gi(s,l,m,d);return}}Ye.flags|=n,f.memoizedState=Gi(1|s,l,m,d)}function Nf(n,s){return _o(8390656,8,n,s)}function $c(n,s){return Eo(2048,8,n,s)}function If(n,s){return Eo(4,2,n,s)}function Cf(n,s){return Eo(4,4,n,s)}function Tf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Af(n,s,l){return l=l!=null?l.concat([n]):null,Eo(4,4,Tf.bind(null,s,n),l)}function Bc(){}function Pf(n,s){var l=Zt();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Lc(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function Rf(n,s){var l=Zt();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Lc(s,d[1])?d[0]:(n=n(),l.memoizedState=[n,s],n)}function Of(n,s,l){return(Vr&21)===0?(n.baseState&&(n.baseState=!1,Dt=!0),n.memoizedState=l):(un(l,s)||(l=ch(),Ye.lanes|=l,qr|=l,n.baseState=!0),s)}function Fw(n,s){var l=Re;Re=l!==0&&4>l?l:4,n(!0);var d=Oc.transition;Oc.transition={};try{n(!1),s()}finally{Re=l,Oc.transition=d}}function Lf(){return Zt().memoizedState}function $w(n,s,l){var d=vr(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Df(n))Mf(s,l);else if(l=ff(n,s,l,d),l!==null){var f=At();mn(l,n,d,f),Uf(l,s,d)}}function Bw(n,s,l){var d=vr(n),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Df(n))Mf(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,k=m(_,l);if(f.hasEagerState=!0,f.eagerState=k,un(k,_)){var C=s.interleaved;C===null?(f.next=f,Ic(s)):(f.next=C.next,C.next=f),s.interleaved=f;return}}catch{}finally{}l=ff(n,s,f,d),l!==null&&(f=At(),mn(l,n,d,f),Uf(l,s,d))}}function Df(n){var s=n.alternate;return n===Ye||s!==null&&s===Ye}function Mf(n,s){qi=wo=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Uf(n,s,l){if((l&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Vl(n,l)}}var xo={readContext:Xt,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},zw={readContext:Xt,useCallback:function(n,s){return kn().memoizedState=[n,s===void 0?null:s],n},useContext:Xt,useEffect:Nf,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,_o(4194308,4,Tf.bind(null,s,n),l)},useLayoutEffect:function(n,s){return _o(4194308,4,n,s)},useInsertionEffect:function(n,s){return _o(4,2,n,s)},useMemo:function(n,s){var l=kn();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var d=kn();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=$w.bind(null,Ye,n),[d.memoizedState,n]},useRef:function(n){var s=kn();return n={current:n},s.memoizedState=n},useState:jf,useDebugValue:Bc,useDeferredValue:function(n){return kn().memoizedState=n},useTransition:function(){var n=jf(!1),s=n[0];return n=Fw.bind(null,n[1]),kn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var d=Ye,f=kn();if(We){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),vt===null)throw Error(t(349));(Vr&30)!==0||_f(d,s,l)}f.memoizedState=l;var m={value:l,getSnapshot:s};return f.queue=m,Nf(xf.bind(null,d,m,n),[n]),d.flags|=2048,Gi(9,Ef.bind(null,d,m,l,s),void 0,null),l},useId:function(){var n=kn(),s=vt.identifierPrefix;if(We){var l=Ln,d=On;l=(d&~(1<<32-cn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Hi++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Uw++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Vw={readContext:Xt,useCallback:Pf,useContext:Xt,useEffect:$c,useImperativeHandle:Af,useInsertionEffect:If,useLayoutEffect:Cf,useMemo:Rf,useReducer:Uc,useRef:kf,useState:function(){return Uc(Wi)},useDebugValue:Bc,useDeferredValue:function(n){var s=Zt();return Of(s,ht.memoizedState,n)},useTransition:function(){var n=Uc(Wi)[0],s=Zt().memoizedState;return[n,s]},useMutableSource:yf,useSyncExternalStore:wf,useId:Lf,unstable_isNewReconciler:!1},qw={readContext:Xt,useCallback:Pf,useContext:Xt,useEffect:$c,useImperativeHandle:Af,useInsertionEffect:If,useLayoutEffect:Cf,useMemo:Rf,useReducer:Fc,useRef:kf,useState:function(){return Fc(Wi)},useDebugValue:Bc,useDeferredValue:function(n){var s=Zt();return ht===null?s.memoizedState=n:Of(s,ht.memoizedState,n)},useTransition:function(){var n=Fc(Wi)[0],s=Zt().memoizedState;return[n,s]},useMutableSource:yf,useSyncExternalStore:wf,useId:Lf,unstable_isNewReconciler:!1};function hn(n,s){if(n&&n.defaultProps){s=Z({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function zc(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:Z({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var So={isMounted:function(n){return(n=n._reactInternals)?Dr(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var d=At(),f=vr(n),m=Mn(d,f);m.payload=s,l!=null&&(m.callback=l),s=fr(n,m,f),s!==null&&(mn(s,n,f,d),mo(s,n,f))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=At(),f=vr(n),m=Mn(d,f);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=fr(n,m,f),s!==null&&(mn(s,n,f,d),mo(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=At(),d=vr(n),f=Mn(l,d);f.tag=2,s!=null&&(f.callback=s),s=fr(n,f,d),s!==null&&(mn(s,n,d,l),mo(s,n,d))}};function Ff(n,s,l,d,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,m,_):s.prototype&&s.prototype.isPureReactComponent?!Ri(l,d)||!Ri(f,m):!0}function $f(n,s,l){var d=!1,f=ur,m=s.contextType;return typeof m=="object"&&m!==null?m=Xt(m):(f=Lt(s)?Ur:jt.current,d=s.contextTypes,m=(d=d!=null)?Es(n,f):ur),s=new s(l,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=So,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),s}function Bf(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&So.enqueueReplaceState(s,s.state,null)}function Vc(n,s,l,d){var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},Cc(n);var m=s.contextType;typeof m=="object"&&m!==null?f.context=Xt(m):(m=Lt(s)?Ur:jt.current,f.context=Es(n,m)),f.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(zc(n,s,m,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&So.enqueueReplaceState(f,f.state,null),go(n,l,f,d),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Cs(n,s){try{var l="",d=s;do l+=H(d),d=d.return;while(d);var f=l}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:f,digest:null}}function qc(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Hc(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Hw=typeof WeakMap=="function"?WeakMap:Map;function zf(n,s,l){l=Mn(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){To||(To=!0,au=d),Hc(n,s)},l}function Vf(n,s,l){l=Mn(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Hc(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Hc(n,s),typeof d!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function qf(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Hw;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),n=i_.bind(null,n,s,l),s.then(n,n))}function Hf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Wf(n,s,l,d,f){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mn(-1,1),s.tag=2,fr(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var Ww=$.ReactCurrentOwner,Dt=!1;function Tt(n,s,l,d){s.child=n===null?hf(s,null,l,d):js(s,n.child,l,d)}function Gf(n,s,l,d,f){l=l.render;var m=s.ref;return Ns(s,f),d=Dc(n,s,l,d,m,f),l=Mc(),n!==null&&!Dt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,Un(n,s,f)):(We&&l&&wc(s),s.flags|=1,Tt(n,s,d,f),s.child)}function Kf(n,s,l,d,f){if(n===null){var m=l.type;return typeof m=="function"&&!fu(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=m,Jf(n,s,m,d,f)):(n=Do(l.type,null,d,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&f)===0){var _=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ri,l(_,d)&&n.ref===s.ref)return Un(n,s,f)}return s.flags|=1,n=wr(m,d),n.ref=s.ref,n.return=s,s.child=n}function Jf(n,s,l,d,f){if(n!==null){var m=n.memoizedProps;if(Ri(m,d)&&n.ref===s.ref)if(Dt=!1,s.pendingProps=d=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Dt=!0);else return s.lanes=n.lanes,Un(n,s,f)}return Wc(n,s,l,d,f)}function Yf(n,s,l){var d=s.pendingProps,f=d.children,m=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(As,Gt),Gt|=l;else{if((l&1073741824)===0)return n=m!==null?m.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ue(As,Gt),Gt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:l,Ue(As,Gt),Gt|=d}else m!==null?(d=m.baseLanes|l,s.memoizedState=null):d=l,Ue(As,Gt),Gt|=d;return Tt(n,s,f,l),s.child}function Qf(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Wc(n,s,l,d,f){var m=Lt(l)?Ur:jt.current;return m=Es(s,m),Ns(s,f),l=Dc(n,s,l,d,m,f),d=Mc(),n!==null&&!Dt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,Un(n,s,f)):(We&&d&&wc(s),s.flags|=1,Tt(n,s,l,f),s.child)}function Xf(n,s,l,d,f){if(Lt(l)){var m=!0;ao(s)}else m=!1;if(Ns(s,f),s.stateNode===null)jo(n,s),$f(s,l,d),Vc(s,l,d,f),d=!0;else if(n===null){var _=s.stateNode,k=s.memoizedProps;_.props=k;var C=_.context,F=l.contextType;typeof F=="object"&&F!==null?F=Xt(F):(F=Lt(l)?Ur:jt.current,F=Es(s,F));var J=l.getDerivedStateFromProps,Y=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==d||C!==F)&&Bf(s,_,d,F),hr=!1;var K=s.memoizedState;_.state=K,go(s,d,_,f),C=s.memoizedState,k!==d||K!==C||Ot.current||hr?(typeof J=="function"&&(zc(s,l,J,d),C=s.memoizedState),(k=hr||Ff(s,l,k,d,K,C,F))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=C),_.props=d,_.state=C,_.context=F,d=k):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,pf(n,s),k=s.memoizedProps,F=s.type===s.elementType?k:hn(s.type,k),_.props=F,Y=s.pendingProps,K=_.context,C=l.contextType,typeof C=="object"&&C!==null?C=Xt(C):(C=Lt(l)?Ur:jt.current,C=Es(s,C));var se=l.getDerivedStateFromProps;(J=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==Y||K!==C)&&Bf(s,_,d,C),hr=!1,K=s.memoizedState,_.state=K,go(s,d,_,f);var le=s.memoizedState;k!==Y||K!==le||Ot.current||hr?(typeof se=="function"&&(zc(s,l,se,d),le=s.memoizedState),(F=hr||Ff(s,l,F,d,K,le,C)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,le,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,le,C)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=le),_.props=d,_.state=le,_.context=C,d=F):(typeof _.componentDidUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),d=!1)}return Gc(n,s,l,d,m,f)}function Gc(n,s,l,d,f,m){Qf(n,s);var _=(s.flags&128)!==0;if(!d&&!_)return f&&nf(s,l,!1),Un(n,s,m);d=s.stateNode,Ww.current=s;var k=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&_?(s.child=js(s,n.child,null,m),s.child=js(s,null,k,m)):Tt(n,s,k,m),s.memoizedState=d.state,f&&nf(s,l,!0),s.child}function Zf(n){var s=n.stateNode;s.pendingContext?ef(n,s.pendingContext,s.pendingContext!==s.context):s.context&&ef(n,s.context,!1),Tc(n,s.containerInfo)}function ep(n,s,l,d,f){return bs(),Sc(f),s.flags|=256,Tt(n,s,l,d),s.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Jc(n){return{baseLanes:n,cachePool:null,transitions:null}}function tp(n,s,l){var d=s.pendingProps,f=Je.current,m=!1,_=(s.flags&128)!==0,k;if((k=_)||(k=n!==null&&n.memoizedState===null?!1:(f&2)!==0),k?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ue(Je,f&1),n===null)return xc(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,n=d.fallback,m?(d=s.mode,m=s.child,_={mode:"hidden",children:_},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Mo(_,d,0,null),n=Kr(n,d,l,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=Jc(l),s.memoizedState=Kc,n):Yc(s,_));if(f=n.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Gw(n,s,_,d,k,f,l);if(m){m=d.fallback,_=s.mode,f=n.child,k=f.sibling;var C={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=C,s.deletions=null):(d=wr(f,C),d.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=wr(k,m):(m=Kr(m,_,l,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,_=n.child.memoizedState,_=_===null?Jc(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~l,s.memoizedState=Kc,d}return m=n.child,n=m.sibling,d=wr(m,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=d,s.memoizedState=null,d}function Yc(n,s){return s=Mo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function bo(n,s,l,d){return d!==null&&Sc(d),js(s,n.child,null,l),n=Yc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Gw(n,s,l,d,f,m,_){if(l)return s.flags&256?(s.flags&=-257,d=qc(Error(t(422))),bo(n,s,_,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=d.fallback,f=s.mode,d=Mo({mode:"visible",children:d.children},f,0,null),m=Kr(m,f,_,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,(s.mode&1)!==0&&js(s,n.child,null,_),s.child.memoizedState=Jc(_),s.memoizedState=Kc,m);if((s.mode&1)===0)return bo(n,s,_,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var k=d.dgst;return d=k,m=Error(t(419)),d=qc(m,d,void 0),bo(n,s,_,d)}if(k=(_&n.childLanes)!==0,Dt||k){if(d=vt,d!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Dn(n,f),mn(d,n,f,-1))}return hu(),d=qc(Error(t(421))),bo(n,s,_,d)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=a_.bind(null,n),f._reactRetry=s,null):(n=m.treeContext,Wt=lr(f.nextSibling),Ht=s,We=!0,dn=null,n!==null&&(Yt[Qt++]=On,Yt[Qt++]=Ln,Yt[Qt++]=Fr,On=n.id,Ln=n.overflow,Fr=s),s=Yc(s,d.children),s.flags|=4096,s)}function np(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Nc(n.return,s,l)}function Qc(n,s,l,d,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=l,m.tailMode=f)}function rp(n,s,l){var d=s.pendingProps,f=d.revealOrder,m=d.tail;if(Tt(n,s,d.children,l),d=Je.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&np(n,l,s);else if(n.tag===19)np(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Ue(Je,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)n=l.alternate,n!==null&&vo(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Qc(s,!1,f,l,m);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&vo(n)===null){s.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}Qc(s,!0,l,null,m);break;case"together":Qc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Un(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),qr|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,l=wr(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=wr(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Kw(n,s,l){switch(s.tag){case 3:Zf(s),bs();break;case 5:vf(s);break;case 1:Lt(s.type)&&ao(s);break;case 4:Tc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;Ue(fo,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ue(Je,Je.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?tp(n,s,l):(Ue(Je,Je.current&1),n=Un(n,s,l),n!==null?n.sibling:null);Ue(Je,Je.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(n.flags&128)!==0){if(d)return rp(n,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(Je,Je.current),d)break;return null;case 22:case 23:return s.lanes=0,Yf(n,s,l)}return Un(n,s,l)}var sp,Xc,ip,ap;sp=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Xc=function(){},ip=function(n,s,l,d){var f=n.memoizedProps;if(f!==d){n=s.stateNode,zr(jn.current);var m=null;switch(l){case"input":f=Le(n,f),d=Le(n,d),m=[];break;case"select":f=Z({},f,{value:void 0}),d=Z({},d,{value:void 0}),m=[];break;case"textarea":f=xn(n,f),d=xn(n,d),m=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=ro)}cs(l,d);var _;l=null;for(F in f)if(!d.hasOwnProperty(F)&&f.hasOwnProperty(F)&&f[F]!=null)if(F==="style"){var k=f[F];for(_ in k)k.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?m||(m=[]):(m=m||[]).push(F,null));for(F in d){var C=d[F];if(k=f?.[F],d.hasOwnProperty(F)&&C!==k&&(C!=null||k!=null))if(F==="style")if(k){for(_ in k)!k.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in C)C.hasOwnProperty(_)&&k[_]!==C[_]&&(l||(l={}),l[_]=C[_])}else l||(m||(m=[]),m.push(F,l)),l=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,k=k?k.__html:void 0,C!=null&&k!==C&&(m=m||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&ze("scroll",n),m||k===C||(m=[])):(m=m||[]).push(F,C))}l&&(m=m||[]).push("style",l);var F=m;(s.updateQueue=F)&&(s.flags|=4)}},ap=function(n,s,l,d){l!==d&&(s.flags|=4)};function Ki(n,s){if(!We)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Nt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function Jw(n,s,l){var d=s.pendingProps;switch(_c(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Lt(s.type)&&io(),Nt(s),null;case 3:return d=s.stateNode,Is(),Ve(Ot),Ve(jt),Rc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(uo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dn!==null&&(cu(dn),dn=null))),Xc(n,s),Nt(s),null;case 5:Ac(s);var f=zr(Vi.current);if(l=s.type,n!==null&&s.stateNode!=null)ip(n,s,l,d,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Nt(s),null}if(n=zr(jn.current),uo(s)){d=s.stateNode,l=s.type;var m=s.memoizedProps;switch(d[bn]=s,d[Ui]=m,n=(s.mode&1)!==0,l){case"dialog":ze("cancel",d),ze("close",d);break;case"iframe":case"object":case"embed":ze("load",d);break;case"video":case"audio":for(f=0;f<Li.length;f++)ze(Li[f],d);break;case"source":ze("error",d);break;case"img":case"image":case"link":ze("error",d),ze("load",d);break;case"details":ze("toggle",d);break;case"input":Be(d,m),ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},ze("invalid",d);break;case"textarea":pi(d,m),ze("invalid",d)}cs(l,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var k=m[_];_==="children"?typeof k=="string"?d.textContent!==k&&(m.suppressHydrationWarning!==!0&&no(d.textContent,k,n),f=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&no(d.textContent,k,n),f=["children",""+k]):o.hasOwnProperty(_)&&k!=null&&_==="onScroll"&&ze("scroll",d)}switch(l){case"input":zt(d),En(d,m,!0);break;case"textarea":zt(d),La(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=ro)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ge(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=_.createElement(l,{is:d.is}):(n=_.createElement(l),l==="select"&&(_=n,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):n=_.createElementNS(n,l),n[bn]=s,n[Ui]=d,sp(n,s,!1,!1),s.stateNode=n;e:{switch(_=Or(l,d),l){case"dialog":ze("cancel",n),ze("close",n),f=d;break;case"iframe":case"object":case"embed":ze("load",n),f=d;break;case"video":case"audio":for(f=0;f<Li.length;f++)ze(Li[f],n);f=d;break;case"source":ze("error",n),f=d;break;case"img":case"image":case"link":ze("error",n),ze("load",n),f=d;break;case"details":ze("toggle",n),f=d;break;case"input":Be(n,d),f=Le(n,d),ze("invalid",n);break;case"option":f=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},f=Z({},d,{value:void 0}),ze("invalid",n);break;case"textarea":pi(n,d),f=xn(n,d),ze("invalid",n);break;default:f=d}cs(l,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var C=k[m];m==="style"?Vt(n,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&we(n,C)):m==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&Ce(n,C):typeof C=="number"&&Ce(n,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&ze("scroll",n):C!=null&&T(n,m,C,_))}switch(l){case"input":zt(n),En(n,d,!1);break;case"textarea":zt(n),La(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ee(d.value));break;case"select":n.multiple=!!d.multiple,m=d.value,m!=null?mt(n,!!d.multiple,m,!1):d.defaultValue!=null&&mt(n,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=ro)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nt(s),null;case 6:if(n&&s.stateNode!=null)ap(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=zr(Vi.current),zr(jn.current),uo(s)){if(d=s.stateNode,l=s.memoizedProps,d[bn]=s,(m=d.nodeValue!==l)&&(n=Ht,n!==null))switch(n.tag){case 3:no(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&no(d.nodeValue,l,(n.mode&1)!==0)}m&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[bn]=s,s.stateNode=d}return Nt(s),null;case 13:if(Ve(Je),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(We&&Wt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)cf(),bs(),s.flags|=98560,m=!1;else if(m=uo(s),d!==null&&d.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[bn]=s}else bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),m=!1}else dn!==null&&(cu(dn),dn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Je.current&1)!==0?ft===0&&(ft=3):hu())),s.updateQueue!==null&&(s.flags|=4),Nt(s),null);case 4:return Is(),Xc(n,s),n===null&&Di(s.stateNode.containerInfo),Nt(s),null;case 10:return kc(s.type._context),Nt(s),null;case 17:return Lt(s.type)&&io(),Nt(s),null;case 19:if(Ve(Je),m=s.memoizedState,m===null)return Nt(s),null;if(d=(s.flags&128)!==0,_=m.rendering,_===null)if(d)Ki(m,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=vo(n),_!==null){for(s.flags|=128,Ki(m,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)m=l,n=d,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ue(Je,Je.current&1|2),s.child}n=n.sibling}m.tail!==null&&nt()>Ps&&(s.flags|=128,d=!0,Ki(m,!1),s.lanes=4194304)}else{if(!d)if(n=vo(_),n!==null){if(s.flags|=128,d=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ki(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!We)return Nt(s),null}else 2*nt()-m.renderingStartTime>Ps&&l!==1073741824&&(s.flags|=128,d=!0,Ki(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(l=m.last,l!==null?l.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=nt(),s.sibling=null,l=Je.current,Ue(Je,d?l&1|2:l&1),s):(Nt(s),null);case 22:case 23:return du(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Gt&1073741824)!==0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Yw(n,s){switch(_c(s),s.tag){case 1:return Lt(s.type)&&io(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Is(),Ve(Ot),Ve(jt),Rc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Ac(s),null;case 13:if(Ve(Je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));bs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ve(Je),null;case 4:return Is(),null;case 10:return kc(s.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var ko=!1,It=!1,Qw=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ts(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Xe(n,s,d)}else l.current=null}function Zc(n,s,l){try{l()}catch(d){Xe(n,s,d)}}var op=!1;function Xw(n,s){if(dc=Ha,n=Uh(),rc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var _=0,k=-1,C=-1,F=0,J=0,Y=n,K=null;t:for(;;){for(var se;Y!==l||f!==0&&Y.nodeType!==3||(k=_+f),Y!==m||d!==0&&Y.nodeType!==3||(C=_+d),Y.nodeType===3&&(_+=Y.nodeValue.length),(se=Y.firstChild)!==null;)K=Y,Y=se;for(;;){if(Y===n)break t;if(K===l&&++F===f&&(k=_),K===m&&++J===d&&(C=_),(se=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=se}l=k===-1||C===-1?null:{start:k,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(hc={focusedElem:n,selectionRange:l},Ha=!1,ae=s;ae!==null;)if(s=ae,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ae=n;else for(;ae!==null;){s=ae;try{var le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,rt=le.memoizedState,L=s.stateNode,A=L.getSnapshotBeforeUpdate(s.elementType===s.type?ue:hn(s.type,ue),rt);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){Xe(s,s.return,X)}if(n=s.sibling,n!==null){n.return=s.return,ae=n;break}ae=s.return}return le=op,op=!1,le}function Ji(n,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&Zc(s,l,m)}f=f.next}while(f!==d)}}function No(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function eu(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function lp(n){var s=n.alternate;s!==null&&(n.alternate=null,lp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[bn],delete s[Ui],delete s[gc],delete s[Ow],delete s[Lw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cp(n){return n.tag===5||n.tag===3||n.tag===4}function up(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tu(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ro));else if(d!==4&&(n=n.child,n!==null))for(tu(n,s,l),n=n.sibling;n!==null;)tu(n,s,l),n=n.sibling}function nu(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(nu(n,s,l),n=n.sibling;n!==null;)nu(n,s,l),n=n.sibling}var St=null,fn=!1;function pr(n,s,l){for(l=l.child;l!==null;)dp(n,s,l),l=l.sibling}function dp(n,s,l){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Fa,l)}catch{}switch(l.tag){case 5:It||Ts(l,s);case 6:var d=St,f=fn;St=null,pr(n,s,l),St=d,fn=f,St!==null&&(fn?(n=St,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):St.removeChild(l.stateNode));break;case 18:St!==null&&(fn?(n=St,l=l.stateNode,n.nodeType===8?mc(n.parentNode,l):n.nodeType===1&&mc(n,l),Ni(n)):mc(St,l.stateNode));break;case 4:d=St,f=fn,St=l.stateNode.containerInfo,fn=!0,pr(n,s,l),St=d,fn=f;break;case 0:case 11:case 14:case 15:if(!It&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Zc(l,s,_),f=f.next}while(f!==d)}pr(n,s,l);break;case 1:if(!It&&(Ts(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){Xe(l,s,k)}pr(n,s,l);break;case 21:pr(n,s,l);break;case 22:l.mode&1?(It=(d=It)||l.memoizedState!==null,pr(n,s,l),It=d):pr(n,s,l);break;default:pr(n,s,l)}}function hp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Qw),s.forEach(function(d){var f=o_.bind(null,n,d);l.has(d)||(l.add(d),d.then(f,f))})}}function pn(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var m=n,_=s,k=_;e:for(;k!==null;){switch(k.tag){case 5:St=k.stateNode,fn=!1;break e;case 3:St=k.stateNode.containerInfo,fn=!0;break e;case 4:St=k.stateNode.containerInfo,fn=!0;break e}k=k.return}if(St===null)throw Error(t(160));dp(m,_,f),St=null,fn=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(F){Xe(f,s,F)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fp(s,n),s=s.sibling}function fp(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(pn(s,n),Nn(n),d&4){try{Ji(3,n,n.return),No(3,n)}catch(ue){Xe(n,n.return,ue)}try{Ji(5,n,n.return)}catch(ue){Xe(n,n.return,ue)}}break;case 1:pn(s,n),Nn(n),d&512&&l!==null&&Ts(l,l.return);break;case 5:if(pn(s,n),Nn(n),d&512&&l!==null&&Ts(l,l.return),n.flags&32){var f=n.stateNode;try{Ce(f,"")}catch(ue){Xe(n,n.return,ue)}}if(d&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,_=l!==null?l.memoizedProps:m,k=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&dt(f,m),Or(k,_);var F=Or(k,m);for(_=0;_<C.length;_+=2){var J=C[_],Y=C[_+1];J==="style"?Vt(f,Y):J==="dangerouslySetInnerHTML"?we(f,Y):J==="children"?Ce(f,Y):T(f,J,Y,F)}switch(k){case"input":tr(f,m);break;case"textarea":Oa(f,m);break;case"select":var K=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?mt(f,!!m.multiple,se,!1):K!==!!m.multiple&&(m.defaultValue!=null?mt(f,!!m.multiple,m.defaultValue,!0):mt(f,!!m.multiple,m.multiple?[]:"",!1))}f[Ui]=m}catch(ue){Xe(n,n.return,ue)}}break;case 6:if(pn(s,n),Nn(n),d&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(ue){Xe(n,n.return,ue)}}break;case 3:if(pn(s,n),Nn(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ni(s.containerInfo)}catch(ue){Xe(n,n.return,ue)}break;case 4:pn(s,n),Nn(n);break;case 13:pn(s,n),Nn(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(iu=nt())),d&4&&hp(n);break;case 22:if(J=l!==null&&l.memoizedState!==null,n.mode&1?(It=(F=It)||J,pn(s,n),It=F):pn(s,n),Nn(n),d&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!J&&(n.mode&1)!==0)for(ae=n,J=n.child;J!==null;){for(Y=ae=J;ae!==null;){switch(K=ae,se=K.child,K.tag){case 0:case 11:case 14:case 15:Ji(4,K,K.return);break;case 1:Ts(K,K.return);var le=K.stateNode;if(typeof le.componentWillUnmount=="function"){d=K,l=K.return;try{s=d,le.props=s.memoizedProps,le.state=s.memoizedState,le.componentWillUnmount()}catch(ue){Xe(d,l,ue)}}break;case 5:Ts(K,K.return);break;case 22:if(K.memoizedState!==null){gp(Y);continue}}se!==null?(se.return=K,ae=se):gp(Y)}J=J.sibling}e:for(J=null,Y=n;;){if(Y.tag===5){if(J===null){J=Y;try{f=Y.stateNode,F?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=Y.stateNode,C=Y.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,k.style.display=Jt("display",_))}catch(ue){Xe(n,n.return,ue)}}}else if(Y.tag===6){if(J===null)try{Y.stateNode.nodeValue=F?"":Y.memoizedProps}catch(ue){Xe(n,n.return,ue)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;J===Y&&(J=null),Y=Y.return}J===Y&&(J=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:pn(s,n),Nn(n),d&4&&hp(n);break;case 21:break;default:pn(s,n),Nn(n)}}function Nn(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(cp(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Ce(f,""),d.flags&=-33);var m=up(n);nu(n,m,f);break;case 3:case 4:var _=d.stateNode.containerInfo,k=up(n);tu(n,k,_);break;default:throw Error(t(161))}}catch(C){Xe(n,n.return,C)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Zw(n,s,l){ae=n,pp(n)}function pp(n,s,l){for(var d=(n.mode&1)!==0;ae!==null;){var f=ae,m=f.child;if(f.tag===22&&d){var _=f.memoizedState!==null||ko;if(!_){var k=f.alternate,C=k!==null&&k.memoizedState!==null||It;k=ko;var F=It;if(ko=_,(It=C)&&!F)for(ae=f;ae!==null;)_=ae,C=_.child,_.tag===22&&_.memoizedState!==null?vp(f):C!==null?(C.return=_,ae=C):vp(f);for(;m!==null;)ae=m,pp(m),m=m.sibling;ae=f,ko=k,It=F}mp(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ae=m):mp(n)}}function mp(n){for(;ae!==null;){var s=ae;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:It||No(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!It)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:hn(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&gf(s,m,d);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}gf(s,_,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var F=s.alternate;if(F!==null){var J=F.memoizedState;if(J!==null){var Y=J.dehydrated;Y!==null&&Ni(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}It||s.flags&512&&eu(s)}catch(K){Xe(s,s.return,K)}}if(s===n){ae=null;break}if(l=s.sibling,l!==null){l.return=s.return,ae=l;break}ae=s.return}}function gp(n){for(;ae!==null;){var s=ae;if(s===n){ae=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ae=l;break}ae=s.return}}function vp(n){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{No(4,s)}catch(C){Xe(s,l,C)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(C){Xe(s,f,C)}}var m=s.return;try{eu(s)}catch(C){Xe(s,m,C)}break;case 5:var _=s.return;try{eu(s)}catch(C){Xe(s,_,C)}}}catch(C){Xe(s,s.return,C)}if(s===n){ae=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ae=k;break}ae=s.return}}var e_=Math.ceil,Io=$.ReactCurrentDispatcher,ru=$.ReactCurrentOwner,en=$.ReactCurrentBatchConfig,Ae=0,vt=null,at=null,bt=0,Gt=0,As=cr(0),ft=0,Yi=null,qr=0,Co=0,su=0,Qi=null,Mt=null,iu=0,Ps=1/0,Fn=null,To=!1,au=null,mr=null,Ao=!1,gr=null,Po=0,Xi=0,ou=null,Ro=-1,Oo=0;function At(){return(Ae&6)!==0?nt():Ro!==-1?Ro:Ro=nt()}function vr(n){return(n.mode&1)===0?1:(Ae&2)!==0&&bt!==0?bt&-bt:Mw.transition!==null?(Oo===0&&(Oo=ch()),Oo):(n=Re,n!==0||(n=window.event,n=n===void 0?16:yh(n.type)),n)}function mn(n,s,l,d){if(50<Xi)throw Xi=0,ou=null,Error(t(185));xi(n,l,d),((Ae&2)===0||n!==vt)&&(n===vt&&((Ae&2)===0&&(Co|=l),ft===4&&yr(n,bt)),Ut(n,d),l===1&&Ae===0&&(s.mode&1)===0&&(Ps=nt()+500,oo&&dr()))}function Ut(n,s){var l=n.callbackNode;My(n,s);var d=za(n,n===vt?bt:0);if(d===0)l!==null&&ah(l),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(l!=null&&ah(l),s===1)n.tag===0?Dw(wp.bind(null,n)):rf(wp.bind(null,n)),Pw(function(){(Ae&6)===0&&dr()}),l=null;else{switch(uh(d)){case 1:l=$l;break;case 4:l=oh;break;case 16:l=Ua;break;case 536870912:l=lh;break;default:l=Ua}l=Np(l,yp.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function yp(n,s){if(Ro=-1,Oo=0,(Ae&6)!==0)throw Error(t(327));var l=n.callbackNode;if(Rs()&&n.callbackNode!==l)return null;var d=za(n,n===vt?bt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=Lo(n,d);else{s=d;var f=Ae;Ae|=2;var m=Ep();(vt!==n||bt!==s)&&(Fn=null,Ps=nt()+500,Wr(n,s));do try{r_();break}catch(k){_p(n,k)}while(!0);jc(),Io.current=m,Ae=f,at!==null?s=0:(vt=null,bt=0,s=ft)}if(s!==0){if(s===2&&(f=Bl(n),f!==0&&(d=f,s=lu(n,f))),s===1)throw l=Yi,Wr(n,0),yr(n,d),Ut(n,nt()),l;if(s===6)yr(n,d);else{if(f=n.current.alternate,(d&30)===0&&!t_(f)&&(s=Lo(n,d),s===2&&(m=Bl(n),m!==0&&(d=m,s=lu(n,m))),s===1))throw l=Yi,Wr(n,0),yr(n,d),Ut(n,nt()),l;switch(n.finishedWork=f,n.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Gr(n,Mt,Fn);break;case 3:if(yr(n,d),(d&130023424)===d&&(s=iu+500-nt(),10<s)){if(za(n,0)!==0)break;if(f=n.suspendedLanes,(f&d)!==d){At(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=pc(Gr.bind(null,n,Mt,Fn),s);break}Gr(n,Mt,Fn);break;case 4:if(yr(n,d),(d&4194240)===d)break;for(s=n.eventTimes,f=-1;0<d;){var _=31-cn(d);m=1<<_,_=s[_],_>f&&(f=_),d&=~m}if(d=f,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*e_(d/1960))-d,10<d){n.timeoutHandle=pc(Gr.bind(null,n,Mt,Fn),d);break}Gr(n,Mt,Fn);break;case 5:Gr(n,Mt,Fn);break;default:throw Error(t(329))}}}return Ut(n,nt()),n.callbackNode===l?yp.bind(null,n):null}function lu(n,s){var l=Qi;return n.current.memoizedState.isDehydrated&&(Wr(n,s).flags|=256),n=Lo(n,s),n!==2&&(s=Mt,Mt=l,s!==null&&cu(s)),n}function cu(n){Mt===null?Mt=n:Mt.push.apply(Mt,n)}function t_(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],m=f.getSnapshot;f=f.value;try{if(!un(m(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yr(n,s){for(s&=~su,s&=~Co,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-cn(s),d=1<<l;n[l]=-1,s&=~d}}function wp(n){if((Ae&6)!==0)throw Error(t(327));Rs();var s=za(n,0);if((s&1)===0)return Ut(n,nt()),null;var l=Lo(n,s);if(n.tag!==0&&l===2){var d=Bl(n);d!==0&&(s=d,l=lu(n,d))}if(l===1)throw l=Yi,Wr(n,0),yr(n,s),Ut(n,nt()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Gr(n,Mt,Fn),Ut(n,nt()),null}function uu(n,s){var l=Ae;Ae|=1;try{return n(s)}finally{Ae=l,Ae===0&&(Ps=nt()+500,oo&&dr())}}function Hr(n){gr!==null&&gr.tag===0&&(Ae&6)===0&&Rs();var s=Ae;Ae|=1;var l=en.transition,d=Re;try{if(en.transition=null,Re=1,n)return n()}finally{Re=d,en.transition=l,Ae=s,(Ae&6)===0&&dr()}}function du(){Gt=As.current,Ve(As)}function Wr(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Aw(l)),at!==null)for(l=at.return;l!==null;){var d=l;switch(_c(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&io();break;case 3:Is(),Ve(Ot),Ve(jt),Rc();break;case 5:Ac(d);break;case 4:Is();break;case 13:Ve(Je);break;case 19:Ve(Je);break;case 10:kc(d.type._context);break;case 22:case 23:du()}l=l.return}if(vt=n,at=n=wr(n.current,null),bt=Gt=s,ft=0,Yi=null,su=Co=qr=0,Mt=Qi=null,Br!==null){for(s=0;s<Br.length;s++)if(l=Br[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,m=l.pending;if(m!==null){var _=m.next;m.next=f,d.next=_}l.pending=d}Br=null}return n}function _p(n,s){do{var l=at;try{if(jc(),yo.current=xo,wo){for(var d=Ye.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}wo=!1}if(Vr=0,gt=ht=Ye=null,qi=!1,Hi=0,ru.current=null,l===null||l.return===null){ft=1,Yi=s,at=null;break}e:{var m=n,_=l.return,k=l,C=s;if(s=bt,k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,J=k,Y=J.tag;if((J.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Hf(_);if(se!==null){se.flags&=-257,Wf(se,_,k,m,s),se.mode&1&&qf(m,F,s),s=se,C=F;var le=s.updateQueue;if(le===null){var ue=new Set;ue.add(C),s.updateQueue=ue}else le.add(C);break e}else{if((s&1)===0){qf(m,F,s),hu();break e}C=Error(t(426))}}else if(We&&k.mode&1){var rt=Hf(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Wf(rt,_,k,m,s),Sc(Cs(C,k));break e}}m=C=Cs(C,k),ft!==4&&(ft=2),Qi===null?Qi=[m]:Qi.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var L=zf(m,C,s);mf(m,L);break e;case 1:k=C;var A=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(mr===null||!mr.has(M)))){m.flags|=65536,s&=-s,m.lanes|=s;var X=Vf(m,k,s);mf(m,X);break e}}m=m.return}while(m!==null)}Sp(l)}catch(de){s=de,at===l&&l!==null&&(at=l=l.return);continue}break}while(!0)}function Ep(){var n=Io.current;return Io.current=xo,n===null?xo:n}function hu(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||(qr&268435455)===0&&(Co&268435455)===0||yr(vt,bt)}function Lo(n,s){var l=Ae;Ae|=2;var d=Ep();(vt!==n||bt!==s)&&(Fn=null,Wr(n,s));do try{n_();break}catch(f){_p(n,f)}while(!0);if(jc(),Ae=l,Io.current=d,at!==null)throw Error(t(261));return vt=null,bt=0,ft}function n_(){for(;at!==null;)xp(at)}function r_(){for(;at!==null&&!Iy();)xp(at)}function xp(n){var s=kp(n.alternate,n,Gt);n.memoizedProps=n.pendingProps,s===null?Sp(n):at=s,ru.current=null}function Sp(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=Jw(l,s,Gt),l!==null){at=l;return}}else{if(l=Yw(l,s),l!==null){l.flags&=32767,at=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,at=null;return}}if(s=s.sibling,s!==null){at=s;return}at=s=n}while(s!==null);ft===0&&(ft=5)}function Gr(n,s,l){var d=Re,f=en.transition;try{en.transition=null,Re=1,s_(n,s,l,d)}finally{en.transition=f,Re=d}return null}function s_(n,s,l,d){do Rs();while(gr!==null);if((Ae&6)!==0)throw Error(t(327));l=n.finishedWork;var f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=l.lanes|l.childLanes;if(Uy(n,m),n===vt&&(at=vt=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ao||(Ao=!0,Np(Ua,function(){return Rs(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=en.transition,en.transition=null;var _=Re;Re=1;var k=Ae;Ae|=4,ru.current=null,Xw(n,l),fp(l,n),bw(hc),Ha=!!dc,hc=dc=null,n.current=l,Zw(l),Cy(),Ae=k,Re=_,en.transition=m}else n.current=l;if(Ao&&(Ao=!1,gr=n,Po=f),m=n.pendingLanes,m===0&&(mr=null),Py(l.stateNode),Ut(n,nt()),s!==null)for(d=n.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(To)throw To=!1,n=au,au=null,n;return(Po&1)!==0&&n.tag!==0&&Rs(),m=n.pendingLanes,(m&1)!==0?n===ou?Xi++:(Xi=0,ou=n):Xi=0,dr(),null}function Rs(){if(gr!==null){var n=uh(Po),s=en.transition,l=Re;try{if(en.transition=null,Re=16>n?16:n,gr===null)var d=!1;else{if(n=gr,gr=null,Po=0,(Ae&6)!==0)throw Error(t(331));var f=Ae;for(Ae|=4,ae=n.current;ae!==null;){var m=ae,_=m.child;if((ae.flags&16)!==0){var k=m.deletions;if(k!==null){for(var C=0;C<k.length;C++){var F=k[C];for(ae=F;ae!==null;){var J=ae;switch(J.tag){case 0:case 11:case 15:Ji(8,J,m)}var Y=J.child;if(Y!==null)Y.return=J,ae=Y;else for(;ae!==null;){J=ae;var K=J.sibling,se=J.return;if(lp(J),J===F){ae=null;break}if(K!==null){K.return=se,ae=K;break}ae=se}}}var le=m.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var rt=ue.sibling;ue.sibling=null,ue=rt}while(ue!==null)}}ae=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,ae=_;else e:for(;ae!==null;){if(m=ae,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ji(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ae=L;break e}ae=m.return}}var A=n.current;for(ae=A;ae!==null;){_=ae;var M=_.child;if((_.subtreeFlags&2064)!==0&&M!==null)M.return=_,ae=M;else e:for(_=A;ae!==null;){if(k=ae,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:No(9,k)}}catch(de){Xe(k,k.return,de)}if(k===_){ae=null;break e}var X=k.sibling;if(X!==null){X.return=k.return,ae=X;break e}ae=k.return}}if(Ae=f,dr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Fa,n)}catch{}d=!0}return d}finally{Re=l,en.transition=s}}return!1}function bp(n,s,l){s=Cs(l,s),s=zf(n,s,1),n=fr(n,s,1),s=At(),n!==null&&(xi(n,1,s),Ut(n,s))}function Xe(n,s,l){if(n.tag===3)bp(n,n,l);else for(;s!==null;){if(s.tag===3){bp(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))){n=Cs(l,n),n=Vf(s,n,1),s=fr(s,n,1),n=At(),s!==null&&(xi(s,1,n),Ut(s,n));break}}s=s.return}}function i_(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),s=At(),n.pingedLanes|=n.suspendedLanes&l,vt===n&&(bt&l)===l&&(ft===4||ft===3&&(bt&130023424)===bt&&500>nt()-iu?Wr(n,0):su|=l),Ut(n,s)}function jp(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ba,Ba<<=1,(Ba&130023424)===0&&(Ba=4194304)));var l=At();n=Dn(n,s),n!==null&&(xi(n,s,l),Ut(n,l))}function a_(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),jp(n,l)}function o_(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),jp(n,l)}var kp;kp=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||Ot.current)Dt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Dt=!1,Kw(n,s,l);Dt=(n.flags&131072)!==0}else Dt=!1,We&&(s.flags&1048576)!==0&&sf(s,co,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;jo(n,s),n=s.pendingProps;var f=Es(s,jt.current);Ns(s,l),f=Dc(null,s,d,n,f,l);var m=Mc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Lt(d)?(m=!0,ao(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Cc(s),f.updater=So,s.stateNode=f,f._reactInternals=s,Vc(s,d,n,l),s=Gc(null,s,d,!0,m,l)):(s.tag=0,We&&m&&wc(s),Tt(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(jo(n,s),n=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=c_(d),n=hn(d,n),f){case 0:s=Wc(null,s,d,n,l);break e;case 1:s=Xf(null,s,d,n,l);break e;case 11:s=Gf(null,s,d,n,l);break e;case 14:s=Kf(null,s,d,hn(d.type,n),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:hn(d,f),Wc(n,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:hn(d,f),Xf(n,s,d,f,l);case 3:e:{if(Zf(s),n===null)throw Error(t(387));d=s.pendingProps,m=s.memoizedState,f=m.element,pf(n,s),go(s,d,null,l);var _=s.memoizedState;if(d=_.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=Cs(Error(t(423)),s),s=ep(n,s,d,l,f);break e}else if(d!==f){f=Cs(Error(t(424)),s),s=ep(n,s,d,l,f);break e}else for(Wt=lr(s.stateNode.containerInfo.firstChild),Ht=s,We=!0,dn=null,l=hf(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(bs(),d===f){s=Un(n,s,l);break e}Tt(n,s,d,l)}s=s.child}return s;case 5:return vf(s),n===null&&xc(s),d=s.type,f=s.pendingProps,m=n!==null?n.memoizedProps:null,_=f.children,fc(d,f)?_=null:m!==null&&fc(d,m)&&(s.flags|=32),Qf(n,s),Tt(n,s,_,l),s.child;case 6:return n===null&&xc(s),null;case 13:return tp(n,s,l);case 4:return Tc(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=js(s,null,d,l):Tt(n,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:hn(d,f),Gf(n,s,d,f,l);case 7:return Tt(n,s,s.pendingProps,l),s.child;case 8:return Tt(n,s,s.pendingProps.children,l),s.child;case 12:return Tt(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,m=s.memoizedProps,_=f.value,Ue(fo,d._currentValue),d._currentValue=_,m!==null)if(un(m.value,_)){if(m.children===f.children&&!Ot.current){s=Un(n,s,l);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var k=m.dependencies;if(k!==null){_=m.child;for(var C=k.firstContext;C!==null;){if(C.context===d){if(m.tag===1){C=Mn(-1,l&-l),C.tag=2;var F=m.updateQueue;if(F!==null){F=F.shared;var J=F.pending;J===null?C.next=C:(C.next=J.next,J.next=C),F.pending=C}}m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Nc(m.return,l,s),k.lanes|=l;break}C=C.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=l,k=_.alternate,k!==null&&(k.lanes|=l),Nc(_,l,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Tt(n,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Ns(s,l),f=Xt(f),d=d(f),s.flags|=1,Tt(n,s,d,l),s.child;case 14:return d=s.type,f=hn(d,s.pendingProps),f=hn(d.type,f),Kf(n,s,d,f,l);case 15:return Jf(n,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:hn(d,f),jo(n,s),s.tag=1,Lt(d)?(n=!0,ao(s)):n=!1,Ns(s,l),$f(s,d,f),Vc(s,d,f,l),Gc(null,s,d,!0,n,l);case 19:return rp(n,s,l);case 22:return Yf(n,s,l)}throw Error(t(156,s.tag))};function Np(n,s){return ih(n,s)}function l_(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(n,s,l,d){return new l_(n,s,l,d)}function fu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function c_(n){if(typeof n=="function")return fu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ee)return 11;if(n===ce)return 14}return 2}function wr(n,s){var l=n.alternate;return l===null?(l=tn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Do(n,s,l,d,f,m){var _=2;if(d=n,typeof n=="function")fu(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case O:return Kr(l.children,f,m,s);case q:_=8,f|=8;break;case z:return n=tn(12,l,s,f|2),n.elementType=z,n.lanes=m,n;case ve:return n=tn(13,l,s,f),n.elementType=ve,n.lanes=m,n;case he:return n=tn(19,l,s,f),n.elementType=he,n.lanes=m,n;case oe:return Mo(l,f,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:_=10;break e;case re:_=9;break e;case Ee:_=11;break e;case ce:_=14;break e;case xe:_=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=tn(_,l,s,f),s.elementType=n,s.type=d,s.lanes=m,s}function Kr(n,s,l,d){return n=tn(7,n,d,s),n.lanes=l,n}function Mo(n,s,l,d){return n=tn(22,n,d,s),n.elementType=oe,n.lanes=l,n.stateNode={isHidden:!1},n}function pu(n,s,l){return n=tn(6,n,null,s),n.lanes=l,n}function mu(n,s,l){return s=tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function u_(n,s,l,d,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gu(n,s,l,d,f,m,_,k,C){return n=new u_(n,s,l,k,C),s===1?(s=1,m===!0&&(s|=8)):s=0,m=tn(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(m),n}function d_(n,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:d==null?null:""+d,children:n,containerInfo:s,implementation:l}}function Ip(n){if(!n)return ur;n=n._reactInternals;e:{if(Dr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Lt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(Lt(l))return tf(n,l,s)}return s}function Cp(n,s,l,d,f,m,_,k,C){return n=gu(l,d,!0,n,f,m,_,k,C),n.context=Ip(null),l=n.current,d=At(),f=vr(l),m=Mn(d,f),m.callback=s??null,fr(l,m,f),n.current.lanes=f,xi(n,f,d),Ut(n,d),n}function Uo(n,s,l,d){var f=s.current,m=At(),_=vr(f);return l=Ip(l),s.context===null?s.context=l:s.pendingContext=l,s=Mn(m,_),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=fr(f,s,_),n!==null&&(mn(n,f,_,m),mo(n,f,_)),_}function Fo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Tp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function vu(n,s){Tp(n,s),(n=n.alternate)&&Tp(n,s)}function h_(){return null}var Ap=typeof reportError=="function"?reportError:function(n){console.error(n)};function yu(n){this._internalRoot=n}$o.prototype.render=yu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Uo(n,s,null,null)},$o.prototype.unmount=yu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Hr(function(){Uo(null,n,null,null)}),s[Pn]=null}};function $o(n){this._internalRoot=n}$o.prototype.unstable_scheduleHydration=function(n){if(n){var s=fh();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ir.length&&s!==0&&s<ir[l].priority;l++);ir.splice(l,0,n),l===0&&gh(n)}};function wu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Bo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function f_(n,s,l,d,f){if(f){if(typeof d=="function"){var m=d;d=function(){var F=Fo(_);m.call(F)}}var _=Cp(s,d,n,0,null,!1,!1,"",Pp);return n._reactRootContainer=_,n[Pn]=_.current,Di(n.nodeType===8?n.parentNode:n),Hr(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof d=="function"){var k=d;d=function(){var F=Fo(C);k.call(F)}}var C=gu(n,0,!1,null,null,!1,!1,"",Pp);return n._reactRootContainer=C,n[Pn]=C.current,Di(n.nodeType===8?n.parentNode:n),Hr(function(){Uo(s,C,l,d)}),C}function zo(n,s,l,d,f){var m=l._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var k=f;f=function(){var C=Fo(_);k.call(C)}}Uo(s,_,n,f)}else _=f_(l,s,n,f,d);return Fo(_)}dh=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ei(s.pendingLanes);l!==0&&(Vl(s,l|1),Ut(s,nt()),(Ae&6)===0&&(Ps=nt()+500,dr()))}break;case 13:Hr(function(){var d=Dn(n,1);if(d!==null){var f=At();mn(d,n,1,f)}}),vu(n,1)}},ql=function(n){if(n.tag===13){var s=Dn(n,134217728);if(s!==null){var l=At();mn(s,n,134217728,l)}vu(n,134217728)}},hh=function(n){if(n.tag===13){var s=vr(n),l=Dn(n,s);if(l!==null){var d=At();mn(l,n,s,d)}vu(n,s)}},fh=function(){return Re},ph=function(n,s){var l=Re;try{return Re=n,s()}finally{Re=l}},Lr=function(n,s,l){switch(s){case"input":if(tr(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var f=so(d);if(!f)throw Error(t(90));Et(d),tr(d,f)}}}break;case"textarea":Oa(n,l);break;case"select":s=l.value,s!=null&&mt(n,!!l.multiple,s,!1)}},Xd=uu,Zd=Hr;var p_={usingClientEntryPoint:!1,Events:[Fi,ws,so,Yd,Qd,uu]},Zi={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m_={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rh(n),n===null?null:n.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||h_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Fa=Vo.inject(m_),Sn=Vo}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p_,Ft.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(s))throw Error(t(200));return d_(n,s,null,l)},Ft.createRoot=function(n,s){if(!wu(n))throw Error(t(299));var l=!1,d="",f=Ap;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=gu(n,1,!1,null,null,l,!1,d,f),n[Pn]=s.current,Di(n.nodeType===8?n.parentNode:n),new yu(s)},Ft.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=rh(s),n=n===null?null:n.stateNode,n},Ft.flushSync=function(n){return Hr(n)},Ft.hydrate=function(n,s,l){if(!Bo(s))throw Error(t(200));return zo(null,n,s,!0,l)},Ft.hydrateRoot=function(n,s,l){if(!wu(n))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,m="",_=Ap;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Cp(s,null,n,1,l??null,f,!1,m,_),n[Pn]=s.current,Di(n),d)for(n=0;n<d.length;n++)l=d[n],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new $o(s)},Ft.render=function(n,s,l){if(!Bo(s))throw Error(t(200));return zo(null,n,s,!1,l)},Ft.unmountComponentAtNode=function(n){if(!Bo(n))throw Error(t(40));return n._reactRootContainer?(Hr(function(){zo(null,null,n,!1,function(){n._reactRootContainer=null,n[Pn]=null})}),!0):!1},Ft.unstable_batchedUpdates=uu,Ft.unstable_renderSubtreeIntoContainer=function(n,s,l,d){if(!Bo(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return zo(n,s,l,!1,d)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var $p;function lg(){if($p)return xu.exports;$p=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xu.exports=S_(),xu.exports}var Bp;function b_(){if(Bp)return qo;Bp=1;var r=lg();return qo.createRoot=r.createRoot,qo.hydrateRoot=r.hydrateRoot,qo}var j_=b_();(function(){if(typeof window>"u"||typeof document>"u")return;function e(){try{Array.from(document.querySelectorAll("div[id]")).forEach(o=>{if(o.hasAttribute("role")||o.hasAttribute("aria-labelledby"))return;const c=o.querySelector("h1, h2, h3, h4, h5, h6");if(c){if(!c.id){const u=o.id||"region";let h=`${u}-heading`,p=1;for(;document.getElementById(h);)h=`${u}-heading-${p++}`;c.id=h}o.setAttribute("role","region"),o.setAttribute("aria-labelledby",c.id)}})}catch(i){console.warn("addRegionRoles: failed to apply roles",i)}}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(e,0):window.addEventListener("DOMContentLoaded",()=>setTimeout(e,0));const t=history.pushState;history.pushState=function(){t.apply(this,arguments),setTimeout(e,60)},window.addEventListener("popstate",()=>setTimeout(e,60))})();const k_="modulepreload",N_=function(r,e){return new URL(r,e).href},zp={},Wn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=g(t.map(v=>{if(v=N_(v,i),v in zp)return;zp[v]=!0;const y=v.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(i)for(let x=u.length-1;x>=0;x--){const S=u[x];if(S.href===v&&(!y||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${w}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":k_,y||(b.as="script"),b.crossOrigin="",b.href=v,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((x,S)=>{b.addEventListener("load",x),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vp="popstate";function I_(r={}){function e(o,c){let{pathname:u="/",search:h="",hash:p=""}=is(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ku("",{pathname:u,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");h=g===-1?p:p.slice(0,g)}return h+"#"+(typeof c=="string"?c:ga(c))}function i(o,c){an(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return T_(e,t,i,r)}function Ge(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function an(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C_(){return Math.random().toString(36).substring(2,10)}function qp(r,e){return{usr:r.state,key:r.key,idx:e}}function Ku(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:t,key:e&&e.key||i||C_()}}function ga({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function is(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function T_(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,h="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function y(){h="POP";let j=v(),N=j==null?null:j-g;g=j,p&&p({action:h,location:S.location,delta:N})}function w(j,N){h="PUSH";let I=Ku(S.location,j,N);t&&t(I,j),g=v()+1;let T=qp(I,g),$=S.createHref(I);try{u.pushState(T,"",$)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign($)}c&&p&&p({action:h,location:S.location,delta:1})}function b(j,N){h="REPLACE";let I=Ku(S.location,j,N);t&&t(I,j),g=v();let T=qp(I,g),$=S.createHref(I);u.replaceState(T,"",$),c&&p&&p({action:h,location:S.location,delta:0})}function x(j){return A_(j)}let S={get action(){return h},get location(){return r(o,u)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vp,y),p=j,()=>{o.removeEventListener(Vp,y),p=null}},createHref(j){return e(o,j)},createURL:x,encodeLocation(j){let N=x(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:b,go(j){return u.go(j)}};return S}function A_(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:ga(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function cg(r,e,t="/"){return P_(r,e,t,!1)}function P_(r,e,t,i){let o=typeof e=="string"?is(e):e,c=Jn(o.pathname||"/",t);if(c==null)return null;let u=ug(r);R_(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=q_(c);h=z_(u[p],g,i)}return h}function ug(r,e=[],t=[],i="",o=!1){let c=(u,h,p=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;Ge(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=Gn([i,v.relativePath]),w=t.concat(v);u.children&&u.children.length>0&&(Ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ug(u.children,e,w,y,p)),!(u.path==null&&!u.index)&&e.push({path:y,score:$_(y,u.index),routesMeta:w})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let p of dg(u.path))c(u,h,!0,p)}),e}function dg(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=dg(i.join("/")),h=[];return h.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...u),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function R_(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:B_(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var O_=/^:[\w-]+$/,L_=3,D_=2,M_=1,U_=10,F_=-2,Hp=r=>r==="*";function $_(r,e){let t=r.split("/"),i=t.length;return t.some(Hp)&&(i+=F_),e&&(i+=D_),t.filter(o=>!Hp(o)).reduce((o,c)=>o+(O_.test(c)?L_:c===""?M_:U_),i)}function B_(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function z_(r,e,t=!1){let{routesMeta:i}=r,o={},c="/",u=[];for(let h=0;h<i.length;++h){let p=i[h],g=h===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",y=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!y&&g&&t&&!i[i.length-1].route.index&&(y=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Gn([c,y.pathname]),pathnameBase:K_(Gn([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=Gn([c,y.pathnameBase]))}return u}function ol(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=V_(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:y},w)=>{if(v==="*"){let x=h[w]||"";u=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const b=h[w];return y&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:r}}function V_(r,e=!1,t=!0){an(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function q_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Jn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function H_(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?is(r):r;return{pathname:t?t.startsWith("/")?t:W_(t,e):e,search:J_(i),hash:Y_(o)}}function W_(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ju(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G_(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vd(r){let e=G_(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function yd(r,e,t,i=!1){let o;typeof r=="string"?o=is(r):(o={...r},Ge(!o.pathname||!o.pathname.includes("?"),ju("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),ju("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),ju("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}h=y>=0?e[y]:"/"}let p=H_(o,h),g=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Gn=r=>r.join("/").replace(/\/\/+/g,"/"),K_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),J_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Q_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hg=["POST","PUT","PATCH","DELETE"];new Set(hg);var X_=["GET",...hg];new Set(X_);var ai=E.createContext(null);ai.displayName="DataRouter";var xl=E.createContext(null);xl.displayName="DataRouterState";E.createContext(!1);var fg=E.createContext({isTransitioning:!1});fg.displayName="ViewTransition";var Z_=E.createContext(new Map);Z_.displayName="Fetchers";var e0=E.createContext(null);e0.displayName="Await";var wn=E.createContext(null);wn.displayName="Navigation";var ja=E.createContext(null);ja.displayName="Location";var _n=E.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var wd=E.createContext(null);wd.displayName="RouteError";function t0(r,{relative:e}={}){Ge(oi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=E.useContext(wn),{hash:o,pathname:c,search:u}=ka(r,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:Gn([t,c])),i.createHref({pathname:h,search:u,hash:o})}function oi(){return E.useContext(ja)!=null}function Tr(){return Ge(oi(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ja).location}var pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mg(r){E.useContext(wn).static||E.useLayoutEffect(r)}function it(){let{isDataRoute:r}=E.useContext(_n);return r?p0():n0()}function n0(){Ge(oi(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(ai),{basename:e,navigator:t}=E.useContext(wn),{matches:i}=E.useContext(_n),{pathname:o}=Tr(),c=JSON.stringify(vd(i)),u=E.useRef(!1);return mg(()=>{u.current=!0}),E.useCallback((p,g={})=>{if(an(u.current,pg),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=yd(p,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gn([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,c,o,r])}E.createContext(null);function gg(){let{matches:r}=E.useContext(_n),e=r[r.length-1];return e?e.params:{}}function ka(r,{relative:e}={}){let{matches:t}=E.useContext(_n),{pathname:i}=Tr(),o=JSON.stringify(vd(t));return E.useMemo(()=>yd(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function r0(r,e){return vg(r,e)}function vg(r,e,t,i,o){Ge(oi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(wn),{matches:u}=E.useContext(_n),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",y=h&&h.route;{let I=y&&y.path||"";yg(g,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let w=Tr(),b;if(e){let I=typeof e=="string"?is(e):e;Ge(v==="/"||I.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=w;let x=b.pathname||"/",S=x;if(v!=="/"){let I=v.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let j=cg(r,{pathname:S});an(y||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),an(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=l0(j&&j.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Gn([v,c.encodeLocation?c.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:Gn([v,c.encodeLocation?c.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),u,t,i,o);return e&&N?E.createElement(ja.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function s0(){let r=f0(),e=Q_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:o},t):null,u)}var i0=E.createElement(s0,null),a0=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?E.createElement(_n.Provider,{value:this.props.routeContext},E.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o0({routeContext:r,match:e,children:t}){let i=E.useContext(ai);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(_n.Provider,{value:r},t)}function l0(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,u=t?.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Ge(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,p=-1;if(t)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:y,errors:w}=t,b=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||b){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,v,y)=>{let w,b=!1,x=null,S=null;t&&(w=u&&v.route.id?u[v.route.id]:void 0,x=v.route.errorElement||i0,h&&(p<0&&y===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):p===y&&(b=!0,S=v.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,y+1)),N=()=>{let I;return w?I=x:b?I=S:v.route.Component?I=E.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=g,E.createElement(o0,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:I})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?E.createElement(a0,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:i}):N()},null)}function _d(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c0(r){let e=E.useContext(ai);return Ge(e,_d(r)),e}function u0(r){let e=E.useContext(xl);return Ge(e,_d(r)),e}function d0(r){let e=E.useContext(_n);return Ge(e,_d(r)),e}function Ed(r){let e=d0(r),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function h0(){return Ed("useRouteId")}function f0(){let r=E.useContext(wd),e=u0("useRouteError"),t=Ed("useRouteError");return r!==void 0?r:e.errors?.[t]}function p0(){let{router:r}=c0("useNavigate"),e=Ed("useNavigate"),t=E.useRef(!1);return mg(()=>{t.current=!0}),E.useCallback(async(o,c={})=>{an(t.current,pg),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Wp={};function yg(r,e,t){!e&&!Wp[r]&&(Wp[r]=!0,an(!1,t))}E.memo(m0);function m0({routes:r,future:e,state:t,unstable_onError:i}){return vg(r,void 0,t,i,e)}function ll({to:r,replace:e,state:t,relative:i}){Ge(oi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=E.useContext(wn);an(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=E.useContext(_n),{pathname:u}=Tr(),h=it(),p=yd(r,vd(c),u,i==="path"),g=JSON.stringify(p);return E.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:i})},[h,g,i,e,t]),null}function Oe(r){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g0({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){Ge(!oi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=is(t));let{pathname:p="/",search:g="",hash:v="",state:y=null,key:w="default"}=t,b=E.useMemo(()=>{let x=Jn(p,u);return x==null?null:{location:{pathname:x,search:g,hash:v,state:y,key:w},navigationType:i}},[u,p,g,v,y,w,i]);return an(b!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(wn.Provider,{value:h},E.createElement(ja.Provider,{children:e,value:b}))}function v0({children:r,location:e}){return r0(Ju(r),e)}function Ju(r,e=[]){let t=[];return E.Children.forEach(r,(i,o)=>{if(!E.isValidElement(i))return;let c=[...e,o];if(i.type===E.Fragment){t.push.apply(t,Ju(i.props.children,c));return}Ge(i.type===Oe,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ju(i.props.children,c)),t.push(u)}),t}var Xo="get",Zo="application/x-www-form-urlencoded";function Sl(r){return r!=null&&typeof r.tagName=="string"}function y0(r){return Sl(r)&&r.tagName.toLowerCase()==="button"}function w0(r){return Sl(r)&&r.tagName.toLowerCase()==="form"}function _0(r){return Sl(r)&&r.tagName.toLowerCase()==="input"}function E0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function x0(r,e){return r.button===0&&(!e||e==="_self")&&!E0(r)}var Ho=null;function S0(){if(Ho===null)try{new FormData(document.createElement("form"),0),Ho=!1}catch{Ho=!0}return Ho}var b0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ku(r){return r!=null&&!b0.has(r)?(an(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zo}"`),null):r}function j0(r,e){let t,i,o,c,u;if(w0(r)){let h=r.getAttribute("action");i=h?Jn(h,e):null,t=r.getAttribute("method")||Xo,o=ku(r.getAttribute("enctype"))||Zo,c=new FormData(r)}else if(y0(r)||_0(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(i=p?Jn(p,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Xo,o=ku(r.getAttribute("formenctype"))||ku(h.getAttribute("enctype"))||Zo,c=new FormData(h,r),!S0()){let{name:g,type:v,value:y}=r;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,y)}}else{if(Sl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xo,i=null,o=Zo,u=r}return c&&o==="text/plain"&&(u=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function k0(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Jn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function N0(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function C0(r,e,t){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await N0(c,t);return u.links?u.links():[]}return[]}));return R0(i.flat(1).filter(I0).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gp(r,e,t,i,o,c){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>u(p,g)||h(p,g)):c==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function T0(r,e,{includeHydrateFallback:t}={}){return A0(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function A0(r){return[...new Set(r)]}function P0(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function R0(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(P0(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}function wg(){let r=E.useContext(ai);return xd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function O0(){let r=E.useContext(xl);return xd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sd=E.createContext(void 0);Sd.displayName="FrameworkContext";function _g(){let r=E.useContext(Sd);return xd(r,"You must render this element inside a <HydratedRouter> element"),r}function L0(r,e){let t=E.useContext(Sd),[i,o]=E.useState(!1),[c,u]=E.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:y}=e,w=E.useRef(null);E.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let S=N=>{N.forEach(I=>{u(I.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),E.useEffect(()=>{if(i){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{o(!0)},x=()=>{o(!1),u(!1)};return t?r!=="intent"?[c,w,{}]:[c,w,{onFocus:ta(h,b),onBlur:ta(p,x),onMouseEnter:ta(g,b),onMouseLeave:ta(v,x),onTouchStart:ta(y,b)}]:[!1,w,{}]}function ta(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function D0({page:r,...e}){let{router:t}=wg(),i=E.useMemo(()=>cg(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?E.createElement(U0,{page:r,matches:i,...e}):null}function M0(r){let{manifest:e,routeModules:t}=_g(),[i,o]=E.useState([]);return E.useEffect(()=>{let c=!1;return C0(r,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[r,e,t]),i}function U0({page:r,matches:e,...t}){let i=Tr(),{manifest:o,routeModules:c}=_g(),{basename:u}=wg(),{loaderData:h,matches:p}=O0(),g=E.useMemo(()=>Gp(r,e,p,o,i,"data"),[r,e,p,o,i]),v=E.useMemo(()=>Gp(r,e,p,o,i,"assets"),[r,e,p,o,i]),y=E.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(e.forEach(N=>{let I=o.routes[N.route.id];!I||!I.hasLoader||(!g.some(T=>T.route.id===N.route.id)&&N.route.id in h&&c[N.route.id]?.shouldRevalidate||I.hasClientLoader?S=!0:x.add(N.route.id))}),x.size===0)return[];let j=k0(r,u,"data");return S&&x.size>0&&j.searchParams.set("_routes",e.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[u,h,i,o,g,e,r,c]),w=E.useMemo(()=>T0(v,o),[v,o]),b=M0(v);return E.createElement(E.Fragment,null,y.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:S})=>E.createElement("link",{key:x,nonce:t.nonce,...S})))}function F0(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eg&&(window.__reactRouterVersion="7.9.4")}catch{}function $0({basename:r,children:e,window:t}){let i=E.useRef();i.current==null&&(i.current=I_({window:t,v5Compat:!0}));let o=i.current,[c,u]=E.useState({action:o.action,location:o.location}),h=E.useCallback(p=>{E.startTransition(()=>u(p))},[u]);return E.useLayoutEffect(()=>o.listen(h),[o,h]),E.createElement(g0,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=E.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:h,target:p,to:g,preventScrollReset:v,viewTransition:y,...w},b){let{basename:x}=E.useContext(wn),S=typeof g=="string"&&xg.test(g),j,N=!1;if(typeof g=="string"&&S&&(j=g,Eg))try{let z=new URL(window.location.href),W=g.startsWith("//")?new URL(z.protocol+g):new URL(g),re=Jn(W.pathname,x);W.origin===z.origin&&re!=null?g=re+W.search+W.hash:N=!0}catch{an(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=t0(g,{relative:o}),[T,$,P]=L0(i,w),U=q0(g,{replace:u,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:y});function O(z){e&&e(z),z.defaultPrevented||U(z)}let q=E.createElement("a",{...w,...P,href:j||I,onClick:N||c?e:O,ref:F0(b,$),target:p,"data-discover":!S&&t==="render"?"true":void 0});return T&&!S?E.createElement(E.Fragment,null,q,E.createElement(D0,{page:I})):q});bl.displayName="Link";var B0=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:u,viewTransition:h,children:p,...g},v){let y=ka(u,{relative:g.relative}),w=Tr(),b=E.useContext(xl),{navigator:x,basename:S}=E.useContext(wn),j=b!=null&&J0(y)&&h===!0,N=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=w.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,N=N.toLowerCase()),T&&S&&(T=Jn(T,S)||T);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=I===N||!o&&I.startsWith(N)&&I.charAt($)==="/",U=T!=null&&(T===N||!o&&T.startsWith(N)&&T.charAt(N.length)==="/"),O={isActive:P,isPending:U,isTransitioning:j},q=P?e:void 0,z;typeof i=="function"?z=i(O):z=[i,P?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(O):c;return E.createElement(bl,{...g,"aria-current":q,className:z,ref:v,style:W,to:u,viewTransition:h},typeof p=="function"?p(O):p)});B0.displayName="NavLink";var z0=E.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:u=Xo,action:h,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y,...w},b)=>{let x=G0(),S=K0(h,{relative:g}),j=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&xg.test(h),I=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let $=T.nativeEvent.submitter,P=$?.getAttribute("formmethod")||u;x($||T.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:y})};return E.createElement("form",{ref:b,method:j,action:S,onSubmit:i?p:I,...w,"data-discover":!N&&r==="render"?"true":void 0})});z0.displayName="Form";function V0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sg(r){let e=E.useContext(ai);return Ge(e,V0(r)),e}function q0(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:u}={}){let h=it(),p=Tr(),g=ka(r,{relative:c});return E.useCallback(v=>{if(x0(v,e)){v.preventDefault();let y=t!==void 0?t:ga(p)===ga(g);h(r,{replace:y,state:i,preventScrollReset:o,relative:c,viewTransition:u})}},[p,h,g,t,i,e,r,o,c,u])}var H0=0,W0=()=>`__${String(++H0)}__`;function G0(){let{router:r}=Sg("useSubmit"),{basename:e}=E.useContext(wn),t=h0();return E.useCallback(async(i,o={})=>{let{action:c,method:u,encType:h,formData:p,body:g}=j0(i,e);if(o.navigate===!1){let v=o.fetcherKey||W0();await r.fetch(v,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function K0(r,{relative:e}={}){let{basename:t}=E.useContext(wn),i=E.useContext(_n);Ge(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...ka(r||".",{relative:e})},u=Tr();if(r==null){c.search=u.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Gn([t,c.pathname])),ga(c)}function J0(r,{relative:e}={}){let t=E.useContext(fg);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sg("useViewTransitionState"),o=ka(r,{relative:e});if(!t.isTransitioning)return!1;let c=Jn(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Jn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ol(o.pathname,u)!=null||ol(o.pathname,c)!=null}var Y0=lg();const bg=E.createContext();function Q0(){const r=E.useContext(bg);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r}function X0({children:r}){const[e,t]=E.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch(c){return console.error("Error loading theme from localStorage:",c),"light"}});E.useEffect(()=>{const c=document.documentElement;c.classList.remove("theme-light","theme-dark"),c.classList.add(`theme-${e}`);try{localStorage.setItem("theme",e)}catch(u){console.error("Error saving theme to localStorage:",u)}},[e]);const o={theme:e,setTheme:t,toggleTheme:()=>{t(c=>c==="light"?"dark":"light")},isDark:e==="dark",isLight:e==="light"};return a.jsx(bg.Provider,{value:o,children:r})}const Z0=({message:r,priority:e="polite"})=>{const t=E.useRef(null);return E.useEffect(()=>{r&&t.current&&(t.current.textContent="",setTimeout(()=>{t.current&&(t.current.textContent=r)},10))},[r]),a.jsx("div",{ref:t,"aria-live":e,"aria-atomic":"true",className:"aria-live-region"})},jg=({onClick:r,className:e="",size:t="medium"})=>a.jsx("button",{className:`circular-arrow-button ${t} ${e}`,onClick:r,type:"button","aria-label":"Comece agora - É grátis",children:a.jsx("svg",{className:"circular-button-arrow",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})});function eE({anchorRef:r,children:e,visible:t}){const i=E.useRef(null),[o,c]=E.useState({top:0,left:0});return E.useEffect(()=>{if(!t)return;function u(){const p=r&&r.current,g=i.current;if(!p||!g)return;const v=p.getBoundingClientRect(),y=g.getBoundingClientRect();let w=v.top-y.height-8,b=v.left+v.width/2-y.width/2;const x=8;b<x&&(b=x),b+y.width>window.innerWidth-x&&(b=window.innerWidth-y.width-x),w<x&&(w=v.bottom+8),c({top:w,left:b})}u(),window.addEventListener("resize",u),window.addEventListener("scroll",u,!0);let h;return typeof window.ResizeObserver<"u"&&(h=new window.ResizeObserver(u),h.observe(document.body)),()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",u,!0),h&&h.disconnect()}},[t,r]),t?Y0.createPortal(a.jsx("div",{ref:i,className:"whatsapp-portal-tooltip-text",role:"status","aria-hidden":!t,style:{position:"fixed",top:o.top,left:o.left},children:e}),document.body):null}function tE({vehicle:r,isPro:e}){const t=`https://api.whatsapp.com/send?text=${encodeURIComponent("Olá, tenho interesse na peça para: "+(r||""))}`,i=E.useRef(null),[o,c]=E.useState(!1),u=()=>c(!0),h=()=>c(!1);return a.jsxs("div",{className:"whatsapp-button-container",children:[a.jsxs("div",{className:"whatsapp-button-wrapper",children:[a.jsx("a",{className:"whatsapp-button",href:t,target:"_blank",rel:"noopener noreferrer","aria-label":`Contato via WhatsApp: ${r||""}`,children:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[a.jsx("path",{d:"M20.52 3.48A11.94 11.94 0 0012 0C5.37 0 0 5.37 0 12c0 2.11.55 4.09 1.52 5.83L0 24l6.39-1.65A11.95 11.95 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.24-6.18-3.48-8.52zM12 21.5c-1.2 0-2.38-.26-3.44-.75l-.25-.11-3.79.98.97-3.06-.17-.27A9.5 9.5 0 0112 3.5c5.25 0 9.5 4.25 9.5 9.5S17.25 22.5 12 22.5z"}),a.jsx("path",{d:"M17.06 14.34c-.31-.16-1.83-.9-2.11-1-.28-.11-.48-.16-.68.16s-.78 1-.95 1.19c-.17.19-.34.21-.66.07a6.77 6.77 0 01-2-1.23 7.02 7.02 0 01-1.28-1.58c-.13-.22 0-.34.09-.45.09-.09.2-.21.3-.32.1-.11.13-.19.2-.32.07-.13.04-.24-.02-.35-.07-.11-.68-1.64-.93-2.24-.24-.59-.48-.51-.66-.52l-.56-.01c-.18 0-.47.07-.72.35s-.94.92-.94 2.24.96 2.6 1.09 2.78c.13.19 1.87 2.86 4.53 3.9 2.66 1.04 2.66.69 3.14.65.48-.04 1.83-.74 2.09-1.45.26-.71.26-1.32.18-1.45-.08-.13-.28-.19-.59-.35z",fill:"#fff"})]})}),!e&&a.jsx("div",{className:"whatsapp-button-blur"})]}),!e&&a.jsxs("div",{className:"whatsapp-tooltip",onMouseEnter:u,onMouseLeave:h,children:[a.jsx("div",{className:"whatsapp-tooltip-icon",ref:i,onFocus:u,onBlur:h,tabIndex:0,children:a.jsx("img",{src:"/imagens/padlock.png",alt:"Cadeado",className:"whatsapp-padlock"})}),a.jsx(eE,{anchorRef:i,visible:o,children:"Seja Pro, para liberar o contato da oficina"})]})]})}function nE({applications:r,usuarioLogado:e}){const t=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");return a.jsxs("div",{className:"compatibility-grid",children:[a.jsxs("div",{className:"compatibility-grid-header",children:[a.jsx("div",{className:"compatibility-header-vehicle",children:a.jsx("strong",{children:"Carro"})}),a.jsx("div",{className:"compatibility-header-years",children:a.jsx("strong",{children:"Anos"})}),a.jsx("div",{className:"compatibility-header-contact",children:a.jsx("strong",{children:"Contato"})})]}),r.map((i,o)=>{let c=[],u="";return typeof i=="string"?((i.match(/\d{4}(?:-\d{4})?/g)||[]).forEach(p=>{if(p.includes("-")){const[g,v]=p.split("-").map(Number);for(let y=g;y<=v;y++)c.push(String(y))}else c.push(p)}),u=i.replace(/\d{4}(-\d{4})?/g,"").replace(/--/g,"").replace(/\(|\)|,/g,"").replace(/-+/g,"").trim()):typeof i=="object"&&(u=i.vehicle||"",c=i.years||[]),a.jsxs("div",{className:"compatibility-grid-row",children:[a.jsx("div",{className:"compatibility-grid-vehicle",children:a.jsx("div",{className:"compatibility-vehicle-text",children:u||"-"})}),a.jsx("div",{className:"compatibility-grid-years",children:a.jsx("div",{className:"compatibility-years-text",children:c.length?c.join(", "):"-"})}),a.jsx("div",{className:"compatibility-grid-contact",children:a.jsx(tE,{vehicle:u,isPro:t})})]},o)})]})}const Os=[];function kg(r,e){E.useEffect(()=>{const t=e?.current;if(!r||!t)return;const i=document.activeElement;Os.push({container:t,prevActive:i});const o=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(",");function c(){return Array.from(t.querySelectorAll(o)).filter(g=>!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length))}function u(){const g=c();g.length?g[0].focus():(t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1"),t.focus())}function h(){const g=Os[Os.length-1];return g&&g.container===t}function p(g){if(!h()||g.key!=="Tab")return;const v=c();if(v.length===0){g.preventDefault();return}const y=v[0],w=v[v.length-1];g.shiftKey?(document.activeElement===y||document.activeElement===t)&&(g.preventDefault(),w.focus()):document.activeElement===w&&(g.preventDefault(),y.focus())}return u(),document.addEventListener("keydown",p),()=>{for(let g=Os.length-1;g>=0;g--)if(Os[g].container===t){const v=Os.splice(g,1)[0];try{v.prevActive&&typeof v.prevActive.focus=="function"&&v.prevActive.focus()}catch{}break}document.removeEventListener("keydown",p)}},[r,e])}function rE({show:r,onClose:e,title:t,titleIcon:i,children:o}){const c=E.useRef(null);if(kg(r,c),E.useEffect(()=>{if(r){const h=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=h}}},[r]),!r)return null;const u=h=>{h.target.classList.contains("modal-overlay")&&e()};return a.jsx("div",{className:"modal-overlay",onClick:u,children:a.jsxs("div",{ref:c,className:"compat-modal",role:"dialog","aria-modal":"true","aria-label":t||"Modal",children:[a.jsxs("div",{className:"app-compat-header",children:[a.jsxs("div",{className:"app-compat-title-wrapper",children:[i&&a.jsx("img",{src:i,alt:"",className:"app-compat-title-icon"}),a.jsx("span",{className:"app-compat-title",children:t})]}),a.jsx("button",{className:"app-compat-close","aria-label":"Fechar",onClick:e,children:"✕"})]}),a.jsx("div",{className:"app-compat-body",children:o})]})})}const Kp=({guiaId:r,mediaAtual:e,totalVotos:t,votosUsuario:i,onAvaliar:o,somenteLeitura:c=!1})=>{const[u,h]=E.useState(0),p=i[r]!==void 0,g=y=>{if(console.debug("[ComponenteEstrelas] click",{guiaId:r,estrela:y,somenteLeitura:c,jaVotou:p}),!c)try{o(r,y)}catch(w){console.warn("[ComponenteEstrelas] onAvaliar threw",w)}},v=y=>{const w=y<=(u||e),b=p?y<=i[r]?"#FFAB00":"#d1d5db":w?"#FFAB00":"#d1d5db";return a.jsx("button",{type:"button","aria-label":`${y} ${y===1?"estrela":"estrelas"}`,className:`estrela ${!c&&!p?"estrela-interativa":""}`,style:{color:b,fontSize:"1.2rem"},onClick:()=>g(y),onMouseEnter:()=>!c&&!p&&h(y),onMouseLeave:()=>!c&&!p&&h(0),children:"★"},y)};return a.jsxs("div",{className:"sistema-avaliacao",children:[a.jsx("div",{className:"estrelas-container",children:[1,2,3,4,5].map(v)}),a.jsxs("div",{className:"avaliacao-info",children:[a.jsx("span",{className:"media-nota",children:e.toFixed(1)}),a.jsxs("span",{className:"total-votos",children:["(",t," avaliação",t!==1?"ões":"",")"]})]}),p&&a.jsxs("div",{className:"voto-confirmado",children:["Sua avaliação: ",i[r]," ★"]})]})};function Ng({requireAuth:r=!1,user:e=null,initialValues:t={},onRequireLogin:i=null,onSubmit:o=null}){const c=it(),[u,h]=E.useState({nome:"",email:"",mensagem:"",...t}),[p,g]=E.useState(!1),v=E.useRef(null),y=()=>`contato_rascunho_${e&&e.id?e.id:"anon"}`;E.useEffect(()=>{try{const x=localStorage.getItem(y());if(x){const S=JSON.parse(x);S&&typeof S=="object"&&h(j=>({...j,...S}))}}catch(x){console.warn("Failed to restore contato draft",x)}return()=>{v.current&&(clearTimeout(v.current),v.current=null)}},[e]),E.useEffect(()=>{e&&h(x=>({...x,nome:x.nome||e.nome||e.name||"",email:x.email||e.email||""}))},[e]);const w=x=>{const{name:S,value:j}=x.target,N={...u,[S]:j};h(N),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{try{N.nome||N.email||N.mensagem?localStorage.setItem(y(),JSON.stringify(N)):localStorage.removeItem(y())}catch(I){console.warn("Failed to save contato draft",I)}v.current=null},700)};if(r&&!e){const x=()=>{if(typeof i=="function")return i();c("/login")};return a.jsxs("div",{className:"contato-need-login",children:[a.jsx("p",{children:"Faça login para enviar uma mensagem."}),a.jsx("button",{type:"button",className:"contato-login-btn",onClick:x,children:"Entrar"})]})}const b=async x=>{if(x.preventDefault(),!p){g(!0);try{typeof o=="function"?await o(u):alert("Mensagem enviada com sucesso!"),h({nome:"",email:"",mensagem:"",...t});try{localStorage.removeItem(y())}catch{}}catch(S){console.error("Erro ao enviar contato:",S),alert("Falha ao enviar a mensagem. Tente novamente.")}finally{g(!1)}}};return a.jsxs("form",{className:"contato-form-wrapper",onSubmit:b,children:[a.jsx("input",{name:"nome",className:"contato-input",type:"text",placeholder:"Seu nome",value:u.nome,onChange:w,required:!0}),a.jsx("input",{name:"email",className:"contato-input",type:"email",placeholder:"Seu e-mail",value:u.email,onChange:w,required:!0}),a.jsx("textarea",{name:"mensagem",className:"contato-textarea",placeholder:"Mensagem",rows:6,value:u.mensagem,onChange:w,required:!0}),a.jsx("button",{className:"contato-submit",type:"submit",disabled:p,children:p?"Enviando...":"Enviar Mensagem"})]})}function Jr({options:r=[],value:e,onChange:t,placeholder:i="",disabled:o=!1}){const[c,u]=E.useState(!1),h=E.useRef(null);E.useEffect(()=>{function y(w){h.current&&!h.current.contains(w.target)&&u(!1)}return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);function p(y){t(y),u(!1)}const g=r.find(y=>y.value===e)?.label||"",v=r;return a.jsxs("div",{className:`custom-dropdown${o?" disabled":""}`,ref:h,children:[a.jsxs("button",{className:`dropdown-btn${c?" open":""}`,onClick:()=>!o&&u(!c),disabled:o,type:"button",children:[a.jsx("span",{className:"dropdown-label",children:g||i}),a.jsx("span",{className:"dropdown-arrow",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"custom-dropdown-arrow-svg","aria-hidden":"true",children:a.jsx("path",{d:"M4 6 L8 10 L12 6",stroke:"#444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]}),c&&a.jsxs("div",{className:"dropdown-menu",children:[v.length===0&&a.jsx("div",{className:"dropdown-item disabled",children:"Nenhum item"}),v.map((y,w)=>a.jsx("div",{className:`dropdown-item${y.value===e?" selected":""}`,onClick:()=>p(y.value),children:y.label},`${y.value}${w}`))]})]})}const sE=({onClick:r,className:e=""})=>a.jsxs("button",{className:`get-started-button ${e}`,onClick:r,type:"button",children:[a.jsx("span",{className:"button-text",children:"Comece agora - É grátis"}),a.jsx("svg",{className:"button-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),iE=({size:r="medium",color:e="primary",text:t=""})=>a.jsxs("div",{className:`loading-spinner-container loading-spinner-${r}`,children:[a.jsxs("div",{className:`loading-spinner loading-spinner-${e}`,children:[a.jsx("div",{className:"spinner-ring"}),a.jsx("div",{className:"spinner-ring"}),a.jsx("div",{className:"spinner-ring"})]}),t&&a.jsx("p",{className:"loading-text",children:t})]}),Ig=({className:r="",onClick:e,...t})=>{const i=it(),o=()=>{e?e():i("/")};return a.jsx("div",{className:"menu-login-logo",children:a.jsxs("div",{className:`logo-container ${r}`,onClick:o,...t,children:[a.jsx("img",{src:"/images/logo.png",alt:"Logo Peça Fácil",className:"logo-image"}),a.jsxs("div",{className:"logo-text-container",children:[a.jsx("h1",{className:"logo-title",children:"Peça Fácil"}),a.jsx("p",{className:"logo-subtitle",children:"Confiança e Economia"})]})]})})};function aE({nome:r,isPro:e=!1,onPerfil:t,onMeusCarros:i,onPro:o,onLogout:c,photoURL:u}){const[h,p]=E.useState(!1),g=E.useRef(null),v=E.useRef(null),[y,w]=E.useState({top:0,right:0}),[b,x]=E.useState(!1),[S,j]=E.useState(!1),N=typeof window<"u"&&window.__API_BASE||"",I=O=>{try{const q=String(O||"").trim().split(/\s+/).filter(Boolean);let z="";q.length===0?z="":q.length===1?z=q[0].charAt(0).toUpperCase():z=(q[0].charAt(0)+q[q.length-1].charAt(0)).toUpperCase();const W=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];let re=0;const Ee=String(O||"user");for(let ce=0;ce<Ee.length;ce++)re=(re<<5)-re+Ee.charCodeAt(ce),re|=0;const ve=W[Math.abs(re)%W.length],he=Math.abs(re)%W.length;return{initials:z,bg:ve,idx:he}}catch{return{initials:"",bg:"#2196F3"}}},{initials:T,bg:$,idx:P}=I(r||"");E.useEffect(()=>{try{const q=g.current;if(!q)return;if(!u||b)q.style.setProperty("--avatar-bg",$),q.style.backgroundColor=$,q.setAttribute("data-bg",$);else{q.style.removeProperty("--avatar-bg"),q.style.backgroundColor="";try{q.removeAttribute("data-bg")}catch{}}}catch{}let O=null;try{(!u||b)&&(O=document.createElement("style"),O.setAttribute("data-generated","avatar-bg"),O.textContent=`
          .user-menu-root .user-button.icon-only .user-initials-desktop,
          .user-menu-root .user-button.icon-only .user-initials-mobile,
          .menu-login-root .user-menu-root .user-button.icon-only .user-initials-desktop,
          .menu-login-root .user-menu-root .user-button.icon-only .user-initials-mobile {
            background-color: ${$} !important;
          }
        `,document.head.appendChild(O))}catch{O=null}return()=>{try{O&&O.parentNode&&O.parentNode.removeChild(O)}catch{}}},[g,u,b,$]),E.useEffect(()=>{try{const O=g.current;if(!O)return;const q=O.querySelector&&O.querySelector(".user-initials-desktop"),z=O.querySelector&&O.querySelector(".user-initials-mobile"),W=`background-color: ${$}; color: #fff; display: inline-flex; align-items: center; justify-content: center; width: 100%; height: 100%;`;return q&&(q.setAttribute("style",W),q.setAttribute("data-bg",$)),z&&(z.setAttribute("style",W),z.setAttribute("data-bg",$)),()=>{try{q&&(q.removeAttribute("style"),q.removeAttribute("data-bg"))}catch{}try{z&&(z.removeAttribute("style"),z.removeAttribute("data-bg"))}catch{}}}catch{}},[g,$,u,b]);const U=()=>{if(g.current){const O=g.current.getBoundingClientRect();w({top:O.bottom,right:window.innerWidth-O.right})}};return E.useEffect(()=>{h&&U()},[h]),E.useEffect(()=>{function O(q){h&&g.current&&!g.current.contains(q.target)&&v.current&&!v.current.contains(q.target)&&p(!1)}return window.addEventListener("mousedown",O),window.addEventListener("resize",U),()=>{window.removeEventListener("mousedown",O),window.removeEventListener("resize",U)}},[h]),a.jsxs("div",{className:"user-menu-root",children:[a.jsx("button",{ref:g,className:`user-button icon-only ${e?"user-pro":""} ${!u||b?`avatar-color-${P} no-overlay`:""}`,style:!u||b?{backgroundColor:$}:void 0,onClick:()=>p(O=>!O),"aria-haspopup":"true","aria-expanded":h,children:u&&!b?a.jsx("img",{src:u,alt:r?`Avatar de ${r}`:"Avatar do usuário",className:"user-avatar",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:O=>{try{const q=O&&O.currentTarget&&O.currentTarget.src?String(O.currentTarget.src):u||"";if(!S&&q&&/googleusercontent\.com/i.test(q)){j(!0);const z=`${N}/api/avatar/proxy?url=${encodeURIComponent(q)}`;O.currentTarget.src=z;return}}catch{}x(!0)}}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"user-initials-desktop",width:"44",height:"44",viewBox:"0 0 44 44",role:"img","aria-label":r?`Avatar de ${r}`:"Avatar",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"22",cy:"22",r:"20",fill:$}),a.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:"0.36em",fontFamily:"Montserrat, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontWeight:"700",fontSize:"16",fill:"#FFFFFF",children:T})]}),a.jsxs("svg",{className:"user-initials-mobile",width:"36",height:"36",viewBox:"0 0 36 36",role:"img","aria-label":r?`Avatar de ${r}`:"Avatar",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"18",cy:"18",r:"16",fill:$}),a.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:"0.34em",fontFamily:"Montserrat, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontWeight:"700",fontSize:"14",fill:"#FFFFFF",children:T&&T.length>0?T.charAt(0):""})]})]})}),h&&a.jsxs("div",{ref:v,className:"user-dropdown",style:{top:`${y.top}px`,right:`${y.right}px`},children:[a.jsxs("div",{className:"dropdown-item dropdown-user-name dropdown-user-name-header",children:[a.jsxs("div",{className:"dropdown-user-name-row",children:["Olá, ",r]}),e&&a.jsx("div",{className:"dropdown-user-subtitle",children:"Assinante Pro"})]}),a.jsx("button",{className:"dropdown-item",onClick:()=>{p(!1),t()},children:"Perfil"}),a.jsx("button",{className:"dropdown-item",onClick:()=>{p(!1),i()},children:"Meus Carros"}),a.jsx("button",{className:"dropdown-item",onClick:()=>{p(!1),o()},children:"Versão Pro"}),a.jsx("button",{className:"dropdown-item dropdown-item-logout",onClick:()=>{p(!1),c()},children:"Sair"})]})]})}function st(){const[r,e]=E.useState(!1),[t,i]=E.useState(0),[o,c]=E.useState(!1),[u,h]=E.useState({top:0,left:0}),[p,g]=E.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),v=E.useRef(null),y=E.useRef(null),w=it(),{usuarioLogado:b,setUsuarioLogado:x}=E.useContext(Ke),S=!!(b&&b.isPro)||localStorage.getItem("versaoProAtiva")==="true",j=E.useRef(null),N=[{id:"buscar",label:"Catálogo de Peças",onClick:()=>w("/buscar-pecas")},{id:"tabela-fipe",label:"Tabela FIPE",onClick:()=>w("/tabela-fipe")},{id:"recalls",label:"Recalls",onClick:()=>w("/recalls")},{id:"guias",label:"Guias",onClick:()=>w("/guias")},{id:"contato",label:"Contato",onClick:()=>w("/contato-logado")}];E.useEffect(()=>{const P=()=>{const U=window.scrollY;U>t&&U>60?e(!0):e(!1),i(U)};return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)},[t]),E.useEffect(()=>{const P=()=>{g(window.innerWidth<=768)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const I=()=>{if(v.current){const P=v.current.getBoundingClientRect(),U=Math.round(P.bottom+4),O=Math.round(P.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${U}px`),y.current.style.setProperty("--dropdown-left",`${O}px`)),h({top:U,left:O})}},T=()=>{c(!1)},$=P=>U=>{U&&typeof U.preventDefault=="function"&&U.preventDefault(),T(),P()};return E.useEffect(()=>{function P(U){o&&v.current&&!v.current.contains(U.target)&&y.current&&!y.current.contains(U.target)&&c(!1)}return window.addEventListener("mousedown",P),window.addEventListener("resize",I),()=>{window.removeEventListener("mousedown",P),window.removeEventListener("resize",I)}},[o]),E.useLayoutEffect(()=>{if(o&&y.current&&v.current){const P=v.current.getBoundingClientRect(),U=Math.round(P.bottom+4),O=Math.round(P.left);try{y.current.style.setProperty("--dropdown-top",`${U}px`),y.current.style.setProperty("--dropdown-left",`${O}px`)}catch{}h({top:U,left:O})}},[o]),a.jsx("header",{ref:j,className:"site-header menu-login",children:a.jsxs("div",{className:"menu-login-root menu-responsive",children:[a.jsx(Ig,{}),a.jsxs("div",{className:"user-menu-root",children:[a.jsxs("button",{ref:v,className:`mobile-menu-toggle ${o?"active":""}`,onClick:()=>{c(P=>!P),o||I()},"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":o,children:[a.jsx("span",{className:"hamburger-line"}),a.jsx("span",{className:"hamburger-line"}),a.jsx("span",{className:"hamburger-line"})]}),a.jsx("div",{ref:y,className:`user-dropdown ${o?"open":"closed"}`,role:"menu","aria-hidden":!o,hidden:!o,...o?{}:{inert:"true"},children:N.map(P=>a.jsx("button",{className:"dropdown-item",onClick:()=>{c(!1),typeof P.onClick=="function"&&P.onClick()},disabled:!o,tabIndex:o?0:-1,children:P.label},P.id))})]}),a.jsx("div",{className:"menu-login-center",children:a.jsx("nav",{className:"menu-nav",children:a.jsx("ul",{className:"menu-list",children:N.map(P=>a.jsx("li",{children:a.jsx("a",{href:`#${P.id}`,className:"menu-login-item",onClick:$(P.onClick),children:P.label})},P.id))})})}),a.jsx("div",{className:"menu-login-right",children:b?a.jsx(aE,{nome:b?.nome,photoURL:b?.photoURL,isPro:S,onPerfil:$(()=>w("/perfil")),onMeusCarros:$(()=>w("/meus-carros")),onPro:$(()=>w(S?"/versao-pro-assinado":"/versao-pro")),onLogout:$(async()=>{try{const{default:P}=await Wn(async()=>{const{default:U}=await Promise.resolve().then(()=>Qg);return{default:U}},[],import.meta.url);if(P&&P.auth&&typeof P.auth.signOut=="function")try{await P.auth.signOut()}catch{}}catch{}try{const P=await Wn(()=>Promise.resolve().then(()=>QI),void 0,import.meta.url),{signOut:U}=P,{auth:O}=await Wn(async()=>{const{auth:q}=await Promise.resolve().then(()=>tC);return{auth:q}},void 0,import.meta.url);if(typeof U=="function"&&O)try{await U(O)}catch{}}catch{}x(null);try{localStorage.removeItem("usuario-logado")}catch{}w("/login")})}):a.jsx(jg,{onClick:$(()=>w("/login"))})})]})})}const oE=({message:r,type:e="success",duration:t=3e3,onClose:i})=>{const[o,c]=E.useState(!1),[u,h]=E.useState(!1);return E.useEffect(()=>{const p=setTimeout(()=>c(!0),10),g=setTimeout(()=>{h(!0),setTimeout(()=>{i?.()},300)},t);return()=>{clearTimeout(p),clearTimeout(g)}},[t,i]),r?a.jsxs("div",{className:`toast toast--${e} ${o?"toast--visible":""} ${u?"toast--leaving":""}`,role:"alert","aria-live":"polite",children:[a.jsxs("div",{className:"toast-content",children:[e==="success"&&a.jsx("svg",{className:"toast-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:a.jsx("path",{d:"M13.5 4.5 L6 12 L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsx("span",{className:"toast-message",children:r})]}),a.jsx("button",{className:"toast-close",onClick:()=>{h(!0),setTimeout(i,300)},"aria-label":"Fechar notificação",children:a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:a.jsx("path",{d:"M11 3L3 11M3 3L11 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}):null},ln=()=>{const[r,e]=E.useState(!1),[t,i]=E.useState({top:0,left:0}),[o,c]=E.useState(null),[u,h]=E.useState(""),[p,g]=E.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),v=E.useRef(null),y=E.useRef(null),w=it(),{usuarioLogado:b,setUsuarioLogado:x,authLoaded:S}=E.useContext(Ke)||{},j=[{id:"inicio",label:"Início",onClick:()=>w("/inicio")},{id:"catalogo",label:"Catálogo de Peças",onClick:()=>w("/buscar-pecas")},{id:"quem-somos",label:"Quem Somos",onClick:()=>w("/quem-somos")},{id:"nosso-projeto",label:"Nosso Projeto",onClick:()=>w("/nosso-projeto")},{id:"seja-pro",label:"Seja Pro",onClick:()=>w("/seja-pro")},{id:"contato",label:"Contato",onClick:()=>w("/contato")}],N=(z,W,re)=>{c({type:z,title:W,message:re,id:Date.now()}),setTimeout(()=>c(null),4e3)},I=z=>{h(z),setTimeout(()=>h(""),100)},T=()=>{N("success","Login realizado","Bem-vindo de volta!"),I("Login realizado com sucesso")},$=E.useRef();E.useEffect(()=>{$.current===null&&b&&T(),$.current=b},[b]),E.useEffect(()=>{const z=()=>{const re=window.innerWidth<=768;g(re)};return window.addEventListener("resize",z),z(),()=>window.removeEventListener("resize",z)},[]);const P=()=>{if(v.current){const z=v.current.getBoundingClientRect(),W=Math.round(z.bottom+4),re=Math.round(z.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${W}px`),y.current.style.setProperty("--dropdown-left",`${re}px`)),i({top:W,left:re})}},U=()=>{const z=!r;e(z),z&&window.requestAnimationFrame(()=>P())},O=()=>{e(!1)},q=z=>W=>{W&&typeof W.preventDefault=="function"&&(W.preventDefault(),W.stopPropagation()),O(),z()};return E.useEffect(()=>{function z(W){r&&v.current&&!v.current.contains(W.target)&&y.current&&!y.current.contains(W.target)&&e(!1)}return window.addEventListener("mousedown",z),window.addEventListener("resize",P),()=>{window.removeEventListener("mousedown",z),window.removeEventListener("resize",P)}},[r]),E.useLayoutEffect(()=>{if(r&&y.current&&v.current){const z=v.current.getBoundingClientRect(),W=Math.round(z.bottom+4),re=Math.round(z.left);y.current&&(y.current.style.setProperty("--dropdown-top",`${W}px`),y.current.style.setProperty("--dropdown-left",`${re}px`)),i({top:W,left:re})}},[r]),a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"site-header",children:a.jsxs("div",{className:"menu-login-root menu-responsive",children:[a.jsx(Ig,{}),a.jsxs("div",{className:"user-menu-root",children:[a.jsxs("button",{ref:v,className:`mobile-menu-toggle ${r?"active":""}`,onClick:U,"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":r,children:[a.jsx("span",{className:"hamburger-line"}),a.jsx("span",{className:"hamburger-line"}),a.jsx("span",{className:"hamburger-line"})]}),a.jsx("div",{ref:y,className:`user-dropdown ${r?"open":"closed"}`,role:"menu","aria-hidden":!r,children:j.map(z=>a.jsx("button",{className:"dropdown-item",onClick:()=>{e(!1),z.onClick()},children:z.label},z.id))})]}),a.jsx("div",{className:"menu-login-center",children:a.jsx("nav",{className:"menu-nav",children:a.jsx("ul",{className:"menu-list",children:j.map(z=>a.jsx("li",{children:a.jsx("button",{className:`menu-login-item ${z.id==="nosso-projeto"?"nosso-projeto":""}`,onClick:q(z.onClick),children:z.label})},z.id))})})}),a.jsx("div",{className:"menu-login-right",children:p?a.jsx(jg,{onClick:z=>{z?.preventDefault?.(),z?.stopPropagation?.(),w("/login")}}):a.jsx(sE,{onClick:z=>{z?.preventDefault?.(),z?.stopPropagation?.(),w("/login")}})})]})}),o&&a.jsx(oE,{type:o.type,title:o.title,message:o.message,onClose:()=>c(null),autoClose:!0,duration:4e3}),a.jsx(Z0,{message:u})]})};function lE({peca:r,onViewCompatibility:e,onViewDetails:t}){const{usuarioLogado:i}=E.useContext(Ke)||{},o=it();return a.jsxs("div",{className:"peca-card",children:[a.jsx("h3",{className:"peca-card-title",children:r.name}),a.jsxs("p",{className:"peca-card-info",children:[a.jsx("strong",{children:"Categoria:"})," ",r.category]}),a.jsxs("p",{className:"peca-card-info",children:[a.jsx("strong",{children:"Fabricante:"})," ",r.manufacturer]}),r.specifications&&a.jsxs("div",{className:"peca-card-specs",children:[a.jsx("strong",{children:"Especificações:"}),Object.entries(r.specifications).map(([c,u])=>a.jsxs("div",{className:"peca-card-spec-item",children:[c,": ",u]},c))]}),a.jsxs("div",{className:"peca-card-actions",children:[a.jsxs("div",{className:"button-with-lock",children:[a.jsx("button",{className:`peca-card-compat-btn ${i?"":"btn-blocked"}`,onClick:()=>i&&e(r),disabled:!i,children:"Ver compatibilidade"}),!i&&a.jsxs("div",{className:"lock-icon-wrapper",children:[a.jsx("span",{className:"lock-icon",children:"🔒"}),a.jsx("span",{className:"lock-tooltip",children:"Faça login para ver a compatibilidade completa desta peça"})]})]}),a.jsxs("div",{className:"button-with-lock",children:[a.jsx("button",{className:`peca-card-details-btn ${i?"":"btn-blocked"}`,onClick:()=>i&&t&&t(r.id),disabled:!i,children:"Ver ficha completa"}),!i&&a.jsxs("div",{className:"lock-icon-wrapper",children:[a.jsx("span",{className:"lock-icon",children:"🔒"}),a.jsx("span",{className:"lock-tooltip",children:"Faça login para acessar a ficha técnica completa desta peça"})]})]})]}),!i&&a.jsxs("div",{className:"cta-login-box",children:[a.jsxs("p",{children:["💡 ",a.jsx("strong",{children:"Quer acessar todos os detalhes?"})]}),a.jsx("button",{onClick:()=>o("/login"),className:"cta-login-button",children:"Fazer Login / Cadastrar Grátis"})]})]})}function cE({pecas:r,onViewCompatibility:e,onViewDetails:t}){return!r||r.length===0?a.jsx("div",{className:"pecas-grid-empty",children:a.jsx("p",{children:"Nenhuma peça encontrada para os filtros selecionados."})}):a.jsx("div",{className:"pecas-grid",children:r.map(i=>a.jsx(lE,{peca:i,onViewCompatibility:e,onViewDetails:t},i.id))})}const el=[{id:1,nome:"Motor",icone:"🔴",cor:"vermelho",prioridade:"Alta",descricao:"Indica problema crítico no motor. Pare imediatamente e procure assistência técnica.",causas:["Superaquecimento do motor","Baixa pressão do óleo","Falha no sistema de arrefecimento","Problema na bomba d'água"],acoes:["Pare o veículo em local seguro imediatamente","Desligue o motor","Não tente continuar dirigindo","Chame o guincho ou mecânico"]},{id:2,nome:"Freios",icone:"🛑",cor:"vermelho",prioridade:"Alta",descricao:"Sistema de freios com falha crítica. Risco de acidente grave.",causas:["Pastilhas de freio gastas","Vazamento no sistema hidráulico","Freio de mão acionado","Baixo nível do fluido de freio"],acoes:["Pare em local seguro imediatamente","Verifique o freio de mão","Não dirija o veículo","Procure assistência urgente"]},{id:3,nome:"Bateria",icone:"🔋",cor:"vermelho",prioridade:"Alta",descricao:"Sistema de carga da bateria com problema. Risco de pane elétrica.",causas:["Alternador com defeito","Bateria descarregada ou danificada","Correia do alternador rompida","Problema no regulador de voltagem"],acoes:["Desligue equipamentos não essenciais","Procure oficina rapidamente","Evite parar o motor","Verifique se há ruídos estranhos"]},{id:4,nome:"Óleo do Motor",icone:"🛢️",cor:"amarelo",prioridade:"Média",descricao:"Nível ou pressão do óleo abaixo do recomendado. Pode causar danos ao motor.",causas:["Nível baixo de óleo","Vazamento de óleo","Bomba de óleo com defeito","Filtro de óleo entupido"],acoes:["Verifique o nível de óleo com a vareta","Complete o óleo se necessário","Procure vazamentos embaixo do carro","Agende revisão"]},{id:5,nome:"Injeção Eletrônica",icone:"⚡",cor:"amarelo",prioridade:"Média",descricao:"Problema detectado no sistema de injeção eletrônica do combustível.",causas:["Sensor com defeito","Bico injetor entupido","Problema na centralina","Combustível de má qualidade"],acoes:["Verifique se há perda de potência","Observe o consumo de combustível","Faça diagnóstico eletrônico","Use combustível de qualidade"]},{id:6,nome:"ABS",icone:"🚗",cor:"amarelo",prioridade:"Média",descricao:"Sistema de freios ABS desativado. Freios funcionam, mas sem assistência.",causas:["Sensor de velocidade com defeito","Problema na central ABS","Fusível queimado","Conexão elétrica solta"],acoes:["Dirija com cuidado redobrado","Evite frenagens bruscas","Procure oficina especializada","Teste os freios em velocidade baixa"]},{id:7,nome:"Faróis Ligados",icone:"💡",cor:"verde",prioridade:"Baixa",descricao:"Indica que os faróis estão ligados e funcionando normalmente.",causas:["Faróis acionados pelo motorista","Sensor automático ativado","Sistema funcionando corretamente"],acoes:["Nenhuma ação necessária","Luz informativa normal","Verifique se os faróis estão funcionando"]},{id:8,nome:"Eco Mode",icone:"🌱",cor:"verde",prioridade:"Baixa",descricao:"Modo econômico ativado para reduzir consumo de combustível.",causas:["Modo eco selecionado pelo motorista","Sistema de economia ativo","Dirigindo de forma econômica"],acoes:["Continue dirigindo normalmente","Aproveite a economia de combustível","Mode pode ser desativado se precisar de mais potência"]},{id:9,nome:"Farol Alto",icone:"🔵",cor:"azul",prioridade:"Baixa",descricao:"Farol alto ligado. LembreSe de abaixar para não ofuscar outros motoristas.",causas:["Farol alto acionado pelo motorista","Alavanca puxada ou travada"],acoes:["Abaixe o farol ao cruzar com outros veículos","Verifique se não está incomodando outros motoristas","Use apenas quando necessário"]},{id:10,nome:"Temperatura Baixa",icone:"❄️",cor:"azul",prioridade:"Baixa",descricao:"Motor ainda frio, em processo de aquecimento.",causas:["Motor recém ligado","Temperatura ambiente baixa","Sistema de arrefecimento funcionando"],acoes:["Aguarde o motor aquecer","Evite acelerações bruscas","Dirija suavemente até a temperatura normalizar","Luz deve apagar em alguns minutos"]},{id:11,nome:"Combustível Baixo",icone:"⛽",cor:"laranja",prioridade:"Média",descricao:"Nível de combustível baixo. Abasteça assim que possível.",causas:["Tanque com pouco combustível","Cerca de 50-60km de autonomia restante"],acoes:["Procure um posto de combustível","Evite rodar na reserva por muito tempo","Planeje o abastecimento","Verifique a autonomia no painel"]},{id:12,nome:"Airbag",icone:"🎈",cor:"laranja",prioridade:"Alta",descricao:"Sistema de airbag com problema. Pode não funcionar em caso de acidente.",causas:["Sensor de airbag com defeito","Problema na centralina","Cinto de segurança mal colocado","Sistema desativado"],acoes:["Use sempre o cinto de segurança","Dirija com cuidado extra","Procure oficina especializada urgente","Não ignore esta luz"]}],uE={"glossario-automotivo":{total:847,soma:3892,media:4.6},manutencaoPreventiva:{total:234,soma:1053,media:4.5},pecasOriginais:{total:156,soma:702,media:4.5}},dE=[{id:"manutencaoPreventiva",titulo:"Manutenção Preventiva",subtitulo:"Cuidados essenciais para seu veículo",descricao:"Guia completo sobre quando e como fazer a manutenção do seu carro.",icone:"🔧",categoria:"Manutenção",rota:"/manutencao-preventiva"},{id:"pecasOriginais",titulo:"Peças Originais vs Compatíveis",subtitulo:"Entenda as diferenças e quando usar cada uma",descricao:"Compare vantagens, desvantagens e quando optar por cada tipo de peça.",icone:"⚙️",categoria:"Peças",rota:"/pecas-originais-vs-compativeis"}];class hE{constructor(){this.isLocal=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",this.getBaseUrl=()=>typeof window>"u"?"":window.__API_BASE?window.__API_BASE:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`${window.location.protocol}//${window.location.hostname}:3001`:""}async fetchWithFallback(e,t=null){const i=this.getBaseUrl()+e;try{const o=await fetch(i);if(o.ok)return await o.json()}catch(o){console.warn(`API call failed for ${i}, falling back to local data:`,o)}if(t)return t;try{const o=this.getJsonFallbackPath(e);if(o){const c=await fetch(o);if(c.ok)return await c.json()}}catch(o){console.warn(`JSON fallback failed for ${e}:`,o)}return{data:[],message:"No data available"}}getJsonFallbackPath(e){return{"/api/glossario-dashboard":null,"/api/luzes-painel":"/data/luzes_painel.json","/api/pecas/meta":"/data/parts_db.json"}[e]||null}async getGlossarioDashboard(){return this.fetchWithFallback("/api/glossario-dashboard",el)}async getLuzesPainel(){try{const e=await fetch("/data/luzes_painel.json"),t=e.ok?await e.json():null;return this.fetchWithFallback("/api/luzes-painel",t)}catch{return this.fetchWithFallback("/api/luzes-painel")}}async getPecasMeta(){try{const e=await fetch("/data/parts_db.json");if(e.ok){const t=await e.json(),i=[...new Set(t.map(v=>v.category).filter(Boolean))].sort(),o=[...new Set(t.map(v=>v.manufacturer).filter(Boolean))].sort(),c=new Set,u=new Set,h=new Set;let p=0;return t.forEach(v=>{v.applications&&Array.isArray(v.applications)&&v.applications.forEach(y=>{if(p++,typeof y=="string"){const w=y.trim().split(/\s+/);if(w.length>=2){const b=w[0],x=w[1];h.add(b),c.add(`${b} ${x}`);const S=y.match(/\b(19|20)\d{2}\b/g);S&&S.forEach(j=>u.add(j))}}else typeof y=="object"&&(y.model&&c.add(y.model),y.year&&u.add(y.year),y.make&&h.add(y.make))})}),{grupos:i,pecas:t,marcas:[...h].sort(),modelos:[...c].sort(),anos:[...u].sort(),fabricantes:o}}}catch(e){console.warn("Error loading parts_db.json:",e)}return this.fetchWithFallback("/api/pecas/meta")}async filtrarPecas(e){if(this.isLocal)try{const t=await fetch("/api/pecas/filtrar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json();console.warn("ApiService: API response not ok:",t.status)}catch(t){console.warn("API filter call failed, using local data:",t)}try{const t=await fetch("/data/parts_db.json");if(t.ok){let o=await t.json();if(e.grupo){const u=o.length;console.log("🔍 Filtrando por grupo:",e.grupo),console.log("📊 Categorias disponíveis:",[...new Set(o.map(h=>h.category))]),o=o.filter(h=>(console.log(`Comparando: "${h.category}" === "${e.grupo}"`,h.category===e.grupo),h.category===e.grupo)),console.log(`✅ Filtrado: ${u} → ${o.length} peças`)}const c=(e.peca||e.categoria||"").toString().toLowerCase().trim();return c&&(o=o.filter(u=>(u.name||"").toString().toLowerCase().trim()===c)),e.marca&&(o=o.filter(u=>u.applications&&u.applications.some(h=>typeof h=="string"?h.toLowerCase().includes(e.marca.toLowerCase()):!1))),e.modelo&&(o=o.filter(u=>u.applications&&u.applications.some(h=>typeof h=="string"?h.toLowerCase().includes(e.modelo.toLowerCase()):!1))),e.ano&&(o=o.filter(u=>u.applications&&u.applications.some(h=>typeof h=="string"?h.includes(e.ano):!1))),e.fabricante&&(o=o.filter(u=>u.manufacturer&&u.manufacturer.toLowerCase().includes(e.fabricante.toLowerCase()))),{pecas:o,total:o.length}}else console.error("ApiService: Failed to load /data/parts_db.json:",t.status)}catch(t){console.warn("Error filtering local data:",t)}return{pecas:[],total:0}}async getPecaById(e){if(this.isLocal)try{const t=await fetch(`/api/pecas/${e}`);if(t.ok)return await t.json()}catch(t){console.warn(`API call failed for piece ${e}, using local data:`,t)}try{const t=await fetch("/data/parts_detailed.json");if(t.ok){const c=(await t.json()).find(u=>u.id===e||u.id===parseInt(e)||u.id===String(e));if(c)return c}const i=await fetch("/data/parts_db.json");if(i.ok)return(await i.json()).find(u=>u.id===e||u.id===parseInt(e)||u.id===String(e))||{error:"Peça não encontrada"}}catch(t){console.warn("Error finding piece in local data:",t)}return{error:"Peça não encontrada"}}}const Cn=new hE;function Js({on:r=!1,onClick:e=()=>{},ariaLabel:t}){return a.jsx("button",{type:"button",className:`car-toggle ${r?"headlight-on":"headlight-off"}`,onClick:e,"aria-label":t||(r?"Ocultar senha":"Mostrar senha"),children:a.jsxs("svg",{width:"32",height:"24",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M28 8c0-1.1-.9-2-2-2h-2l-1-2c-.5-.9-1.4-1.5-2.4-1.5H11.4c-1 0-1.9.6-2.4 1.5l-1 2H6c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h1v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h12v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h1c1.1 0 2-.9 2-2V8z",fill:r?"#3B82F6":"#4A5568",className:"car-body"}),a.jsx("path",{d:"M24 6H8l1.5-1.5c.3-.3.7-.5 1.1-.5h9.8c.4 0 .8.2 1.1.5L24 6z",fill:r?"#1E40AF":"#2D3748",className:"car-roof"}),a.jsx("path",{d:"M10.5 4.5L9 6h3l1-1.5h-2.5z",fill:"#63B3ED",opacity:"0.3"}),a.jsx("circle",{cx:"9",cy:"16",r:"2.5",fill:"#2D3748"}),a.jsx("circle",{cx:"9",cy:"16",r:"1.5",fill:r?"#60A5FA":"#718096",className:"wheel-rim"}),a.jsx("circle",{cx:"23",cy:"16",r:"2.5",fill:"#2D3748"}),a.jsx("circle",{cx:"23",cy:"16",r:"1.5",fill:r?"#60A5FA":"#718096",className:"wheel-rim"}),a.jsx("rect",{x:"4",y:"9",width:"2",height:"4",fill:r?"#1E40AF":"#2D3748",className:"car-grille"}),a.jsx("circle",{cx:"5",cy:"10",r:"2",fill:r?"#FED7AA":"#E2E8F0",className:"headlight-main"}),r&&a.jsxs(a.Fragment,{children:[a.jsx("ellipse",{cx:"2",cy:"10",rx:"4",ry:"6",fill:"#FED7AA",opacity:"0.15",className:"headlight-beam"}),a.jsx("circle",{cx:"5",cy:"10",r:"2.8",fill:"#FBBF24",opacity:"0.25",className:"headlight-glow-1"}),a.jsx("circle",{cx:"5",cy:"10",r:"2.2",fill:"#F59E0B",opacity:"0.4",className:"headlight-glow-2"}),a.jsx("circle",{cx:"5",cy:"10",r:"1.3",fill:"#FCD34D",className:"headlight-bright"}),a.jsxs("g",{className:"headlight-rays",stroke:"#FDE68A",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.95",children:[a.jsx("line",{x1:"7",y1:"9",x2:"11",y2:"7",className:"ray ray-1"}),a.jsx("line",{x1:"7",y1:"10",x2:"12",y2:"10",className:"ray ray-2"}),a.jsx("line",{x1:"7",y1:"11",x2:"11",y2:"13",className:"ray ray-3"}),a.jsx("line",{x1:"6",y1:"8.2",x2:"9",y2:"6",className:"ray ray-4"}),a.jsx("line",{x1:"6",y1:"11.8",x2:"9",y2:"14",className:"ray ray-5"})]})]}),a.jsx("circle",{cx:"5",cy:"13.5",r:"0.8",fill:r?"#FEF3C7":"#CBD5E0"}),a.jsx("rect",{x:"15",y:"11",width:"1",height:"0.5",fill:r?"#1E40AF":"#2D3748",className:"door-handle"}),a.jsx("ellipse",{cx:"7.5",cy:"8.5",rx:"0.8",ry:"0.5",fill:r?"#3B82F6":"#4A5568",className:"side-mirror"})]})})}function fE({formData:r={},onChange:e=()=>{},onSave:t=()=>{},onCancel:i=()=>{},showPassword:o=!1,onToggleShowPassword:c=()=>{}}){const{usuarioLogado:u,setUsuarioLogado:h}=E.useContext(Ke),[p,g]=E.useState({nome:"",celular:"",email:"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""}),[v,y]=E.useState(!1),[w,b]=E.useState(!1),[x,S]=E.useState(!1),[j,N]=E.useState({});E.useEffect(()=>{u&&g({nome:u.nome||"",celular:u.celular||"",email:u.email||"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""})},[u]);function I(){const O={};return p.nome.trim()||(O.nome="Nome é obrigatório"),p.email.trim()?/^\S+@\S+\.\S+$/.test(p.email)||(O.email="E-mail inválido"):O.email="E-mail é obrigatório",p.celular.trim()?/^\d{8,}$/.test(p.celular.replace(/\D/g,""))||(O.celular="Celular inválido"):O.celular="Celular é obrigatório",(p.senhaAtual||p.novaSenha||p.confirmNovaSenha)&&(p.senhaAtual||(O.senhaAtual="Senha atual é obrigatória para alterar senha"),p.novaSenha?p.novaSenha.length<6&&(O.novaSenha="Nova senha deve ter pelo menos 6 caracteres"):O.novaSenha="Nova senha é obrigatória",p.novaSenha!==p.confirmNovaSenha&&(O.confirmNovaSenha="Confirmação de senha não confere")),N(O),Object.keys(O).length===0}function T(O){let{name:q,value:z}=O.target;q&&q.includes("-")&&(q=q.split("-").map((re,Ee)=>Ee===0?re:re.charAt(0).toUpperCase()+re.slice(1)).join(""));let W=z;if(q==="celular"){const re=z.replace(/\D/g,"");let Ee="";re.length>0&&(Ee+="("+re.substring(0,2),re.length>=2&&(Ee+=") ",Ee+=re.substring(2,7)),re.length>7&&(Ee+="-"+re.substring(7,11))),W=Ee}g(re=>({...re,[q]:W})),j[q]&&N(re=>({...re,[q]:""}));try{e({target:{name:q,value:W}})}catch{}}async function $(){if(I()){if(p.senhaAtual)try{const O=Cn&&typeof Cn.getBaseUrl=="function"?Cn.getBaseUrl():typeof window<"u"&&window.__API_BASE?window.__API_BASE:"",q=await fetch(`${O}/api/auth/verify-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email,senha:p.senhaAtual})});if(!q.ok){if(q.status===401){N(W=>({...W,senhaAtual:"Senha atual incorreta"}));return}N(W=>({...W,senhaAtual:"Erro ao verificar senha atual"}));return}const z=await q.json();if(!z||!z.success){N(W=>({...W,senhaAtual:"Senha atual incorreta"}));return}}catch{N(q=>({...q,senhaAtual:"Erro ao verificar senha atual"}));return}if(!u){alert("Erro: usuário não está logado");return}try{const O={nome:p.nome,email:p.email,celular:p.celular};p.novaSenha&&(O.novaSenha=p.novaSenha),u&&u.photoURL&&(O.photoURL=u.photoURL);const q=Cn&&typeof Cn.getBaseUrl=="function"?Cn.getBaseUrl():typeof window<"u"&&window.__API_BASE?window.__API_BASE:"";let z=null;try{const ve={"Content-Type":"application/json"};u&&u.access_token&&(ve.Authorization=`Bearer ${u.access_token}`);const he=await fetch(`${q}/api/users/${encodeURIComponent(u.id)}`,{method:"PUT",headers:ve,body:JSON.stringify(O)});if(he.ok){const ce=await he.json().catch(()=>null);ce&&ce.success&&ce.user&&(z=ce.user)}else console.warn("Profile save to server failed",he.status)}catch(ve){console.warn("Profile save to server threw",ve&&ve.message?ve.message:ve)}const W=z?{...u,...z}:{...u,...p};p.novaSenha&&(W.senha=p.novaSenha),h(W),localStorage.setItem("usuario-logado",JSON.stringify(W));const Ee=JSON.parse(localStorage.getItem("usuarios")||"[]").map(ve=>ve.id===u.id?W:ve);localStorage.setItem("usuarios",JSON.stringify(Ee)),g(ve=>({...ve,senhaAtual:"",novaSenha:"",confirmNovaSenha:""})),alert("Dados salvos com sucesso!"),t(W)}catch(O){alert("Erro ao salvar dados: "+O.message)}}}function P(){u&&g({nome:u.nome||"",celular:u.celular||"",email:u.email||"",senhaAtual:"",novaSenha:"",confirmNovaSenha:""}),N({});try{i()}catch{}}function U(){y(!v);try{c()}catch{}}return a.jsxs("div",{className:"login-form-card",children:[a.jsx("div",{children:a.jsx("h2",{className:"login-section-title",children:"Informações Pessoais"})}),a.jsxs("form",{className:"login-form",children:[a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsx("input",{id:"nome",name:"nome",type:"text",value:p.nome,onChange:T,className:`input input-bordered w-full bg-white text-black ${j.nome?"error":""}`,placeholder:"Nome Completo",autoComplete:"name"}),j.nome&&a.jsx("span",{className:"error-message",children:j.nome})]}),a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsx("input",{id:"celular",name:"celular",type:"tel",value:p.celular,onChange:T,className:`input input-bordered w-full bg-white text-black ${j.celular?"error":""}`,placeholder:"Celular",autoComplete:"tel"}),j.celular&&a.jsx("span",{className:"error-message",children:j.celular})]}),a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsx("input",{id:"email",name:"email",type:"email",value:p.email,onChange:T,className:`input input-bordered w-full bg-white text-black ${j.email?"error":""}`,placeholder:"E-mail",autoComplete:"email"}),j.email&&a.jsx("span",{className:"error-message",children:j.email})]}),u&&(u.auth_id||u.providers&&u.providers.includes&&u.providers.includes("google"))&&a.jsx("div",{className:"form-control w-full login-form-control",style:{marginTop:6},children:a.jsxs("div",{style:{padding:"8px",borderRadius:6,background:"#f3f7ff",border:"1px solid #e0e7ff"},children:[a.jsx("strong",{children:"Conexões de conta:"}),a.jsxs("div",{style:{marginTop:6},children:["Google: ",a.jsx("span",{style:{fontWeight:700,color:"#1a73e8"},children:"Conectado"})]}),a.jsxs("div",{style:{marginTop:6,fontSize:13},children:["Se quiser desvincular a conta do Google, vá em ",a.jsx("a",{href:"/configuracoes",children:"Configurações"})," ou contate o suporte."]})]})}),a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsxs("div",{className:"password-field",children:[a.jsx("input",{id:"senha-atual",name:"senha-atual",type:w?"text":"password",value:p.senhaAtual,onChange:T,className:`form-input password-input ${j.senhaAtual?"error":""}`,placeholder:"Senha atual",autoComplete:"current-password"}),a.jsx(Js,{on:w,onClick:()=>b(O=>!O),ariaLabel:w?"Ocultar senha":"Mostrar senha"})]}),j.senhaAtual&&a.jsx("span",{className:"error-message",children:j.senhaAtual})]}),a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsxs("div",{className:"password-field",children:[a.jsx("input",{id:"nova-senha",name:"nova-senha",type:v?"text":"password",value:p.novaSenha,onChange:T,className:`form-input password-input ${j.novaSenha?"error":""}`,placeholder:"Nova senha",autoComplete:"new-password"}),a.jsx(Js,{on:v,onClick:U,ariaLabel:v?"Ocultar senha":"Mostrar senha"})]}),j.novaSenha&&a.jsx("span",{className:"error-message",children:j.novaSenha})]}),a.jsxs("div",{className:"form-control w-full login-form-control",children:[a.jsxs("div",{className:"password-field",children:[a.jsx("input",{id:"confirm-nova-senha",name:"confirm-nova-senha",type:x?"text":"password",value:p.confirmNovaSenha,onChange:T,className:`form-input password-input ${j.confirmNovaSenha?"error":""}`,placeholder:"Confirmar nova senha",autoComplete:"new-password"}),a.jsx(Js,{on:x,onClick:()=>S(O=>!O),ariaLabel:x?"Ocultar senha":"Mostrar senha"})]}),j.confirmNovaSenha&&a.jsx("span",{className:"error-message",children:j.confirmNovaSenha})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"button",className:"btn login-submit",onClick:$,children:"Salvar"}),a.jsx("button",{type:"button",className:"btn btn-cancel",onClick:P,children:"Cancelar"})]})]})]})}function pE({isOpen:r,onClose:e,productId:t}){const[i,o]=E.useState(null),[c,u]=E.useState(!1),[h,p]=E.useState("geral"),[g,v]=E.useState(0);E.useEffect(()=>{r&&t&&w(t)},[r,t]);const y=E.useRef(null);kg(r,y);const w=async x=>{u(!0);try{const S=await Cn.getPecaById(x);if(S.error)throw console.error("ProductDetailModal: Error from API:",S.error),new Error(S.error);o(S),v(0)}catch(S){console.error("Erro ao carregar detalhes da peça:",S),o(null)}finally{u(!1)}},b=x=>{x.target===x.currentTarget&&e()};return r?a.jsx("div",{className:"product-modal-overlay",onClick:b,children:a.jsxs("div",{ref:y,className:"product-modal",role:"dialog","aria-modal":"true","aria-label":i?.nome||"Detalhes da peça",children:[a.jsxs("div",{className:"product-modal-header",children:[a.jsx("h2",{children:i?.nome||"Carregando..."}),a.jsx("button",{className:"product-modal-close",onClick:e,children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),c?a.jsxs("div",{className:"product-modal-loading",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Carregando detalhes da peça..."})]}):i?a.jsxs("div",{className:"product-modal-content",children:[a.jsxs("div",{className:"product-header-section",children:[a.jsxs("div",{className:"product-images",children:[a.jsx("div",{className:"main-image",children:a.jsx("img",{src:i.imagens?.[g]||"/images/placeholderPart.jpg",alt:i?.nome||"",onError:x=>{x.target.src="/images/placeholderPart.jpg"}})}),i.imagens&&i.imagens.length>1&&a.jsx("div",{className:"image-thumbnails",children:i.imagens.map((x,S)=>a.jsx("img",{src:x,alt:i?.nome?`${i.nome} - ${S+1}`:"",className:g===S?"active":"",onClick:()=>v(S),onError:j=>{j.target.src="/images/placeholderPart.jpg"}},S))})]}),a.jsxs("div",{className:"product-basic-info",children:[i.recall_relacionado&&a.jsxs("div",{className:"recall-alert",children:[a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),a.jsx("path",{d:"M11 7h2v6h-2zM11 15h2v2h-2z",fill:"currentColor"})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Recall Relacionado"}),a.jsx("p",{children:i.recall_detalhes?.descricao}),a.jsxs("small",{children:["Ref: ",i.recall_detalhes?.numero]})]})]}),a.jsxs("div",{className:"product-codes",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Fabricante:"})," ",i.fabricante]}),i.codigos?.oem&&a.jsxs("div",{children:[a.jsx("strong",{children:"Códigos OEM:"})," ",i.codigos.oem.join(", ")]})]}),a.jsxs("div",{className:"installation-info",children:[a.jsxs("div",{className:"install-difficulty",children:[a.jsx("span",{className:"label",children:"Dificuldade:"}),a.jsx("span",{className:`difficulty ${i.instalacao?.dificuldade?.toLowerCase()}`,children:i.instalacao?.dificuldade})]}),a.jsxs("div",{className:"install-time",children:[a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2"})]}),i.instalacao?.tempo_estimado_min," min"]})]}),a.jsxs("div",{className:"contact-workshop",children:[a.jsx("p",{children:a.jsx("strong",{children:"💡 Para preços e disponibilidade:"})}),a.jsx("p",{children:"Consulte nossas oficinas parceiras próximas ao seu local"})]})]})]}),a.jsxs("div",{className:"product-tabs",children:[a.jsxs("div",{className:"tab-buttons",children:[a.jsx("button",{className:h==="geral"?"active":"",onClick:()=>p("geral"),children:"Geral"}),a.jsx("button",{className:h==="especificacoes"?"active":"",onClick:()=>p("especificacoes"),children:"Especificações"}),a.jsx("button",{className:h==="compatibilidade"?"active":"",onClick:()=>p("compatibilidade"),children:"Compatibilidade"}),a.jsx("button",{className:h==="instalacao"?"active":"",onClick:()=>p("instalacao"),children:"Instalação"}),a.jsx("button",{className:h==="avaliacoes"?"active":"",onClick:()=>p("avaliacoes"),children:"Avaliações"})]}),a.jsxs("div",{className:"tab-content",children:[h==="geral"&&a.jsxs("div",{className:"tab-panel",children:[a.jsx("h3",{children:"Como Adquirir"}),a.jsxs("div",{className:"workshop-info",children:[a.jsx("div",{children:"🏪 Consulte preços e disponibilidade com nossas oficinas parceiras"}),a.jsx("div",{children:"🛠️ Instalação profissional disponível"}),a.jsx("div",{children:"� Garantia conforme política de cada oficina"})]}),i.pecas_relacionadas&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Peças Relacionadas"}),a.jsx("div",{className:"related-parts",children:i.pecas_relacionadas.map((x,S)=>a.jsxs("div",{className:"related-part",children:[a.jsx("strong",{children:x.nome}),a.jsx("span",{children:x.relacao})]},S))})]})]}),h==="especificacoes"&&a.jsxs("div",{className:"tab-panel",children:[a.jsx("h3",{children:"Especificações Técnicas"}),a.jsx("div",{className:"specs-grid",children:i.especificacoes_tecnicas&&Object.entries(i.especificacoes_tecnicas).map(([x,S])=>a.jsxs("div",{className:"spec-item",children:[a.jsxs("span",{className:"spec-label",children:[x.replace(/_/g," "),":"]}),a.jsx("span",{className:"spec-value",children:S})]},x))})]}),h==="compatibilidade"&&a.jsxs("div",{className:"tab-panel",children:[a.jsx("h3",{children:"Aplicações Detalhadas"}),a.jsx("div",{className:"compatibility-table",children:i.aplicacoes_detalhadas?.map((x,S)=>a.jsxs("div",{className:"compatibility-row",children:[a.jsxs("div",{className:"app-main",children:[a.jsxs("strong",{children:[x.marca," ",x.modelo]}),a.jsxs("span",{children:[x.ano_inicio,"-",x.ano_fim]})]}),a.jsxs("div",{className:"app-details",children:[a.jsxs("span",{children:["Motor: ",x.motor]}),x.observacoes&&a.jsx("small",{children:x.observacoes})]})]},S))})]}),h==="instalacao"&&a.jsxs("div",{className:"tab-panel",children:[a.jsx("h3",{children:"Guia de Instalação"}),a.jsxs("div",{className:"install-guide",children:[a.jsxs("div",{className:"install-requirements",children:[a.jsx("div",{children:a.jsx("strong",{children:"Ferramentas necessárias:"})}),a.jsx("ul",{children:i.instalacao?.ferramentas_necessarias?.map((x,S)=>a.jsx("li",{children:x},S))})]}),i.instalacao?.precaucoes&&a.jsxs("div",{className:"install-precautions",children:[a.jsx("div",{children:a.jsx("strong",{children:"⚠️ Precauções:"})}),a.jsx("ul",{children:i.instalacao.precaucoes.map((x,S)=>a.jsx("li",{children:x},S))})]})]})]}),h==="avaliacoes"&&a.jsxs("div",{className:"tab-panel",children:[a.jsx("h3",{children:"Avaliações de Clientes"}),a.jsx("div",{className:"reviews",children:i.avaliacoes?.map((x,S)=>a.jsxs("div",{className:"review-item",children:[a.jsxs("div",{className:"review-header",children:[a.jsx("strong",{children:x.usuario}),a.jsxs("div",{className:"review-rating",children:["★".repeat(x.nota),"☆".repeat(5-x.nota)]}),a.jsx("span",{className:"review-date",children:new Date(x.data).toLocaleDateString("pt-BR")})]}),a.jsx("p",{children:x.texto})]},S))}),i.perguntasFrequentes&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Perguntas Frequentes"}),a.jsx("div",{className:"faq",children:i.perguntasFrequentes.map((x,S)=>a.jsxs("div",{className:"faq-item",children:[a.jsxs("strong",{children:["Q: ",x.pergunta]}),a.jsxs("p",{children:["R: ",x.resposta]})]},S))})]})]})]})]})]}):a.jsx("div",{className:"product-modal-error",children:a.jsx("p",{children:"Não foi possível carregar os detalhes da peça."})})]})}):null}function mE({rating:r=0,totalRatings:e=0,onRate:t=null,readOnly:i=!1,size:o="medium"}){const[c,u]=E.useState(0),[h,p]=E.useState(!1),[g,v]=E.useState(null),y=S=>{!i&&t&&(p(!0),t(S),v(S),setTimeout(()=>p(!1),300))},w=S=>{i||u(S)},b=()=>{i||u(0)},x=c||g||r;return Gu.useEffect(()=>{g!==null&&r&&Number(r)>0&&v(null)},[r,g]),a.jsxs("div",{className:`rating-stars-container ${o} ${i?"read-only":"interactive"}`,children:[a.jsx("div",{className:"stars-wrapper",onMouseLeave:b,children:[1,2,3,4,5].map(S=>a.jsx("button",{type:"button",className:`star-button ${S<=x?"filled":"empty"} ${h?"animating":""}`,onClick:()=>y(S),onMouseEnter:()=>w(S),disabled:i,"aria-label":`${S} ${S===1?"estrela":"estrelas"}`,children:a.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},S))}),e>0&&r>0&&a.jsxs("div",{className:"rating-info",children:[a.jsx("span",{className:"rating-average",children:r.toFixed(1)}),a.jsxs("span",{className:"rating-count",children:["(",e," ",e===1?"avaliação":"avaliações",")"]})]}),!i&&e===0&&a.jsx("span",{className:"rating-prompt",children:"Seja o primeiro a avaliar"}),i&&e===0&&a.jsx("span",{className:"rating-prompt",children:"Sem avaliações ainda"})]})}const Yu="pf_user_cars";async function as(r){if(!r)return[];try{const e=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:""),t=await fetch(`${e}/api/users/${encodeURIComponent(r)}/cars`);if(t.ok)return await t.json()}catch(e){console.warn("API getCars failed, falling back to localStorage:",e)}try{return JSON.parse(localStorage.getItem(Yu)||"{}")[r]||[]}catch(e){return console.error("Erro ao carregar carros:",e),[]}}async function jl(r,e){if(!r)return!1;try{const t=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"");if((await fetch(`${t}/api/users/${encodeURIComponent(r)}/cars`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cars:e})})).ok)return!0}catch(t){console.warn("API saveCars failed, falling back to localStorage:",t)}try{const t=JSON.parse(localStorage.getItem(Yu)||"{}");return t[r]=e,localStorage.setItem(Yu,JSON.stringify(t)),!0}catch(t){return console.error("Erro ao salvar carros:",t),!1}}async function gE(r,e){if(!r||!e)return null;try{const t=await as(r),i={id:Date.now().toString()+Math.random().toString(36).substr(2,9),...e,createdAt:new Date().toISOString()};return t.push(i),await jl(r,t),i}catch(t){return console.error("Erro ao adicionar carro:",t),null}}async function vE(r,e){if(!r||!e)return!1;try{const t=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"");if((await fetch(`${t}/api/users/${encodeURIComponent(r)}/cars/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)return!0}catch(t){console.warn("API removeCar failed, falling back to localStorage:",t)}try{const i=(await as(r)).filter(o=>o.id!==e);return await jl(r,i),!0}catch(t){return console.error("Erro ao remover carro:",t),!1}}async function yE(r,e,t){if(!r||!e||!t)return!1;try{const o=(await as(r)).map(c=>c.id===e?{...c,...t,updatedAt:new Date().toISOString()}:c);return await jl(r,o),!0}catch(i){return console.error("Erro ao atualizar carro:",i),!1}}async function wE(r,e){if(!r||!e)return!1;try{const i=(await as(r)).map(o=>({...o,isDefault:o.id===e}));return await jl(r,i),!0}catch(t){return console.error("Erro ao definir carro padrão:",t),!1}}function _E({selectedGrupo:r,setSelectedGrupo:e,selectedCategoria:t,setSelectedCategoria:i,selectedMarca:o,setSelectedMarca:c,selectedModelo:u,setSelectedModelo:h,selectedAno:p,setSelectedAno:g,selectedFabricante:v,setSelectedFabricante:y,grupos:w,todasPecas:b,marcas:x,modelos:S,anos:j,fabricantes:N,onSearch:I,onClear:T,loading:$,error:P,warningMarca:U,warningModelo:O,warningAno:q,warningFabricante:z,emptyFieldsWarning:W}){const{usuarioLogado:re}=E.useContext(Ke)||{},[Ee,ve]=E.useState([]),[he,ce]=E.useState("");E.useEffect(()=>{(async()=>{if(re){const D=re.id||re.email,ne=await as(D);ve(ne)}else ve([]),ce("")})()},[re]);const xe=oe=>{if(ce(oe),!oe)return;const D=Ee.find(ne=>ne.id===oe);D&&(c(D.marca),h(D.modelo),g(String(D.ano)))};return a.jsxs("form",{className:"search-form",onSubmit:I,"aria-label":"Formulário de busca de peças",children:[re&&Ee.length>0&&a.jsxs("div",{className:"search-form-car-selector",children:[a.jsx("label",{htmlFor:"carro-selecionado",children:"Buscar para um carro específico (opcional)"}),a.jsx(Jr,{options:[{value:"",label:"-- Busca geral (deixar em branco) --"},...Ee.map(oe=>({value:oe.id,label:`${oe.marca} ${oe.modelo} ${oe.ano}${oe.isDefault?" ⭐":""}`}))],value:he,onChange:xe,placeholder:"Selecione um carro cadastrado"})]}),a.jsxs("div",{className:"search-form-row",children:[a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"grupo",children:"Grupo"}),a.jsx(Jr,{options:[{value:"",label:""},...w.map(oe=>({value:oe,label:oe}))],value:r,onChange:e,placeholder:""})]}),a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"categoria",children:"Peça"}),a.jsx(Jr,{options:[{value:"",label:""},...b.map(oe=>({value:oe,label:oe}))],value:t,onChange:i,placeholder:""})]})]}),a.jsxs("div",{className:"search-form-row",children:[a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"marca",children:"Marca"}),a.jsx(Jr,{options:[{value:"",label:""},...x.map(oe=>({value:oe,label:oe}))],value:o,onChange:c,placeholder:""})]}),a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"modelo",children:"Modelo"}),a.jsx(Jr,{options:[{value:"",label:""},...S.map(oe=>({value:oe,label:oe}))],value:u,onChange:h,placeholder:""})]})]}),a.jsxs("div",{className:"search-form-row",children:[a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"ano",children:"Ano"}),a.jsx(Jr,{options:[{value:"",label:""},...j.map(oe=>({value:oe,label:oe}))],value:p,onChange:g,placeholder:""})]}),a.jsxs("div",{className:"search-form-field",children:[a.jsx("label",{htmlFor:"fabricante",children:"Fabricante"}),a.jsx(Jr,{options:[{value:"",label:""},...N.map(oe=>({value:oe,label:oe}))],value:v,onChange:y,placeholder:""})]})]}),a.jsxs("div",{className:"search-form-actions",children:[a.jsxs("div",{className:"search-form-buttons-row",children:[a.jsxs("div",{className:"search-form-buttons",children:[a.jsx("button",{className:"search-form-btn search-form-btn-primary",type:"submit",disabled:$,children:$?a.jsxs("span",{className:"loading-inline",children:[a.jsx(iE,{size:"small",color:"primary"}),"Buscando..."]}):"Buscar"}),a.jsx("button",{type:"button",className:"search-form-btn search-form-btn-secondary",onClick:T,children:"Limpar"})]}),a.jsx("div",{className:"search-form-warnings-container",children:W?a.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",W]}):U?a.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",U]}):O?a.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",O]}):q?a.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",q]}):z?a.jsxs("div",{className:"search-form-inline-warning",role:"alert",children:["⚠️ ",z]}):null})]}),P&&a.jsx("div",{className:"search-form-error",role:"status","aria-live":"polite",children:P})]})]})}const EE=()=>{const[r,e]=E.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});E.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",r),localStorage.setItem("theme",r?"dark":"light");const i=document.querySelector('meta[name="theme-color"]');i&&i.setAttribute("content",r?"#0f172a":"#2b6cb0")},[r]);const t=()=>{e(i=>!i)};return a.jsxs("button",{className:"theme-toggle",onClick:t,"aria-label":r?"Alternar para modo claro":"Alternar para modo escuro",title:r?"Modo Claro (Dia)":"Modo Escuro (Noite)",children:[a.jsx("div",{className:`traffic-light ${r?"dark":"light"}`,children:a.jsxs("div",{className:"light-container",children:[a.jsx("div",{className:`light red ${r?"active":""}`}),a.jsx("div",{className:`light green ${r?"":"active"}`})]})}),a.jsx("span",{className:"theme-label",children:r?"Noite":"Dia"})]})},xE=[{id:1,nome:"João Silva",celular:"11999999999",email:"joao@email.com",senha:"123456"},{id:2,nome:"Maria Souza",celular:"11988888888",email:"maria@email.com",senha:"abcdef"}],SE=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Wn(async()=>{const{default:i}=await Promise.resolve().then(()=>li);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class bd extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class Jp extends bd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yp extends bd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qp extends bd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Qu||(Qu={}));var bE=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class jE{constructor(e,{headers:t={},customFetch:i,region:o=Qu.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=SE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bE(this,arguments,void 0,function*(t,i={}){var o;try{const{headers:c,method:u,body:h,signal:p}=i;let g={},{region:v}=i;v||(v=this.region);const y=new URL(`${this.url}/${t}`);v&&v!=="any"&&(g["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)));const b=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:p}).catch(N=>{throw N.name==="AbortError"?N:new Jp(N)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new Yp(b);if(!b.ok)throw new Qp(b);let S=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield b.json():S==="application/octet-stream"?j=yield b.blob():S==="text/event-stream"?j=b:S==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Jp(c)}:{data:null,error:c,response:c instanceof Qp||c instanceof Yp?c.context:void 0}}})}}var wt={},Ls={},Ds={},Ms={},Us={},Fs={},kE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=kE();const NE=ti.fetch,Cg=ti.fetch.bind(ti),Tg=ti.Headers,IE=ti.Request,CE=ti.Response,li=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tg,Request:IE,Response:CE,default:Cg,fetch:NE},Symbol.toStringTag,{value:"Module"})),TE=v_(li);var Wo={},Xp;function Ag(){if(Xp)return Wo;Xp=1,Object.defineProperty(Wo,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Wo.default=r,Wo}var Zp;function Pg(){if(Zp)return Fs;Zp=1;var r=Fs&&Fs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=r(TE),t=r(Ag());class i{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,y,w,b;let x=null,S=null,j=null,N=g.status,I=g.statusText;if(g.ok){if(this.method!=="HEAD"){const U=await g.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?S=U:S=JSON.parse(U))}const $=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),P=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");$&&P&&P.length>1&&(j=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,N=406,I="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const $=await g.text();try{x=JSON.parse($),Array.isArray(x)&&g.status===404&&(S=[],x=null,N=200,I="OK")}catch{g.status===404&&$===""?(N=204,I="No Content"):x={message:$}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,N=200,I="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:j,status:N,statusText:I}});return this.shouldThrowOnError||(p=p.catch(g=>{var v,y,w;return{error:{message:`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return Fs.default=i,Fs}var em;function Rg(){if(em)return Us;em=1;var r=Us&&Us.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Us,"__esModule",{value:!0});const e=r(Pg());class t extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var v;const y=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Us.default=t,Us}var tm;function jd(){if(tm)return Ms;tm=1;var r=Ms&&Ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ms,"__esModule",{value:!0});const e=r(Rg());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Ms.default=t,Ms}var nm;function Og(){if(nm)return Ds;nm=1;var r=Ds&&Ds.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ds,"__esModule",{value:!0});const e=r(jd());class t{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(o,c){const{head:u=!1,count:h}=c??{},p=u?"HEAD":"GET";let g=!1;const v=(o??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var h;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(y.length>0){const w=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ds.default=t,Ds}var rm;function AE(){if(rm)return Ls;rm=1;var r=Ls&&Ls.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=r(Og()),t=r(jd());class i{constructor(c,{headers:u={},schema:h,fetch:p}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(c){const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:p=!1,count:g}={}){var v;let y;const w=new URL(`${this.url}/rpc/${c}`);let b;h||p?(y=h?"HEAD":"GET",Object.entries(u).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{w.searchParams.append(S,j)})):(y="POST",b=u);const x=new Headers(this.headers);return g&&x.set("Prefer",`count=${g}`),new t.default({method:y,url:w,headers:x,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Ls.default=i,Ls}var sm;function PE(){if(sm)return wt;sm=1;var r=wt&&wt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const e=r(AE());wt.PostgrestClient=e.default;const t=r(Og());wt.PostgrestQueryBuilder=t.default;const i=r(jd());wt.PostgrestFilterBuilder=i.default;const o=r(Rg());wt.PostgrestTransformBuilder=o.default;const c=r(Pg());wt.PostgrestBuilder=c.default;const u=r(Ag());return wt.PostgrestError=u.default,wt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},wt}var RE=PE();const OE=og(RE),{PostgrestClient:LE,PostgrestQueryBuilder:VC,PostgrestFilterBuilder:qC,PostgrestTransformBuilder:HC,PostgrestBuilder:WC,PostgrestError:GC}=OE;class DE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ME="2.75.0",UE=`realtime-js/${ME}`,FE="1.0.0",Xu=1e4,$E=1e3,BE=100;var la;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(la||(la={}));var pt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(pt||(pt={}));var vn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(vn||(vn={}));var Zu;(function(r){r.websocket="websocket"})(Zu||(Zu={}));var es;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(es||(es={}));class zE{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),c=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+o));u=u+o;const p=i.decode(e.slice(u,u+c));u=u+c;const g=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class Lg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Fe||(Fe={}));const im=(r,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=VE(u,r,e,o),c),{}):{}},VE=(r,e,t,i)=>{const o=e.find(h=>h.name===r),c=o?.type,u=t[r];return c&&!i.includes(c)?Dg(c,u):ed(u)},Dg=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return GE(e,t)}switch(r){case Fe.bool:return qE(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return HE(e);case Fe.json:case Fe.jsonb:return WE(e);case Fe.timestamp:return KE(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return ed(e);default:return ed(e)}},ed=r=>r,qE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},HE=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},WE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},GE=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let c;const u=r.slice(1,t);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>Dg(e,h))}return r},KE=r=>typeof r=="string"?r.replace(" ","T"):r,Mg=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Nu{constructor(e,t,i={},o=Xu){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var am;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(am||(am={}));class ca{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ca.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=ca.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ca.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const c=this.cloneDeep(e),u=this.transformState(t),h={},p={};return this.map(c,(g,v)=>{u[g]||(p[g]=v)}),this.map(u,(g,v)=>{const y=c[g];if(y){const w=v.map(j=>j.presence_ref),b=y.map(j=>j.presence_ref),x=v.filter(j=>b.indexOf(j.presence_ref)<0),S=y.filter(j=>w.indexOf(j.presence_ref)<0);x.length>0&&(h[g]=x),S.length>0&&(p[g]=S)}else h[g]=v}),this.syncDiff(c,{joins:h,leaves:p},i,o)}static syncDiff(e,t,i,o){const{joins:c,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,p)=>{var g;const v=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),v.length>0){const y=e[h].map(b=>b.presence_ref),w=v.filter(b=>y.indexOf(b.presence_ref)<0);e[h].unshift(...w)}i(h,v,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),e[h]=g,o(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var om;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(om||(om={}));var ua;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ua||(ua={}));var $n;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class kd{constructor(e,t={config:{}},i){var o,c;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Nu(this,vn.join,this.params,this.timeout),this.rejoinTimer=new Lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ca(this),this.broadcastEndpointURL=Mg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[ua.PRESENCE]&&this.bindings[ua.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e?.($n.CHANNEL_ERROR,b)),this._onClose(()=>e?.($n.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e?.($n.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(x=S?.length)!==null&&x!==void 0?x:0,N=[];for(let I=0;I<j;I++){const T=S[I],{filter:{event:$,schema:P,table:U,filter:O}}=T,q=b&&b[I];if(q&&q.event===$&&q.schema===P&&q.table===U&&q.filter===O)N.push(Object.assign(Object.assign({},T),{id:q.id}));else{this.unsubscribe(),this.state=pt.errored,e?.($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e($n.SUBSCRIBED);return}}).receive("error",b=>{this.state=pt.errored,e?.($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===pt.joined&&e===ua.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Nu(this,vn.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),u}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Nu(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BE){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:v}=vn;if(i&&[h,p,g,v].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,t,i);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var x,S,j;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(S=b.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(b=>b.callback(w,i)):(c=this.bindings[u])===null||c===void 0||c.filter(b=>{var x,S,j,N,I,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const $=b.id,P=(x=b.filter)===null||x===void 0?void 0:x.event;return $&&((S=t.ids)===null||S===void 0?void 0:S.includes($))&&(P==="*"||P?.toLocaleLowerCase()===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const $=(I=(N=b?.filter)===null||N===void 0?void 0:N.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return $==="*"||$===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:S,table:j,commit_timestamp:N,type:I,errors:T}=x;w=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:N,eventType:I,new:{},old:{},errors:T}),this._getPayloadRecords(x))}b.callback(w,i)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&kd.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=im(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=im(e.columns,e.old_record)),t}}const Iu=()=>{},Go={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JE=[1e3,2e3,5e3,1e4],YE=1e4,QE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XE{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=Go.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iu,this.ref=0,this.reconnectTimer=null,this.logger=Iu,this.conn=null,this.sendBuffer=[],this.serializer=new zE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>Wn(async()=>{const{default:h}=await Promise.resolve().then(()=>li);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Zu.websocket}`,this.httpEndpoint=Mg(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FE}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case la.connecting:return es.Connecting;case la.open:return es.Open;case la.closing:return es.Closing;default:return es.Closed}}isConnected(){return this.connectionState()===es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new kd(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:i,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($E,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Go.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:u}=t,h=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${i} ${o} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,c,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([QE],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:UE};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(vn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Go.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,c,u,h,p,g,v;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Xu,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Go.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Iu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>JE[y-1]||YE),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((y,w)=>w(JSON.stringify(y))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Nd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ZE extends Nd{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class td extends Nd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ex=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const Ug=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Wn(async()=>{const{default:i}=await Promise.resolve().then(()=>li);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},tx=()=>ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wn(()=>Promise.resolve().then(()=>li),void 0,import.meta.url)).Response:Response}),nd=r=>{if(Array.isArray(r))return r.map(t=>nd(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=nd(i)}),e},nx=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var os=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const Cu=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),rx=(r,e,t)=>os(void 0,void 0,void 0,function*(){const i=yield tx();r instanceof i&&!t?.noResolveJson?r.json().then(o=>{const c=r.status||500,u=o?.statusCode||c+"";e(new ZE(Cu(o),c,u))}).catch(o=>{e(new td(Cu(o),o))}):e(new td(Cu(r),r))}),sx=(r,e,t,i)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!i?o:(nx(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Na(r,e,t,i,o,c){return os(this,void 0,void 0,function*(){return new Promise((u,h)=>{r(t,sx(e,i,o,c)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>rx(p,h,i))})})}function cl(r,e,t,i){return os(this,void 0,void 0,function*(){return Na(r,"GET",e,t,i)})}function In(r,e,t,i,o){return os(this,void 0,void 0,function*(){return Na(r,"POST",e,i,o,t)})}function rd(r,e,t,i,o){return os(this,void 0,void 0,function*(){return Na(r,"PUT",e,i,o,t)})}function ix(r,e,t,i){return os(this,void 0,void 0,function*(){return Na(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Fg(r,e,t,i,o){return os(this,void 0,void 0,function*(){return Na(r,"DELETE",e,i,o,t)})}var ax=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class ox{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ax(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var lx=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class cx{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new ox(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return lx(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var $t=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dx{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=Ug(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return $t(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},lm),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(t),v=this._getFinalPath(g),y=yield(e=="PUT"?rd:In)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ct(c))return{data:null,error:c};throw c}})}upload(e,t,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return $t(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const g=Object.assign({upsert:lm.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield rd(this.fetch,h.toString(),p,{headers:v});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ct(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,t){return $t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const c=yield In(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new Nd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}update(e,t,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return $t(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}copy(e,t,i){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield In(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return $t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield In(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return $t(this,void 0,void 0,function*(){try{const o=yield In(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(t?.transform||{}),u=c?`?${c}`:"",h=this._getFinalPath(e),p=()=>cl(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new cx(p,this.shouldThrowOnError)}info(e){return $t(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield cl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:nd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}exists(e){return $t(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ix(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i)&&i instanceof td){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof t?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(t?.transform||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}list(e,t,i){return $t(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},ux),t),{prefix:e||""});return{data:yield In(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}listV2(e,t){return $t(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield In(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const hx="2.75.0",fx={"X-Client-Info":`storage-js/${hx}`};var $s=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class px{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const c=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),t),this.fetch=Ug(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}createBucket(e){return $s(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return $s(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}deleteBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}class mx extends px{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new dx(this.url,this.headers,e,this.fetch)}}const gx="2.75.0";let ra="";typeof Deno<"u"?ra="deno":typeof document<"u"?ra="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ra="react-native":ra="node";const vx={"X-Client-Info":`supabase-js-${ra}/${gx}`},yx={headers:vx},wx={schema:"public"},_x={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ex={};var xx=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const Sx=r=>{let e;return r?e=r:typeof fetch>"u"?e=Cg:e=fetch,(...t)=>e(...t)},bx=()=>typeof Headers>"u"?Tg:Headers,jx=(r,e,t)=>{const i=Sx(t),o=bx();return(c,u)=>xx(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:r;let g=new o(u?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(c,Object.assign(Object.assign({},u),{headers:g}))})};var kx=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};function Nx(r){return r.endsWith("/")?r:r+"/"}function Ix(r,e){var t,i;const{db:o,auth:c,realtime:u,global:h}=r,{db:p,auth:g,realtime:v,global:y}=e,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y?.headers)!==null&&t!==void 0?t:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>kx(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function Cx(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $g="2.75.0",Gs=30*1e3,sd=3,Tu=sd*Gs,Tx="http://localhost:9999",Ax="supabase.auth.token",Px={"X-Client-Info":`gotrue-js/${$g}`},id="X-Supabase-Api-Version",Bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ox=600*1e3;class va extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Lx extends va{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function Dx(r){return me(r)&&r.name==="AuthApiError"}class ts extends va{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ar extends va{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class Sr extends Ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mx(r){return me(r)&&r.name==="AuthSessionMissingError"}class Bs extends Ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends Ar{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jo extends Ar{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ux(r){return me(r)&&r.name==="AuthImplicitGrantRedirectError"}class cm extends Ar{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ad extends Ar{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Au(r){return me(r)&&r.name==="AuthRetryableFetchError"}class um extends Ar{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class od extends Ar{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dm=` 	
\r=`.split(""),Fx=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<dm.length;e+=1)r[dm[e].charCodeAt(0)]=-2;for(let e=0;e<ul.length;e+=1)r[ul[e].charCodeAt(0)]=e;return r})();function hm(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(ul[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(ul[i]),e.queuedBits-=6}}function zg(r,e,t){const i=Fx[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function fm(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{zx(u,i,t)};for(let u=0;u<r.length;u+=1)zg(r.charCodeAt(u),o,c);return e.join("")}function $x(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Bx(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}$x(i,e)}}function zx(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ys(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)zg(r.charCodeAt(o),t,i);return new Uint8Array(e)}function Vx(r){const e=[];return Bx(r,t=>e.push(t)),new Uint8Array(e)}function ns(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return r.forEach(o=>hm(o,t,i)),hm(null,t,i),e.join("")}function qx(r){return Math.round(Date.now()/1e3)+r}function Hx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},Vg=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function Wx(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const qg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Wn(async()=>{const{default:i}=await Promise.resolve().then(()=>li);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},Gx=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ks=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Qr=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Er=async(r,e)=>{await r.removeItem(e)};let Hg=class Wg{constructor(){this.promise=new Wg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Hg.promiseConstructor=Promise;function Pu(r){const e=r.split(".");if(e.length!==3)throw new od("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Rx.test(e[i]))throw new od("JWT not in base64url format");return{header:JSON.parse(fm(e[0])),payload:JSON.parse(fm(e[1])),signature:Ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function Kx(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Jx(r,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await r(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function Yx(r){return("0"+r.toString(16)).substr(-2)}function Qx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Yx).join("")}async function Xx(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Zx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Xx(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(r,e,t=!1){const i=Qx();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await Ks(r,`${e}-code-verifier`,o);const c=await Zx(i);return[c,i===c?"plain":"s256"]}const eS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tS(r){const e=r.headers.get(id);if(!e||!e.match(eS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nS(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function rS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(r){if(!sS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pm(r){return JSON.parse(JSON.stringify(r))}var iS=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t};const Xr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),aS=[502,503,504];async function mm(r){var e;if(!Gx(r))throw new ad(Xr(r),0);if(aS.includes(r.status))throw new ad(Xr(r),r.status);let t;try{t=await r.json()}catch(c){throw new ts(Xr(c),c)}let i;const o=tS(r);if(o&&o.getTime()>=Bg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new um(Xr(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Sr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new um(Xr(t),r.status,t.weak_password.reasons);throw new Lx(Xr(t),r.status||500,i)}const oS=(r,e,t,i)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Se(r,e,t,i){var o;const c=Object.assign({},i?.headers);c[id]||(c[id]=Bg["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await lS(r,e,t+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function lS(r,e,t,i,o,c){const u=oS(e,i,o,c);let h;try{h=await r(t,Object.assign({},u))}catch(p){throw console.error(p),new ad(Xr(p),0)}if(h.ok||await mm(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await mm(p)}}function gn(r){var e;let t=null;dS(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=qx(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function gm(r){const e=gn(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function br(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function cS(r){return{data:r,error:null}}function uS(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c}=r,u=iS(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function vm(r){return r}function dS(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ou=["global","local","others"];var hS=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t};class fS{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=qg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Ou[0]){if(Ou.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ou.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:br})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=hS(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:uS,redirectTo:t?.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:br})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,c,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:vm});if(v.error)throw v.error;const y=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);g[`${j}Page`]=S}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(me(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Vs(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:br})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Vs(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:br})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Vs(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:br})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Vs(e.userId);try{const{data:t,error:i}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Vs(e.userId),Vs(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,o,c,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:vm});if(v.error)throw v.error;const y=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);g[`${j}Page`]=S}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(me(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}}function ym(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const qs={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pS extends Gg{}async function mS(r,e,t){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new pS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(qs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function gS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function vS(r){return parseInt(r,16)}function yS(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function wS(r){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:h,requestId:p,resources:g,scheme:v,uri:y,version:w}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const b=Kg(r.address),x=v?`${v}://${i}`:i,S=r.statement?`${r.statement}
`:"",j=`${x} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${y}
Version: ${w}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),p&&(N+=`
Request ID: ${p}`),g){let I=`
Resources:`;for(const T of g){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);I+=`
- ${T}`}N+=I}return`${j}
${N}`}class lt extends Error{constructor({message:e,code:t,cause:i,name:o}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=t}}class dl extends lt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function _S({error:r,options:e}){var t,i,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=c.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new lt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Yg(u)){if(c.rp.id!==u)return new lt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function ES({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new lt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(Yg(i)){if(t.rpId!==i)return new lt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var Jg=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t};class xS{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const SS=new xS;function bS(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,o=Jg(r,["challenge","user","excludeCredentials"]),c=Ys(e).buffer,u=Object.assign(Object.assign({},t),{id:Ys(t.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ys(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function jS(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=Jg(r,["challenge","allowCredentials"]),o=Ys(e).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(t&&t.length>0){c.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const h=t[u];c.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Ys(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function kS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:ns(new Uint8Array(r.response.attestationObject)),clientDataJSON:ns(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ns(new Uint8Array(o.authenticatorData)),clientDataJSON:ns(new Uint8Array(o.clientDataJSON)),signature:ns(new Uint8Array(o.signature)),userHandle:o.userHandle?ns(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function wm(){var r,e;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IS(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:_S({error:e,options:r})}}}async function CS(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:ES({error:e,options:r})}}}const TS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AS={userVerification:"preferred",hints:["security-key"]};function hl(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of r)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(t(u))i[c]=u;else if(e(u)){const h=i[c];e(h)?i[c]=hl(h,u):i[c]=hl(u)}else i[c]=u}return i}function PS(r,e){return hl(TS,r,e||{})}function RS(r,e){return hl(AS,r,e||{})}class OS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:o},c){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:h};const p=o??SS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=PS(u.webauthn.credential_options.publicKey,c?.create),{data:v,error:y}=await IS({publicKey:g,signal:p});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=RS(u.webauthn.credential_options.publicKey,c?.request),{data:v,error:y}=await CS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!t)return{data:null,error:new va("rpId is required for WebAuthn authentication")};try{if(!wm())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:o},{request:c});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:t,rpOrigins:i,credential_response:p.credential_response}})}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!t)return{data:null,error:new va("rpId is required for WebAuthn registration")};try{if(!wm())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:o},{create:c});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:t,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in register",u)}}}}gS();const LS={url:Tx,storageKey:Ax,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Px,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _m(r,e,t){return await t()}const Hs={};class ya{get jwks(){var e,t;return(t=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:e})}constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ya.nextInstanceID,ya.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},LS),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=qg(o.fetch),this.lock=o.lock||_m,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Kt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=mS:this.lock=_m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OS(this)},this.persistSession?(o.storage?this.storage=o.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ym(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ym(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$g}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Wx(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),Kt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Ux(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?{error:t}:{error:new ts("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,i,o;try{let c;if("email"in e){const{email:v,password:y,options:w}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await zs(this.storage,this.storageKey)),c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(t=w?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:x},xform:gn})}else if("phone"in e){const{phone:v,password:y,options:w}=e;c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gn})}else throw new Ko("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:u,options:h}=e;t=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:gm})}else if("phone"in e){const{phone:c,password:u,options:h}=e;t=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:gm})}else throw new Ko("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Bs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,c,u,h,p,g,v,y,w;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:S,wallet:j,statement:N,options:I}=e;let T;if(Kt())if(typeof j=="object")T=j;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")T=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const $=new URL((t=I?.url)!==null&&t!==void 0?t:window.location.href),P=await T.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Kg(P[0]);let O=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const z=await T.request({method:"eth_chainId"});O=vS(z)}const q={domain:$.host,address:U,statement:N,uri:$.href,version:"1",chainId:O,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=I?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=I?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=wS(q),x=await T.request({method:"personal_sign",params:[yS(b),U]})}try{const{data:S,error:j}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gn});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Bs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(me(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var t,i,o,c,u,h,p,g,v,y,w,b;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:j,wallet:N,statement:I,options:T}=e;let $;if(Kt())if(typeof N=="object")$=N;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))$=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=N}const P=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in $&&$.signIn){const U=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),I?{statement:I}:null));let O;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")O=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)O=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),S=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const U=await $.signMessage(new TextEncoder().encode(x),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=U}}try{const{data:j,error:N}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ns(S)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:gn});if(N)throw N;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Bs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:N})}catch(j){if(me(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const t=await Qr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:gn});if(await Er(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Bs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(me(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:c,nonce:u}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:gn}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Bs}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,c,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await zs(this.storage,this.storageKey));const{error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p?.data)!==null&&t!==void 0?t:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new Ko("You must provide either an email or phone number.")}catch(h){if(me(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,i;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:gn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await zs(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:cS})}catch(c){if(me(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Sr;const{error:o}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:u}=await Se(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:u,error:h}=await Se(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new Ko("You must provide either an email or phone number and a type")}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Tu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Qr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Ru()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,v)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,v))})}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:br}):await this._useSession(async t=>{var i,o,c;const{data:u,error:h}=t;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:br})})}catch(t){if(me(t))return Mx(t)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new Sr;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await zs(this.storage,this.storageKey));const{data:g,error:v}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:br});if(v)throw v;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sr;const t=Date.now()/1e3;let i=t,o=!0,c=null;const{payload:u}=Pu(e.access_token);if(u.exp&&(i=u.exp,o=i<=t),o){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(me(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Sr;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Kt())throw new Jo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new cm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jo("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cm("No code detected.");const{data:I,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!u||!g)throw new Jo("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let w=v+y;p&&(w=parseInt(p));const b=w-v;b*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const x=w-y;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,v);const{data:S,error:j}=await this._getUser(c);if(j)throw j;const N={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:w,refresh_token:u,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(i){if(me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{error:c};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Dx(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Hx(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:c},error:u}=t;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await zs(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(me(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:o}=await this._useSession(async c=>{var u,h,p,g,v;const{data:y,error:w}=c;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Kt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(me(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:o,data:{session:c}}=t;if(o)throw o;const{options:u,provider:h,token:p,access_token:g,nonce:v}=e,y=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gn}),{data:w,error:b}=y;return b?{data:{user:null,session:null},error:b}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Bs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:b})}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:u}=t;if(u)throw u;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await Jx(async o=>(o>0&&await Kx(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Au(c)&&Date.now()+u-i<Gs})}catch(i){if(this._debug(t,"error",i),me(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Kt()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Qr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ks(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Ru()}else if(o&&!o.user&&!o.user){const u=await Qr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Er(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,o)):o.user=Ru()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Tu;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Tu}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Au(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Hg;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new Sr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),me(c)){const u={data:null,error:c};return Au(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=pm(o);await Ks(this.storage,this.storageKey,c)}else{const o=pm(t);await Ks(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gs}ms, refresh threshold is ${sd} ticks`),o<=sd&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await zs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;return c?{data:null,error:c}:await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{data:null,error:c};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kS(e.webauthn.credential_response):NS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{data:null,error:c};const u=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:bS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:jS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=t?.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Pu(o.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const v=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+Ox>o)return i;const{data:c,error:u}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return{data:null,error:x};i=b.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:p}}=Pu(i);t?.allowExpired||nS(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!g){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:c,header:o,signature:u},error:null}}const v=rS(o.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,Vx(`${h}.${p}`)))throw new od("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}}ya.nextInstanceID=0;const DS=ya;class MS extends DS{constructor(e){super(e)}}var US=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{g(i.next(v))}catch(y){u(y)}}function p(v){try{g(i.throw(v))}catch(y){u(y)}}function g(v){v.done?c(v.value):o(v.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class FS{constructor(e,t,i){var o,c,u;this.supabaseUrl=e,this.supabaseKey=t;const h=Cx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:wx,realtime:Ex,auth:Object.assign(Object.assign({},_x),{storageKey:p}),global:yx},v=Ix(i??{},g);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=jx(t,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new LE(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new mx(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new jE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return US(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:c,storageKey:u,flowType:h,lock:p,debug:g},v,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MS({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:c,flowType:h,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new XE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $S=(r,e,t)=>new FS(r,e,t);function BS(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}BS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Em={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var jr={};let ni=null;try{ni=typeof import.meta<"u"&&import.meta&&Em?Em:null}catch{ni=null}const xm=ni&&ni.VITE_SUPABASE_URL||typeof process<"u"&&jr&&jr.REACT_APP_SUPABASE_URL||typeof process<"u"&&jr&&jr.SUPABASE_URL||typeof window<"u"&&window.__SUPABASE_URL||"",Sm=ni&&ni.VITE_SUPABASE_ANON_KEY||typeof process<"u"&&jr&&jr.REACT_APP_SUPABASE_ANON_KEY||typeof process<"u"&&jr&&jr.SUPABASE_ANON_KEY||typeof window<"u"&&window.__SUPABASE_ANON_KEY||"";let fl=null,pl=!1;function zS(){const r=new Error("Supabase client not configured (missing URL or anon key)"),e=()=>Promise.reject(r);return{auth:{signIn:e,signInWithOAuth:e,getSessionFromUrl:e},from:()=>({select:e,insert:e,update:e,delete:e}),rpc:e,storage:()=>({from:()=>({upload:e,download:e})}),_notConfigured:!0}}(function(){if(!xm||!Sm){console.warn("Supabase client not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or REACT_APP_SUPABASE_* / window.__SUPABASE_*)."),fl=zS(),pl=!1;return}fl=$S(String(xm).replace(/\/$/,""),String(Sm),{auth:{persistSession:!1}}),pl=!0})();const nn=fl,Qg=Object.freeze(Object.defineProperty({__proto__:null,default:nn,get isConfigured(){return pl},get supabase(){return fl}},Symbol.toStringTag,{value:"Module"})),VS=()=>{};var bm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qS=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],h=r[t++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],u=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,h=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=c>>2,y=(c&3)<<4|h>>4;let w=(h&15)<<2|g>>6,b=g&63;p||(b=64,u||(w=64)),i.push(t[v],t[y],t[w],t[b])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xg(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const y=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||h==null||g==null||y==null)throw new HS;const w=c<<2|h>>4;if(i.push(w),g!==64){const b=h<<4&240|g>>2;if(i.push(b),y!==64){const x=g<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(r){const e=Xg(r);return Zg.encodeByteArray(e,!0)},ev=function(r){return WS(r).replace(/\./g,"")},tv=function(r){try{return Zg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>GS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof bm>"u")return;const r=bm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tv(r[1]);return e&&JSON.parse(e)},Id=()=>{try{return VS()||KS()||JS()||YS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QS=r=>Id()?.emulatorHosts?.[r],nv=()=>Id()?.config,rv=r=>Id()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZS(r){return(await fetch(r,{credentials:"include"})).ok}const da={};function eb(){const r={prod:[],emulator:[]};for(const e of Object.keys(da))da[e]?r.emulator.push(e):r.prod.push(e);return r}function tb(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let jm=!1;function nb(r,e){if(typeof window>"u"||typeof document>"u"||!kl(window.location.host)||da[r]===e||da[r]||jm)return;da[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",c=eb().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,b){w.setAttribute("width","24"),w.setAttribute("id",b),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jm=!0,u()},w}function v(w,b){w.setAttribute("id",b),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=tb(i),b=t("text"),x=document.getElementById(b)||document.createElement("span"),S=t("learnmore"),j=document.getElementById(S)||document.createElement("a"),N=t("preprendIcon"),I=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const T=w.element;h(T),v(j,S);const $=g();p(I,N),T.append(I,x,j,$),document.body.appendChild(T)}c?(x.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ib(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ob(){const r=Rt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lb(){try{return typeof indexedDB=="object"}catch{return!1}}function cb(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="FirebaseError";class Pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ub,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?db(c,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Pr(o,h,i)}}function db(r,e){return r.replace(hb,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const hb=/\{\$([^}]+)}/g;function fb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ri(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],u=e[o];if(km(c)&&km(u)){if(!ri(c,u))return!1}else if(c!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function km(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function sa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ia(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function pb(r,e){const t=new mb(r,e);return t.subscribe.bind(t)}class mb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");gb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Lu),o.error===void 0&&(o.error=Lu),o.complete===void 0&&(o.complete=Lu);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gb(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Lu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r){return r&&r._delegate?r._delegate:r}class si{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new XS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wb(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);i===h&&u.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yb(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yb(r){return r===Zr?void 0:r}function wb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Eb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},xb=Me.INFO,Sb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},bb=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Sb[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=xb,this._logHandler=bb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const jb=(r,e)=>e.some(t=>r instanceof t);let Nm,Im;function kb(){return Nm||(Nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return Im||(Im=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,ld=new WeakMap,av=new WeakMap,Du=new WeakMap,Cd=new WeakMap;function Ib(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(kr(r.result)),o()},u=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&iv.set(t,r)}).catch(()=>{}),Cd.set(e,r),e}function Cb(r){if(ld.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});ld.set(r,e)}let cd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ld.get(r);if(e==="objectStoreNames")return r.objectStoreNames||av.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Tb(r){cd=r(cd)}function Ab(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Mu(this),e,...t);return av.set(i,e.sort?e.sort():[e]),kr(i)}:Nb().includes(r)?function(...e){return r.apply(Mu(this),e),kr(iv.get(this))}:function(...e){return kr(r.apply(Mu(this),e))}}function Pb(r){return typeof r=="function"?Ab(r):(r instanceof IDBTransaction&&Cb(r),jb(r,kb())?new Proxy(r,cd):r)}function kr(r){if(r instanceof IDBRequest)return Ib(r);if(Du.has(r))return Du.get(r);const e=Pb(r);return e!==r&&(Du.set(r,e),Cd.set(e,r)),e}const Mu=r=>Cd.get(r);function Rb(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),h=kr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(kr(u.result),p.oldVersion,p.newVersion,kr(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Ob=["get","getKey","getAll","getAllKeys","count"],Lb=["put","add","delete","clear"],Uu=new Map;function Cm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uu.get(e))return Uu.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Lb.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Ob.includes(t)))return;const c=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&p.done]))[0]};return Uu.set(e,c),c}Tb(r=>({...r,get:(e,t,i)=>Cm(e,t)||r.get(e,t,i),has:(e,t)=>!!Cm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mb(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Mb(r){return r.getComponent()?.type==="VERSION"}const ud="@firebase/app",Tm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new sv("@firebase/app"),Ub="@firebase/app-compat",Fb="@firebase/analytics-compat",$b="@firebase/analytics",Bb="@firebase/app-check-compat",zb="@firebase/app-check",Vb="@firebase/auth",qb="@firebase/auth-compat",Hb="@firebase/database",Wb="@firebase/data-connect",Gb="@firebase/database-compat",Kb="@firebase/functions",Jb="@firebase/functions-compat",Yb="@firebase/installations",Qb="@firebase/installations-compat",Xb="@firebase/messaging",Zb="@firebase/messaging-compat",ej="@firebase/performance",tj="@firebase/performance-compat",nj="@firebase/remote-config",rj="@firebase/remote-config-compat",sj="@firebase/storage",ij="@firebase/storage-compat",aj="@firebase/firestore",oj="@firebase/ai",lj="@firebase/firestore-compat",cj="firebase",uj="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",dj={[ud]:"fire-core",[Ub]:"fire-core-compat",[$b]:"fire-analytics",[Fb]:"fire-analytics-compat",[zb]:"fire-app-check",[Bb]:"fire-app-check-compat",[Vb]:"fire-auth",[qb]:"fire-auth-compat",[Hb]:"fire-rtdb",[Wb]:"fire-data-connect",[Gb]:"fire-rtdb-compat",[Kb]:"fire-fn",[Jb]:"fire-fn-compat",[Yb]:"fire-iid",[Qb]:"fire-iid-compat",[Xb]:"fire-fcm",[Zb]:"fire-fcm-compat",[ej]:"fire-perf",[tj]:"fire-perf-compat",[nj]:"fire-rc",[rj]:"fire-rc-compat",[sj]:"fire-gcs",[ij]:"fire-gcs-compat",[aj]:"fire-fst",[lj]:"fire-fst-compat",[oj]:"fire-vertex","fire-js":"fire-js",[cj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new Map,hj=new Map,hd=new Map;function Am(r,e){try{r.container.addComponent(e)}catch(t){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function wa(r){const e=r.name;if(hd.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,r);for(const t of ml.values())Am(t,r);for(const t of hj.values())Am(t,r);return!0}function ov(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ze(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Ia("app","Firebase",fj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=uj;function lv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:dd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Nr.create("bad-app-name",{appName:String(o)});if(t||(t=nv()),!t)throw Nr.create("no-options");const c=ml.get(o);if(c){if(ri(t,c.options)&&ri(i,c.config))return c;throw Nr.create("duplicate-app",{appName:o})}const u=new _b(o);for(const p of hd.values())u.addComponent(p);const h=new pj(t,i,u);return ml.set(o,h),h}function mj(r=dd){const e=ml.get(r);if(!e&&r===dd&&nv())return lv();if(!e)throw Nr.create("no-app",{appName:r});return e}function Qs(r,e,t){let i=dj[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(u.join(" "));return}wa(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="firebase-heartbeat-database",vj=1,_a="firebase-heartbeat-store";let Fu=null;function cv(){return Fu||(Fu=Rb(gj,vj,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_a)}catch(t){console.warn(t)}}}}).catch(r=>{throw Nr.create("idb-open",{originalErrorMessage:r.message})})),Fu}async function yj(r){try{const t=(await cv()).transaction(_a),i=await t.objectStore(_a).get(uv(r));return await t.done,i}catch(e){if(e instanceof Pr)Yn.warn(e.message);else{const t=Nr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(t.message)}}}async function Pm(r,e){try{const i=(await cv()).transaction(_a,"readwrite");await i.objectStore(_a).put(e,uv(r)),await i.done}catch(t){if(t instanceof Pr)Yn.warn(t.message);else{const i=Nr.create("idb-set",{originalErrorMessage:t?.message});Yn.warn(i.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=1024,_j=30;class Ej{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Sj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>_j){const o=bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rm(),{heartbeatsToSend:t,unsentEntries:i}=xj(this._heartbeatsCache.heartbeats),o=ev(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yn.warn(e),""}}}function Rm(){return new Date().toISOString().substring(0,10)}function xj(r,e=wj){const t=[];let i=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),Om(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Om(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Sj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lb()?cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Om(r){return ev(JSON.stringify({version:2,heartbeats:r})).length}function bj(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(r){wa(new si("platform-logger",e=>new Db(e),"PRIVATE")),wa(new si("heartbeat",e=>new Ej(e),"PRIVATE")),Qs(ud,Tm,r),Qs(ud,Tm,"esm2020"),Qs("fire-js","")}jj("");var kj="firebase",Nj="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(kj,Nj,"app");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={PHONE:"phone",TOTP:"totp"},Cj={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Tj={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},Aj={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},Pj={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Oj=Rj,hv=dv,fv=new Ia("auth","Firebase",dv()),Lj={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new sv("@firebase/auth");function Dj(r,...e){gl.logLevel<=Me.WARN&&gl.warn(`Auth (${Ca}): ${r}`,...e)}function tl(r,...e){gl.logLevel<=Me.ERROR&&gl.error(`Auth (${Ca}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r,...e){throw Ad(r,...e)}function Pt(r,...e){return Ad(r,...e)}function Td(r,e,t){const i={...hv(),[e]:t};return new Ia("auth","Firebase",i).create(e,{appName:r.name})}function _t(r){return Td(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ui(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Bt(r,"argument-error"),Td(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ad(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return fv.create(r,...e)}function Q(r,e,...t){if(!r)throw Ad(e,...t)}function Tn(r){const e="INTERNAL ASSERTION FAILED: "+r;throw tl(e),new Error(e)}function Qn(r,e){r||Tn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(){return typeof self<"u"&&self.location?.href||""}function Pd(){return Lm()==="http:"||Lm()==="https:"}function Lm(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pd()||ib()||"connection"in navigator)?navigator.onLine:!0}function Uj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qn(t>e,"Short delay should be less than long delay!"),this.isMobile=rb()||ab()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r,e){Qn(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bj=new Ta(3e4,6e4);function qe(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function He(r,e,t,i,o={}){return mv(r,o,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const h=ci({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return sb()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&kl(r.emulatorConfig.host)&&(g.credentials="include"),pv.fetch()(await gv(r,r.config.apiHost,t,h),g)})}async function mv(r,e,t){r._canInitEmulator=!1;const i={...Fj,...e};try{const o=new Vj(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw aa(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw aa(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw aa(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw aa(r,"user-disabled",u);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Td(r,v,g);Bt(r,v)}}catch(o){if(o instanceof Pr)throw o;Bt(r,"network-request-failed",{message:String(o)})}}async function Zn(r,e,t,i,o={}){const c=await He(r,e,t,i,o);return"mfaPendingCredential"in c&&Bt(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function gv(r,e,t,i){const o=`${e}${t}?${i}`,c=r,u=c.config.emulator?Rd(r.config,o):`${r.config.apiScheme}://${o}`;return $j.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function zj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Pt(this.auth,"network-request-failed")),Bj.get())})}}function aa(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Pt(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r){return r!==void 0&&r.getResponse!==void 0}function Mm(r){return r!==void 0&&r.enterprise!==void 0}class vv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(r){return(await He(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function yv(r,e){return He(r,"GET","/v2/recaptchaConfig",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(r,e){return He(r,"POST","/v1/accounts:delete",e)}async function Wj(r,e){return He(r,"POST","/v1/accounts:update",e)}async function vl(r,e){return He(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(r,e=!1){return ke(r).getIdToken(e)}async function wv(r,e=!1){const t=ke(r),i=await t.getIdToken(e),o=Nl(i);Q(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:i,authTime:ha($u(o.auth_time)),issuedAtTime:ha($u(o.iat)),expirationTime:ha($u(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $u(r){return Number(r)*1e3}function Nl(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return tl("JWT malformed, contained fewer than 3 sections"),null;try{const o=tv(t);return o?JSON.parse(o):(tl("Failed to decode base64 JWT payload"),null)}catch(o){return tl("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Um(r){const e=Nl(r);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xn(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Pr&&Kj(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function Kj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r){const e=r.auth,t=await r.getIdToken(),i=await Xn(r,vl(e,{idToken:t}));Q(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Ev(o.providerUserInfo):[],u=Yj(r.providerData,c),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,g=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fd(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function _v(r){const e=ke(r);await xa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yj(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Ev(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(r,e){const t=await mv(r,{},async()=>{const i=ci({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await gv(r,o,"/v1/token",`key=${c}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return r.emulatorConfig&&kl(r.emulatorConfig.host)&&(p.credentials="include"),pv.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xj(r,e){return He(r,"POST","/v2/accounts:revokeToken",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Um(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const t=Um(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await Qj(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,u=new Xs;return i&&(Q(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Q(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Q(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,e){Q(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new Jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xn(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wv(this,e)}reload(){return _v(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xa(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(_t(this.auth));const e=await this.getIdToken();return await Xn(this,Hj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:S}=t;Q(y&&S,e,"internal-error");const j=Xs.fromJSON(this.name,S);Q(typeof y=="string",e,"internal-error"),xr(i,e.name),xr(o,e.name),Q(typeof w=="boolean",e,"internal-error"),Q(typeof b=="boolean",e,"internal-error"),xr(c,e.name),xr(u,e.name),xr(h,e.name),xr(p,e.name),xr(g,e.name),xr(v,e.name);const N=new yn({uid:y,auth:e,email:o,emailVerified:w,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:c,tenantId:h,stsTokenManager:j,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(N.providerData=x.map(I=>({...I}))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xs;o.updateFromServerResponse(t);const c=new yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await xa(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Q(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Ev(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,h=new Xs;h.updateFromIdToken(i);const p=new yn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Map;function qn(r){Qn(r instanceof Function,"Expected a class definition");let e=Fm.get(r);return e?(Qn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fm.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xv.type="NONE";const pd=xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(r,e,t){return`firebase:${r}:${e}:${t}`}class Zs{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=nl(this.userKey,o.apiKey,c),this.fullPersistenceKey=nl("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vl(this.auth,{idToken:e}).catch(()=>{});return t?yn._fromGetAccountInfoResponse(this.auth,t,e):null}return yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zs(qn(pd),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||qn(pd);const u=nl(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const v=await g._get(u);if(v){let y;if(typeof v=="string"){const w=await vl(e,{idToken:v}).catch(()=>{});if(!w)break;y=await yn._fromGetAccountInfoResponse(e,w,v)}else y=yn._fromJSON(e,v);g!==c&&(h=y),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Zs(c,e,i):(c=p[0],h&&await c._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Zs(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iv(e))return"Blackberry";if(Cv(e))return"Webos";if(bv(e))return"Safari";if((e.includes("chrome/")||jv(e))&&!e.includes("edge/"))return"Chrome";if(Nv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function Sv(r=Rt()){return/firefox\//i.test(r)}function bv(r=Rt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jv(r=Rt()){return/crios\//i.test(r)}function kv(r=Rt()){return/iemobile/i.test(r)}function Nv(r=Rt()){return/android/i.test(r)}function Iv(r=Rt()){return/blackberry/i.test(r)}function Cv(r=Rt()){return/webos/i.test(r)}function Od(r=Rt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zj(r=Rt()){return Od(r)&&!!window.navigator?.standalone}function ek(){return ob()&&document.documentMode===10}function Tv(r=Rt()){return Od(r)||Nv(r)||Cv(r)||Iv(r)||/windows phone/i.test(r)||kv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r,e=[]){let t;switch(r){case"Browser":t=$m(Rt());break;case"Worker":t=`${$m(Rt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((u,h)=>{try{const p=e(c);u(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(r,e={}){return He(r,"GET","/v2/passwordPolicy",qe(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=6;class sk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??rk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bm(this),this.idTokenSubscription=new Bm(this),this.beforeStateQueue=new tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qn(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vl(this,{idToken:e}),i=await yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ze(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&h?.user&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xa(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(_t(this));const t=e?ke(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(_t(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(_t(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nk(this),t=new sk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Xj(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qn(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Av(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function et(r){return ke(r)}class Bm{constructor(e){this.auth=e,this.observer=null,this.addObserver=pb(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ak(r){Aa=r}function Ld(r){return Aa.loadJS(r)}function ok(){return Aa.recaptchaV2Script}function lk(){return Aa.recaptchaEnterpriseScript}function ck(){return Aa.gapiScript}function Pv(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=500,dk=6e4,Yo=1e12;class hk{constructor(e){this.auth=e,this.counter=Yo,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new mk(e,this.auth.name,t||{})),this.counter++,i}reset(e){const t=e||Yo;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Yo;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Yo;return this._widgets.get(t)?.execute(),""}}class fk{constructor(){this.enterprise=new pk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mk{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;Q(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gk(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},dk)},uk))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gk(r){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<r;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const vk="recaptcha-enterprise",fa="NO_RECAPTCHA";class Rv{constructor(e){this.type=vk,this.auth=et(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,h)=>{yv(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new vv(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{h(p)})})}function o(c,u,h){const p=window.grecaptcha;Mm(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(fa)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fk().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(h=>{if(!t&&Mm(window.grecaptcha))o(h,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lk();p.length!==0&&(p+=h),Ld(p).then(()=>{o(h,c,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function na(r,e,t,i=!1,o=!1){const c=new Rv(r);let u;if(o)u=fa;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ir(r,e,t,i,o){if(o==="EMAIL_PASSWORD_PROVIDER")if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await na(r,e,t,t==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await na(r,e,t,t==="getOobCode");return i(r,u)}else return Promise.reject(c)});else if(o==="PHONE_PROVIDER")if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const c=await na(r,e,t);return i(r,c).catch(async u=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const h=await na(r,e,t,!1,!0);return i(r,h)}return Promise.reject(u)})}else{const c=await na(r,e,t,!1,!0);return i(r,c)}else return Promise.reject(o+" provider is not supported.")}async function Ov(r){const e=et(r),t=await yv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new vv(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new Rv(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r,e){const t=ov(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(ri(c,e??{}))return o;Bt(o,"already-initialized")}return t.initialize({options:e})}function yk(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(qn);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function Dv(r,e,t){const i=et(r);Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!!t?.disableWarnings,c=Mv(e),{host:u,port:h}=wk(e),p=h===null?"":`:${h}`,g={url:`${c}//${u}${p}/`},v=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(ri(g,i.config.emulator)&&ri(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,kl(u)?(ZS(`${c}//${u}${p}`),nb("Auth",!0)):o||_k()}function Mv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wk(r){const e=Mv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:zm(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:zm(u)}}}function zm(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _k(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,t){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(r,e){return He(r,"POST","/v1/accounts:resetPassword",qe(r,e))}async function Ek(r,e){return He(r,"POST","/v1/accounts:update",e)}async function xk(r,e){return He(r,"POST","/v1/accounts:signUp",e)}async function Sk(r,e){return He(r,"POST","/v1/accounts:update",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(r,e){return Zn(r,"POST","/v1/accounts:signInWithPassword",qe(r,e))}async function Il(r,e){return He(r,"POST","/v1/accounts:sendOobCode",qe(r,e))}async function jk(r,e){return Il(r,e)}async function kk(r,e){return Il(r,e)}async function Nk(r,e){return Il(r,e)}async function Ik(r,e){return Il(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(r,e){return Zn(r,"POST","/v1/accounts:signInWithEmailLink",qe(r,e))}async function Tk(r,e){return Zn(r,"POST","/v1/accounts:signInWithEmailLink",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends di{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ii(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ii(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ir(e,t,"signInWithPassword",bk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ck(e,{email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ir(e,i,"signUpPassword",xk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tk(e,{idToken:t,email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kn(r,e){return Zn(r,"POST","/v1/accounts:signInWithIdp",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="http://localhost";class An extends di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new An(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const u=new An(i,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Kn(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Kn(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kn(e,t)}buildRequest(){const e={requestUri:Ak,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ci(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(r,e){return He(r,"POST","/v1/accounts:sendVerificationCode",qe(r,e))}async function Pk(r,e){return Zn(r,"POST","/v1/accounts:signInWithPhoneNumber",qe(r,e))}async function Rk(r,e){const t=await Zn(r,"POST","/v1/accounts:signInWithPhoneNumber",qe(r,e));if(t.temporaryProof)throw aa(r,"account-exists-with-different-credential",t);return t}const Ok={USER_NOT_FOUND:"user-not-found"};async function Lk(r,e){const t={...e,operation:"REAUTH"};return Zn(r,"POST","/v1/accounts:signInWithPhoneNumber",qe(r,t),Ok)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends di{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Cr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Cr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Pk(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Rk(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Lk(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:c}=e;return!i&&!t&&!o&&!c?null:new Cr({verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mk(r){const e=sa(ia(r)).link,t=e?sa(ia(e)).deep_link_id:null,i=sa(ia(r)).deep_link_id;return(i?sa(ia(i)).link:null)||i||t||e||r}class hi{constructor(e){const t=sa(ia(e)),i=t.apiKey??null,o=t.oobCode??null,c=Dk(t.mode??null);Q(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Mk(e);try{return new hi(t)}catch{return null}}}function Uk(r){return hi.parseLink(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.providerId=Rr.PROVIDER_ID}static credential(e,t){return ii._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=hi.parseLink(t);return Q(i,"argument-error"),ii._fromEmailAndCode(e,i.code,i.tenantId)}}Rr.PROVIDER_ID="password";Rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pa extends fi{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in t&&"signInMethod"in t,"argument-error"),An._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),An._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return pa.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pa.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:c,nonce:u,providerId:h}=e;if(!i&&!o&&!t&&!c||!h)return null;try{return new pa(h)._credential({idToken:t,accessToken:i,nonce:u,pendingToken:c})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends fi{constructor(){super("facebook.com")}static credential(e){return An._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bn.credential(e.oauthAccessToken)}catch{return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends fi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return An._fromParams({providerId:sn.PROVIDER_ID,signInMethod:sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sn.credentialFromTaggedObject(e)}static credentialFromError(e){return sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return sn.credential(t,i)}catch{return null}}}sn.GOOGLE_SIGN_IN_METHOD="google.com";sn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends fi{constructor(){super("github.com")}static credential(e){return An._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.GITHUB_SIGN_IN_METHOD="github.com";zn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="http://localhost";class Sa extends di{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Kn(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Kn(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kn(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,pendingToken:c}=t;return!i||!o||!c||i!==o?null:new Sa(i,c)}static _create(e,t){return new Sa(e,t)}buildRequest(){return{requestUri:Fk,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="saml.";class yl extends er{constructor(e){Q(e.startsWith($k),"argument-error"),super(e)}static credentialFromResult(e){return yl.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yl.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Sa.fromJSON(e);return Q(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Sa._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends fi{constructor(){super("twitter.com")}static credential(e,t){return An._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vn.credential(t,i)}catch{return null}}}Vn.TWITTER_SIGN_IN_METHOD="twitter.com";Vn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(r,e){return Zn(r,"POST","/v1/accounts:signUp",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await yn._fromIdTokenResponse(e,i,o),u=qm(i);return new on({user:c,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=qm(i);return new on({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function qm(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(r){if(Ze(r.app))return Promise.reject(_t(r));const e=et(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new on({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await Fv(e,{returnSecureToken:!0}),i=await on._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Pr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,wl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new wl(e,t,i,o)}}function $v(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?wl._fromErrorAndOperation(r,c,e,i):c})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(r,e){const t=ke(r);await Cl(!0,t,e);const{providerUserInfo:i}=await Wj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),o=Bv(i||[]);return t.providerData=t.providerData.filter(c=>o.has(c.providerId)),o.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Dd(r,e,t=!1){const i=await Xn(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return on._forOperation(r,"link",i)}async function Cl(r,e,t){await xa(e);const i=Bv(e.providerData),o=r===!1?"provider-already-linked":"no-such-provider";Q(i.has(t)===r,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(r,e,t=!1){const{auth:i}=r;if(Ze(i.app))return Promise.reject(_t(i));const o="reauthenticate";try{const c=await Xn(r,$v(i,o,e,r),t);Q(c.idToken,i,"internal-error");const u=Nl(c.idToken);Q(u,i,"internal-error");const{sub:h}=u;return Q(r.uid===h,i,"user-mismatch"),on._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Bt(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vv(r,e,t=!1){if(Ze(r.app))return Promise.reject(_t(r));const i="signIn",o=await $v(r,i,e),c=await on._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}async function Tl(r,e){return Vv(et(r),e)}async function Md(r,e){const t=ke(r);return await Cl(!1,t,e.providerId),Dd(t,e)}async function qv(r,e){return zv(ke(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(r,e){return Zn(r,"POST","/v1/accounts:signInWithCustomToken",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(r,e){if(Ze(r.app))return Promise.reject(_t(r));const t=et(r),i=await Vk(t,{token:e,returnSecureToken:!0}),o=await on._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ud._fromServerResponse(e,t):"totpInfo"in t?Fd._fromServerResponse(e,t):Bt(e,"internal-error")}}class Ud extends Pa{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ud(t)}}class Fd extends Pa{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Fd(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r,e,t){Q(t.url?.length>0,r,"invalid-continue-uri"),Q(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),Q(typeof t.linkDomain>"u"||t.linkDomain.length>0,r,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Q(t.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Q(t.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(r){const e=et(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hk(r,e,t){const i=et(r),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Al(i,o,t),await Ir(i,o,"getOobCode",kk,"EMAIL_PASSWORD_PROVIDER")}async function Wk(r,e,t){await Uv(ke(r),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$d(r),i})}async function Gk(r,e){await Sk(ke(r),{oobCode:e})}async function Hv(r,e){const t=ke(r),i=await Uv(t,{oobCode:e}),o=i.requestType;switch(Q(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,t,"internal-error");default:Q(i.email,t,"internal-error")}let c=null;return i.mfaInfo&&(c=Pa._fromServerResponse(et(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:c},operation:o}}async function Kk(r,e){const{data:t}=await Hv(ke(r),e);return t.email}async function Jk(r,e,t){if(Ze(r.app))return Promise.reject(_t(r));const i=et(r),u=await Ir(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fv,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$d(r),p}),h=await on._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function rl(r,e,t){return Ze(r.app)?Promise.reject(_t(r)):Tl(ke(r),Rr.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$d(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(r,e,t){const i=et(r),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function c(u,h){Q(h.handleCodeInApp,i,"argument-error"),h&&Al(i,u,h)}c(o,t),await Ir(i,o,"getOobCode",Nk,"EMAIL_PASSWORD_PROVIDER")}function Qk(r,e){return hi.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function Xk(r,e,t){if(Ze(r.app))return Promise.reject(_t(r));const i=ke(r),o=Rr.credentialWithLink(e,t||Ea());return Q(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Tl(i,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(r,e){return He(r,"POST","/v1/accounts:createAuthUri",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(r,e){const t=Pd()?Ea():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:o}=await Zk(ke(r),i);return o||[]}async function eN(r,e){const t=ke(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()};e&&Al(t.auth,o,e);const{email:c}=await jk(t.auth,o);c!==r.email&&await r.reload()}async function tN(r,e,t){const i=ke(r),c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await r.getIdToken(),newEmail:e};t&&Al(i.auth,c,t);const{email:u}=await Ik(i.auth,c);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r,e){return He(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ke(r),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Xn(i,nN(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function sN(r,e){const t=ke(r);return Ze(t.auth.app)?Promise.reject(_t(t.auth)):Wv(t,e,null)}function iN(r,e){return Wv(ke(r),null,e)}async function Wv(r,e,t){const{auth:i}=r,c={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const u=await Xn(r,Ek(i,c));await r._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){if(!r)return null;const{providerId:e}=r,t=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},i=r.isNewUser||r.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&r?.idToken){const o=Nl(r.idToken)?.firebase?.sign_in_provider;if(o){const c=o!=="anonymous"&&o!=="custom"?o:null;return new ei(i,c)}}if(!e)return null;switch(e){case"facebook.com":return new oN(i,t);case"github.com":return new lN(i,t);case"google.com":return new cN(i,t);case"twitter.com":return new uN(i,t,r.screenName||null);case"custom":case"anonymous":return new ei(i,null);default:return new ei(i,e,t)}}class ei{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class Gv extends ei{constructor(e,t,i,o){super(e,t,i),this.username=o}}class oN extends ei{constructor(e,t){super(e,"facebook.com",t)}}class lN extends Gv{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class cN extends ei{constructor(e,t){super(e,"google.com",t)}}class uN extends Gv{constructor(e,t,i){super(e,"twitter.com",t,i)}}function dN(r){const{user:e,_tokenResponse:t}=r;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:aN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r,e){return ke(r).setPersistence(e)}function fN(r){return Ov(r)}async function pN(r,e){return et(r).validatePassword(e)}function Kv(r,e,t,i){return ke(r).onIdTokenChanged(e,t,i)}function Jv(r,e,t){return ke(r).beforeAuthStateChanged(e,t)}function Yv(r,e,t,i){return ke(r).onAuthStateChanged(e,t,i)}function mN(r){ke(r).useDeviceLanguage()}function gN(r,e){return ke(r).updateCurrentUser(e)}function sl(r){return ke(r).signOut()}function vN(r,e){return et(r).revokeAccessToken(e)}async function yN(r){return ke(r).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new rs("enroll",e,t)}static _fromMfaPendingCredential(e){return new rs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return rs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return rs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=et(e),o=t.customData._serverResponse,c=(o.mfaInfo||[]).map(h=>Pa._fromServerResponse(i,h));Q(o.mfaPendingCredential,i,"internal-error");const u=rs._fromMfaPendingCredential(o.mfaPendingCredential);return new Bd(u,c,async h=>{const p=await h._process(i,u);delete o.mfaInfo,delete o.mfaPendingCredential;const g={...o,idToken:p.idToken,refreshToken:p.refreshToken};switch(t.operationType){case"signIn":const v=await on._fromIdTokenResponse(i,t.operationType,g);return await i._updateCurrentUser(v.user),v;case"reauthenticate":return Q(t.user,i,"internal-error"),on._forOperation(t.user,t.operationType,g);default:Bt(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function wN(r,e){const t=ke(r),i=e;return Q(e.customData.operationType,t,"argument-error"),Q(i.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Bd._fromError(t,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r,e){return He(r,"POST","/v2/accounts/mfaEnrollment:start",qe(r,e))}function _N(r,e){return He(r,"POST","/v2/accounts/mfaEnrollment:finalize",qe(r,e))}function EN(r,e){return He(r,"POST","/v2/accounts/mfaEnrollment:start",qe(r,e))}function xN(r,e){return He(r,"POST","/v2/accounts/mfaEnrollment:finalize",qe(r,e))}function SN(r,e){return He(r,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(r,e))}class zd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>Pa._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new zd(e)}async getSession(){return rs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,o=await this.getSession(),c=await Xn(this.user,i._process(this.user.auth,o,t));return await this.user._updateTokensIfNecessary(c),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const o=await Xn(this.user,SN(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:c})=>c!==t),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const Bu=new WeakMap;function bN(r){const e=ke(r);return Bu.has(e)||Bu.set(e,zd._fromUser(e)),Bu.get(e)}const _l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1e3,kN=10;class Xv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);ek()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xv.type="LOCAL";const Zv=Xv;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3;function zu(r){const e=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function Vu(r){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${r.split(":")[3]}`}class ey{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Vu(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:zu(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const i=Vu(e);document.cookie=`${i}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const i=Vu(e);if(window.cookieStore){const h=(g=>{const v=g.changed.find(w=>w.name===i);v&&t(v.value),g.deleted.find(w=>w.name===i)&&t(null)}),p=()=>window.cookieStore.removeEventListener("change",h);return this.listenerUnsubscribes.set(t,p),window.cookieStore.addEventListener("change",h)}let o=zu(i);const c=setInterval(()=>{const h=zu(i);h!==o&&(t(h),o=h)},NN),u=()=>clearInterval(c);this.listenerUnsubscribes.set(t,u)}_removeListener(e,t){const i=this.listenerUnsubscribes.get(t);i&&(i(),this.listenerUnsubscribes.delete(t))}}ey.type="COOKIE";const IN=ey;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ty.type="SESSION";const Vd=ty;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Pl(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async g=>g(t.origin,c)),p=await CN(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((h,p)=>{const g=Rl("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(y){const w=y;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(w.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return window}function AN(r){ut().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){return typeof ut().WorkerGlobalScope<"u"&&typeof ut().importScripts=="function"}async function PN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){return navigator?.serviceWorker?.controller||null}function ON(){return qd()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="firebaseLocalStorageDb",LN=1,El="firebaseLocalStorage",ry="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ol(r,e){return r.transaction([El],e?"readwrite":"readonly").objectStore(El)}function DN(){const r=indexedDB.deleteDatabase(ny);return new Ra(r).toPromise()}function md(){const r=indexedDB.open(ny,LN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(El,{keyPath:ry})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(El)?e(i):(i.close(),await DN(),e(await md()))})})}async function Wm(r,e,t){const i=Ol(r,!0).put({[ry]:e,value:t});return new Ra(i).toPromise()}async function MN(r,e){const t=Ol(r,!1).get(e),i=await new Ra(t).toPromise();return i===void 0?null:i.value}function Gm(r,e){const t=Ol(r,!0).delete(e);return new Ra(t).toPromise()}const UN=800,FN=3;class sy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>FN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pl._getInstance(ON()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await md();return await Wm(e,_l,"1"),await Gm(e,_l),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Wm(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>MN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ol(o,!1).getAll();return new Ra(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sy.type="LOCAL";const iy=sy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,e){return He(r,"POST","/v2/accounts/mfaSignIn:start",qe(r,e))}function $N(r,e){return He(r,"POST","/v2/accounts/mfaSignIn:finalize",qe(r,e))}function BN(r,e){return He(r,"POST","/v2/accounts/mfaSignIn:finalize",qe(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=Pv("rcb"),zN=new Ta(3e4,6e4);class VN{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ut().grecaptcha?.render}load(e,t=""){return Q(qN(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Dm(ut().grecaptcha)?Promise.resolve(ut().grecaptcha):new Promise((i,o)=>{const c=ut().setTimeout(()=>{o(Pt(e,"network-request-failed"))},zN.get());ut()[qu]=()=>{ut().clearTimeout(c),delete ut()[qu];const h=ut().grecaptcha;if(!h||!Dm(h)){o(Pt(e,"internal-error"));return}const p=h.render;h.render=(g,v)=>{const y=p(g,v);return this.counter++,y},this.hostLanguage=t,i(h)};const u=`${ok()}?${ci({onload:qu,render:"explicit",hl:t})}`;Ld(u).catch(()=>{clearTimeout(c),o(Pt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!ut().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function qN(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class HN{async load(e){return new hk(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="recaptcha",WN={theme:"light",type:"image"};class GN{constructor(e,t,i={...WN}){this.parameters=i,this.type=ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=et(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;Q(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HN:new VN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(o=>{const c=u=>{u&&(this.tokenChangeListeners.delete(c),o(u))};this.tokenChangeListeners.add(c),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=ut()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(Pd()&&!qd(),this.auth,"internal-error"),await KN(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await qj(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function KN(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Cr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function JN(r,e,t){if(Ze(r.app))return Promise.reject(_t(r));const i=et(r),o=await Ll(i,e,ke(t));return new Hd(o,c=>Tl(i,c))}async function YN(r,e,t){const i=ke(r);await Cl(!1,i,"phone");const o=await Ll(i.auth,e,ke(t));return new Hd(o,c=>Md(i,c))}async function QN(r,e,t){const i=ke(r);if(Ze(i.auth.app))return Promise.reject(_t(i.auth));const o=await Ll(i.auth,e,ke(t));return new Hd(o,c=>qv(i,c))}async function Ll(r,e,t){if(!r._getRecaptchaConfig())try{await Ov(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){Q(o.type==="enroll",r,"internal-error");const c={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ir(r,c,"mfaSmsEnrollment",async(g,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===fa){Q(t?.type===ma,g,"argument-error");const y=await Hu(g,v,t);return Hm(g,y)}return Hm(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Q(o.type==="signin",r,"internal-error");const c=i.multiFactorHint?.uid||i.multiFactorUid;Q(c,r,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ir(r,u,"mfaSmsSignIn",async(v,y)=>{if(y.phoneSignInInfo.captchaResponse===fa){Q(t?.type===ma,v,"argument-error");const w=await Hu(v,y,t);return Km(v,w)}return Km(v,y)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ir(r,o,"sendVerificationCode",async(p,g)=>{if(g.captchaResponse===fa){Q(t?.type===ma,p,"argument-error");const v=await Hu(p,g,t);return Vm(p,v)}return Vm(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t?._reset()}}async function XN(r,e){const t=ke(r);if(Ze(t.auth.app))return Promise.reject(_t(t.auth));await Dd(t,e)}async function Hu(r,e,t){Q(t.type===ma,r,"argument-error");const i=await t.verify();Q(typeof i=="string",r,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.captchaResponse,h=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:i,captchaResponse:u,clientType:h,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.captchaResponse,u=o.phoneSignInInfo.clientType,h=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:c,clientType:u,recaptchaVersion:h}}),o}else return Object.assign(o,{recaptchaToken:i}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.providerId=ss.PROVIDER_ID,this.auth=et(e)}verifyPhoneNumber(e,t){return Ll(this.auth,e,ke(t))}static credential(e,t){return Cr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ss.credentialFromTaggedObject(t)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?Cr._fromTokenResponse(t,i):null}}ss.PROVIDER_ID="phone";ss.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(r,e){return e?qn(e):(Q(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends di{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZN(r){return Vv(r.auth,new Wd(r),r.bypassAuthState)}function eI(r){const{auth:e,user:t}=r;return Q(t,e,"internal-error"),zv(t,new Wd(r),r.bypassAuthState)}async function tI(r){const{auth:e,user:t}=r;return Q(t,e,"internal-error"),Dd(t,new Wd(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:Bt(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Ta(2e3,1e4);async function oy(r,e,t){if(Ze(r.app))return Promise.reject(Pt(r,"operation-not-supported-in-this-environment"));const i=et(r);ui(r,e,er);const o=ls(i,t);return new Hn(i,"signInViaPopup",e,o).executeNotNull()}async function rI(r,e,t){const i=ke(r);if(Ze(i.auth.app))return Promise.reject(Pt(i.auth,"operation-not-supported-in-this-environment"));ui(i.auth,e,er);const o=ls(i.auth,t);return new Hn(i.auth,"reauthViaPopup",e,o,i).executeNotNull()}async function sI(r,e,t){const i=ke(r);ui(i.auth,e,er);const o=ls(i.auth,t);return new Hn(i.auth,"linkViaPopup",e,o,i).executeNotNull()}class Hn extends ay{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Hn.currentPopupAction&&Hn.currentPopupAction.cancel(),Hn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=Rl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hn.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nI.get())};e()}}Hn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="pendingRedirect",il=new Map;class aI extends ay{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=il.get(this.auth._key());if(!e){try{const i=await oI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}il.set(this.auth._key(),e)}return this.bypassAuthState||il.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oI(r,e){const t=cy(e),i=ly(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}async function Gd(r,e){return ly(r)._set(cy(e),"true")}function lI(r,e){il.set(r._key(),e)}function ly(r){return qn(r._redirectPersistence)}function cy(r){return nl(iI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r,e,t){return cI(r,e,t)}async function cI(r,e,t){if(Ze(r.app))return Promise.reject(_t(r));const i=et(r);ui(r,e,er),await i._initializationPromise;const o=ls(i,t);return await Gd(o,i),o._openRedirect(i,e,"signInViaRedirect")}function uI(r,e,t){return dI(r,e,t)}async function dI(r,e,t){const i=ke(r);if(ui(i.auth,e,er),Ze(i.auth.app))return Promise.reject(_t(i.auth));await i.auth._initializationPromise;const o=ls(i.auth,t);await Gd(o,i.auth);const c=await fy(i);return o._openRedirect(i.auth,e,"reauthViaRedirect",c)}function hI(r,e,t){return fI(r,e,t)}async function fI(r,e,t){const i=ke(r);ui(i.auth,e,er),await i.auth._initializationPromise;const o=ls(i.auth,t);await Cl(!1,i,e.providerId),await Gd(o,i.auth);const c=await fy(i);return o._openRedirect(i.auth,e,"linkViaRedirect",c)}async function dy(r,e){return await et(r)._initializationPromise,hy(r,e,!1)}async function hy(r,e,t=!1){if(Ze(r.app))return Promise.reject(_t(r));const i=et(r),o=ls(i,e),u=await new aI(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}async function fy(r){const e=Rl(`${r.uid}:::`);return r._redirectEventId=e,await r.auth._setRedirectUser(r),await r.auth._persistUserIfCurrent(r),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=600*1e3;class mI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!py(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Pt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jm(e))}saveEventToCache(e){this.cachedEventUids.add(Jm(e)),this.lastProcessedEventTime=Date.now()}}function Jm(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function py({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function gI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return py(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e={}){return He(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wI=/^https?/;async function _I(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vI(r);for(const t of e)try{if(EI(t))return}catch{}Bt(r,"unauthorized-domain")}function EI(r){const e=Ea(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!wI.test(t))return!1;if(yI.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Ta(3e4,6e4);function Ym(){const r=ut().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function SI(r){return new Promise((e,t)=>{function i(){Ym(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ym(),t(Pt(r,"network-request-failed"))},timeout:xI.get()})}if(ut().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ut().gapi?.load)i();else{const o=Pv("iframefcb");return ut()[o]=()=>{gapi.load?i():t(Pt(r,"network-request-failed"))},Ld(`${ck()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw al=null,e})}let al=null;function bI(r){return al=al||SI(r),al}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Ta(5e3,15e3),kI="__/auth/iframe",NI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(r){const e=r.config;Q(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Rd(e,NI):`https://${r.config.authDomain}/${kI}`,i={apiKey:e.apiKey,appName:r.name,v:Ca},o=CI.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${ci(i).slice(1)}`}async function AI(r){const e=await bI(r),t=ut().gapi;return Q(t,r,"internal-error"),e.open({where:document.body,url:TI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const u=Pt(r,"network-request-failed"),h=ut().setTimeout(()=>{c(u)},jI.get());function p(){ut().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RI=500,OI=600,LI="_blank",DI="http://localhost";class Qm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(r,e,t,i=RI,o=OI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p={...PI,width:i.toString(),height:o.toString(),top:c,left:u},g=Rt().toLowerCase();t&&(h=jv(g)?LI:t),Sv(g)&&(e=e||DI,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[b,x])=>`${w}${b}=${x},`,"");if(Zj(g)&&h!=="_self")return UI(e||"",h),new Qm(null);const y=window.open(e||"",h,v);Q(y,r,"popup-blocked");try{y.focus()}catch{}return new Qm(y)}function UI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__/auth/handler",$I="emulator/auth/handler",BI=encodeURIComponent("fac");async function Xm(r,e,t,i,o,c){Q(r.config.authDomain,r,"auth-domain-config-required"),Q(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Ca,eventId:o};if(e instanceof er){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",fb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof fi){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await r._getAppCheckToken(),g=p?`#${BI}=${encodeURIComponent(p)}`:"";return`${zI(r)}?${ci(h).slice(1)}${g}`}function zI({config:r}){return r.emulator?Rd(r,$I):`https://${r.authDomain}/${FI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vd,this._completeRedirectFn=hy,this._overrideRedirectResult=lI}async _openPopup(e,t,i,o){Qn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Xm(e,t,i,Ea(),o);return MI(e,c,Rl())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await Xm(e,t,i,Ea(),o);return AN(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Qn(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await AI(e),i=new mI(e);return t.register("authEvent",o=>(Q(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wu,{type:Wu},o=>{const c=o?.[0]?.[Wu];c!==void 0&&t(!!c),Bt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_I(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tv()||bv()||Od()}}const my=VI;class gy{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tn("unexpected MultiFactorSessionType")}}}class Kd extends gy{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Kd(e)}_finalizeEnroll(e,t,i){return _N(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return $N(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vy{constructor(){}static assertion(e){return Kd._fromCredential(e)}}vy.FACTOR_ID="phone";class yy{static assertionForEnrollment(e,t){return ba._fromSecret(e,t)}static assertionForSignIn(e,t){return ba._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;Q(typeof t.user?.auth<"u","internal-error");const i=await EN(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Dl._fromStartTotpMfaEnrollmentResponse(i,t.user.auth)}}yy.FACTOR_ID="totp";class ba extends gy{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new ba(t,void 0,e)}static _fromEnrollmentId(e,t){return new ba(t,e)}async _finalizeEnroll(e,t,i){return Q(typeof this.secret<"u",e,"argument-error"),xN(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Q(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const i={verificationCode:this.otp};return BN(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i})}}class Dl{constructor(e,t,i,o,c,u,h){this.sessionInfo=u,this.auth=h,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=o,this.enrollmentCompletionDeadline=c}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Dl(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let i=!1;return(Qo(e)||Qo(t))&&(i=!0),i&&(Qo(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Qo(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Qo(r){return typeof r>"u"||r?.length===0}var Zm="@firebase/auth",eg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(r){wa(new si("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Q(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Av(r)},g=new ik(i,o,c,p);return yk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wa(new si("auth-internal",e=>{const t=et(e.getProvider("auth").getImmediate());return(i=>new qI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(Zm,eg,HI(r)),Qs(Zm,eg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=300,KI=rv("authIdTokenMaxAge")||GI;let tg=null;const JI=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>KI)return;const o=t?.token;tg!==o&&(tg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wy(r=mj()){const e=ov(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Lv(r,{popupRedirectResolver:my,persistence:[iy,Zv,Vd]}),i=rv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=JI(c.toString());Jv(t,u,()=>u(t.currentUser)),Kv(t,h=>u(h))}}const o=QS("auth");return o&&Dv(t,`http://${o}`),t}function YI(){return document.getElementsByTagName("head")?.[0]??document}ak({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=Pt("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",YI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");const QI=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:Pj,ActionCodeURL:hi,AuthCredential:di,AuthErrorCodes:Lj,EmailAuthCredential:ii,EmailAuthProvider:Rr,FacebookAuthProvider:Bn,FactorId:Ij,GithubAuthProvider:zn,GoogleAuthProvider:sn,OAuthCredential:An,OAuthProvider:pa,OperationType:Aj,PhoneAuthCredential:Cr,PhoneAuthProvider:ss,PhoneMultiFactorGenerator:vy,ProviderId:Cj,RecaptchaVerifier:GN,SAMLAuthProvider:yl,SignInMethod:Tj,TotpMultiFactorGenerator:yy,TotpSecret:Dl,TwitterAuthProvider:Vn,applyActionCode:Gk,beforeAuthStateChanged:Jv,browserCookiePersistence:IN,browserLocalPersistence:Zv,browserPopupRedirectResolver:my,browserSessionPersistence:Vd,checkActionCode:Hv,confirmPasswordReset:Wk,connectAuthEmulator:Dv,createUserWithEmailAndPassword:Jk,debugErrorMap:Oj,deleteUser:yN,fetchSignInMethodsForEmail:oa,getAdditionalUserInfo:dN,getAuth:wy,getIdToken:Gj,getIdTokenResult:wv,getMultiFactorResolver:wN,getRedirectResult:dy,inMemoryPersistence:pd,indexedDBLocalPersistence:iy,initializeAuth:Lv,initializeRecaptchaConfig:fN,isSignInWithEmailLink:Qk,linkWithCredential:Md,linkWithPhoneNumber:YN,linkWithPopup:sI,linkWithRedirect:hI,multiFactor:bN,onAuthStateChanged:Yv,onIdTokenChanged:Kv,parseActionCodeURL:Uk,prodErrorMap:hv,reauthenticateWithCredential:qv,reauthenticateWithPhoneNumber:QN,reauthenticateWithPopup:rI,reauthenticateWithRedirect:uI,reload:_v,revokeAccessToken:vN,sendEmailVerification:eN,sendPasswordResetEmail:Hk,sendSignInLinkToEmail:Yk,setPersistence:hN,signInAnonymously:Bk,signInWithCredential:Tl,signInWithCustomToken:qk,signInWithEmailAndPassword:rl,signInWithEmailLink:Xk,signInWithPhoneNumber:JN,signInWithPopup:oy,signInWithRedirect:uy,signOut:sl,unlink:zk,updateCurrentUser:gN,updateEmail:sN,updatePassword:iN,updatePhoneNumber:XN,updateProfile:rN,useDeviceLanguage:mN,validatePassword:pN,verifyBeforeUpdateEmail:tN,verifyPasswordResetCode:Kk},Symbol.toStringTag,{value:"Module"})),ng={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var XI={};let De=null;try{De=typeof import.meta<"u"&&import.meta&&ng?ng:null}catch{De=null}const $e=typeof process<"u"&&XI||{},ZI={apiKey:De&&De.VITE_FIREBASE_API_KEY||$e.REACT_APP_FIREBASE_API_KEY||$e.FIREBASE_API_KEY,authDomain:De&&De.VITE_FIREBASE_AUTH_DOMAIN||$e.REACT_APP_FIREBASE_AUTH_DOMAIN||$e.FIREBASE_AUTH_DOMAIN,projectId:De&&De.VITE_FIREBASE_PROJECT_ID||$e.REACT_APP_FIREBASE_PROJECT_ID||$e.FIREBASE_PROJECT_ID,storageBucket:De&&De.VITE_FIREBASE_STORAGE_BUCKET||$e.REACT_APP_FIREBASE_STORAGE_BUCKET||$e.FIREBASE_STORAGE_BUCKET,messagingSenderId:De&&De.VITE_FIREBASE_MESSAGING_SENDER_ID||$e.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||$e.FIREBASE_MESSAGING_SENDER_ID,appId:De&&De.VITE_FIREBASE_APP_ID||$e.REACT_APP_FIREBASE_APP_ID||$e.FIREBASE_APP_ID,measurementId:De&&De.VITE_FIREBASE_MEASUREMENT_ID||$e.REACT_APP_FIREBASE_MEASUREMENT_ID||$e.FIREBASE_MEASUREMENT_ID};try{const r={apiKeySource:De&&De.VITE_FIREBASE_API_KEY?"import.meta.env (VITE_)":$e.REACT_APP_FIREBASE_API_KEY||$e.FIREBASE_API_KEY?"process.env":"none",authDomainSource:De&&De.VITE_FIREBASE_AUTH_DOMAIN?"import.meta.env (VITE_)":$e.REACT_APP_FIREBASE_AUTH_DOMAIN||$e.FIREBASE_AUTH_DOMAIN?"process.env":"none",projectIdSource:De&&De.VITE_FIREBASE_PROJECT_ID?"import.meta.env (VITE_)":$e.REACT_APP_FIREBASE_PROJECT_ID||$e.FIREBASE_PROJECT_ID?"process.env":"none",storageBucketSource:De&&De.VITE_FIREBASE_STORAGE_BUCKET?"import.meta.env (VITE_)":$e.REACT_APP_FIREBASE_STORAGE_BUCKET||$e.FIREBASE_STORAGE_BUCKET?"process.env":"none",appIdSource:De&&De.VITE_FIREBASE_APP_ID?"import.meta.env (VITE_)":$e.REACT_APP_FIREBASE_APP_ID||$e.FIREBASE_APP_ID?"process.env":"none"},e=(()=>{const t=De&&De.VITE_FIREBASE_API_KEY||$e.REACT_APP_FIREBASE_API_KEY||$e.FIREBASE_API_KEY||"";return t?t.length>8?`${t.slice(0,8)}...[masked]`:"[masked]":"(none)"})();console.debug("[firebase] env sources:",r,"maskedApiKey:",e)}catch(r){console.debug("[firebase] env debug failed",r&&r.message)}const eC=lv(ZI),ot=wy(eC),tC=Object.freeze(Object.defineProperty({__proto__:null,auth:ot},Symbol.toStringTag,{value:"Module"})),_y=new sn;async function nC(){try{const r=await oy(ot,_y);let e=null;try{e=sn.credentialFromResult(r)}catch{}return{user:r.user,credential:e}}catch(r){return{error:r}}}async function rC(){try{return await uy(ot,_y),{started:!0}}catch(r){return{error:r}}}async function sC(){try{const r=await dy(ot);if(!r)return{none:!0};let e=null;try{e=sn.credentialFromResult(r)}catch{}return{user:r.user,credential:e}}catch(r){return{error:r}}}const iC=[{id:"demo1",nome:"Usuário Demo",email:"demo@pecafacil.com",senha:"123456",celular:"11999999999",isDemo:!0},{id:"admin1",nome:"Admin Demo",email:"admin@pecafacil.com",senha:"admin123",celular:"11888888888",isDemo:!0},{id:"teste1",nome:"Teste Público",email:"teste@pecafacil.com",senha:"teste123",celular:"11777777777",isDemo:!0}];function aC(){const[r,e]=E.useState(""),[t,i]=E.useState(""),[o,c]=E.useState(""),[u,h]=E.useState(!1),[p,g]=E.useState(!1),[v,y]=E.useState(null),[w,b]=E.useState(""),[x,S]=E.useState(!1),[j,N]=E.useState(null),[I,T]=E.useState(""),[$,P]=E.useState(!1),[U,O]=E.useState(null),[q,z]=E.useState(null),[W,re]=E.useState(!1),[Ee,ve]=E.useState(""),he=it();E.useEffect(()=>{try{const H=window.history.state&&window.history.state.usr&&window.history.state.usr.state||window.history.state&&window.history.state.state,V=H&&H.email;V&&e(String(V).trim())}catch{}},[]);const{setUsuarioLogado:ce}=E.useContext(Ke||{});E.useEffect(()=>{try{localStorage.setItem("__test_localStorage__","test"),localStorage.removeItem("__test_localStorage__")}catch{}},[]);function xe(B){if(!B||typeof B!="string")return"";let H=B.trim();return H=H.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),H=H.replace(/[._+\-]+/g," "),H=H.replace(/\s+/g," ").trim(),H=H.split(" ").map(V=>V?V.charAt(0).toUpperCase()+V.slice(1):"").join(" ").trim(),H||B}const oe=E.useRef(!1);async function D(B,H=null){if(!(!B||oe.current)){try{const V=B&&B.email?String(B.email).trim().toLowerCase():null;if(V){const ye=Z().find(ee=>String(ee.email||"").trim().toLowerCase()===V);if(ye&&!ye.isDemo){if(H){console.debug("Attempting automatic merge for existing local user with googleCredential",H);try{let ee=null;try{ee=await B.getIdToken()}catch{}if(!ee)try{ee=await B.getIdToken(!0)}catch{}if(ee){O(ee),z(V),ve("");try{await ne(ee);return}catch(ie){console.warn("Automatic merge attempt failed, falling back to password prompt",ie&&ie.message?ie.message:ie)}}}catch(ee){console.warn("Automatic merge attempt threw",ee&&ee.message?ee.message:ee)}console.debug("Setting linkingCredential (processFirebaseUser) fallback to modal:",H),y(H),N(V),c(""),T(""),S(!0);return}c("Já existe uma conta criada com este e-mail. Faça login com e-mail/senha ou entre em contato para unificar as contas.");try{await sl(ot)}catch{}return}try{const ee=await oa(ot,V);if(Array.isArray(ee)){const ie=ee.includes("password"),je=ee.includes("google.com")||ee.includes("google");if(ie&&!je){if(H){y(H),N(V),c(""),T(""),S(!0);return}c("Já existe uma conta criada com este e-mail (senha). Faça login com e-mail/senha ou entre em contato para unificar as contas.");try{await sl(ot)}catch{}return}}}catch{}}}catch{}oe.current=!0;try{let V=null;const ye=6;for(let Le=0;Le<ye;Le++){try{if(V=await B.getIdToken(),V)break}catch{}await new Promise(Be=>setTimeout(Be,500))}if(!V)try{V=await B.getIdToken(!0)}catch{}V||console.warn("processFirebaseUser: could not obtain idToken after retries");const ee=window.__API_BASE||"";let ie=null,je=!1;try{const Le=B&&B.email?String(B.email).trim().toLowerCase():null;if(Le){const Be=Z().find(dt=>String(dt.email||"").trim().toLowerCase()===Le);if(Be&&!Be.isDemo)je=!0;else try{const dt=await oa(ot,Le);(!Array.isArray(dt)||dt.length===0)&&(je=!0)}catch{}}}catch{}if(je){const Le=B&&B.email?String(B.email).trim().toLowerCase():null;try{O(V),z(Le),ve(""),await ne(V)}catch(Be){console.warn("automatic merge failed, falling back to manual confirm",Be&&Be.message?Be.message:Be),P(!0)}return}try{const Le=await fetch(`${ee}/api/auth/firebase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({})});if(Le.ok){const Be=await Le.json().catch(()=>({}));ie=Be&&(Be.user||Be.usuario)?Be.user||Be.usuario:null}}catch{}const zt=B&&B.displayName||(B&&B.email?B.email.split("@")[0]:""),Et=xe(zt)||"",tt=ie?{...ie,nome:Et||ie.nome||ie.name,name:Et||ie.name||ie.nome,access_token:V,photoURL:ie.photoURL||ie.photo_url||ie.photo||B.photoURL||null}:{id:B.uid,email:B.email,nome:Et,name:Et,access_token:V,photoURL:B.photoURL||null};try{(tt&&String(tt.id||"").startsWith("dev_")||tt&&/devuser\+|dev_/.test(String(tt.nome||"").toLowerCase()))&&Et&&(tt.nome=Et,tt.name=Et)}catch{}ce&&ce(tt);try{localStorage.setItem("usuario-logado",JSON.stringify(tt))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${tt.nome||"Usuário"}!`,"success",3e3),he("/buscar-pecas")}catch(V){console.warn("processFirebaseUser failed",V&&V.message?V.message:V)}}}try{typeof window<"u"&&(window.__simulateGoogleSignin=async B=>{try{return await D(B),{ok:!0}}catch(H){return{error:H&&H.message?H.message:H}}})}catch{}E.useEffect(()=>{(async()=>{try{const H=await sC();H&&H.user?await D(H.user,H.credential||null):H&&H.error&&console.warn("handleRedirectResult returned error",H.error)}catch(H){console.warn("handleRedirectResult threw",H&&H.message?H.message:H)}})();const B=Yv(ot,async H=>{H&&await D(H)});return()=>{try{B&&B()}catch{}}},[ce,he]);async function ne(B=null){const H=B||U;if(console.debug("confirmMerge invoked",{tokenProvided:!!B,pendingMergeEmail:q,tokenToUse:!!H}),!H){ve("Token indisponível para fusão.");return}re(!0),ve("");try{const V=window.__API_BASE||"",ye=await fetch(`${V}/api/auth/merge-google`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({})});if(!ye.ok){const ie=await ye.json().catch(()=>({}));ve(ie&&ie.error?String(ie.error):`Merge falhou: ${ye.status}`),re(!1);return}const ee=await ye.json().catch(()=>({}));if(ee&&ee.success&&ee.user){const ie=ee.user;ce&&ce(ie);try{localStorage.setItem("usuario-logado",JSON.stringify(ie))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${ie.nome||ie.name||"Usuário"}!`,"success",3e3),P(!1),O(null),z(null),he("/buscar-pecas");return}ve("Não foi possível unir as contas. Tente novamente ou contate o suporte.")}catch(V){console.error("confirmMerge failed",V),ve("Erro ao comunicar com o servidor. Tente novamente.")}finally{re(!1)}}function Z(){let B=[...iC];try{const H=localStorage.getItem("usuarios");H&&(B=B.concat(JSON.parse(H)))}catch{}try{const H=(xE||[]).map(V=>({id:V.id,nome:V.nome||"",celular:String(V.celular||"").replace(/\D/g,""),email:String(V.email||"").trim().toLowerCase(),senha:String(V.senha||"")}));B=B.concat(H)}catch{}return B}function R(B){B.preventDefault();const H=String(r||"").trim().toLowerCase(),V=String(t||"");(async()=>{try{let ee=function(Te){return!Te||typeof Te!="string"?"":(Te.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(mt=>mt?mt.charAt(0).toUpperCase()+mt.slice(1):"").join(" ").trim()};const ie=window.__API_BASE||"";try{const Te=await fetch(`${ie}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:H,senha:V})});if(Te.ok){const Ct=await Te.json().catch(()=>({})),mt=Ct&&Ct.user?Ct.user:null;if(mt){const xn={...mt};mt.auth_id&&!xn.providers&&(xn.providers=["google"]),ce&&ce(xn);try{localStorage.setItem("usuario-logado",JSON.stringify(xn))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${mt.nome||mt.name||"Usuário"}!`,"success",3e3),he("/buscar-pecas");return}}}catch(Te){console.debug("Server-side /api/auth/login failed (will try Supabase):",Te&&Te.message?Te.message:Te)}try{if(ot&&typeof rl=="function")try{const Te=await rl(ot,H,V),Ct=Te&&Te.user?Te.user:null;if(Ct){await D(Ct);return}}catch(Te){console.debug("Firebase email/password signIn failed (falling back):",Te&&Te.code?Te.code:Te&&Te.message?Te.message:Te)}}catch(Te){console.debug("Firebase fallback check threw",Te&&Te.message?Te.message:Te)}if(typeof nn>"u"||!nn||!pl)throw new Error("Supabase client not configured");const{data:je,error:zt}=await nn.auth.signInWithPassword({email:H,password:V});if(zt){console.debug("Supabase auth signIn error (expected for non-Supabase users):",zt),c("E-mail ou senha incorretos.");return}const Et=je&&je.session?je.session:null,tt=Et&&Et.access_token?Et.access_token:null;if(!tt){console.warn("Supabase signIn returned no access token"),c("Erro ao efetuar login. Tente novamente.");return}const Le=await fetch(`${ie}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${tt}`},body:JSON.stringify({access_token:tt})});if(!Le.ok){console.warn("Backend supabase-verify failed",Le.status),c("Erro ao verificar conta. Tente novamente.");return}const Be=await Le.json().catch(()=>({})),dt=Be&&Be.user?Be.user:null;if(!dt){c("Erro ao obter dados do usuário.");return}const tr=(dt.nome||dt.name||"").trim()||ee(dt.email||dt.email_address||dt.mail),En={...dt,nome:tr,name:tr,access_token:tt};dt.auth_id&&!En.providers&&(En.providers=["google"]),c(""),ce&&ce(En);try{localStorage.setItem("usuario-logado",JSON.stringify(En))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${En.nome||"Usuário"}!`,"success",3e3),he("/buscar-pecas");return}catch(ee){console.warn("Login flow failed, falling back to local users",ee&&ee.message)}const ye=Z().find(ee=>String(ee.email||"").trim().toLowerCase()===H&&String(ee.senha||"")===V);if(!ye){c("E-mail ou senha incorretos.");return}c(""),ce&&ce(ye);try{localStorage.setItem("usuario-logado",JSON.stringify(ye))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${ye.nome||"Usuário"}!`,"success",3e3),he("/buscar-pecas")})()}async function G(){if(T(""),console.debug("confirmLinkAccounts called",{linkingCredential:v,linkEmail:j}),!v){T("Credencial do Google não disponível. Tente novamente.");return}try{const B=v&&v.email?v.email:j||null;if(!B){T("Email não disponível para link.");return}try{const V=await oa(ot,B);if(!Array.isArray(V)||!V.includes("password")){T("Não existe uma conta com autenticação por senha neste e-mail no Firebase. Use Recuperar senha ou contate o suporte para unir as contas.");return}}catch(V){console.warn("fetchSignInMethodsForEmail failed",V)}if(!w){T("Digite a senha da conta existente para confirmar a união.");return}let H=null;try{const V=await rl(ot,B,w);if(H=V&&V.user?V.user:null,!H){T("Falha ao autenticar a conta existente. Verifique a senha.");return}}catch(V){if(console.error("signInWithEmailAndPassword failed",V),V&&V.code){if(V.code==="auth/wrong-password"||V.code==="AUTH_WRONG_PASSWORD"){T("Senha incorreta. Verifique e tente novamente.");return}if(V.code==="auth/user-not-found"||V.code==="AUTH_USER_NOT_FOUND"){T("Usuário não encontrado no provedor de autenticação. Tente recuperar sua senha ou contate o suporte.");return}}T("Falha ao autenticar a conta existente. Verifique a senha ou tente recuperar sua senha.");return}try{await Md(H,v)}catch(V){console.error("Erro ao linkar credencial:",V),V&&V.code?T(`Erro ao unir contas: ${V.code} - ${V.message||""}`):V&&V.message?T(`Erro ao unir contas: ${V.message}`):T("Erro ao unir contas. Tente novamente.");return}await D(H),S(!1),b(""),y(null)}catch(B){console.error("confirmLinkAccounts failed",B),T("Erro ao unir contas. Verifique os dados e tente novamente.")}}const be=!!(x||$||W||p||U);return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsx("div",{className:"page-content",children:a.jsx("div",{className:"cadastro-card-outer",children:a.jsxs("div",{className:"cadastro-card-grid",children:[a.jsxs("section",{className:"cadastro-card",children:[a.jsx("h1",{className:"cadastro-title",children:"Entrar"}),a.jsx("p",{className:"cadastro-sub",children:"Acesse sua conta para gerenciar pedidos e recursos"}),a.jsxs("form",{className:"cadastro-form",onSubmit:R,noValidate:!0,children:[!be&&!x&&o&&a.jsx("div",{className:"form-error",children:o}),x&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:a.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"420px",width:"100%",borderRadius:8},children:[a.jsx("h3",{children:"Unir contas"}),a.jsx("p",{children:"Foi encontrada uma conta existente com este e-mail. Para unir a conta do Google com sua conta existente, confirme sua senha:"}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"E-mail"}),a.jsx("input",{className:"input",type:"email",value:j||"",readOnly:!0})]}),I&&a.jsx("div",{className:"form-error",style:{marginTop:8},children:I}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"Senha da conta existente"}),a.jsx("input",{className:"input",type:"password",value:w,onChange:B=>b(B.target.value),placeholder:"Senha",onKeyDown:B=>{if(B.key==="Enter"){B.preventDefault();try{G()}catch{}}}})]}),a.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:12},children:[a.jsx("button",{type:"button",className:"submit",onClick:G,children:"Confirmar e unir contas"}),a.jsx("button",{type:"button",className:"submit",onClick:async()=>{try{await sl(ot)}catch{}S(!1),y(null),b("")},children:"Cancelar"}),a.jsx("button",{type:"button",className:"submit",onClick:()=>{try{window.location.href="/recuperar-senha"}catch{}},children:"Recuperar senha"})]}),I&&/autentica[cç][ãa]o por senha|senha/i.test(I)&&a.jsx("div",{style:{marginTop:12},children:a.jsx("button",{type:"button",className:"submit",onClick:async()=>{T("");try{let B=U;if(!B){if(!ot||!ot.currentUser){T("Usuário do provedor não disponível. Tente entrar novamente com Google.");return}B=await ot.currentUser.getIdToken()}if(!B){T("Não foi possível obter token do provedor.");return}O(B),z(j||ot.currentUser&&ot.currentUser.email),S(!1),P(!0);try{await ne()}catch(H){console.error("Auto confirmMerge failed",H)}}catch(B){console.error("mergeFromLinkModal failed",B),T("Erro ao obter token/realizar fusão: "+(B&&B.message?B.message:String(B)))}},children:"Unir contas no sistema (merge)"})}),a.jsx("div",{style:{marginTop:8,fontSize:12},children:a.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),$&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e4},children:a.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"480px",width:"100%",borderRadius:8},children:[a.jsx("h3",{children:"Unir contas (confirmação)"}),a.jsxs("p",{children:["Detectamos uma conta existente com o mesmo e-mail (",a.jsx("strong",{children:q}),")."]}),a.jsx("p",{children:"Se confirmar, iremos unir sua conta do Google com a conta existente no nosso sistema. Isso pode atualizar ou mesclar seus dados de perfil."}),Ee&&a.jsx("div",{className:"form-error",style:{marginTop:8},children:Ee}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx("button",{type:"button",className:"submit",onClick:ne,disabled:W,children:W?"Unindo...":"Confirmar e unir contas"}),a.jsx("button",{type:"button",className:"submit",onClick:()=>{P(!1),O(null),z(null),ve("")},children:"Cancelar"})]}),a.jsx("div",{style:{marginTop:8,fontSize:12},children:a.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"E-mail"}),a.jsx("input",{className:"input",type:"email",value:r,onChange:B=>e(B.target.value),placeholder:"seu@exemplo.com",autoComplete:"username"})]}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"Senha"}),a.jsxs("div",{className:"password-field",children:[a.jsx("input",{className:"input password-input",type:u?"text":"password",value:t,onChange:B=>i(B.target.value),placeholder:"Senha",autoComplete:"current-password"}),a.jsx(Js,{on:u,onClick:()=>h(B=>!B),ariaLabel:u?"Ocultar senha":"Mostrar senha"})]})]}),a.jsx("div",{className:"cadastro-forgot-row",children:a.jsx("a",{href:"#",className:"login-forgot-link",onClick:B=>{B.preventDefault()},children:"Esqueci minha senha"})}),a.jsx("button",{className:"submit",type:"submit",children:"Entrar"}),a.jsx("div",{className:"social-login-row",children:a.jsx("button",{type:"button",className:"google-btn google-btn-round","aria-label":"Entrar com Google",title:"Entrar com Google",disabled:p,onClick:async()=>{if(!p){g(!0),c("");try{let B=null,H=null;try{H=await nC(),H&&H.user?B=H.user:H&&H.error&&console.warn("signInWithGooglePopup returned error, falling back to redirect",H.error)}catch(V){console.warn("signInWithGooglePopup threw, falling back to redirect",V&&V.message?V.message:V)}if(!B){const V=await rC();V&&V.error&&(console.error("Failed to start redirect",V.error),c("Erro no login com Google. Tente novamente."),g(!1));return}if(!B){c("Falha ao obter usuário do provedor."),g(!1);return}try{const V=B&&B.email?String(B.email).trim().toLowerCase():null;if(V){const ye=Z().find(ee=>String(ee.email||"").trim().toLowerCase()===V);if(ye&&!ye.isDemo){const ee=H&&H.credential?H.credential:null;console.debug("Popup flow: found existing manual account, attempting automatic merge",ee);let ie=null;try{if(B&&typeof B.getIdToken=="function"){const je=await B.getIdToken();if(je)ie=je;else try{ie=await B.getIdToken(!0)}catch{}}}catch{}if(ie)try{O(ie),z(V),ve(""),await ne(ie),g(!1);return}catch(je){console.warn("Automatic merge failed in popup flow, falling back to modal",je&&je.message?je.message:je)}console.debug("Setting linkingCredential (popup flow) fallback to modal:",ee),y(ee),N(V);try{ie&&O(ie)}catch{}c(""),T(""),S(!0),g(!1);return}try{const ee=await oa(ot,V);if(Array.isArray(ee)&&ee.includes("password")){const ie=H&&H.credential?H.credential:null;y(ie),N(V);try{if(B&&typeof B.getIdToken=="function"){const je=await B.getIdToken();je&&O(je)}}catch{}c(""),T(""),S(!0),g(!1);return}}catch{}}}catch{}await D(B,H&&H.credential?H.credential:null);return}catch(B){console.error("Google popup flow failed",B&&B.message?B.message:B),c("Erro inesperado durante login. Tente novamente.")}finally{g(!1)}}},children:a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",children:[a.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.9 0 7.1 1.4 9.2 3.2l6.8-6.6C35.6 3 30.1 1 24 1 14.7 1 6.9 6.6 3.1 14.7l7.9 6.1C12.4 15.1 17.7 9.5 24 9.5z"}),a.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-2.9-.4-4.3H24v8.2h12.9c-.6 3.2-2.9 5.9-6.1 7.4l9.4 7.3C43.9 37.4 46.5 31.1 46.5 24z"}),a.jsx("path",{fill:"#4A90E2",d:"M10 29.8A14.9 14.9 0 0 1 9.1 24c0-1.2.2-2.3.5-3.4L2 14.5A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.5 10.8l7.5-5z"}),a.jsx("path",{fill:"#FBBC05",d:"M24 46c6.1 0 11.6-2 15.7-5.4l-9.4-7.3c-2.5 1.7-5.7 2.8-9 2.8-6.3 0-11.6-4.6-13.6-10.8L2.5 34.8C6.9 41.4 14.7 46 24 46z"}),a.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),a.jsx("div",{className:"cadastro-signup-row",children:a.jsx(bl,{to:"/cadastro",className:"signup-link",children:"Crie sua conta agora!"})})]})]}),a.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:a.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peças automotivas"})})]})})})})]})}const oC=""+new URL("catalogo-1-Ddz4h86a.jpg",import.meta.url).href,lC=""+new URL("catalogo-2-D2XH-_xo.jpg",import.meta.url).href,cC=""+new URL("recall-1-CpG-sMCU.jpg",import.meta.url).href,uC=""+new URL("recall-2-DOuPWRLm.jpg",import.meta.url).href,dC=""+new URL("guias-1-D1doTbHu.jpg",import.meta.url).href,hC=""+new URL("guias-2-CtaxD6Iu.jpg",import.meta.url).href,fC=""+new URL("tabelaFIPE-1-CohhTY1t.jpg",import.meta.url).href,pC=""+new URL("tabelaFIPE-2-DT2dycZ0.jpg",import.meta.url).href;function mC(){it();const[r,e]=E.useState(null),t=[oC,lC,cC,uC,dC,hC,fC,pC],[i,o]=E.useState(0),c=E.useRef(null),u=()=>o(p=>(p-1+t.length)%t.length),h=()=>o(p=>(p+1)%t.length);return E.useEffect(()=>{const p=g=>{g.key==="ArrowLeft"&&u(),g.key==="ArrowRight"&&h()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper page-inicio",children:a.jsxs("div",{className:"page-content inicio-main",children:[a.jsx("div",{className:"inicio-hero",children:a.jsxs("div",{className:"inicio-hero-inner",children:[a.jsx("h1",{className:"page-title",children:"Seja um entendedor automotivo, agora mesmo!"}),a.jsx("div",{className:"inicio-intro",children:a.jsx("p",{className:"inicio-subtitle",children:"No PeçaFácil você conseguirá se virar sozinho, aprenderá a identificar e comprar as peças certas para o seu carro com confiança e economia, aprenderá sobre manutenção preventiva, instalação de peças e muito mais."})})]})}),a.jsxs("div",{className:"inicio-carousel","aria-roledescription":"carousel",children:[a.jsx("button",{className:"carousel-control prev","aria-label":"Anterior",onClick:u,children:"❮"}),a.jsx("div",{className:"carousel-track",ref:c,children:(()=>{const p=t.length,g=(i-1+p)%p,v=(i+1)%p;return[g,i,v].map((w,b)=>{const x=t[w],S=b===1,j=S?"carousel-item is-center":"carousel-item is-thumb";return a.jsxs("div",{className:j,onClick:()=>{S?e(x):o(w)},role:"button",tabIndex:0,onKeyDown:N=>{N.key==="Enter"&&(S?e(x):o(w))},children:[a.jsx("img",{src:x,alt:`Slide ${w+1}`}),S&&a.jsx("span",{className:"carousel-zoom-icon","aria-hidden":"true",title:"Ver imagem ampliada",children:"🔍"})]},w)})})()}),a.jsx("button",{className:"carousel-control next","aria-label":"Próximo",onClick:h,children:"❯"})]}),a.jsx("div",{className:"inicio-band",children:a.jsxs("div",{className:"inicio-band-inner",children:[a.jsx("div",{className:"inicio-band-left",children:a.jsx("h1",{className:"inicio-band-title",children:"10 motivos para que você escolha o Peça Fácil"})}),a.jsx("div",{className:"inicio-band-right",children:a.jsx("div",{className:"inicio-reasons",children:a.jsxs("div",{className:"reasons-grid",children:[a.jsxs("ol",{className:"reasons-col",children:[a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"1"}),"Conexão Simplificada com Oficinas."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"2"}),"Busca Inteligente de Peças."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"3"}),"Especificação Completa das Peças."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"4"}),"Informações Essenciais sobre Recalls."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"5"}),"Guias Automotivos Abrangentes."]})]}),a.jsxs("ol",{className:"reasons-col",children:[a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"6"}),"Economia de Tempo e Esforço."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"7"}),"Decisões de Manutenção Informadas."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"8"}),"Histórico de Manutenção Organizado."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"9"}),"Segurança e Confiabilidade."]}),a.jsxs("li",{children:[a.jsx("span",{className:"reason-number",children:"10"}),"Comunidade e Suporte."]})]})]})})})]})}),a.jsx("div",{className:"inicio-stats-section",children:a.jsxs("div",{className:"inicio-stats-container",children:[a.jsx("h2",{className:"inicio-stats-title",children:"Impacto e Credibilidade: A Peça Fácil em Números"}),a.jsxs("div",{className:"inicio-stats-grid",children:[a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"🔧"}),a.jsx("div",{className:"stat-number",children:"50.000+"}),a.jsx("div",{className:"stat-label",children:"Peças Catalogadas"}),a.jsx("div",{className:"stat-description",children:"Base de dados completa e atualizada"})]}),a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"🚗"}),a.jsx("div",{className:"stat-number",children:"500+"}),a.jsx("div",{className:"stat-label",children:"Modelos de Veículos"}),a.jsx("div",{className:"stat-description",children:"Compatibilidade verificada e testada"})]}),a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"👥"}),a.jsx("div",{className:"stat-number",children:"10.000+"}),a.jsx("div",{className:"stat-label",children:"Usuários Ativos"}),a.jsx("div",{className:"stat-description",children:"Comunidade crescente de entusiastas"})]}),a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"⭐"}),a.jsx("div",{className:"stat-number",children:"98%"}),a.jsx("div",{className:"stat-label",children:"Satisfação"}),a.jsx("div",{className:"stat-description",children:"Avaliação positiva dos usuários"})]}),a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"💰"}),a.jsx("div",{className:"stat-number",children:"R$ 5.000"}),a.jsx("div",{className:"stat-label",children:"Economia Média/Ano"}),a.jsx("div",{className:"stat-description",children:"Por usuário em compras certeiras"})]}),a.jsxs("div",{className:"inicio-stat-card",children:[a.jsx("div",{className:"stat-icon",children:"⚡"}),a.jsx("div",{className:"stat-number",children:"70%"}),a.jsx("div",{className:"stat-label",children:"Redução de Tempo"}),a.jsx("div",{className:"stat-description",children:"Na busca e compra de peças"})]})]})]})})]})}),r&&a.jsx("div",{className:"pf-zoom-overlay",onClick:()=>e(null),children:a.jsx("img",{className:"pf-zoom-image",src:r,alt:"Imagem ampliada",onClick:p=>p.stopPropagation()})})]})}function gC(){return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"quem-somos",children:[a.jsx("h2",{className:"page-title",children:"Quem Somos"}),a.jsx("div",{className:"quem-somos-intro",children:a.jsx("p",{children:"Conheça nossa história e missão no setor automotivo."})}),a.jsx("div",{className:"quem-somos-content",children:a.jsx("p",{className:"quem-somos-body",children:"Somos uma empresa fundada por três amigos que, cansados de depender de terceiros, decidiram transformar iniciativa em soluções concretas. Com recursos iniciais modestos, unimos curiosidade técnica, colaboração e disciplina para resolver problemas reais do setor automotivo. Atuamos com foco em eficiência, acessibilidade e resultados mensuráveis. Nosso compromisso é entregar produtos úteis e confiáveis, sustentados por ética, transparência e aprendizado contínuo. Não buscamos ser apenas mais uma empresa no mercado global — trabalhamos com serenidade e consistência para, um dia, nos tornar referência em tecnologia."})}),a.jsxs("div",{className:"quem-somos-equipe-section",children:[a.jsx("h3",{className:"equipe-section-title",children:"Nossa Equipe"}),a.jsxs("div",{className:"equipe-cards-container",children:[a.jsxs("div",{className:"equipe-card",children:[a.jsx("div",{className:"equipe-card-photo",children:a.jsx("img",{src:"/images/rafael.jpg",alt:"Rafael",className:"equipe-photo"})}),a.jsxs("div",{className:"equipe-card-content",children:[a.jsx("h4",{className:"equipe-nome",children:"Rafael de Almeida"}),a.jsx("p",{className:"equipe-cargo",children:"Fundador & Head de Inovação"}),a.jsx("p",{className:"equipe-bio",children:"Idealizador do Peça Fácil, é quem trouxe a visão inicial do projeto e ajuda a guiar seus rumos estratégicos. Tem perfil criativo e inovador, buscando sempre novas formas de gerar valor para o negócio e seus usuários."})]})]}),a.jsxs("div",{className:"equipe-card",children:[a.jsx("div",{className:"equipe-card-photo",children:a.jsx("img",{src:"/images/guilherme.jpg",alt:"Guilherme",className:"equipe-photo"})}),a.jsxs("div",{className:"equipe-card-content",children:[a.jsx("h4",{className:"equipe-nome",children:"Guilherme Melo Fleury"}),a.jsx("p",{className:"equipe-cargo",children:"Co-Fundador & Head de Negócios"}),a.jsx("p",{className:"equipe-bio",children:"Responsável pela liderança e pela representação do Peça Fácil em eventos e apresentações. Atua como porta-voz do projeto, conduzindo negociações e transmitindo a visão da empresa. Tem foco em crescimento, conexões estratégicas e novos negócios."})]})]}),a.jsxs("div",{className:"equipe-card",children:[a.jsx("div",{className:"equipe-card-photo",children:a.jsx("img",{src:"/images/lucio.jpg",alt:"Nome do Membro 3",className:"equipe-photo"})}),a.jsxs("div",{className:"equipe-card-content",children:[a.jsx("h4",{className:"equipe-nome",children:"Lúcio de Freitas Pereira"}),a.jsx("p",{className:"equipe-cargo",children:"Co-Fundador & Head de Design/Desenvolvimento"}),a.jsx("p",{className:"equipe-bio",children:"Apaixonado por tecnologia e design, é responsável pelo desenvolvimento e pela experiência digital do Peça Fácil. Com formação em TI e experiência em análise de dados, encontrou no design UX/UI uma forma de unir criatividade e funcionalidade."})]})]})]})]})]})})]})}function vC(){return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"nosso-projeto",children:[a.jsx("h2",{className:"page-title",children:"Nosso Projeto"}),a.jsx("div",{className:"nossoprojeto-intro",children:a.jsx("p",{children:"Conheça o Peça Fácil - nossa solução para compatibilidade automotiva."})}),a.jsx("div",{className:"nosso-projeto-content",children:a.jsxs("p",{className:"nosso-projeto-body",children:["O Peça Fácil é uma plataforma completa e intuitiva desenvolvida para transformar a forma como você cuida do seu veículo. Nascemos da necessidade de simplificar o complexo universo automotivo, oferecendo ferramentas práticas que colocam o conhecimento técnico ao alcance de todos — desde consumidores finais até profissionais do setor.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Busca Inteligente de Peças:"})," Nossa ferramenta de busca foi projetada para eliminar a frustração de encontrar a peça certa. Utilizando um sistema de compatibilidade preciso, você seleciona marca, modelo e ano do seu veículo e recebe apenas as peças que realmente servem. Acabaram-se as compras erradas, devoluções e tempo perdido — cada resultado é verificado e validado para garantir compatibilidade total.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Tabela FIPE Atualizada:"})," Tenha acesso instantâneo aos valores de referência do mercado automotivo brasileiro. Nossa Tabela FIPE apresenta preços médios atualizados de centenas de modelos, com filtros por marca, ano e busca por modelo. Seja para comprar, vender ou simplesmente acompanhar a valorização do seu veículo, você tem informações confiáveis a um clique de distância.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Alertas de Recalls:"})," A segurança é nossa prioridade. Disponibilizamos uma base completa de recalls automotivos, permitindo que você verifique se o seu veículo possui alguma convocação ativa das montadoras. Mantenha-se informado sobre campanhas de segurança, defeitos identificados e procedimentos de correção — porque dirigir com tranquilidade faz toda a diferença.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Guias Automotivos Completos:"})," Oferecemos uma biblioteca rica de guias práticos que cobrem desde conceitos básicos até procedimentos técnicos avançados. Aprenda sobre manutenção preventiva, instalação de componentes, diagnóstico de problemas comuns e muito mais. Nossos guias são escritos em linguagem acessível, com ilustrações e explicações passo a passo para que você ganhe autonomia e confiança no cuidado com seu veículo.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Conexão com Oficinas Parceiras:"})," Construímos uma rede de parceiros confiáveis — oficinas, mecânicos e fornecedores verificados que compartilham nosso compromisso com qualidade e transparência. Ao precisar de um serviço especializado, você encontra profissionais qualificados próximos a você, com avaliações reais de outros usuários e a certeza de um atendimento ético.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Histórico de Manutenção Organizado:"})," Com o Peça Fácil, você mantém um registro completo de todas as manutenções, trocas de peças e serviços realizados no seu veículo. Esse histórico digital facilita o acompanhamento de revisões periódicas, aumenta o valor de revenda e garante que nenhum cuidado essencial seja esquecido.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Versão Pro:"})," Para quem busca ainda mais recursos, nossa Versão Pro oferece funcionalidades exclusivas como notificações personalizadas de recalls, acesso antecipado a novos guias técnicos, suporte prioritário e ferramentas avançadas de gestão de frota — ideal para oficinas, revendedoras e entusiastas que levam a sério o cuidado automotivo.",a.jsx("br",{}),a.jsx("br",{}),"Em resumo, o Peça Fácil centraliza informações técnicas, preços de mercado, alertas de segurança e conhecimento especializado em uma única plataforma moderna e acessível. Nosso compromisso é entregar economia de tempo e dinheiro, decisões mais informadas e a confiança de que você está fazendo as escolhas certas para o seu veículo. Seja bem-vindo a uma nova era de autonomia e transparência no setor automotivo."]})})]})})]})}function yC(){return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"seja-pro",children:[a.jsx("h2",{className:"page-title",children:"Seja Pro"}),a.jsx("div",{className:"sejapro-intro",children:a.jsx("p",{children:"Tenha acesso a benefícios exclusivos e suporte prioritário ao se tornar um membro Pro."})}),a.jsxs("div",{className:"seja-pro-cards",children:[a.jsxs("div",{className:"seja-pro-card",children:[a.jsx("h3",{className:"seja-pro-card-title",children:"Básico"}),a.jsx("p",{className:"seja-pro-card-lead",children:"Benefícios da versão Básica."}),a.jsx("div",{className:"seja-pro-card-body",children:a.jsxs("ul",{className:"seja-pro-features",children:[a.jsx("li",{children:"Acesso ao buscador de peças."}),a.jsx("li",{className:"seja-pro-feature-unavailable",children:"Acesso ao endereço das lojas que vendem as peças."}),a.jsx("li",{className:"seja-pro-feature-unavailable",children:"Acesso ao valores da Tabela FIPE."}),a.jsx("li",{children:"Suporte via email."}),a.jsx("li",{className:"seja-pro-feature-unavailable",children:"Suporte via whatsapp."}),a.jsx("li",{className:"seja-pro-feature-unavailable",children:"Comunidade no discord."})]})})]}),a.jsxs("div",{className:"seja-pro-card seja-pro-card-pro",children:[a.jsx("h3",{className:"seja-pro-card-title",children:"Pro"}),a.jsx("p",{className:"seja-pro-card-lead",children:"Benefícios da versão Pro."}),a.jsx("div",{className:"seja-pro-card-body",children:a.jsxs("ul",{className:"seja-pro-features",children:[a.jsx("li",{children:" Acesso ao buscador de peças."}),a.jsx("li",{children:" Acesso ao endereço das lojas que vendem as peças."}),a.jsx("li",{children:" Acesso ao valores da Tabela FIPE."}),a.jsx("li",{children:" Suporte via email."}),a.jsx("li",{children:" Suporte via whatsapp."}),a.jsx("li",{children:" Comunidade no discord."})]})})]})]})]})})]})}function wC(){const r=it();return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",id:"versao-pro",children:[a.jsx("h2",{className:"page-title",children:"Versão Pro"}),a.jsx("p",{className:"versao-pro-intro",children:"Tenha acesso a todos os recursos avançados, suporte prioritário e integrações para otimizar sua busca por peças."}),a.jsxs("div",{className:"versao-pro-cards",children:[a.jsxs("div",{className:"versao-pro-features",children:[a.jsx("h3",{className:"versao-pro-features-title",children:"Recursos incluídos"}),a.jsxs("ul",{className:"versao-pro-list",children:[a.jsx("li",{children:" Acesso ao buscador de peças."}),a.jsx("li",{children:" Acesso ao endereço das lojas que vendem as peças."}),a.jsx("li",{children:" Acesso ao valores da Tabela FIPE."}),a.jsx("li",{children:" Suporte via email."}),a.jsx("li",{children:" Suporte via whatsapp."}),a.jsx("li",{children:" Comunidade no discord."})]})]}),a.jsxs("div",{className:"versao-pro-pricecard",children:[a.jsx("div",{className:"versao-pro-price",children:"R$ 9,90/mês"}),a.jsx("div",{className:"versao-pro-price-note",children:"Cancelamento a qualquer momento"}),a.jsx("button",{className:"versao-pro-cta",onClick:()=>r("/checkin"),children:"Assinar Pro"})]})]})]})})]})}function _C(){const[r,e]=E.useState(""),[t,i]=E.useState(""),[o,c]=E.useState(""),[u,h]=E.useState(""),[p,g]=E.useState(""),[v,y]=E.useState(!1),[w,b]=E.useState(!1),[x,S]=E.useState(""),[j,N]=E.useState(""),[I,T]=E.useState(""),[$,P]=E.useState(""),[U,O]=E.useState(""),{usuarioLogado:q,setUsuarioLogado:z}=E.useContext(Ke);function W(ce){ce.preventDefault(),S("");let xe=!1;if(r.trim()||(N("Nome é obrigatório."),xe=!0),t.replace(/\D/g,"").length<12&&(T("Número de cartão inválido."),xe=!0),!/^\d{2}\/\d{2}$/.test(o))P("Validade inválida. Use MM/AA."),xe=!0;else{const[D,ne]=o.split("/").map(Z=>parseInt(Z,10));D>=1&&D<=12||(P("Mês inválido."),xe=!0)}if(/^\d{3,4}$/.test(u)||(O("CVC inválido."),xe=!0),xe){S("Revise os campos destacados.");return}y(!0),setTimeout(()=>{y(!1),b(!0);try{const D=JSON.parse(localStorage.getItem("payments")||"[]"),ne={id:Date.now(),user:q?q.email||q.nome:"guest",amount:9.9,currency:"BRL",date:new Date().toISOString(),card:"**** **** **** "+t.replace(/\s+/g,"").slice(-4)};D.push(ne),localStorage.setItem("payments",JSON.stringify(D))}catch{}if(q&&z){const D={...q,isPro:!0};z(D),localStorage.setItem("usuario-logado",JSON.stringify(D))}else try{localStorage.setItem("versaoProAtiva","true")}catch{}},1200)}function re(ce){e(ce),j&&ce.trim()&&N("")}function Ee(ce){const xe=ce.replace(/\D/g,"").slice(0,19),D=(xe.match(/\d{1,4}/g)||[]).join(" ");i(D),I&&xe.length>=12&&T("")}function ve(ce){const xe=ce.replace(/\D/g,"").slice(0,4);let oe=xe;xe.length>=3&&(oe=xe.slice(0,2)+"/"+xe.slice(2)),c(oe),$&&/^\d{2}\/\d{2}$/.test(oe)&&P("")}function he(ce){const xe=ce.replace(/\D/g,"").slice(0,4);h(xe),U&&/^\d{3,4}$/.test(xe)&&O("")}return w?a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",children:[a.jsx("h2",{className:"page-title",children:"Pagamento concluído"}),a.jsx("p",{className:"checkin-success-text",children:"Obrigado — sua assinatura Pro foi ativada (simulado)."}),a.jsxs("p",{className:"checkin-success-text",children:["Você pode retornar à ",a.jsx("a",{href:"/",children:"página inicial"}),"."]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsx("div",{className:"page-content checkin-section",children:a.jsxs("div",{className:"checkin-container",children:[a.jsx("h2",{className:"page-title",children:"Finalizar Assinatura — Versão Pro"}),a.jsx("p",{className:"checkin-intro",children:"R$ 9,90/mês — cancelamento a qualquer momento."}),a.jsxs("form",{onSubmit:W,className:"checkin-form",children:[a.jsxs("label",{className:"checkin-label",children:["Nome no cartão",a.jsx("input",{className:"checkin-input checkin-input",value:r,onChange:ce=>re(ce.target.value),placeholder:"Nome completo"}),j&&a.jsx("div",{className:"checkin-error",children:j})]}),a.jsxs("label",{className:"checkin-label",children:["Número do cartão",a.jsx("input",{className:"checkin-input checkin-input",value:t,onChange:ce=>Ee(ce.target.value),placeholder:"1234 5678 9012 3456",inputMode:"numeric"}),I&&a.jsx("div",{className:"checkin-error",children:I})]}),a.jsxs("div",{className:"checkin-row",children:[a.jsxs("label",{className:"checkin-label checkin-row-item",children:["Validade",a.jsx("input",{className:"checkin-input checkin-input",value:o,onChange:ce=>ve(ce.target.value),placeholder:"MM/AA",inputMode:"numeric"}),$&&a.jsx("div",{className:"checkin-error",children:$})]}),a.jsxs("label",{className:"checkin-label checkin-row-item-small",children:["CVC",a.jsx("input",{className:"checkin-input checkin-input",value:u,onChange:ce=>he(ce.target.value),placeholder:"123",inputMode:"numeric"}),U&&a.jsx("div",{className:"checkin-error",children:U})]})]}),a.jsxs("label",{className:"checkin-label",children:["Cupom (opcional)",a.jsx("input",{className:"checkin-input checkin-input",value:p,onChange:ce=>g(ce.target.value),placeholder:"CUPOM"})]}),x&&a.jsx("div",{className:"checkin-error-global",children:x}),a.jsxs("div",{className:"checkin-actions",children:[a.jsx("button",{type:"submit",disabled:v,className:"checkin-btn-primary",children:v?"Processando...":"Pagar R$ 9,90"}),a.jsx("button",{type:"button",onClick:()=>{window.history.back()},className:"checkin-btn-secondary",children:"Voltar"})]}),a.jsx("div",{className:"checkin-note",children:"Este é um formulário de pagamento simulado. Integre seu provedor de pagamentos (Stripe, PayPal, PagSeguro etc.) conforme necessário."})]})]})})})]})}function EC(){const r=it(),{usuarioLogado:e}=E.useContext(Ke),t=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsx("div",{className:"page-content versao-pro-assinado-section",children:a.jsxs("div",{className:"versao-pro-assinado-container",children:[a.jsx("h2",{className:"page-title",children:"Assinatura Pro ativada"}),a.jsxs("p",{className:"versao-pro-assinado-intro",children:["Obrigado",e&&e.nome?`, ${e.nome}`:""," — sua assinatura Pro foi ativada com sucesso (simulada)."]}),a.jsxs("div",{className:"versao-pro-assinado-actions",children:[a.jsx("button",{className:"versao-pro-assinado-btn-primary",onClick:()=>r("/"),children:"Ir para a página inicial"}),a.jsx("button",{className:"versao-pro-assinado-btn-secondary",onClick:()=>r("/perfil"),children:"Ver meu perfil"})]}),a.jsxs("div",{className:"versao-pro-assinado-benefits",children:[a.jsx("h3",{className:"versao-pro-assinado-benefits-title",children:"Benefícios ativos"}),t?a.jsxs("ul",{className:"versao-pro-assinado-benefits-list",children:[a.jsx("li",{children:"✓ Acesso ao endereço das lojas que vendem as peças."}),a.jsx("li",{children:"✓ Contato direto via WhatsApp dentro das compatibilidades."}),a.jsx("li",{children:"✓ Suporte prioritário por eMail e WhatsApp."}),a.jsx("li",{children:"✓ Acesso à comunidade exclusiva (Discord)."})]}):a.jsx("p",{className:"versao-pro-assinado-empty",children:"Nenhuma assinatura ativa encontrada. Se você acabou de pagar, recarregue a página ou faça login novamente para sincronizar o status."}),a.jsx("div",{className:"versao-pro-assinado-note",children:"Nota: este é um ambiente de simulação. Para integração com gateway real (Stripe, PayPal etc.), implemente a comunicação do servidor e verificação das transações."})]})]})})})]})}function xC(){return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"contato",children:[a.jsx("h2",{className:"page-title",children:"Contato"}),a.jsx("div",{className:"contato-intro",children:a.jsx("p",{children:"Entre em contato conosco pelo formulário abaixo ou pelos canais oficiais."})}),a.jsx(Ng,{}),a.jsxs("div",{className:"contato-info",children:[a.jsx("p",{children:"Telefone: (00) 0000-0000"}),a.jsx("p",{children:"EMail: suporte@pecafacil.com.br"})]})]})})]})}function SC(){const[r,e]=E.useState(""),[t,i]=E.useState(""),[o,c]=E.useState(""),[u,h]=E.useState(""),[p,g]=E.useState(!1),[v,y]=E.useState(!1),[w,b]=E.useState({}),[x,S]=E.useState(""),j=it(),{setUsuarioLogado:N}=E.useContext(Ke||{}),I=U=>{try{const O=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"],q=String(U||"").trim()||"user";let z=0;for(let W=0;W<q.length;W++)z=(z<<5)-z+q.charCodeAt(W),z|=0;return O[Math.abs(z)%O.length]}catch{return"#2196F3"}},T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function $(){const U={};return(!r||!r.trim())&&(U.nome="Nome é obrigatório."),!t||!t.trim()?U.email="E-mail é obrigatório.":T.test(t)||(U.email="E-mail inválido."),o?o.length<6&&(U.senha="Senha deve ter pelo menos 6 caracteres."):U.senha="Senha é obrigatória.",o!==u&&(U.confirmSenha="As senhas não conferem."),b(U),Object.keys(U).length===0}function P(U){if(U.preventDefault(),S(""),!$())return;const O=String(r||"").trim().replace(/\s+/g," ");(async()=>{try{const q=window.__API_BASE||"",z=await fetch(`${q}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:O,email:t.trim(),senha:o})});if(z.status===201){const W=await z.json().catch(()=>({})),re={id:W.id||`local_${Date.now()}`,email:W.email||t.trim(),nome:W.nome||W.name?String(W.nome||W.name).trim():O,name:W.nome||W.name?String(W.nome||W.name).trim():O,avatarBg:I(W.nome||W.name?String(W.nome||W.name).trim():O),photoURL:W.photoURL||W.photo_url||null};try{N&&N(re)}catch{}try{localStorage.setItem("usuario-logado",JSON.stringify(re))}catch{}S("Cadastro realizado com sucesso! Entrando..."),window.showToast&&window.showToast("Cadastro realizado com sucesso! Entrando...","success",1200),setTimeout(()=>{try{j("/buscar-pecas")}catch{}},1e3),e(""),i(""),c(""),h(""),b({});return}if(z.status===409){const W=await z.json().catch(()=>({}));b({form:"Usuário já existe. Tente recuperar a senha ou entre em contato."}),console.warn("User exists:",W);return}console.warn("API /api/users returned non-201 status, attempting Supabase signup fallback",z.status);try{const W=t.trim(),re=o;if(nn&&nn.auth&&typeof nn.auth.signUp=="function"){const{data:Ee,error:ve}=await nn.auth.signUp({email:W,password:re,options:{data:{nome:O}}});if(ve)console.warn("Supabase signup fallback failed:",ve);else if(Ee&&(Ee.user||Ee)){const he=Ee.user||Ee,ce={id:he.id||he.user?.id||`local_${Date.now()}`,email:he.email||W,nome:he.user_metadata&&(he.user_metadata.nome||he.user_metadata.name)?he.user_metadata.nome||he.user_metadata.name:O,name:he.user_metadata&&(he.user_metadata.nome||he.user_metadata.name)?he.user_metadata.nome||he.user_metadata.name:O,avatarBg:I(he.user_metadata&&(he.user_metadata.nome||he.user_metadata.name)?he.user_metadata.nome||he.user_metadata.name:O),photoURL:he.photoURL||he.avatar_url||null};try{N&&N(ce)}catch{}try{localStorage.setItem("usuario-logado",JSON.stringify(ce))}catch{}S("Cadastro realizado (Supabase). Entrando..."),window.showToast&&window.showToast("Cadastro realizado (Supabase).","success",1200),setTimeout(()=>{try{j("/buscar-pecas")}catch{}},1e3),e(""),i(""),c(""),h(""),b({});return}}}catch(W){console.warn("Supabase signup fallback threw:",W&&W.message?W.message:W)}console.warn("Falling back to localStorage after API + Supabase attempts failed")}catch(q){console.warn("Failed to call /api/users, attempting Supabase signup fallback",q&&q.message);try{if(nn&&nn.auth&&typeof nn.auth.signUp=="function"){const{data:z,error:W}=await nn.auth.signUp({email:t.trim(),password:o});if(!W&&z&&(z.user||z)){S("Cadastro realizado (Supabase). Redirecionando para o login..."),window.showToast&&window.showToast("Cadastro realizado (Supabase).","success",2e3),setTimeout(()=>{try{j("/login",{state:{email:t.trim()}})}catch{}},1500),e(""),i(""),c(""),h(""),b({});return}console.warn("Supabase signup fallback returned error",W)}}catch(z){console.warn("Supabase signup fallback threw:",z&&z.message?z.message:z)}}try{const q="usuarios",z=JSON.parse(localStorage.getItem(q)||"[]"),W={id:`local_${Date.now()}`,nome:O,email:t.trim(),senha:o,criadoEm:new Date().toISOString(),avatarBg:I(O)};z.push(W),localStorage.setItem(q,JSON.stringify(z));try{N&&N(W)}catch{}try{localStorage.setItem("usuario-logado",JSON.stringify(W))}catch{}S("Cadastro (local) realizado com sucesso! Entrando..."),window.showToast&&window.showToast("Cadastro realizado (local). Entrando...","success",1200),setTimeout(()=>{try{j("/buscar-pecas")}catch{}},1e3),e(""),i(""),c(""),h(""),b({})}catch(q){b({form:"Erro ao salvar os dados localmente. Verifique o console."}),console.error("Erro salvando usuário localmente:",q)}})()}return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsx("div",{className:"page-content",children:a.jsx("div",{className:"cadastro-card-outer",children:a.jsxs("div",{className:"cadastro-card-grid",children:[a.jsxs("section",{className:"cadastro-card",children:[a.jsx("h1",{className:"cadastro-title",children:"Cadastro"}),a.jsx("p",{className:"cadastro-sub",children:"Crie sua conta para acessar recursos adicionais"}),a.jsxs("form",{className:"cadastro-form",onSubmit:P,noValidate:!0,children:[w.form&&a.jsx("div",{className:"form-error",children:w.form}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"Nome completo"}),a.jsx("input",{className:`input ${w.nome?"input-error":""}`,type:"text",value:r,onChange:U=>e(U.target.value),placeholder:"Seu nome","aria-invalid":!!w.nome,"aria-describedby":w.nome?"err-nome":void 0}),w.nome&&a.jsx("div",{id:"err-nome",className:"error",children:w.nome})]}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"E-mail"}),a.jsx("input",{className:`input ${w.email?"input-error":""}`,type:"email",value:t,onChange:U=>i(U.target.value),placeholder:"seu@exemplo.com","aria-invalid":!!w.email,"aria-describedby":w.email?"err-email":void 0}),w.email&&a.jsx("div",{id:"err-email",className:"error",children:w.email})]}),a.jsxs("label",{className:"field",children:[a.jsx("span",{className:"label",children:"Senha"}),a.jsxs("div",{className:"password-field",children:[a.jsx("input",{className:`input password-input ${w.senha?"input-error":""}`,type:p?"text":"password",value:o,onChange:U=>c(U.target.value),placeholder:"Crie uma senha","aria-invalid":!!w.senha,"aria-describedby":w.senha?"err-senha":void 0}),a.jsx(Js,{on:p,onClick:()=>g(U=>!U),ariaLabel:p?"Ocultar senha":"Mostrar senha"})]}),w.senha&&a.jsx("div",{id:"err-senha",className:"error",children:w.senha})]}),a.jsxs("label",{className:"field field-password",children:[a.jsx("span",{className:"label",children:"Confirmar senha"}),a.jsxs("div",{className:"password-field",children:[a.jsx("input",{className:`input password-input ${w.confirmSenha?"input-error":""}`,type:v?"text":"password",value:u,onChange:U=>h(U.target.value),placeholder:"Repita a senha","aria-invalid":!!w.confirmSenha,"aria-describedby":w.confirmSenha?"err-confirm":void 0}),a.jsx(Js,{on:v,onClick:()=>y(U=>!U),ariaLabel:v?"Ocultar senha":"Mostrar senha"})]}),w.confirmSenha&&a.jsx("div",{id:"err-confirm",className:"error",children:w.confirmSenha})]}),a.jsx("button",{className:"submit",type:"submit",children:"Criar conta"}),x&&a.jsx("div",{className:"success",children:x})]})]}),a.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:a.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peças automotivas"})})]})})})})]})}function bC(){return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",id:"parceiros",children:[a.jsx("h2",{className:"page-title",children:"Parceiros"}),a.jsx("div",{className:"parceiros-intro",children:a.jsx("p",{children:"Esta página apresenta informações sobre nossos parceiros e oportunidades de colaboração. Aqui você pode encontrar como se tornar um parceiro, benefícios e contatos."})}),a.jsx("div",{className:"parceiros-cta",children:a.jsx("button",{className:"search-btn parceiros-cta-btn",children:"Entre em contato"})})]})})]})}function jC(){const{usuarioLogado:r}=E.useContext(Ke)||{},e=async t=>{alert("Mensagem enviada com sucesso (usuário logado)!")};return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",id:"contato-logado",children:[a.jsx("h2",{className:"page-title",children:"Contato"}),a.jsx("div",{className:"contatologado-intro",children:a.jsx("p",{children:"Entre em contato conosco pelo formulário abaixo ou pelos canais oficiais."})}),a.jsx(Ng,{requireAuth:!0,user:r,onSubmit:e}),a.jsxs("div",{className:"contato-logado-info",children:[a.jsx("p",{children:"Telefone: (00) 0000-0000"}),a.jsx("p",{children:"EMail: suporte@pecafacil.com.br"})]})]})})]})}function kC(){const{usuarioLogado:r}=E.useContext(Ke)||{},[e,t]=E.useState(""),[i,o]=E.useState(""),[c,u]=E.useState(""),[h,p]=E.useState(""),[g,v]=E.useState(""),[y,w]=E.useState(""),[b,x]=E.useState([]),[S,j]=E.useState([]),[N,I]=E.useState([]),[T,$]=E.useState([]),[P,U]=E.useState([]),[O,q]=E.useState([]),[z,W]=E.useState([]),[re,Ee]=E.useState(!1),[ve,he]=E.useState(""),[ce,xe]=E.useState(""),[oe,D]=E.useState(""),[ne,Z]=E.useState(""),[R,G]=E.useState(""),[be,B]=E.useState(""),[H,V]=E.useState(!1),[ye,ee]=E.useState(""),[ie,je]=E.useState(null),[zt,Et]=E.useState(!1),[tt,Le]=E.useState(null);E.useEffect(()=>{const ge=async()=>{try{const te=await Cn.getPecasMeta();x(te.grupos||[]),j(te.pecas||[]),I(te.marcas||[]),$(te.modelos||[]),U(te.anos||[]),q(te.fabricantes||[]),te.pecas&&te.pecas.length>0&&W(te.pecas)}catch(te){console.warn("Failed to load metadata:",te&&te.message?te.message:te),he("Não foi possível carregar os dados iniciais. Tente recarregar a página.")}};ge();const Ne=()=>ge();return window.addEventListener("app-refresh",Ne),()=>window.removeEventListener("app-refresh",Ne)},[]),E.useEffect(()=>{if(xe(""),D(""),Z(""),G(""),(e||i||c||h||g||y)&&B(""),y&&S.length>0){const Ne=S.filter(te=>(!e||te.category===e)&&(!i||te.name===i)&&te.manufacturer===y);c&&Ne.length>0&&(Ne.some(we=>!we.applications||!Array.isArray(we.applications)?!1:we.applications.some(Ce=>String(Ce).toLowerCase().includes(c.toLowerCase())))||xe(`Não há peças do fabricante "${y}" compatíveis com a marca "${c}"`)),h&&Ne.length>0&&(Ne.some(we=>!we.applications||!Array.isArray(we.applications)?!1:we.applications.some(Ce=>String(Ce).toLowerCase().includes(h.toLowerCase())))||D(`Não há peças do fabricante "${y}" compatíveis com o modelo "${h}"`)),g&&Ne.length>0&&(Ne.some(we=>!we.applications||!Array.isArray(we.applications)?!1:we.applications.some(Ce=>String(Ce).toLowerCase().includes(g)))||Z(`Não há peças do fabricante "${y}" compatíveis com o ano "${g}"`))}(c||h||g)&&y&&S.filter(te=>{const we=!e||te.category===e,Ce=!i||te.name===i,Qe=te.manufacturer===y;return!we||!Ce||!Qe||!te.applications||!Array.isArray(te.applications)?!1:te.applications.some(xt=>{const Jt=String(xt).toLowerCase(),Vt=!c||Jt.includes(c.toLowerCase()),mi=!h||Jt.includes(h.toLowerCase()),cs=!g||Jt.includes(g);return Vt&&mi&&cs})}).length===0&&!ce&&!oe&&!ne&&G("Não há peças que atendam todos os filtros selecionados")},[e,i,y,c,h,g,S]);const Be=()=>{if(!S||S.length===0)return[];if(!e||e==="")return Array.from(new Set(S.map(we=>we.name||"").filter(Boolean)));const ge=S.filter(te=>te.category?te.category.toLowerCase().trim()===e.toLowerCase().trim():!1);return Array.from(new Set(ge.map(te=>te.name||"").filter(Boolean)))},dt=()=>{if(!Array.isArray(S))return[];let ge=S;return e&&(ge=ge.filter(Ne=>Ne&&Ne.category===e)),i&&(ge=ge.filter(Ne=>Ne&&Ne.name===i)),Array.from(new Set(ge.map(Ne=>Ne&&Ne.manufacturer).filter(Boolean)))},tr=()=>{if(!Array.isArray(S))return[];let ge=S;e&&(ge=ge.filter(te=>te&&te.category===e)),i&&(ge=ge.filter(te=>te&&te.name===i)),y&&(ge=ge.filter(te=>te&&te.manufacturer===y));const Ne=new Set;return ge.forEach(te=>{te&&te.applications&&Array.isArray(te.applications)&&te.applications.forEach(we=>{const Ce=String(we).toLowerCase();["ford","chevrolet","volkswagen","fiat","honda","toyota","hyundai","nissan","renault","peugeot","citroën","bmw","mercedes","audi","volvo","mitsubishi","kia","suzuki","jeep","land rover","jaguar"].forEach(xt=>{Ce.includes(xt)&&Ne.add(xt.charAt(0).toUpperCase()+xt.slice(1))})})}),Array.from(Ne)},En=()=>{if(!c)return Array.isArray(T)?T:[];if(!Array.isArray(S))return[];let ge=S;e&&(ge=ge.filter(we=>we&&we.category===e)),i&&(ge=ge.filter(we=>we&&we.name===i)),y&&(ge=ge.filter(we=>we&&we.manufacturer===y));const Ne=new Set,te=c.toLowerCase();return ge.forEach(we=>{we&&we.applications&&Array.isArray(we.applications)&&we.applications.forEach(Ce=>{const Qe=String(Ce).toLowerCase();if(Qe.includes(te)){const xt=Qe.split(" "),Jt=xt.findIndex(Vt=>Vt.includes(te));if(Jt>=0&&Jt<xt.length-1){const Vt=xt[Jt+1];Vt&&Vt.length>1&&Ne.add(Vt.charAt(0).toUpperCase()+Vt.slice(1))}}})}),Array.from(Ne)},Te=()=>{if(!c&&!h)return Array.isArray(P)?P:[];if(!Array.isArray(S))return[];let ge=S;e&&(ge=ge.filter(Ce=>Ce&&Ce.category===e)),i&&(ge=ge.filter(Ce=>Ce&&Ce.name===i)),y&&(ge=ge.filter(Ce=>Ce&&Ce.manufacturer===y));const Ne=new Set,te=c?.toLowerCase(),we=h?.toLowerCase();return ge.forEach(Ce=>{Ce&&Ce.applications&&Array.isArray(Ce.applications)&&Ce.applications.forEach(Qe=>{const xt=String(Qe).toLowerCase(),Jt=!te||xt.includes(te),Vt=!we||xt.includes(we);if(Jt&&Vt){const mi=/\d{4}(?:-\d{4})?/g;(xt.match(mi)||[]).forEach(Or=>{if(Or.includes("-")){const[gi,vi]=Or.split("-").map(Number);for(let Lr=gi;Lr<=vi;Lr++)Ne.add(String(Lr))}else Ne.add(Or)})}})}),Array.from(Ne).sort()},Ct=ge=>a.jsx("div",{className:"buscarpeca-modal-pecas",children:a.jsx("div",{className:"compat-results-grid",children:a.jsx(cE,{pecas:ge,onViewCompatibility:pi,onViewDetails:mt})})}),mt=ge=>{Le(ge),Et(!0)},xn=()=>{Et(!1),Le(null)},pi=ge=>{const Ne=typeof ge=="object"&&ge?ge:z.find(we=>we.id===ge);if(ee("Compatibilidade"),!Ne||!Ne.applications){console.debug("[BuscarPeca] no applications for peca",Ne),je(a.jsx("div",{children:"Nenhuma aplicação encontrada."})),V(!0);return}const te=a.jsx("div",{className:"buscarpeca-compat-wrapper",children:a.jsx(nE,{applications:Ne.applications,usuarioLogado:r})});je(te),V(!0)},Oa=async ge=>{if(ge&&ge.preventDefault&&ge.preventDefault(),B(""),!(e||i||c||h||g||y)){B("Por favor, preencha pelo menos um campo para realizar a busca."),xe(""),D(""),Z(""),G("");return}Ee(!0),he("");const te={grupo:e,categoria:i,marca:c,modelo:h,ano:g,fabricante:y};try{const we=await Cn.filtrarPecas(te);console.log("🔍 Filtros aplicados:",te),console.log("📦 Dados retornados da API:",we),console.log("📋 Peças encontradas:",we.pecas?.length||0);const Ce=we.pecas||[];if(W(Ce),Ce.length===0){const Qe=[];te.marca&&Qe.push(`Marca: ${te.marca}`),te.modelo&&Qe.push(`Modelo: ${te.modelo}`),te.ano&&Qe.push(`Ano: ${te.ano}`),te.grupo&&Qe.push(`Grupo: ${te.grupo}`),te.categoria&&Qe.push(`Peça: ${te.categoria}`),te.fabricante&&Qe.push(`Fabricante: ${te.fabricante}`);const xt=Qe.length>0?`Nenhuma peça encontrada para: ${Qe.join(", ")}. Tente remover alguns filtros ou buscar por termos mais genéricos.`:"Nenhuma peça encontrada para os filtros selecionados.";he(xt)}else ee(`Encontradas ${Ce.length} peça(s)`),je(Ct(Ce)),V(!0)}catch(we){console.error("❌ Erro na busca:",we),he(we.message||"Erro ao buscar peças")}finally{Ee(!1)}},La=()=>{t(""),o(""),u(""),p(""),v(""),w(""),W([]),he(""),xe(""),D(""),Z(""),G(""),B("")};return a.jsxs(a.Fragment,{children:[r?a.jsx(st,{}):a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content buscarpeca-section",children:[a.jsx("h2",{className:"page-title",children:"Catálogo de Peças"}),a.jsx("div",{className:"buscarpeca-intro",children:a.jsx("p",{children:"Encontre peças automotivas compatíveis com seu veículo. Busque por marca, modelo e ano."})}),a.jsx(_E,{selectedGrupo:e,setSelectedGrupo:t,selectedCategoria:i,setSelectedCategoria:o,selectedMarca:c,setSelectedMarca:u,selectedModelo:h,setSelectedModelo:p,selectedAno:g,setSelectedAno:v,selectedFabricante:y,setSelectedFabricante:w,grupos:b,todasPecas:Be(),marcas:tr(),modelos:En(),anos:Te(),fabricantes:dt(),onSearch:Oa,onClear:La,loading:re,error:ve,warningMarca:ce,warningModelo:oe,warningAno:ne,warningFabricante:R,emptyFieldsWarning:be})]})}),a.jsx(rE,{show:H,onClose:()=>V(!1),title:ye,titleIcon:ye==="Compatibilidade"?"./check.png":null,children:ie}),a.jsx(pE,{isOpen:zt,onClose:xn,productId:tt})]})}function NC(){const{usuarioLogado:r}=E.useContext(Ke);return r?a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",id:"perfil",children:[a.jsx("h2",{className:"page-title",children:"Meu Perfil"}),a.jsx(fE,{formData:r})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"menu-page",children:a.jsxs("div",{className:"perfil-error",children:[a.jsx("h2",{className:"page-heading",children:"Acesso Negado"}),a.jsx("p",{children:"Você precisa estar logado para acessar esta página."})]})})]})}const Ey={Chevrolet:["Agile","Astra","Blazer","Bolt","Camaro","Captiva","Celta","Classic","Cobalt","Corsa","Cruze","Equinox","Joy","Montana","Meriva","Omega","Onix","Onix Plus","Prisma","S10","Sonic","Spin","Tracker","Trailblazer","Vectra","Zafira"],Fiat:["147","500","Argo","Brava","Cronos","Doblo","Ducato","Fastback","Fiorino","Freemont","Grand Siena","Idea","Linea","Marea","Mobi","Palio","Palio Weekend","Pulse","Punto","Siena","Stilo","Strada","Toro","Tipo","Uno"],Volkswagen:["Amarok","Arteon","Bora","Brasília","Crossfox","Fox","Fusca","Gol","Golf","Jetta","Kombi","Nivus","Novo Gol","Parati","Passat","Polo","Santana","Saveiro","SpaceFox","T-Cross","Taos","Tiguan","Touareg","Up","Virtus","Voyage"],Ford:["Belina","Bronco","Bronco Sport","Corcel","Courier","Del Rey","EcoSport","Edge","Escort","Explorer","F-150","F-250","F-350","Fiesta","Fusion","Ka","Ka+","Maverick","Mondeo","Mustang","Ranger","Territory","Transit"],Renault:["Alaskan","Captur","Clio","Duster","Fluence","Grand Tour","Kangoo","Kardian","Koleos","Kwid","Logan","Master","Megane","Oroch","Sandero","Sandero RS","Scenic","Stepway","Symbol","Twingo","Zoe"],Hyundai:["Accent","Azera","Creta","Elantra","Equus","Galloper","Genesis","HB20","HB20S","HB20X","i30","Ioniq","ix35","Kauai","Kona","Palisade","Santa Fe","Sonata","Tucson","Veloster","Venue"],Toyota:["Bandeirante","Camry","Corolla","Corolla Cross","Etios","Fielder","Hilux","Hilux SW4","Prius","RAV4","SW4","Yaris","Yaris Sedan"],Honda:["Accord","City","Civic","CR-V","Fit","HR-V","WR-V"],Nissan:["Frontier","Kicks","Leaf","Livina","March","Sentra","Tiida","Versa","X-Trail"],Jeep:["Cherokee","Commander","Compass","Grand Cherokee","Renegade","Wrangler"],Peugeot:["106","2008","206","207","208","3008","306","307","308","406","408","5008","504","508","Boxer","Expert","Hoggar","Partner","RCZ"],Citroën:["Aircross","Berlingo","C3","C3 Aircross","C4","C4 Cactus","C4 Lounge","C4 Pallas","C5","C8","Jumper","Picasso","Xantia","Xsara"],Mitsubishi:["ASX","Eclipse Cross","L200","Lancer","Outlander","Pajero"],Kia:["Bongo","Cadenza","Carnival","Cerato","Mohave","Optima","Picanto","Rio","Sorento","Soul","Sportage","Stinger","Stonic"],BMW:["118i","120i","316i","318i","320i","325i","328i","330i","Série 1","Série 2","Série 3","Série 4","Série 5","Série 6","Série 7","X1","X3","X4","X5","X6","Z4"],"Mercedes-Benz":["A 160","A 190","A 200","A 250","C 180","C 200","C 220","C 250","C 300","Classe A","Classe B","Classe C","Classe E","Classe G","Classe S","CLA","CLS","GLA","GLB","GLC","GLE","GLS","Sprinter"],Audi:["A3","A4","A5","A6","A7","A8","Q3","Q5","Q7","Q8","TT"],Volvo:["C30","S40","S60","S80","V40","V60","XC40","XC60","XC90"],"Land Rover":["Defender","Discovery","Discovery Sport","Evoque","Freelander","Range Rover","Range Rover Sport","Range Rover Velar"],Porsche:["911","Boxster","Cayenne","Cayman","Macan","Panamera","Taycan"],JAC:["iEV20","iEV40","J2","J3","J5","J6","T40","T50","T60","T8"],Chery:["Arrizo 5","Arrizo 6","Celer","QQ","Tiggo 2","Tiggo 3","Tiggo 5","Tiggo 7","Tiggo 8"],"Caoa Chery":["Arrizo 5","Arrizo 6","Tiggo 5x","Tiggo 7","Tiggo 8"],BYD:["Dolphin","e2","e5","Song","Tan","Yuan"],GWM:["Haval H6","Poer","Wingle"],RAM:["1500","2500","3500","Rampage"],Dodge:["Challenger","Charger","Dakota","Durango","Journey","Ram"],Subaru:["Forester","Impreza","Legacy","Outback","XV","WRX"],Suzuki:["Grand Vitara","Jimny","SX4","Swift","Vitara"],Mini:["Cooper","Countryman","Paceman"],Jaguar:["E-Pace","F-Pace","F-Type","I-Pace","XE","XF","XJ"],Lexus:["CT","ES","IS","LS","NX","RX","UX"],Lifan:["320","530","620","X60"],Troller:["T4"],Outro:[]},IC=Object.keys(Ey).sort(),CC=r=>Ey[r]||[];function TC(){const{usuarioLogado:r}=E.useContext(Ke),e=it(),[t,i]=E.useState([]),[o,c]=E.useState(!1),[u,h]=E.useState(null),[p,g]=E.useState(!1),[v,y]=E.useState(""),[w,b]=E.useState(""),[x,S]=E.useState(""),[j,N]=E.useState([]),[I,T]=E.useState(""),[$,P]=E.useState(""),[U,O]=E.useState(""),[q,z]=E.useState("");E.useEffect(()=>{if(!r){e("/login");return}W()},[r,e]),E.useEffect(()=>{if(v&&v!=="Outro"){const D=CC(v);N(D),o||(b(""),S(""))}else N([])},[v,o]);const W=async()=>{if(r){const D=await as(r.id||r.email);i(D)}},re=()=>{y(""),b(""),S(""),N([]),T(""),P(""),O(""),z(""),c(!1),h(null),g(!1)},Ee=D=>{const ne=D.target.value;y(ne),b(""),S("")},ve=D=>{b(D.target.value),D.target.value!=="Outro"&&S("")},he=async D=>{D.preventDefault();const ne=w==="Outro"?x:w;if(!v||!ne||!I){window.showToast&&window.showToast("Preencha marca, modelo e ano","error",3e3);return}const Z=r.id||r.email,R={marca:v.trim(),modelo:ne.trim(),ano:I.trim(),placa:$.trim().toUpperCase(),cor:U.trim(),observacoes:q.trim()};o&&u?(await yE(Z,u,R),window.showToast&&window.showToast("Carro atualizado com sucesso!","success",3e3)):(await gE(Z,R),window.showToast&&window.showToast("Carro cadastrado com sucesso!","success",3e3)),await W(),re()},ce=D=>{y(D.marca),b(D.modelo),T(D.ano),P(D.placa||""),O(D.cor||""),z(D.observacoes||""),c(!0),h(D.id),g(!0)},xe=async D=>{if(window.confirm("Tem certeza que deseja excluir este carro?")){const ne=r.id||r.email;await vE(ne,D),await W(),window.showToast&&window.showToast("Carro removido com sucesso!","success",3e3)}},oe=async D=>{const ne=r.id||r.email;await wE(ne,D),await W(),window.showToast&&window.showToast("Carro definido como padrão!","success",2e3)};return r?a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",children:[a.jsx("h2",{className:"page-title",children:"Meus Carros"}),a.jsx("div",{className:"meus-carros-intro",children:a.jsx("p",{children:"Cadastre seus veículos para facilitar as buscas por peças, recalls e informações específicas. Você pode marcar um carro como padrão para pesquisas rápidas."})}),!p&&a.jsx("div",{className:"add-car-section",children:a.jsx("button",{className:"btn-add-car",onClick:()=>g(!0),children:"+ Adicionar Carro"})}),p&&a.jsxs("div",{className:"car-form-container",children:[a.jsx("h3",{className:"form-title",children:o?"Editar Carro":"Cadastrar Novo Carro"}),a.jsxs("form",{onSubmit:he,className:"car-form",children:[a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"marca",children:"Marca *"}),a.jsxs("select",{id:"marca",value:v,onChange:Ee,required:!0,children:[a.jsx("option",{value:"",children:"Selecione a marca"}),IC.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"modelo",children:"Modelo *"}),a.jsxs("select",{id:"modelo",value:w,onChange:ve,disabled:!v,required:!0,children:[a.jsx("option",{value:"",children:"Selecione o modelo"}),j.map(D=>a.jsx("option",{value:D,children:D},D)),a.jsx("option",{value:"Outro",children:"Outro (digitar manualmente)"})]})]})]}),w==="Outro"&&a.jsx("div",{className:"form-row",children:a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"modeloCustom",children:"Digite o modelo *"}),a.jsx("input",{type:"text",id:"modeloCustom",value:x,onChange:D=>S(D.target.value),placeholder:"Ex: Onix",required:!0})]})}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"ano",children:"Ano *"}),a.jsx("input",{type:"text",id:"ano",value:I,onChange:D=>T(D.target.value),placeholder:"Ex: 2020",maxLength:"4",required:!0})]}),a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"placa",children:"Placa"}),a.jsx("input",{type:"text",id:"placa",value:$,onChange:D=>P(D.target.value.toUpperCase()),placeholder:"Ex: ABC-1234",maxLength:"8"})]})]}),a.jsx("div",{className:"form-row",children:a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"cor",children:"Cor"}),a.jsx("input",{type:"text",id:"cor",value:U,onChange:D=>O(D.target.value),placeholder:"Ex: Prata"})]})}),a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"observacoes",children:"Observações"}),a.jsx("textarea",{id:"observacoes",value:q,onChange:D=>z(D.target.value),placeholder:"Informações adicionais sobre o veículo...",rows:"3"})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"submit",className:"btn-submit",children:o?"Salvar Alterações":"Cadastrar Carro"}),a.jsx("button",{type:"button",className:"btn-cancel",onClick:re,children:"Cancelar"})]})]})]}),t.length>0?a.jsxs("div",{className:"cars-list",children:[a.jsxs("h3",{className:"list-title",children:["Carros Cadastrados (",t.length,")"]}),a.jsx("div",{className:"cars-grid",children:t.map(D=>a.jsxs("div",{className:`car-card ${D.isDefault?"car-card-default":""}`,children:[D.isDefault&&a.jsx("div",{className:"default-badge",children:"⭐ Padrão"}),a.jsxs("div",{className:"car-header",children:[a.jsxs("h4",{className:"car-title",children:[D.marca," ",D.modelo]}),a.jsx("span",{className:"car-year",children:D.ano})]}),a.jsxs("div",{className:"car-details",children:[D.placa&&a.jsxs("p",{className:"car-info",children:[a.jsx("strong",{children:"Placa:"})," ",D.placa]}),D.cor&&a.jsxs("p",{className:"car-info",children:[a.jsx("strong",{children:"Cor:"})," ",D.cor]}),D.observacoes&&a.jsxs("p",{className:"car-info",children:[a.jsx("strong",{children:"Obs:"})," ",D.observacoes]})]}),a.jsxs("div",{className:"car-actions",children:[!D.isDefault&&a.jsx("button",{className:"btn-set-default",onClick:()=>oe(D.id),title:"Definir como padrão",children:"⭐"}),a.jsx("button",{className:"btn-edit",onClick:()=>ce(D),children:"✏️ Editar"}),a.jsx("button",{className:"btn-delete",onClick:()=>xe(D.id),children:"🗑️ Excluir"})]})]},D.id))})]}):!p&&a.jsxs("div",{className:"empty-state",children:[a.jsx("p",{children:"🚗 Você ainda não cadastrou nenhum carro."}),a.jsx("p",{children:'Clique em "Adicionar Carro" para começar!'})]})]})})]}):null}const rg=[{recall_id:"FORD-2024-001",marca:"Ford",modelo:"Ka",ano_inicial:2016,ano_final:2018,data_publicacao:"2024-03-15",componente:"Airbag do Condutor",risco:"Alto",descricao:"O inflador do airbag do condutor pode romper durante a ativação, causando projeção de fragmentos metálicos que podem causar ferimentos graves ou fatais aos ocupantes do veículo.",acao_recomendada:"Substituição gratuita do módulo do airbag em concessionária autorizada Ford. O reparo leva aproximadamente 1 hora.",status:"Ativo",fonte_oficial:"Comunicado Ford BR-2024-001",vin_affected:"Veículos fabricados entre janeiro/2016 e dezembro/2018"},{recall_id:"GM-2024-012",marca:"Chevrolet",modelo:"Onix",ano_inicial:2019,ano_final:2021,data_publicacao:"2024-02-20",componente:"Cinto de Segurança",risco:"Médio",descricao:"O mecanismo do cinto de segurança traseiro central pode não travar adequadamente em caso de impacto, reduzindo a eficácia da proteção oferecida.",acao_recomendada:"Inspeção e possível substituição do mecanismo do cinto de segurança traseiro central sem custo para o cliente.",status:"Ativo",fonte_oficial:"Comunicado GM BR-2024-012",vin_affected:"Veículos produzidos entre março/2019 e agosto/2021"},{recall_id:"VW-2023-045",marca:"Volkswagen",modelo:"Gol",ano_inicial:2017,ano_final:2019,data_publicacao:"2023-11-10",componente:"Sistema de Freios",risco:"Alto",descricao:"Falha no servo-freio pode resultar em aumento significativo do esforço necessário para acionamento do pedal de freio, aumentando a distância de frenagem.",acao_recomendada:"Substituição do servo-freio sem custo para o proprietário. Atendimento prioritário devido ao risco de segurança.",status:"Concluído",fonte_oficial:"Comunicado VW BR-2023-045",vin_affected:"Veículos fabricados entre junho/2017 e abril/2019"},{recall_id:"FIAT-2024-008",marca:"Fiat",modelo:"Uno",ano_inicial:2020,ano_final:2022,data_publicacao:"2024-01-25",componente:"Sistema Elétrico",risco:"Médio",descricao:"Possível superaquecimento do chicote elétrico próximo ao motor pode causar mau funcionamento de componentes elétricos ou, em casos extremos, princípio de incêndio.",acao_recomendada:"Inspeção e possível substituição do chicote elétrico. Reparo gratuito em oficinas autorizadas Fiat.",status:"Ativo",fonte_oficial:"Comunicado Fiat BR-2024-008",vin_affected:"Veículos produzidos entre janeiro/2020 e dezembro/2022"},{recall_id:"TOYOTA-2023-067",marca:"Toyota",modelo:"Corolla",ano_inicial:2018,ano_final:2020,data_publicacao:"2023-09-18",componente:"Bomba de Combustível",risco:"Médio",descricao:"A bomba de combustível pode apresentar falha prematura, causando perda de potência do motor ou até mesmo parada completa do veículo durante a condução.",acao_recomendada:"Substituição da bomba de combustível sem custo para o cliente. Agendamento prioritário disponível.",status:"Ativo",fonte_oficial:"Comunicado Toyota BR-2023-067",vin_affected:"Veículos fabricados entre setembro/2018 e março/2020"},{recall_id:"HONDA-2024-003",marca:"Honda",modelo:"Civic",ano_inicial:2021,ano_final:2023,data_publicacao:"2024-04-12",componente:"Software do Motor",risco:"Baixo",descricao:"Atualização de software necessária para corrigir possível falha na calibração do sistema de injeção eletrônica que pode afetar o desempenho do motor.",acao_recomendada:"Atualização gratuita do software do motor em concessionárias autorizadas Honda. Procedimento leva cerca de 30 minutos.",status:"Ativo",fonte_oficial:"Comunicado Honda BR-2024-003",vin_affected:"Todos os veículos do período especificado"}];function AC(){const{usuarioLogado:r}=E.useContext(Ke)||{},[e,t]=E.useState([]),[i,o]=E.useState([]),[c,u]=E.useState(""),[h,p]=E.useState(""),[g,v]=E.useState(""),[y,w]=E.useState(""),[b,x]=E.useState([]),[S,j]=E.useState("");E.useEffect(()=>{(async()=>{if(r){const U=r.id||r.email,O=await as(U);x(O)}else x([]),j("")})()},[r]);const N=P=>{const U=P.target.value;if(j(U),!U)return;const O=b.find(q=>q.id===U);O&&(u(O.marca),p(O.modelo))};E.useEffect(()=>{t(rg),o(rg)},[]),E.useEffect(()=>{let P=e;if(c&&(P=P.filter(U=>U.marca.toLowerCase().includes(c.toLowerCase()))),h&&(P=P.filter(U=>U.modelo.toLowerCase().includes(h.toLowerCase()))),g){const U=parseInt(g);P=P.filter(O=>U>=O.anoInicial&&U<=O.anoFinal)}y&&(P=P.filter(U=>U.risco===y)),o(P)},[c,h,g,y,e]);const I=P=>{switch(P){case"Alto":return"risk-high";case"Médio":return"risk-medium";case"Baixo":return"risk-low";default:return"risk-unknown"}},T=P=>P==="Ativo"?"status-active":"status-completed",$=()=>{u(""),p(""),v(""),w("")};return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content recalls-section",children:[a.jsx("h2",{className:"page-title",children:"Recalls por Modelo"}),a.jsx("div",{className:"recalls-intro-wrapper",children:a.jsx("div",{className:"recalls-intro",children:a.jsx("p",{children:"Consulte recalls oficiais por marca, modelo e ano do seu veículo. MantenhaSe informado sobre questões de segurança."})})}),a.jsxs("div",{className:"recalls-search",children:[r&&b.length>0&&a.jsxs("div",{className:"recalls-car-selector",children:[a.jsx("label",{htmlFor:"carro-selecionado",children:"Buscar recalls para um carro específico (opcional)"}),a.jsxs("select",{id:"carro-selecionado",value:S,onChange:N,className:"recalls-input",children:[a.jsx("option",{value:"",children:"-- Busca geral (deixar em branco) --"}),b.map(P=>a.jsxs("option",{value:P.id,children:[P.marca," ",P.modelo," ",P.ano,P.isDefault?" ⭐":""]},P.id))]})]}),a.jsxs("div",{className:"search-row",children:[a.jsxs("div",{className:"search-field",children:[a.jsx("label",{htmlFor:"marca",children:"Marca"}),a.jsx("input",{type:"text",id:"marca",value:c,onChange:P=>u(P.target.value),placeholder:"Ex: Ford, Chevrolet, Volkswagen",className:"recalls-input"})]}),a.jsxs("div",{className:"search-field",children:[a.jsx("label",{htmlFor:"modelo",children:"Modelo"}),a.jsx("input",{type:"text",id:"modelo",value:h,onChange:P=>p(P.target.value),placeholder:"Ex: Ka, Onix, Gol",className:"recalls-input"})]}),a.jsxs("div",{className:"search-field",children:[a.jsx("label",{htmlFor:"ano",children:"Ano"}),a.jsx("input",{type:"number",id:"ano",value:g,onChange:P=>v(P.target.value),placeholder:"Ex: 2020",min:"1990",max:"2025",className:"recalls-input"})]}),a.jsxs("div",{className:"search-field",children:[a.jsx("label",{htmlFor:"risco",children:"Nível de Risco"}),a.jsxs("select",{id:"risco",value:y,onChange:P=>w(P.target.value),className:"recalls-select",children:[a.jsx("option",{value:"",children:"Todos"}),a.jsx("option",{value:"Alto",children:"Alto"}),a.jsx("option",{value:"Médio",children:"Médio"}),a.jsx("option",{value:"Baixo",children:"Baixo"})]})]})]}),a.jsx("div",{className:"search-actions",children:a.jsx("button",{onClick:$,className:"recalls-btn recalls-btn-secondary",children:"Limpar Filtros"})})]}),a.jsxs("div",{className:"recalls-results",children:[a.jsx("div",{className:"results-header",children:a.jsxs("h3",{children:[i.length," recall",i.length!==1?"s":""," encontrado",i.length!==1?"s":""]})}),a.jsx("div",{className:"recalls-list",children:i.map(P=>a.jsxs("div",{className:"recall-card",children:[a.jsxs("div",{className:"recall-header",children:[a.jsxs("div",{className:"recall-title",children:[a.jsxs("h4",{children:[P.marca," ",P.modelo]}),a.jsxs("span",{className:"recall-years",children:[P.anoInicial," - ",P.anoFinal]})]}),a.jsxs("div",{className:"recall-badges",children:[a.jsxs("span",{className:`risk-badge ${I(P.risco)}`,children:["Risco ",P.risco]}),a.jsx("span",{className:`status-badge ${T(P.status)}`,children:P.status})]})]}),a.jsxs("div",{className:"recall-info",children:[a.jsxs("div",{className:"recall-component",children:[a.jsx("strong",{children:"Componente:"})," ",P.componente]}),a.jsxs("div",{className:"recall-date",children:[a.jsx("strong",{children:"Data de Publicação:"})," ",new Date(P.dataPublicacao).toLocaleDateString("pt-BR")]})]}),a.jsxs("div",{className:"recall-description",children:[a.jsx("h5",{children:"Descrição do Problema"}),a.jsx("p",{children:P.descricao})]}),a.jsxs("div",{className:"recall-action",children:[a.jsx("h5",{children:"Ação Recomendada"}),a.jsx("p",{children:P.acaoRecomendada})]}),a.jsxs("div",{className:"recall-details",children:[a.jsxs("div",{className:"recall-vin",children:[a.jsx("strong",{children:"Veículos Afetados:"})," ",P.vinAffected]}),a.jsxs("div",{className:"recall-source",children:[a.jsx("strong",{children:"Fonte:"})," ",P.fonteOficial]})]}),a.jsxs("div",{className:"recall-id",children:["ID: ",P.recallId]})]},P.recallId))}),i.length===0&&a.jsxs("div",{className:"no-results",children:[a.jsx("p",{children:"Nenhum recall encontrado para os critérios selecionados."}),a.jsx("p",{children:"Isso pode significar que não há recalls ativos para este veículo ou que os dados ainda não foram atualizados."})]})]}),a.jsx("div",{className:"recalls-footer",children:a.jsxs("div",{className:"important-info",children:[a.jsx("h3",{children:"Informações Importantes"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Gratuito:"})," Todo atendimento de recall é gratuito, mesmo fora da garantia."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Agendamento:"})," Entre em contato com a concessionária autorizada para agendar."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Documentos:"})," Leve o documento do veículo e um documento pessoal com foto."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Prazo:"})," Recalls não têm prazo de validade - podem ser realizados a qualquer momento."]})]})]})})]})})]})}const xy=r=>{const[e,t]=E.useState(uE),[i,o]=E.useState({}),c=`votosGuias_${r||"guest"}`;return E.useEffect(()=>{try{const h=JSON.parse(localStorage.getItem(c)||"{}"),p=JSON.parse(localStorage.getItem("avaliacoesGuias")||"{}");o(h),t(g=>({...g,...p}))}catch(h){console.warn("[useAvaliacoes] failed to parse stored votes/avaliacoes",h)}},[c]),{avaliacoes:e,votosUsuario:i,avaliarGuia:(h,p)=>{const g=i&&Object.prototype.hasOwnProperty.call(i,h)?i[h]:null;t(y=>{const w=y[h]||{total:0,soma:0};let b=w.total,x=w.soma;g==null?(b=w.total+1,x=w.soma+p):x=w.soma-Number(g)+Number(p);const S=b>0?x/b:0,j={...y,[h]:{total:b,soma:x,media:Number(S.toFixed(1))}};try{localStorage.setItem("avaliacoesGuias",JSON.stringify(j))}catch(N){console.warn("[useAvaliacoes] failed to save avaliacoes to localStorage",N)}return j});const v={...i,[h]:p};o(v);try{localStorage.setItem(c,JSON.stringify(v))}catch(y){console.warn("[useAvaliacoes] failed to save votos to localStorage",y)}(async()=>{try{console.debug("[useAvaliacoes] POST vote",{guiaId:h,estrelas:p,previous:g});const y=typeof window<"u"&&window.__API_BASE?window.__API_BASE:"",w=`${y}/api/guias/${encodeURIComponent(h)}/ratings`;let b=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:r||null,rating:p})});const x=b.headers.get("content-type")||"";if(b.status===404||/text\/.+html/i.test(x)){console.debug("[useAvaliacoes] path-based POST failed or returned HTML, trying body-based fallback");const S=`${y}/api/guias/ratings`;b=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guiaId:h,userEmail:r||null,rating:p})})}if(!b.ok){const S=await b.text().catch(()=>"<no body>");console.warn("[useAvaliacoes] backend rating failed",b.status,S)}}catch(y){console.warn("[useAvaliacoes] failed to POST rating to backend, keeping local fallback:",y)}})()}}},sg="user_custom_guias",ig=7,PC=3;class RC{constructor(){this.guias=[]}async loadGuias(){try{const e=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:""),t=`${e}/api/guias`;console.debug("[guiasService] loadGuias: baseUrl=",e),console.debug("[guiasService] loadGuias: attempting fetch",t);const i=await fetch(t);if(console.debug("[guiasService] loadGuias: response status",i.status),i.ok){const o=await i.json(),c=new Set(o.map(h=>h.id)),u=(this.guias||[]).filter(h=>!c.has(h.id));return this.guias=[...u,...o],console.debug("[guiasService] loadGuias: received",this.guias&&this.guias.length,"items",this.guias.map(h=>h.id).slice(0,10)),this.saveGuias(),this.guias}else{let o="";try{o=await i.text()}catch{o="<failed to read response text>"}console.warn("[guiasService] loadGuias: non-ok response",i.status,i.statusText,o)}}catch(e){console.warn("API loadGuias failed, falling back to localStorage:",e)}try{const e=localStorage.getItem(sg);if(e)return this.guias=JSON.parse(e),this.guias}catch(e){console.error("Erro ao ler localStorage de guias:",e)}if(this.guias&&this.guias.length)return this.guias;try{const t=await fetch("/data/guias.json");if(t.ok)return this.guias=await t.json(),this.guias}catch(e){console.warn("JSON fallback for guias not available:",e)}return this.guias=this.guias||[],this.guias}saveGuias(){try{localStorage.setItem(sg,JSON.stringify(this.guias))}catch(e){console.error("Erro ao salvar guias:",e)}}async createGuia(e,t){const i={id:`guia_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,autorEmail:t,titulo:e.titulo,descricao:e.descricao,categoria:e.categoria,conteudo:e.conteudo,imagem:e.imagem||null,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),ratings:[],status:"ativo",views:0};this.guias=this.guias||[],this.guias.unshift(i),this.saveGuias();try{const c=`${typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"")}/api/guias`;console.debug("[guiasService] createGuia: POST",c,i);const u=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(console.debug("[guiasService] createGuia: response status",u.status),u.ok){const h=await u.json();return console.debug("[guiasService] createGuia: created remote",h),await this.loadGuias(),h.guia||i}else console.warn("[guiasService] createGuia: non-ok response",u.status,u.statusText)}catch(o){console.warn("API createGuia failed (optimistic local saved):",o)}return i}async updateGuia(e,t,i){const o=this.guias.findIndex(h=>h.id===e);if(o===-1)throw new Error("Guia não encontrado");const c=this.guias[o];if(c.autorEmail!==i)throw new Error("Apenas o autor pode editar este guia");const u={...c,titulo:t.titulo||c.titulo,descricao:t.descricao||c.descricao,categoria:t.categoria||c.categoria,conteudo:t.conteudo||c.conteudo,imagem:t.imagem!==void 0?t.imagem:c.imagem,atualizadoEm:new Date().toISOString(),status:"ativo"};try{const h=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"");if((await fetch(`${h}/api/guias/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)return await this.loadGuias(),u}catch(h){console.warn("API updateGuia failed, falling back to localStorage:",h)}return this.guias[o]=u,this.saveGuias(),this.guias[o]}async deleteGuia(e,t){const i=this.guias.find(o=>o.id===e);if(!i)throw new Error("Guia não encontrado");if(i.autorEmail!==t)throw new Error("Apenas o autor pode deletar este guia");try{const o=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"");if((await fetch(`${o}/api/guias/${e}`,{method:"DELETE"})).ok)return await this.loadGuias(),!0}catch(o){console.warn("API deleteGuia failed, falling back to localStorage:",o)}return this.guias=this.guias.filter(o=>o.id!==e),this.saveGuias(),!0}async addRating(e,t,i){const o=typeof window<"u"&&window.__API_BASE||(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`${window.location.protocol}//${window.location.hostname}:3001`:"");try{if(o){const h=await fetch(`${o}/api/guias/${encodeURIComponent(e)}/ratings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:t,rating:i})});if(h.ok){const p=await h.json(),g=this.guias.findIndex(y=>y.id===e);if(g!==-1)return p&&p.ratings&&(this.guias[g]._ratingAggregate={total:Number(p.ratings.total||0),average:Number(p.ratings.average||0)}),this.saveGuias(),this.guias[g];await this.loadGuias();const v=this.guias.find(y=>y.id===e);return v||{id:e,_ratingAggregate:p&&p.ratings?{total:Number(p.ratings.total||0),average:Number(p.ratings.average||0)}:null}}}}catch(h){console.warn("API addRating failed, falling back to local:",h)}const c=this.guias.findIndex(h=>h.id===e);if(c===-1)throw new Error("Guia não encontrado");const u=this.guias[c];return u.ratings=(u.ratings||[]).filter(h=>h.userEmail!==t),u.ratings.push({userEmail:t,rating:i,timestamp:new Date().toISOString()}),this.checkAndUpdateStatus(c),this.saveGuias(),this.guias[c]}calculateAverageRating(e){return e&&e._ratingAggregate&&typeof e._ratingAggregate.average=="number"?e._ratingAggregate.average:!e.ratings||e.ratings.length===0?0:e.ratings.reduce((i,o)=>i+o.rating,0)/e.ratings.length}isWithinEvaluationPeriod(e){const t=new Date(e.criadoEm);return(new Date-t)/(1e3*60*60*24)<=ig}checkAndUpdateStatus(e){const t=this.guias[e];if(this.isWithinEvaluationPeriod(t)){const i=this.calculateAverageRating(t);i!==null&&i<PC&&(this.guias[e].status="oculto")}}async getVisibleGuias(e=null){return await this.loadGuias(),this.guias.filter(t=>e&&t.autorEmail===e?!0:t.status==="ativo")}async getGuiaById(e){return await this.loadGuias(),this.guias.find(t=>t.id===e)}getGuiasByAutor(e){return this.guias.filter(t=>t.autorEmail===e)}incrementViews(e){const t=this.guias.findIndex(i=>i.id===e);t!==-1&&(this.guias[t].views=(this.guias[t].views||0)+1,this.saveGuias())}getGuiaStats(e){const t=this.calculateAverageRating(e),i=this.isWithinEvaluationPeriod(e),o=i?Math.ceil(ig-(new Date-new Date(e.criadoEm))/(1e3*60*60*24)):0,c=e&&e._ratingAggregate&&typeof e._ratingAggregate.total=="number"?e._ratingAggregate.total:e.ratings?e.ratings.length:0;return{averageRating:t,totalRatings:c,views:e.views||0,isInEvaluationPeriod:i,evaluationDaysRemaining:o,status:e.status}}}const rn=new RC;function OC(){const r=it(),{usuarioLogado:e}=E.useContext(Ke)||{},{avaliacoes:t,votosUsuario:i,avaliarGuia:o}=xy(e?.email),[c,u]=E.useState([]),h=!!(e&&e.isPro||localStorage.getItem("versaoProAtiva")==="true");E.useEffect(()=>{let w=!0;return(async()=>{try{const b=await rn.getVisibleGuias(e?.email);w&&u(b||[])}catch(b){console.error("Erro ao carregar guias visíveis:",b),w&&u([])}})(),()=>{w=!1}},[e]);const g=[{id:"glossario-automotivo",titulo:"Luzes do Painel",subtitulo:"Entenda os avisos do seu veículo",descricao:"Aprenda sobre as luzes de aviso do painel e o que fazer quando elas acendem.",icone:"⚠️",categoria:"Diagnóstico",rota:"/luzes-do-painel"},...dE],v=(w,b)=>{if(!e?.email){alert("Faça login para avaliar guias");return}try{o(w,b)}catch(x){console.warn("avaliarGuia hook failed:",x)}(async()=>{try{const x=await rn.addRating(w,e.email,b);u(S=>S.map(j=>j.id===w?{...j,...x||{}}:j))}catch(x){console.warn("guiaService.addRating failed:",x)}})(),(async()=>{try{const x=await rn.getVisibleGuias(e?.email);u(x||[])}catch(x){console.error("Erro ao recarregar guias após avaliação:",x)}})(),u(x=>x.map(S=>{if(S.id!==w||(S.ratings||[]).some(I=>I.userEmail===e.email))return S;const N={userEmail:e.email,rating:b,timestamp:new Date().toISOString()};return{...S,ratings:[...S.ratings||[],N]}}))},y=w=>{rn.incrementViews(w),r(`/guia/${w}`)};return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",children:[a.jsx("h2",{className:"page-title",children:"Guias"}),a.jsx("div",{className:"guias-intro-wrapper",children:a.jsx("div",{className:"guias-intro",children:a.jsx("p",{children:"Encontre guias completos sobre manutenção, diagnóstico, peças e tudo relacionado ao seu veículo."})})}),!h&&a.jsxs("div",{className:"guias-pro-notice",children:[a.jsx("div",{className:"pro-notice-icon",children:"⭐"}),a.jsxs("div",{className:"pro-notice-content",children:[a.jsx("h3",{children:"Crie seus próprios guias!"}),a.jsxs("p",{children:["Assinantes ",a.jsx("strong",{children:"Pro"})," podem ",a.jsx("span",{className:"highlight-orange",children:"criar"})," e ",a.jsx("span",{className:"highlight-orange",children:"compartilhar"})," guias customizados com a comunidade.",a.jsx("a",{className:"btn-seja-pro-inline",href:"#/versao-pro",children:"Versão Pro →"})]})]})]}),h&&a.jsx("div",{className:"criar-guia-section",children:a.jsx("button",{className:"btn-criar-guia",onClick:()=>r("/criar-guia"),children:"✏️ Criar Novo Guia"})}),a.jsx("h3",{className:"section-title",children:"📖 Guias Oficiais"}),a.jsx("div",{className:"guias-grid",children:g.map(w=>a.jsxs("div",{className:"guia-card",children:[a.jsxs("div",{className:"guia-header",children:[a.jsx("div",{className:"guia-icone",children:w.icone}),a.jsx("div",{className:"guia-categoria",children:w.categoria})]}),a.jsxs("div",{className:"guia-content",children:[a.jsx("h3",{className:"guia-titulo",children:w.titulo}),a.jsx("p",{className:"guia-subtitulo",children:w.subtitulo}),a.jsx("div",{className:"guia-avaliacao",children:a.jsx(Kp,{guiaId:w.id,mediaAtual:t[w.id]?.media||0,totalVotos:t[w.id]?.total||0,votosUsuario:i,onAvaliar:o})})]}),a.jsx("div",{className:"guia-footer",children:a.jsx("span",{className:"guia-cta",onClick:()=>r(w.rota),children:"Ver guia completo →"})})]},w.id))}),a.jsx("h3",{className:"section-title",children:"� Guias da Comunidade"}),c.length>0?a.jsx("div",{className:"guias-grid",children:c.map(w=>{const b=e?.email===w.autorEmail;rn.calculateAverageRating(w);const x=w.status==="oculto";return a.jsxs("div",{className:`guia-card ${x?"guia-oculto":""} ${!h&&!b?"locked":""}`,children:[a.jsxs("div",{className:"guia-header",children:[a.jsx("div",{className:"guia-icone",children:"📄"}),a.jsx("div",{className:"guia-categoria",children:w.categoria}),b&&a.jsx("div",{className:"guia-author-badge",title:"Você é o autor deste guia",children:"👤 Seu Guia"})]}),w.imagem&&a.jsx("div",{className:"guia-imagem",children:a.jsx("img",{src:w.imagem,alt:w.titulo})}),a.jsxs("div",{className:"guia-content",children:[a.jsx("h3",{className:"guia-titulo",children:w.titulo}),x&&b&&a.jsx("div",{className:"guia-status-warning",children:"⚠️ Este guia está oculto devido a avaliações baixas. Edite-o para melhorar!"}),a.jsxs("div",{className:"guia-avaliacao",children:[(()=>{const S=rn.getGuiaStats(w);return a.jsx(Kp,{guiaId:w.id,mediaAtual:Number((S.averageRating||0).toFixed(1)),totalVotos:S.totalRatings,votosUsuario:i,onAvaliar:(j,N)=>v(j,N),somenteLeitura:b||!e})})(),w.views>0&&a.jsxs("span",{className:"guia-views",children:["👁️ ",w.views," visualizações"]})]})]}),a.jsxs("div",{className:"guia-footer",children:[b&&a.jsx("button",{className:"btn-editar-guia",onClick:()=>r(`/criar-guia/${w.id}`),children:"✏️ Editar"}),!h&&!b?a.jsx("div",{className:"guia-locked-wrapper",children:a.jsx("button",{className:"btn-locked",onClick:()=>r("/versao-pro"),children:"🔒 Somente Pro — Assine para abrir"})}):a.jsx("span",{className:"guia-cta",onClick:()=>y(w.id),children:"Ver guia completo →"})]})]},w.id)})}):a.jsxs("p",{className:"guias-empty-message",children:["Nenhum guia da comunidade criado ainda. ",h?"Seja o primeiro!":"Seja Pro para criar o primeiro guia!"]}),a.jsx("div",{className:"guias-footer",children:a.jsxs("div",{className:"info-section",children:[a.jsx("h3",{children:"💡 Dica"}),a.jsx("p",{children:"Nossos guias são atualizados regularmente com as melhores práticas e informações mais recentes do setor automotivo. Marque esta página nos favoritos para consultar sempre que precisar!"})]})})]})})]})}function ag(){const{usuarioLogado:r}=E.useContext(Ke)||{},e=it(),{guiaId:t}=gg(),i=!!t,[o,c]=E.useState({titulo:"",descricao:"",categoria:"",conteudo:"",imagem:""}),[u,h]=E.useState({}),[p,g]=E.useState(!1),[v,y]=E.useState(""),w=!!(r&&r.isPro||localStorage.getItem("versaoProAtiva")==="true");E.useEffect(()=>{if(!w){e("/seja-pro");return}if(i&&t){const N=rn.getGuiaById(t);if(!N){alert("Guia não encontrado"),e("/guias");return}if(N.autorEmail!==r?.email){alert("Você não tem permissão para editar este guia"),e("/guias");return}c({titulo:N.titulo,descricao:N.descricao,categoria:N.categoria,conteudo:N.conteudo,imagem:N.imagem||""})}},[w,i,t,r,e]);const b=N=>{const{name:I,value:T}=N.target;c($=>({...$,[I]:T})),u[I]&&h($=>({...$,[I]:""}))},x=()=>{const N={};return o.titulo.trim()?o.titulo.length<10&&(N.titulo="Título deve ter pelo menos 10 caracteres"):N.titulo="Título é obrigatório",o.descricao.trim()?o.descricao.length<20&&(N.descricao="Descrição deve ter pelo menos 20 caracteres"):N.descricao="Descrição é obrigatória",o.categoria||(N.categoria="Selecione uma categoria"),o.conteudo.trim()?o.conteudo.length<100&&(N.conteudo="Conteúdo deve ter pelo menos 100 caracteres"):N.conteudo="Conteúdo é obrigatório",h(N),Object.keys(N).length===0},S=async N=>{if(N.preventDefault(),!!x()){g(!0),y("");try{if(i)await rn.updateGuia(t,o,r.email),y("Guia atualizado com sucesso!");else{const I=await rn.createGuia(o,r.email);y("Guia criado com sucesso!"),console.debug("createGuia returned",I&&I.id?I.id:"(no-id)")}setTimeout(()=>{e("/guias")},1e3)}catch(I){alert("Erro ao salvar guia: "+I.message)}finally{g(!1)}}},j=["Manutenção Preventiva","Instalação de Peças","Diagnóstico de Problemas","Elétrica Automotiva","Mecânica Geral","Suspensão e Freios","Motor e Transmissão","Ar Condicionado","Estética Automotiva","Outros"];return w?a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"criar-guia",children:[a.jsx("h2",{className:"page-title",children:i?"✏️ Editar Guia":"📝 Criar Novo Guia"}),a.jsxs("div",{className:"criar-guia-intro",children:[a.jsx("p",{children:i?"Edite seu guia e compartilhe seu conhecimento atualizado com a comunidade.":"Compartilhe seu conhecimento criando um guia personalizado para a comunidade."}),a.jsx("p",{className:"pro-badge",children:"⭐ Recurso exclusivo para assinantes Pro"})]}),v&&a.jsxs("div",{className:"success-message",children:["✅ ",v]}),a.jsxs("form",{className:"guia-form",onSubmit:S,children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"titulo",className:"form-label",children:["Título do Guia ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",id:"titulo",name:"titulo",className:`form-input ${u.titulo?"error":""}`,value:o.titulo,onChange:b,placeholder:"Ex: Como trocar o óleo do motor passo a passo",maxLength:100}),u.titulo&&a.jsx("span",{className:"error-message",children:u.titulo}),a.jsxs("span",{className:"char-count",children:[o.titulo.length,"/100"]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"descricao",className:"form-label",children:["Descrição Breve ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("textarea",{id:"descricao",name:"descricao",className:`form-textarea ${u.descricao?"error":""}`,value:o.descricao,onChange:b,placeholder:"Breve resumo do que o guia aborda (20-200 caracteres)",rows:3,maxLength:200}),u.descricao&&a.jsx("span",{className:"error-message",children:u.descricao}),a.jsxs("span",{className:"char-count",children:[o.descricao.length,"/200"]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"categoria",className:"form-label",children:["Categoria ",a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("select",{id:"categoria",name:"categoria",className:`form-select ${u.categoria?"error":""}`,value:o.categoria,onChange:b,children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),j.map(N=>a.jsx("option",{value:N,children:N},N))]}),u.categoria&&a.jsx("span",{className:"error-message",children:u.categoria})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"imagem",className:"form-label",children:"URL da Imagem (opcional)"}),a.jsx("input",{type:"url",id:"imagem",name:"imagem",className:"form-input",value:o.imagem,onChange:b,placeholder:"https://exemplo.com/imagem.jpg"}),a.jsx("span",{className:"help-text",children:"Cole o link de uma imagem ilustrativa para seu guia"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"conteudo",className:"form-label",children:["Conteúdo do Guia ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("textarea",{id:"conteudo",name:"conteudo",className:`form-textarea large ${u.conteudo?"error":""}`,value:o.conteudo,onChange:b,placeholder:"Escreva aqui o conteúdo detalhado do seu guia. Seja claro e objetivo. Você pode usar quebras de linha para organizar melhor o conteúdo.",rows:15,maxLength:5e3}),u.conteudo&&a.jsx("span",{className:"error-message",children:u.conteudo}),a.jsxs("span",{className:"char-count",children:[o.conteudo.length,"/5000"]})]}),a.jsxs("div",{className:"form-tips",children:[a.jsx("h3",{children:"💡 Dicas para um bom guia:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Use uma linguagem clara e objetiva"}),a.jsx("li",{children:"Organize o conteúdo em passos numerados quando apropriado"}),a.jsx("li",{children:"Inclua avisos de segurança quando necessário"}),a.jsx("li",{children:"Mencione ferramentas e materiais necessários"}),a.jsx("li",{children:"Seja específico sobre modelos e anos de veículos quando relevante"})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>e("/guias"),disabled:p,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn-submit",disabled:p,children:p?i?"Salvando...":"Criando...":i?"Salvar Alterações":"Criar Guia"})]})]}),!i&&a.jsxs("div",{className:"evaluation-notice",children:[a.jsx("h3",{children:"📊 Sobre o sistema de avaliação"}),a.jsxs("p",{children:["Seu guia ficará disponível para avaliação da comunidade por ",a.jsx("strong",{children:"7 dias"}),". Se a média de avaliações for inferior a ",a.jsx("strong",{children:"3 estrelas"}),", o guia ficará oculto para outros usuários, permitindo que você o edite e melhore antes de republicá-lo."]})]})]})})]}):null}function LC(){const{guiaId:r}=gg(),e=it(),{usuarioLogado:t}=E.useContext(Ke)||{},[i,o]=E.useState(null),[c,u]=E.useState(!0),[h,p]=E.useState(!1),[g,v]=E.useState(null);E.useEffect(()=>{let j=!0,N=null;return(async()=>{try{v(null),u(!0),N=setTimeout(()=>{j&&(v("Tempo de carregamento excedido. Verifique sua conexão e tente novamente."),u(!1))},8e3);const T=await rn.getGuiaById(r);if(!j)return;if(clearTimeout(N),!T){p(!0),u(!1);return}if(T.status==="oculto"&&t?.email!==T.autorEmail){p(!0),u(!1);return}T.descricao=T.descricao||"",T.conteudo=T.conteudo||"",T.ratings=T.ratings||[],T.views=T.views||0,o(T),u(!1)}catch(T){console.error("Erro ao carregar guia:",T),j&&(v("Erro ao carregar o guia. Veja o console para detalhes."),u(!1))}})(),()=>{j=!1,N&&clearTimeout(N)}},[r,t]);const y=()=>{p(!1),v(null),u(!0),window.location.reload()},w=j=>{if(!t?.email){alert("Faça login para avaliar este guia"),e("/login");return}if(t.email===i.autorEmail){alert("Você não pode avaliar seu próprio guia");return}(async()=>{try{const N=await rn.addRating(r,t.email,j);o(I=>({...I||{},...N||{}}))}catch(N){console.error("Erro ao avaliar guia:",N)}})()};if(c)return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsx("div",{className:"page-content",children:a.jsx("div",{className:"loading-message",children:"Carregando guia..."})})})]});if(g)return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsx("div",{className:"page-content",children:a.jsxs("div",{className:"not-found-message",children:[a.jsx("h2",{children:"⚠️ Problema ao carregar"}),a.jsx("p",{children:g}),a.jsx("div",{style:{marginTop:"1rem"},children:a.jsx("button",{className:"btn-voltar",onClick:y,children:"Tentar novamente"})})]})})})]});if(h)return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsx("div",{className:"page-content",children:a.jsxs("div",{className:"not-found-message",children:[a.jsx("h2",{children:"❌ Guia não encontrado"}),a.jsx("p",{children:"O guia que você está procurando não existe ou não está mais disponível."}),a.jsx("button",{className:"btn-voltar",onClick:()=>e("/guias"),children:"← Voltar para Guias"})]})})})]});const b=t?.email===i.autorEmail,x=!!(t&&t.isPro||localStorage.getItem("versaoProAtiva")==="true"),S=rn.calculateAverageRating(i);return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content visualizar-guia",children:[a.jsx(bl,{to:"/guias",className:"voltar-link",children:"← Voltar para Guias"}),a.jsxs("div",{className:"guia-header-full",children:[a.jsxs("div",{className:"guia-meta",children:[a.jsx("span",{className:"guia-categoria-badge",children:i.categoria}),b&&a.jsx("span",{className:"guia-author-badge",children:"👤 Seu Guia"})]}),a.jsx("h1",{className:"guia-titulo-full",children:i.titulo}),a.jsxs("div",{className:"guia-info",children:[a.jsxs("span",{className:"guia-autor",children:["Por: ",i.autorNome||"Anônimo"]}),a.jsxs("span",{className:"guia-data",children:["Criado em: ",new Date(i.criadoEm).toLocaleDateString("pt-BR")]}),i.views>0&&a.jsxs("span",{className:"guia-views",children:["👁️ ",i.views," visualizações"]})]}),a.jsx("div",{className:"guia-rating-section",children:a.jsx(mE,{rating:S,totalRatings:i.ratings&&i.ratings.length||0,onRate:w,readOnly:b||!t,size:"large"})})]}),i.imagem&&a.jsx("div",{className:"guia-imagem-full",children:a.jsx("img",{src:i.imagem,alt:i.titulo})}),a.jsxs("div",{className:"guia-descricao-section",children:[a.jsx("h3",{children:"📝 Descrição"}),a.jsx("p",{className:"guia-descricao-texto",children:!x&&!b?i.descricao?i.descricao.split(`
`).slice(0,2).join(`
`)+"...":"":i.descricao})]}),a.jsxs("div",{className:"guia-conteudo-section",children:[a.jsx("h3",{children:"📖 Conteúdo"}),a.jsx("div",{className:"guia-conteudo-texto",children:(()=>{const j=i.conteudo.split(`
`).filter(Boolean);return!x&&!b?j.slice(0,3).map((N,I)=>a.jsx("p",{children:N},I)).concat(a.jsx("div",{className:"visual-lock-cta",children:a.jsx("button",{className:"btn-locked",onClick:()=>e("/versao-pro"),children:"🔒 Somente Pro — Assine para ler o conteúdo completo"})},"locked-cta")):j.map((N,I)=>N.trim()&&a.jsx("p",{children:N},I))})()})]}),b&&a.jsx("div",{className:"guia-actions",children:a.jsx("button",{className:"btn-editar-guia-full",onClick:()=>e(`/criar-guia/${r}`),children:"✏️ Editar este guia"})}),i.status==="oculto"&&b&&a.jsxs("div",{className:"guia-warning-oculto",children:[a.jsx("h3",{children:"⚠️ Guia Oculto"}),a.jsx("p",{children:"Este guia está oculto devido a avaliações baixas (média abaixo de 2.5 estrelas). Edite o conteúdo para melhorar e aumentar a nota!"})]}),a.jsx("div",{className:"guia-footer-info",children:a.jsxs("p",{children:["💡 ",a.jsx("strong",{children:"Dica:"})," Se este guia foi útil para você, não esqueça de avaliá-lo!"]})})]})})]})}function DC(){const r=it(),{theme:e,toggleTheme:t,isDark:i}=Q0();return a.jsxs(a.Fragment,{children:[a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper",children:a.jsx("div",{className:"page-content",children:a.jsxs("div",{className:"config-container",children:[a.jsxs("div",{className:"config-header",children:[a.jsxs("button",{className:"config-back-btn",onClick:()=>r(-1),"aria-label":"Voltar",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"})}),"Voltar"]}),a.jsx("h1",{className:"config-title",children:"Configurações"}),a.jsx("p",{className:"config-subtitle",children:"Personalize sua experiência no Peça Fácil"})]}),a.jsxs("div",{className:"config-sections",children:[a.jsxs("section",{className:"config-section",children:[a.jsxs("div",{className:"config-section-header",children:[a.jsx("div",{className:"config-section-icon",children:a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("circle",{cx:"12",cy:"12",r:"5"}),a.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),a.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),a.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),a.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),a.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),a.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),a.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),a.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),a.jsxs("div",{className:"config-section-info",children:[a.jsx("h2",{className:"config-section-title",children:"Aparência"}),a.jsx("p",{className:"config-section-description",children:"Escolha o tema que melhor se adapta ao seu estilo"})]})]}),a.jsxs("div",{className:"config-option",children:[a.jsx("div",{className:"config-option-content",children:a.jsxs("label",{htmlFor:"theme-toggle",className:"config-option-label",children:[a.jsx("span",{className:"config-option-title",children:"Modo Escuro"}),a.jsx("span",{className:"config-option-description",children:i?"Ativado - Interface com cores escuras":"Desativado - Interface com cores claras"})]})}),a.jsxs("div",{className:"theme-toggle-wrapper",children:[a.jsx("input",{type:"checkbox",id:"theme-toggle",className:"theme-toggle-input",checked:i,onChange:t,"aria-label":"Alternar modo escuro"}),a.jsx("label",{htmlFor:"theme-toggle",className:"theme-toggle-label",children:a.jsx("span",{className:"theme-toggle-button",children:a.jsx("span",{className:"theme-toggle-icon",children:i?a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:a.jsx("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"})}):a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:a.jsx("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"})})})})})]})]}),a.jsxs("div",{className:"theme-preview",children:[a.jsxs("div",{className:`theme-preview-card ${i?"":"active"}`,children:[a.jsxs("div",{className:"theme-preview-header light",children:[a.jsx("div",{className:"theme-preview-dot"}),a.jsx("div",{className:"theme-preview-dot"}),a.jsx("div",{className:"theme-preview-dot"})]}),a.jsxs("div",{className:"theme-preview-body light",children:[a.jsx("div",{className:"theme-preview-line light"}),a.jsx("div",{className:"theme-preview-line light short"})]}),a.jsx("span",{className:"theme-preview-label",children:"Claro"})]}),a.jsxs("div",{className:`theme-preview-card ${i?"active":""}`,children:[a.jsxs("div",{className:"theme-preview-header dark",children:[a.jsx("div",{className:"theme-preview-dot"}),a.jsx("div",{className:"theme-preview-dot"}),a.jsx("div",{className:"theme-preview-dot"})]}),a.jsxs("div",{className:"theme-preview-body dark",children:[a.jsx("div",{className:"theme-preview-line dark"}),a.jsx("div",{className:"theme-preview-line dark short"})]}),a.jsx("span",{className:"theme-preview-label",children:"Escuro"})]})]})]}),a.jsx("section",{className:"config-section config-section-disabled",children:a.jsxs("div",{className:"config-section-header",children:[a.jsx("div",{className:"config-section-icon",children:a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),a.jsx("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})]})}),a.jsxs("div",{className:"config-section-info",children:[a.jsx("h2",{className:"config-section-title",children:"Mais Configurações"}),a.jsx("p",{className:"config-section-description",children:"Em breve mais opções de personalização"})]})]})})]})]})})})]})}function MC(){const{usuarioLogado:r}=E.useContext(Ke)||{},e=it(),[t,i]=E.useState(""),[o,c]=E.useState(""),[u,h]=E.useState(""),p=!!(r&&r.isPro||localStorage.getItem("versaoProAtiva")==="true"),g=[{id:1,marca:"Chevrolet",modelo:"Onix 1.0 Turbo",ano:2024,preco:"R$ 89.500",codigo:"001234-1"},{id:2,marca:"Volkswagen",modelo:"Gol 1.0",ano:2024,preco:"R$ 68.900",codigo:"002345-2"},{id:3,marca:"Fiat",modelo:"Argo 1.3",ano:2024,preco:"R$ 75.800",codigo:"003456-3"},{id:4,marca:"Toyota",modelo:"Corolla 2.0 XEi",ano:2024,preco:"R$ 145.900",codigo:"004567-4"},{id:5,marca:"Honda",modelo:"Civic 2.0 EXL",ano:2024,preco:"R$ 168.900",codigo:"005678-5"},{id:6,marca:"Hyundai",modelo:"HB20 1.0",ano:2024,preco:"R$ 72.900",codigo:"006789-6"},{id:7,marca:"Jeep",modelo:"Compass 1.3 Turbo",ano:2024,preco:"R$ 189.900",codigo:"007890-7"},{id:8,marca:"Chevrolet",modelo:"Tracker 1.0 Turbo",ano:2023,preco:"R$ 125.900",codigo:"008901-8"},{id:9,marca:"Volkswagen",modelo:"T-Cross 1.0 TSI",ano:2023,preco:"R$ 119.900",codigo:"009012-9"},{id:10,marca:"Fiat",modelo:"Toro 1.8 Freedom",ano:2023,preco:"R$ 139.900",codigo:"010123-0"},{id:11,marca:"Toyota",modelo:"Hilux 2.8 SRX",ano:2024,preco:"R$ 285.900",codigo:"011234-1"},{id:12,marca:"Honda",modelo:"HR-V 1.5 Turbo",ano:2023,preco:"R$ 149.900",codigo:"012345-2"},{id:13,marca:"Hyundai",modelo:"Creta 1.0 Turbo",ano:2024,preco:"R$ 129.900",codigo:"013456-3"},{id:14,marca:"Nissan",modelo:"Kicks 1.6",ano:2023,preco:"R$ 109.900",codigo:"014567-4"},{id:15,marca:"Renault",modelo:"Kwid 1.0",ano:2024,preco:"R$ 64.900",codigo:"015678-5"},{id:16,marca:"Ford",modelo:"Ranger 3.2 XLT",ano:2023,preco:"R$ 259.900",codigo:"016789-6"},{id:17,marca:"Chevrolet",modelo:"S10 2.8 LTZ",ano:2023,preco:"R$ 245.900",codigo:"017890-7"},{id:18,marca:"Volkswagen",modelo:"Amarok 2.0 Highline",ano:2024,preco:"R$ 279.900",codigo:"018901-8"},{id:19,marca:"Fiat",modelo:"Pulse 1.3 Turbo",ano:2024,preco:"R$ 99.900",codigo:"019012-9"},{id:20,marca:"Jeep",modelo:"Renegade 1.8",ano:2023,preco:"R$ 129.900",codigo:"020123-0"}],v=E.useMemo(()=>[...new Set(g.map(S=>S.marca))].sort(),[]),y=E.useMemo(()=>[...new Set(g.map(S=>S.ano))].sort((S,j)=>j-S),[]),w=E.useMemo(()=>g.filter(x=>{const S=t===""||x.modelo.toLowerCase().includes(t.toLowerCase())||x.marca.toLowerCase().includes(t.toLowerCase())||x.codigo.includes(t),j=o===""||x.marca===o,N=u===""||x.ano.toString()===u;return S&&j&&N}),[t,o,u]),b=()=>{i(""),c(""),h("")};return a.jsxs(a.Fragment,{children:[a.jsx(st,{}),a.jsx("div",{className:"page-wrapper",children:a.jsxs("div",{className:"page-content",id:"tabela-fipe",children:[a.jsx("h2",{className:"page-title",children:"Tabela FIPE"}),a.jsx("div",{className:"fipe-intro",children:a.jsx("p",{children:"Consulte os preços de referência de veículos atualizados pela Tabela FIPE."})}),a.jsxs("div",{className:"fipe-filtros",children:[a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{htmlFor:"search",className:"filtro-label",children:"Buscar por modelo ou código:"}),a.jsx("input",{type:"text",id:"search",className:"filtro-input",placeholder:"Digite o modelo ou código FIPE...",value:t,onChange:x=>i(x.target.value)})]}),a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{htmlFor:"marca",className:"filtro-label",children:"Marca:"}),a.jsxs("select",{id:"marca",className:"filtro-select",value:o,onChange:x=>c(x.target.value),children:[a.jsx("option",{value:"",children:"Todas as marcas"}),v.map(x=>a.jsx("option",{value:x,children:x},x))]})]}),a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{htmlFor:"ano",className:"filtro-label",children:"Ano:"}),a.jsxs("select",{id:"ano",className:"filtro-select",value:u,onChange:x=>h(x.target.value),children:[a.jsx("option",{value:"",children:"Todos os anos"}),y.map(x=>a.jsx("option",{value:x,children:x},x))]})]}),a.jsx("button",{className:"filtro-btn-limpar",onClick:b,children:"Limpar Filtros"})]}),a.jsx("div",{className:"fipe-resultados-info",children:a.jsxs("p",{children:["Exibindo ",a.jsx("strong",{children:w.length})," de ",a.jsx("strong",{children:g.length})," veículos"]})}),a.jsx("div",{className:"fipe-tabela-container",children:w.length>0?a.jsxs("table",{className:"fipe-tabela",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Código FIPE"}),a.jsx("th",{children:"Marca"}),a.jsx("th",{children:"Modelo"}),a.jsx("th",{children:"Ano"}),a.jsx("th",{children:"Preço Médio"})]})}),a.jsx("tbody",{children:w.map(x=>a.jsxs("tr",{children:[a.jsx("td",{"data-label":"Código FIPE",children:x.codigo}),a.jsx("td",{"data-label":"Marca",children:x.marca}),a.jsx("td",{"data-label":"Modelo",children:x.modelo}),a.jsx("td",{"data-label":"Ano",children:x.ano}),a.jsx("td",{"data-label":"Preço Médio",className:"fipe-preco",children:a.jsxs("div",{className:"fipe-preco-wrapper",children:[a.jsx("span",{className:p?"":"fipe-preco-blur",children:x.preco}),!p&&a.jsxs("div",{className:"fipe-preco-lock",children:[a.jsx("img",{src:"/images/padlock.png",alt:"Cadeado",className:"fipe-padlock-icon"}),a.jsx("div",{className:"fipe-preco-tooltip",children:"Seja Pro para visualizar os preços da Tabela FIPE"})]})]})})]},x.id))})]}):a.jsxs("div",{className:"fipe-sem-resultados",children:[a.jsx("p",{children:"Nenhum veículo encontrado com os filtros aplicados."}),a.jsx("button",{className:"filtro-btn-limpar",onClick:b,children:"Limpar Filtros"})]})}),!p&&w.length>0&&a.jsx("div",{className:"fipe-cta-pro",children:a.jsxs("div",{className:"fipe-cta-content",children:[a.jsx("h3",{children:"🔓 Desbloqueie os Preços da Tabela FIPE"}),a.jsx("p",{children:"Assine a Versão Pro e tenha acesso completo aos preços atualizados de todos os veículos da Tabela FIPE, além de outros benefícios exclusivos!"}),a.jsx("button",{className:"fipe-cta-button",onClick:()=>e("/seja-pro"),children:"Assinar Versão Pro"})]})}),a.jsxs("div",{className:"fipe-aviso",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Atenção:"})," Os valores apresentados são preços médios de mercado coletados pela Tabela FIPE e servem apenas como referência. Os preços reais podem variar conforme o estado de conservação, quilometragem, opcionais e região."]}),a.jsx("p",{className:"fipe-atualizacao",children:"Última atualização: Janeiro/2025"})]})]})})]})}const UC=()=>{const{usuarioLogado:r}=E.useContext(Ke)||{},e=it(),[t,i]=E.useState(null),o={quilometragens:[{km:"5.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Verificação de níveis (freio, arrefecimento, direção)",prioridade:"alta"},{item:"Calibragem dos pneus",prioridade:"média"},{item:"Inspeção visual de vazamentos",prioridade:"média"}]},{km:"10.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de ar condicionado",prioridade:"média"},{item:"Rodízio de pneus",prioridade:"média"},{item:"Verificação do sistema de freios",prioridade:"alta"},{item:"Limpeza dos bicos injetores",prioridade:"média"}]},{km:"20.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de combustível",prioridade:"alta"},{item:"Verificação das pastilhas de freio",prioridade:"alta"},{item:"Verificação da bateria",prioridade:"média"},{item:"Alinhamento e balanceamento",prioridade:"média"}]},{km:"30.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca das velas de ignição",prioridade:"alta"},{item:"Limpeza do corpo de borboleta",prioridade:"média"},{item:"Verificação da correia dentada",prioridade:"alta"},{item:"Troca do fluido de freio",prioridade:"alta"}]},{km:"40.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Verificação das velas de ignição",prioridade:"média"},{item:"Troca do fluido de arrefecimento",prioridade:"alta"},{item:"Verificação da suspensão",prioridade:"média"},{item:"Limpeza dos bicos injetores",prioridade:"média"}]},{km:"50.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca da correia dentada",prioridade:"alta"},{item:"Troca da correia do alternador",prioridade:"média"},{item:"Substituição das pastilhas de freio",prioridade:"alta"},{item:"Verificação do sistema de direção",prioridade:"média"}]},{km:"60.000 km",itens:[{item:"Troca de óleo do motor",prioridade:"alta"},{item:"Troca do filtro de óleo",prioridade:"alta"},{item:"Troca do filtro de ar",prioridade:"alta"},{item:"Troca do filtro de combustível",prioridade:"alta"},{item:"Troca das velas de ignição",prioridade:"alta"},{item:"Troca do fluido de freio",prioridade:"alta"},{item:"Revisão completa da suspensão",prioridade:"alta"},{item:"Verificação dos discos de freio",prioridade:"alta"}]}],dicasPraticas:[{titulo:"Verificação Semanal",descricao:"Faça estas verificações toda semana para evitar surpresas",lista:["Nível do óleo do motor (com o motor frio)","Nível da água do radiador","Calibragem dos pneus (incluindo o estepe)","Funcionamento das luzes (faróis, lanternas, setas)","Limpadores de para-brisa e nível do reservatório","Vazamentos embaixo do veículo"]},{titulo:"Verificação Mensal",descricao:"Checagens importantes para fazer mensalmente",lista:["Nível do fluido de freio","Nível do fluido da direção hidráulica","Estado das palhetas do limpador","Condição dos pneus (desgaste e danos)","Funcionamento do ar condicionado","Bateria (terminais e fixação)"]},{titulo:"Sinais de Alerta",descricao:"Fique atento a estes sinais que indicam necessidade de revisão",lista:["Luzes do painel acesas","Ruídos estranhos ao frear","Vibrações anormais no volante","Perda de potência do motor","Consumo excessivo de combustível","Dificuldade para dar partida","Vazamentos de fluidos","Fumaça excessiva pelo escapamento"]},{titulo:"Economia e Vida Útil",descricao:"Práticas que economizam e prolongam a vida do veículo",lista:["Deixe o motor aquecer antes de acelerar forte","Evite arrancadas e freadas bruscas","Use o freio motor em descidas","Não sobrecarregue o veículo","Mantenha o filtro de ar sempre limpo","Use combustível de qualidade","Evite deixar o carro parado por longos períodos","Lave o carro regularmente (protege a pintura)"]}],custosReferencia:[{servico:"Troca de óleo + filtro",faixa:"R$ 150 - R$ 350",periodicidade:"A cada 5.000 - 10.000 km"},{servico:"Troca de filtro de ar",faixa:"R$ 50 - R$ 150",periodicidade:"A cada 10.000 km"},{servico:"Troca de pastilhas de freio",faixa:"R$ 200 - R$ 500",periodicidade:"A cada 20.000 - 40.000 km"},{servico:"Troca de correia dentada",faixa:"R$ 600 - R$ 1.500",periodicidade:"A cada 40.000 - 60.000 km"},{servico:"Alinhamento e balanceamento",faixa:"R$ 100 - R$ 200",periodicidade:"A cada 10.000 km ou quando necessário"},{servico:"Troca de velas de ignição",faixa:"R$ 150 - R$ 400",periodicidade:"A cada 30.000 km"},{servico:"Troca do fluido de freio",faixa:"R$ 80 - R$ 200",periodicidade:"A cada 2 anos ou 30.000 km"},{servico:"Revisão completa (60.000 km)",faixa:"R$ 1.500 - R$ 3.500",periodicidade:"A cada 60.000 km"}]};return a.jsxs("div",{className:"manutencao-page",children:[r?a.jsx(st,{}):a.jsx(ln,{}),a.jsxs("div",{className:"manutencao-container",children:[a.jsxs("div",{className:"manutencao-header",children:[a.jsx("div",{className:"header-icon",children:"🔧"}),a.jsx("h1",{children:"Guia de Manutenção Preventiva"}),a.jsx("p",{className:"header-subtitle",children:"Mantenha seu veículo sempre em perfeito estado seguindo este guia completo de manutenção preventiva. Evite surpresas, economize e prolongue a vida útil do seu carro."})]}),a.jsx("section",{className:"manutencao-intro",children:a.jsxs("div",{className:"intro-card",children:[a.jsx("h2",{children:"Por que fazer manutenção preventiva?"}),a.jsxs("div",{className:"intro-benefits",children:[a.jsxs("div",{className:"benefit-item",children:[a.jsx("span",{className:"benefit-icon",children:"💰"}),a.jsx("h3",{children:"Economia"}),a.jsx("p",{children:"Prevenir é sempre mais barato que corrigir. Uma manutenção regular evita gastos maiores com reparos emergenciais."})]}),a.jsxs("div",{className:"benefit-item",children:[a.jsx("span",{className:"benefit-icon",children:"🛡️"}),a.jsx("h3",{children:"Segurança"}),a.jsx("p",{children:"Veículo bem mantido oferece mais segurança para você e sua família, evitando falhas mecânicas em momentos críticos."})]}),a.jsxs("div",{className:"benefit-item",children:[a.jsx("span",{className:"benefit-icon",children:"⏰"}),a.jsx("h3",{children:"Durabilidade"}),a.jsx("p",{children:"Manutenção adequada prolonga significativamente a vida útil do veículo e mantém seu valor de revenda."})]}),a.jsxs("div",{className:"benefit-item",children:[a.jsx("span",{className:"benefit-icon",children:"🚀"}),a.jsx("h3",{children:"Performance"}),a.jsx("p",{children:"Motor e componentes bem cuidados mantêm a potência, eficiência e conforto originais do veículo."})]})]})]})}),a.jsxs("section",{className:"manutencao-cronograma",children:[a.jsx("h2",{children:"Cronograma de Manutenção por Quilometragem"}),a.jsx("p",{className:"section-description",children:"Siga este cronograma baseado na quilometragem do seu veículo. Os itens variam conforme o fabricante, sempre consulte o manual do proprietário do seu carro."}),a.jsx("div",{className:"cronograma-grid",children:o.quilometragens.map((c,u)=>a.jsxs("div",{className:"cronograma-card",children:[a.jsxs("div",{className:"cronograma-header",children:[a.jsx("h3",{children:c.km}),a.jsxs("span",{className:"itens-count",children:[c.itens.length," itens"]})]}),a.jsx("ul",{className:"cronograma-lista",children:c.itens.map((h,p)=>a.jsxs("li",{className:`prioridade-${h.prioridade}`,children:[a.jsx("span",{className:"prioridade-badge",children:h.prioridade}),h.item]},p))})]},u))}),a.jsxs("div",{className:"legenda-prioridades",children:[a.jsx("h4",{children:"Legenda de Prioridades:"}),a.jsxs("div",{className:"legenda-items",children:[a.jsxs("span",{className:"legenda-item alta",children:[a.jsx("span",{className:"legenda-badge",children:"alta"})," Essencial - não pode ser adiado"]}),a.jsxs("span",{className:"legenda-item media",children:[a.jsx("span",{className:"legenda-badge",children:"média"})," Importante - agende em breve"]})]})]})]}),a.jsxs("section",{className:"manutencao-dicas",children:[a.jsx("h2",{children:"Dicas Práticas de Manutenção"}),a.jsx("div",{className:"dicas-grid",children:o.dicasPraticas.map((c,u)=>a.jsxs("div",{className:"dica-card",children:[a.jsx("h3",{children:c.titulo}),a.jsx("p",{className:"dica-descricao",children:c.descricao}),a.jsx("ul",{className:"dica-lista",children:c.lista.map((h,p)=>a.jsxs("li",{children:[a.jsx("span",{className:"check-icon",children:"✓"}),h]},p))})]},u))})]}),a.jsxs("section",{className:"manutencao-custos",children:[a.jsx("h2",{children:"Custos Médios de Referência"}),a.jsx("p",{className:"section-description",children:"Valores aproximados para você planejar seu orçamento. Os preços variam conforme região, modelo do veículo e oficina."}),a.jsxs("div",{className:"custos-tabela",children:[a.jsxs("div",{className:"tabela-header",children:[a.jsx("div",{className:"col-servico",children:"Serviço"}),a.jsx("div",{className:"col-faixa",children:"Faixa de Preço"}),a.jsx("div",{className:"col-periodicidade",children:"Periodicidade"})]}),o.custosReferencia.map((c,u)=>a.jsxs("div",{className:"tabela-row",children:[a.jsx("div",{className:"col-servico",children:c.servico}),a.jsx("div",{className:"col-faixa",children:c.faixa}),a.jsx("div",{className:"col-periodicidade",children:c.periodicidade})]},u))]}),a.jsxs("div",{className:"custos-aviso",children:[a.jsx("span",{className:"aviso-icon",children:"ℹ️"}),a.jsx("p",{children:"Os valores são apenas referências e podem variar significativamente. Sempre solicite orçamentos em diferentes oficinas e verifique a reputação antes de contratar o serviço."})]})]}),a.jsx("section",{className:"manutencao-conclusao",children:a.jsxs("div",{className:"conclusao-card",children:[a.jsx("h2",{children:"Lembre-se"}),a.jsxs("div",{className:"conclusao-content",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"📖 Consulte sempre o manual do proprietário:"})," Cada veículo tem suas especificidades e o manual é o guia definitivo para a manutenção do seu modelo específico."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"🔍 Escolha oficinas de confiança:"})," Pesquise a reputação, peça indicações e sempre solicite orçamentos detalhados antes de autorizar qualquer serviço."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"📝 Mantenha um histórico:"})," Guarde todas as notas fiscais e registros de manutenção. Isso valoriza o veículo na revenda e ajuda a acompanhar o que já foi feito."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"⚠️ Não ignore os sinais:"})," Ruídos estranhos, luzes no painel ou mudanças no comportamento do veículo são avisos importantes. Investigue imediatamente."]})]})]})}),a.jsx("div",{className:"guia-footer-voltar",children:a.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})]})},FC=()=>{const{usuarioLogado:r}=E.useContext(Ke)||{},e=it(),[t,i]=E.useState("todas"),o={definicoes:{originais:{titulo:"Peças Originais",icone:"🏭",definicao:"São peças fabricadas pela montadora do veículo ou por fornecedores oficiais autorizados pela montadora. Possuem o selo e garantia do fabricante original.",caracteristicas:["Fabricadas com os mesmos padrões da montadora","Possuem garantia direta do fabricante","Geralmente mais caras","Encontradas em concessionárias autorizadas","Embalagem com selo de autenticidade","Código de peça específico da montadora"]},compativeis:{titulo:"Peças Compatíveis (Aftermarket)",icone:"🔧",definicao:"São peças fabricadas por empresas terceirizadas que não são autorizadas pela montadora, mas seguem as especificações técnicas originais para serem compatíveis com o veículo.",caracteristicas:["Fabricadas por empresas independentes","Preço geralmente mais acessível","Garantia do fabricante da peça","Disponíveis em diversas lojas de autopeças","Qualidade varia conforme o fabricante","Várias marcas e opções disponíveis"]}},comparacoes:[{categoria:"Qualidade",original:{texto:"Qualidade garantida e testada pela montadora",pontos:["Rigoroso controle de qualidade","Durabilidade comprovada","Encaixe perfeito garantido"],nota:10},compativel:{texto:"Qualidade varia conforme fabricante",pontos:["Marcas premium têm qualidade similar","Marcas desconhecidas podem ter problemas","Importante verificar certificações"],nota:7}},{categoria:"Preço",original:{texto:"Preço mais elevado",pontos:["30% a 70% mais caro","Custo-benefício em longo prazo","Menos opções de negociação"],nota:5},compativel:{texto:"Preço mais acessível",pontos:["Economia significativa","Várias faixas de preço","Melhor custo-benefício imediato"],nota:9}},{categoria:"Garantia",original:{texto:"Garantia da montadora",pontos:["Garantia de fábrica ampla","Aceita em qualquer concessionária","Cobertura mais abrangente"],nota:10},compativel:{texto:"Garantia do fabricante da peça",pontos:["Varia de 3 meses a 1 ano","Limitada ao fabricante","Pode exigir nota fiscal"],nota:7}},{categoria:"Disponibilidade",original:{texto:"Disponível em concessionárias",pontos:["Pode demorar para chegar","Estoque limitado em algumas regiões","Importação pode ser necessária"],nota:6},compativel:{texto:"Amplamente disponível",pontos:["Fácil de encontrar","Várias opções de fornecedores","Pronta entrega na maioria"],nota:9}},{categoria:"Durabilidade",original:{texto:"Alta durabilidade comprovada",pontos:["Testadas em condições extremas","Vida útil longa","Mantém características originais"],nota:10},compativel:{texto:"Durabilidade depende da marca",pontos:["Marcas premium são duráveis","Marcas genéricas podem durar menos","Importante pesquisar avaliações"],nota:7}},{categoria:"Garantia de Veículo",original:{texto:"Não afeta garantia do veículo",pontos:["Recomendada para carros na garantia","Mantém histórico da concessionária","Sem risco de perda de garantia"],nota:10},compativel:{texto:"Pode afetar garantia em alguns casos",pontos:["Verifique termos da garantia","Problema deve ser comprovadamente da peça","Após garantia, sem restrições"],nota:6}}],quandoUsar:[{titulo:"Use Peças Originais Quando:",icone:"✅",situacoes:["Veículo ainda está na garantia de fábrica","Peças de segurança críticas (freios, suspensão, airbag)","Veículo de alto valor que você pretende revender","Histórico completo de manutenção é importante","Peça apresentou defeito recorrente com compatíveis","Modelo muito específico ou raro","Sistema eletrônico complexo (injeção, ABS, etc.)","Você busca máxima durabilidade sem preocupações"]},{titulo:"Use Peças Compatíveis Quando:",icone:"✅",situacoes:["Veículo já saiu da garantia de fábrica","Orçamento limitado para a manutenção","Peça de desgaste natural (filtros, velas, lâmpadas)","Veículo mais antigo ou de menor valor","Marca compatível de reconhecida qualidade","Peça estética ou de acabamento interno","Urgência e peça original indisponível","Relação custo-benefício é prioridade"]}],marcasRenomadas:[{nome:"Bosch",especialidade:"Sistema elétrico, freios, injeção",qualidade:"Premium",descricao:"Fornecedora oficial de várias montadoras, qualidade comparável às originais."},{nome:"Mahle",especialidade:"Motor, filtros, arrefecimento",qualidade:"Premium",descricao:"Fabricante alemão com altíssima qualidade, fornece para montadoras."},{nome:"Monroe",especialidade:"Suspensão e amortecedores",qualidade:"Premium",descricao:"Referência mundial em sistemas de suspensão."},{nome:"NGK",especialidade:"Velas de ignição",qualidade:"Premium",descricao:"Líder mundial em velas, fornece para montadoras japonesas."},{nome:"Cofap",especialidade:"Amortecedores, suspensão",qualidade:"Boa",descricao:"Marca brasileira consolidada, boa relação custo-benefício."},{nome:"Tecfil",especialidade:"Filtros em geral",qualidade:"Boa",descricao:"Marca nacional com boa qualidade e preço acessível."},{nome:"TRW",especialidade:"Freios e suspensão",qualidade:"Premium",descricao:"Fornecedora de montadoras, especialmente em sistemas de freio."},{nome:"Nakata",especialidade:"Suspensão e direção",qualidade:"Boa",descricao:"Marca japonesa com amplo catálogo e qualidade consistente."}],dicasEconomia:[{titulo:"Pesquise Preços",descricao:"Compare preços em diferentes lojas e online. A variação pode chegar a 50%.",icone:"💰"},{titulo:"Compre em Conjunto",descricao:"Ao fazer várias trocas, negocie desconto ou peça frete grátis.",icone:"📦"},{titulo:"Verifique Promoções",descricao:"Grandes varejistas oferecem promoções em datas especiais.",icone:"🎯"},{titulo:"Avalie Marcas Intermediárias",descricao:"Nem sempre o mais barato ou mais caro é a melhor opção.",icone:"⚖️"},{titulo:"Peça Original Usada",descricao:"Para alguns itens, peças de desmanches são viáveis e econômicas.",icone:"♻️"},{titulo:"Certifique-se da Necessidade",descricao:"Nem sempre é preciso trocar. Consulte um mecânico de confiança.",icone:"🔍"}],alertas:[{titulo:"⚠️ Cuidado com Peças Falsificadas",conteudo:["Verifique sempre se há selo de autenticidade","Desconfie de preços extremamente baixos","Compre em lojas estabelecidas e confiáveis","Peças falsificadas podem causar acidentes graves","Embalagens originais têm código de barras e QR code"]},{titulo:"⚠️ Atenção à Garantia do Veículo",conteudo:["Leia o manual e termos da garantia do fabricante","Peças não originais podem cancelar garantia em alguns casos","Guarde todas as notas fiscais de manutenção","Consulte a concessionária antes em caso de dúvida","Após o fim da garantia, você tem liberdade total"]},{titulo:"⚠️ Instalação Profissional",conteudo:["Use mecânico qualificado independente da peça","Instalação incorreta pode danificar a peça","Guarde a nota e comprovante de instalação","Erro de instalação pode invalidar garantia","Peças de segurança exigem cuidado redobrado"]}]};return a.jsxs("div",{className:"pecas-page",children:[r?a.jsx(st,{}):a.jsx(ln,{}),a.jsxs("div",{className:"pecas-container",children:[a.jsxs("div",{className:"pecas-header",children:[a.jsx("div",{className:"header-icon",children:"⚙️"}),a.jsx("h1",{children:"Peças Originais vs Compatíveis"}),a.jsx("p",{className:"header-subtitle",children:"Entenda as diferenças, vantagens e desvantagens de cada tipo de peça para tomar a melhor decisão na manutenção do seu veículo."})]}),a.jsxs("section",{className:"pecas-definicoes",children:[a.jsx("h2",{children:"O que são?"}),a.jsxs("div",{className:"definicoes-grid",children:[a.jsxs("div",{className:"definicao-card original",children:[a.jsx("div",{className:"definicao-icon",children:o.definicoes.originais.icone}),a.jsx("h3",{children:o.definicoes.originais.titulo}),a.jsx("p",{className:"definicao-texto",children:o.definicoes.originais.definicao}),a.jsx("h4",{children:"Características:"}),a.jsx("ul",{children:o.definicoes.originais.caracteristicas.map((c,u)=>a.jsx("li",{children:c},u))})]}),a.jsxs("div",{className:"definicao-card compativel",children:[a.jsx("div",{className:"definicao-icon",children:o.definicoes.compativeis.icone}),a.jsx("h3",{children:o.definicoes.compativeis.titulo}),a.jsx("p",{className:"definicao-texto",children:o.definicoes.compativeis.definicao}),a.jsx("h4",{children:"Características:"}),a.jsx("ul",{children:o.definicoes.compativeis.caracteristicas.map((c,u)=>a.jsx("li",{children:c},u))})]})]})]}),a.jsxs("section",{className:"pecas-comparacao",children:[a.jsx("h2",{children:"Comparação Detalhada"}),a.jsx("p",{className:"section-subtitle",children:"Análise ponto a ponto para ajudar na sua decisão"}),a.jsx("div",{className:"comparacao-grid",children:o.comparacoes.map((c,u)=>a.jsxs("div",{className:"comparacao-card",children:[a.jsx("h3",{className:"comparacao-categoria",children:c.categoria}),a.jsxs("div",{className:"comparacao-sides",children:[a.jsxs("div",{className:"side original",children:[a.jsxs("div",{className:"side-header",children:[a.jsx("span",{className:"side-badge",children:"Original"}),a.jsxs("span",{className:"side-nota",children:[c.original.nota,"/10"]})]}),a.jsx("p",{className:"side-texto",children:c.original.texto}),a.jsx("ul",{className:"side-pontos",children:c.original.pontos.map((h,p)=>a.jsx("li",{children:h},p))})]}),a.jsxs("div",{className:"side compativel",children:[a.jsxs("div",{className:"side-header",children:[a.jsx("span",{className:"side-badge",children:"Compatível"}),a.jsxs("span",{className:"side-nota",children:[c.compativel.nota,"/10"]})]}),a.jsx("p",{className:"side-texto",children:c.compativel.texto}),a.jsx("ul",{className:"side-pontos",children:c.compativel.pontos.map((h,p)=>a.jsx("li",{children:h},p))})]})]})]},u))})]}),a.jsxs("section",{className:"pecas-quando-usar",children:[a.jsx("h2",{children:"Quando Usar Cada Tipo?"}),a.jsx("div",{className:"quando-grid",children:o.quandoUsar.map((c,u)=>a.jsxs("div",{className:"quando-card",children:[a.jsxs("div",{className:"quando-header",children:[a.jsx("span",{className:"quando-icon",children:c.icone}),a.jsx("h3",{children:c.titulo})]}),a.jsx("ul",{className:"quando-lista",children:c.situacoes.map((h,p)=>a.jsxs("li",{children:[a.jsx("span",{className:"bullet",children:"•"}),h]},p))})]},u))})]}),a.jsxs("section",{className:"pecas-marcas",children:[a.jsx("h2",{children:"Marcas Compatíveis Renomadas"}),a.jsx("p",{className:"section-subtitle",children:"Fabricantes de peças compatíveis com excelente reputação no mercado"}),a.jsx("div",{className:"marcas-grid",children:o.marcasRenomadas.map((c,u)=>a.jsxs("div",{className:"marca-card",children:[a.jsxs("div",{className:"marca-header",children:[a.jsx("h3",{children:c.nome}),a.jsx("span",{className:`qualidade-badge ${c.qualidade.toLowerCase()}`,children:c.qualidade})]}),a.jsxs("p",{className:"marca-especialidade",children:[a.jsx("strong",{children:"Especialidade:"})," ",c.especialidade]}),a.jsx("p",{className:"marca-descricao",children:c.descricao})]},u))})]}),a.jsxs("section",{className:"pecas-dicas-economia",children:[a.jsx("h2",{children:"Dicas para Economizar"}),a.jsx("div",{className:"dicas-economia-grid",children:o.dicasEconomia.map((c,u)=>a.jsxs("div",{className:"dica-economia-card",children:[a.jsx("div",{className:"dica-icon",children:c.icone}),a.jsx("h3",{children:c.titulo}),a.jsx("p",{children:c.descricao})]},u))})]}),a.jsxs("section",{className:"pecas-alertas",children:[a.jsx("h2",{children:"Alertas Importantes"}),a.jsx("div",{className:"alertas-grid",children:o.alertas.map((c,u)=>a.jsxs("div",{className:"alerta-card",children:[a.jsx("h3",{children:c.titulo}),a.jsx("ul",{children:c.conteudo.map((h,p)=>a.jsx("li",{children:h},p))})]},u))})]}),a.jsx("section",{className:"pecas-conclusao",children:a.jsxs("div",{className:"conclusao-card",children:[a.jsx("h2",{children:"Decisão Informada"}),a.jsxs("div",{className:"conclusao-content",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Não existe escolha certa ou errada absoluta."})," A decisão entre peças originais e compatíveis deve considerar múltiplos fatores: condição do veículo, orçamento disponível, tipo de peça, urgência da troca e suas prioridades pessoais."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Para segurança, nunca economize."})," Itens críticos como freios, suspensão, airbags e componentes estruturais merecem atenção especial. Nesses casos, considere sempre peças originais ou compatíveis de marcas premium reconhecidas."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Pesquise e compare."})," Avalie avaliações de outros usuários, consulte mecânicos de confiança e compare preços. Uma escolha bem informada é sempre a melhor escolha."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Guarde a documentação."})," Independente da escolha, sempre guarde notas fiscais, certificados de garantia e comprovantes de instalação. Isso protege seus direitos e agrega valor ao veículo."]})]})]})}),a.jsx("div",{className:"guia-footer-voltar",children:a.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})]})};function $C(){const{usuarioLogado:r}=E.useContext(Ke)||{},e=it(),[t,i]=E.useState([]),[o,c]=E.useState(!0),[u,h]=E.useState(null),[p,g]=E.useState({busca:"",prioridade:"",cor:""});xy(r?.email),E.useEffect(()=>{(async()=>{try{const S=await Cn.getGlossarioDashboard(),j=Array.isArray(S)?S:S?[S]:el;i(j)}catch(S){console.error("Erro ao carregar glossário:",S),i(Array.isArray(el)?el:[]),h(null)}finally{c(!1)}})()},[]);const v=()=>{g({busca:"",prioridade:"",cor:""})},y=x=>({Alta:"#dc2626",Média:"#f59e0b",Baixa:"#16a34a"})[x]||"#6b7280",w=x=>({vermelho:"#dc2626",amarelo:"#f59e0b",verde:"#16a34a",azul:"#2563eb",laranja:"#ea580c"})[x.toLowerCase()]||"#6b7280",b=t.filter(x=>{const S=!p.busca||x.nome.toLowerCase().includes(p.busca.toLowerCase()),j=!p.prioridade||x.prioridade===p.prioridade,N=!p.cor||x.cor.toLowerCase()===p.cor.toLowerCase();return S&&j&&N});return a.jsxs(a.Fragment,{children:[r?a.jsx(st,{}):a.jsx(ln,{}),a.jsx("div",{className:"page-wrapper menu-page",children:a.jsxs("div",{className:"page-content",children:[a.jsxs("div",{className:"luzes-header",children:[a.jsx("div",{className:"header-icon",children:"⚠️"}),a.jsx("h2",{className:"page-title",children:"Luzes do Painel"}),a.jsx("p",{className:"header-subtitle",children:"Entenda os avisos do seu veículo e saiba como agir quando as luzes do painel acenderem. Mantenha-se seguro e evite problemas maiores."})]}),o?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Carregando glossário..."})]}):u?a.jsxs("div",{className:"error-container",children:[a.jsx("h2",{children:"Erro ao carregar"}),a.jsx("p",{children:u})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"filtros-section",children:[a.jsxs("div",{className:"filtros-row",children:[a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{children:"Buscar:"}),a.jsx("input",{type:"text",className:"busca-input",placeholder:"Digite o nome da luz...",value:p.busca,onChange:x=>g({...p,busca:x.target.value})})]}),a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{children:"Prioridade:"}),a.jsxs("select",{value:p.prioridade,onChange:x=>g({...p,prioridade:x.target.value}),children:[a.jsx("option",{value:"",children:"Todas"}),a.jsx("option",{value:"Alta",children:"Alta"}),a.jsx("option",{value:"Média",children:"Média"}),a.jsx("option",{value:"Baixa",children:"Baixa"})]})]}),a.jsxs("div",{className:"filtro-group",children:[a.jsx("label",{children:"Cor:"}),a.jsxs("select",{value:p.cor,onChange:x=>g({...p,cor:x.target.value}),children:[a.jsx("option",{value:"",children:"Todas"}),a.jsx("option",{value:"vermelho",children:"Vermelho"}),a.jsx("option",{value:"amarelo",children:"Amarelo"}),a.jsx("option",{value:"verde",children:"Verde"}),a.jsx("option",{value:"azul",children:"Azul"}),a.jsx("option",{value:"laranja",children:"Laranja"})]})]}),a.jsx("button",{className:"btn-limpar-filtros",onClick:v,children:"Limpar"})]}),a.jsxs("div",{className:"resultados-info",children:[b.length," luz(es) encontrada(s)"]})]}),b.length===0?a.jsx("div",{className:"no-results",children:a.jsx("p",{children:"Nenhuma luz encontrada com os filtros aplicados."})}):a.jsx("div",{className:"luzes-grid",children:b.map(x=>a.jsxs("div",{className:"luz-card",children:[a.jsxs("div",{className:"luz-header",children:[a.jsx("div",{className:"luz-icone",children:x.icone}),a.jsxs("div",{className:"luz-info",children:[a.jsx("h3",{className:"luz-nome",children:x.nome}),a.jsxs("div",{className:"luz-indicators",children:[a.jsx("span",{className:"prioridade-badge",style:{backgroundColor:y(x.prioridade)},children:x.prioridade}),a.jsx("div",{className:"cor-indicator",style:{backgroundColor:w(x.cor)}})]})]})]}),a.jsxs("div",{className:"luz-content",children:[a.jsx("div",{className:"luz-descricao",children:x.descricao}),x.acoes&&x.acoes.length>0&&a.jsxs("div",{className:"luz-section",children:[a.jsx("h4",{children:"⚡ O que fazer:"}),a.jsx("ul",{className:"acoes-list",children:x.acoes.map((S,j)=>a.jsx("li",{children:S},j))})]}),x.causas&&x.causas.length>0&&a.jsxs("div",{className:"luz-section",children:[a.jsx("h4",{children:"🔍 Possíveis causas:"}),a.jsx("ul",{className:"causas-list",children:x.causas.map((S,j)=>a.jsx("li",{children:S},j))})]})]})]},x.id))}),a.jsxs("div",{className:"glossario-footer-section",children:[a.jsxs("div",{className:"info-section",children:[a.jsx("h3",{children:"🎨 Legenda das Cores"}),a.jsxs("div",{className:"cores-legend",children:[a.jsxs("div",{className:"cor-item",children:[a.jsx("div",{className:"cor-dot",style:{backgroundColor:"#dc2626"}}),a.jsxs("span",{children:[a.jsx("strong",{children:"Vermelho:"})," Pare imediatamente"]})]}),a.jsxs("div",{className:"cor-item",children:[a.jsx("div",{className:"cor-dot",style:{backgroundColor:"#f59e0b"}}),a.jsxs("span",{children:[a.jsx("strong",{children:"Amarelo:"})," Atenção necessária"]})]}),a.jsxs("div",{className:"cor-item",children:[a.jsx("div",{className:"cor-dot",style:{backgroundColor:"#16a34a"}}),a.jsxs("span",{children:[a.jsx("strong",{children:"Verde:"})," Sistema funcionando"]})]}),a.jsxs("div",{className:"cor-item",children:[a.jsx("div",{className:"cor-dot",style:{backgroundColor:"#2563eb"}}),a.jsxs("span",{children:[a.jsx("strong",{children:"Azul:"})," Informativo"]})]}),a.jsxs("div",{className:"cor-item",children:[a.jsx("div",{className:"cor-dot",style:{backgroundColor:"#ea580c"}}),a.jsxs("span",{children:[a.jsx("strong",{children:"Laranja:"})," Atenção"]})]})]})]}),a.jsx("div",{className:"disclaimer",children:a.jsxs("p",{children:["⚠️ ",a.jsx("strong",{children:"Aviso:"})," Este glossário é apenas informativo. Sempre consulte um mecânico qualificado para diagnósticos precisos."]})})]})]}),a.jsx("div",{className:"guia-footer-voltar",children:a.jsx("span",{className:"guia-cta",onClick:()=>e("/guias"),children:"← Voltar para Guias"})})]})})]})}const Ke=E.createContext(null);function Ws({children:r}){const{usuarioLogado:e,authLoaded:t}=E.useContext(Ke)||{};return t?e?r:a.jsx(ll,{to:"/login",replace:!0}):null}function BC(){const{usuarioLogado:r,authLoaded:e}=E.useContext(Ke)||{};return e?a.jsx(ll,{to:r?"/buscar-pecas":"/inicio",replace:!0}):null}function zC(){const[r,e]=E.useState(null),[t,i]=E.useState(!1),[o,c]=E.useState(!1),[u,h]=E.useState(!1),p=u||t&&o,g=h;return E.useEffect(()=>{p&&h(!0)},[p]),Gu.useEffect(()=>{async function v(){try{const y=localStorage.getItem("usuario-logado")||"null",w=JSON.parse(y);if(w){let b=function(x){if(!x||typeof x!="string")return"";let S=x.trim();return S=S.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),S=S.replace(/[._+\-]+/g," "),S=S.replace(/\s+/g," ").trim(),S=S.split(" ").map(j=>j?j.charAt(0).toUpperCase()+j.slice(1):"").join(" ").trim(),S||x};try{const x=String(w.nome||w.name||"");if(/^(dev_|devuser\+|dev-)/i.test(x)||/devuser\+/i.test(x)){const j=(w.displayName||w.name||w.nome||w.email||"").toString(),N=b(j)||b(w.email?w.email.split("@")[0]:"");N&&(w.nome=N,w.name=N)}}catch{}if(!w.photoURL&&w.photo_url&&(w.photoURL=w.photo_url),e(w),w.access_token&&!w.photoURL)try{const x=window.__API_BASE||"",S=await fetch(`${x}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.access_token}`},body:JSON.stringify({access_token:w.access_token})});if(S.ok){const j=await S.json().catch(()=>({})),N=j&&j.user?j.user:null;if(N){!N.photoURL&&N.photo_url&&(N.photoURL=N.photo_url);const I={...N,access_token:w.access_token};e(I);try{localStorage.setItem("usuario-logado",JSON.stringify(I))}catch{}}}}catch{}}}catch(y){console.warn("Failed to parse usuario-logado from localStorage",y)}i(!0)}v()},[]),Gu.useEffect(()=>{(async()=>{try{const{default:v}=await Wn(async()=>{const{default:y}=await Promise.resolve().then(()=>Qg);return{default:y}},void 0,import.meta.url);if(console.log("[auth-debug] starting redirect processing. href=",window&&window.location&&window.location.href),v&&typeof v.auth.getSessionFromUrl=="function"){console.log("[auth-debug] calling supabase.auth.getSessionFromUrl()");const{data:y,error:w}=await v.auth.getSessionFromUrl();w&&console.warn("[auth-debug] supabase getSessionFromUrl error:",w);let b=y&&y.session?y.session:null;if(!b)try{const x=window.location.href||"";console.log("[auth-debug] getSessionFromUrl returned no session, attempting token parse from href",x);const S=I=>{const T=new RegExp(I+"=([^&#\\/]+)","i"),$=x.match(T);return $?decodeURIComponent($[1]):null},j=S("access_token"),N=S("refresh_token");if(j){console.log("[auth-debug] found tokens in URL fallback, access_token length=",j?j.length:0," refresh_token=",N?N.length:0);try{if(v&&v.auth&&typeof v.auth.setSession=="function"){await v.auth.setSession({access_token:j,refresh_token:N||void 0}),b={access_token:j,refresh_token:N};try{window.history.replaceState({},document.title,window.location.origin+"/#/")}catch{}}}catch(I){console.warn("[auth-debug] Failed to set supabase session from URL fallback",I&&I.message?I.message:I)}}}catch{}if(b&&b.access_token){const x=b.access_token,S=window.__API_BASE||"";try{console.log("[auth-debug] calling backend supabase-verify",`${S}/api/auth/supabase-verify`);const j=await fetch(`${S}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({access_token:x})});console.log("[auth-debug] supabase-verify response status=",j.status);let N=null;try{N=await j.json().catch(()=>({}))}catch{N=null}if(console.log("[auth-debug] supabase-verify response body=",N),j.ok){const I=N&&N.user?N.user:null;if(I){let T=function(U){return!U||typeof U!="string"?"":(U.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(q=>q?q.charAt(0).toUpperCase()+q.slice(1):"").join(" ").trim()};const $=(I.nome||I.name||"").trim()||T(I.email||I.email_address||I.mail),P={...I,nome:$,name:$,access_token:x};console.log("[auth-debug] backend returned user, setting usuarioLogado",P.email),e(P);try{localStorage.setItem("usuario-logado",JSON.stringify(P))}catch{}}}else{console.warn("[auth-debug] backend supabase-verify returned non-ok",j.status,N);try{if(v&&v.auth)try{console.log("[auth-debug] attempting supabase.auth.getUser() fallback");const I=await v.auth.getUser(),T=I&&I.data&&I.data.user?I.data.user:null;if(T){const $=(T.user_metadata&&(T.user_metadata.nome||T.user_metadata.name)?T.user_metadata.nome||T.user_metadata.name:(T.email||"").split("@")[0])||"",P={...T,nome:$,name:$,access_token:x};console.log("[auth-debug] got user from supabase.getUser(), setting usuarioLogado",P.email),e(P);try{localStorage.setItem("usuario-logado",JSON.stringify(P))}catch{}}else{console.log("[auth-debug] supabase.auth.getUser() returned no user, trying getSession()");const $=await v.auth.getSession(),P=$&&$.data&&$.data.session&&$.data.session.user?$.data.session.user:null;if(P){const U=(P.user_metadata&&(P.user_metadata.nome||P.user_metadata.name)?P.user_metadata.nome||P.user_metadata.name:(P.email||"").split("@")[0])||"",O={...P,nome:U,name:U,access_token:x};console.log("[auth-debug] got user from supabase.getSession(), setting usuarioLogado",O.email),e(O);try{localStorage.setItem("usuario-logado",JSON.stringify(O))}catch{}}else console.warn("[auth-debug] supabase client did not return user/session on fallback")}}catch(I){console.warn("[auth-debug] supabase.getUser/getSession fallback failed",I&&I.message?I.message:I)}}catch(I){console.warn("[auth-debug] Fallback supabase user fetch failed",I&&I.message?I.message:I)}}}catch(j){console.warn("[auth-debug] Failed to call backend supabase-verify",j&&j.message?j.message:j);try{if(v&&v.auth){console.log("[auth-debug] backend verify threw; attempting supabase.getUser/getSession fallback");const N=await v.auth.getUser(),I=N&&N.data&&N.data.user?N.data.user:null;if(I){const T=(I.user_metadata&&(I.user_metadata.nome||I.user_metadata.name)?I.user_metadata.nome||I.user_metadata.name:(I.email||"").split("@")[0])||"",$={...I,nome:T,name:T,access_token:x};console.log("[auth-debug] got user from supabase.getUser() after exception, setting usuarioLogado",$.email),e($);try{localStorage.setItem("usuario-logado",JSON.stringify($))}catch{}}else{const T=await v.auth.getSession(),$=T&&T.data&&T.data.session&&T.data.session.user?T.data.session.user:null;if($){const P=($.user_metadata&&($.user_metadata.nome||$.user_metadata.name)?$.user_metadata.nome||$.user_metadata.name:($.email||"").split("@")[0])||"",U={...$,nome:P,name:P,access_token:x};console.log("[auth-debug] got user from supabase.getSession() after exception, setting usuarioLogado",U.email),e(U);try{localStorage.setItem("usuario-logado",JSON.stringify(U))}catch{}}}}}catch(N){console.warn("[auth-debug] aggressive fallback after backend error also failed",N&&N.message?N.message:N)}}}}console.log("[auth-debug] redirect processing finished, setting redirectDone"),c(!0)}catch(v){console.warn("[auth-debug] redirect processing outer catch",v&&v.message?v.message:v),c(!0)}})()},[e]),a.jsx(X0,{children:a.jsx(Ke.Provider,{value:{usuarioLogado:r,setUsuarioLogado:e,authLoaded:p,setAuthLoaded:g},children:a.jsx($0,{children:a.jsxs("div",{className:"app",children:[a.jsx(EE,{}),a.jsxs(v0,{children:[a.jsx(Oe,{path:"/",element:a.jsx(BC,{})}),a.jsx(Oe,{path:"/buscar-pecas",element:a.jsx(kC,{})}),a.jsx(Oe,{path:"/login",element:a.jsx(aC,{})}),a.jsx(Oe,{path:"/cadastro",element:a.jsx(SC,{})}),a.jsx(Oe,{path:"/inicio",element:a.jsx(mC,{})}),a.jsx(Oe,{path:"/quem-somos",element:a.jsx(gC,{})}),a.jsx(Oe,{path:"/seja-pro",element:a.jsx(yC,{})}),a.jsx(Oe,{path:"/versao-pro",element:a.jsx(wC,{})}),a.jsx(Oe,{path:"/checkin",element:a.jsx(_C,{})}),a.jsx(Oe,{path:"/versao-pro-assinado",element:a.jsx(EC,{})}),a.jsx(Oe,{path:"/contato",element:a.jsx(xC,{})}),a.jsx(Oe,{path:"/contato-logado",element:a.jsx(jC,{})}),a.jsx(Oe,{path:"/parceiros",element:a.jsx(bC,{})}),a.jsx(Oe,{path:"/recalls",element:a.jsx(AC,{})}),a.jsx(Oe,{path:"/guias",element:a.jsx(OC,{})}),a.jsx(Oe,{path:"/guia/:guiaId",element:a.jsx(LC,{})}),a.jsx(Oe,{path:"/glossario",element:a.jsx(ll,{to:"/guias",replace:!0})}),a.jsx(Oe,{path:"/criar-guia",element:a.jsx(Ws,{children:a.jsx(ag,{})})}),a.jsx(Oe,{path:"/criar-guia/:guiaId",element:a.jsx(Ws,{children:a.jsx(ag,{})})}),a.jsx(Oe,{path:"/manutencao-preventiva",element:a.jsx(UC,{})}),a.jsx(Oe,{path:"/pecas-originais-vs-compativeis",element:a.jsx(FC,{})}),a.jsx(Oe,{path:"/luzes-do-painel",element:a.jsx($C,{})}),a.jsx(Oe,{path:"/nosso-projeto",element:a.jsx(vC,{})}),a.jsx(Oe,{path:"/perfil",element:a.jsx(Ws,{children:a.jsx(NC,{})})}),a.jsx(Oe,{path:"/meus-carros",element:a.jsx(Ws,{children:a.jsx(TC,{})})}),a.jsx(Oe,{path:"/configuracoes",element:a.jsx(Ws,{children:a.jsx(DC,{})})}),a.jsx(Oe,{path:"/tabela-fipe",element:a.jsx(Ws,{children:a.jsx(MC,{})})}),a.jsx(Oe,{path:"/perfil-teste",element:a.jsx(ll,{to:"/perfil",replace:!0})})]})]})})})})}j_.createRoot(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx(zC,{})}));try{if(typeof window<"u")if(window.__API_BASE)console.log("[runtime] API base already set to",window.__API_BASE);else try{window.location&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?(window.__API_BASE=`${window.location.protocol}//${window.location.hostname}:3001`,console.log("[runtime] API base set to local backend",window.__API_BASE)):console.log("[runtime] API base not injected by index.html; leaving unset")}catch(r){console.warn("[runtime] failed to set local API base",r&&r.message?r.message:r)}}catch{}try{typeof window<"u"&&typeof window.supabase>"u"&&(window.supabase=window.__SUPABASE_CLIENT!==void 0?window.__SUPABASE_CLIENT:null)}catch{}
