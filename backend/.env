### Local development environment file for backend
# Copy this file from `.env.example` and fill in real values when testing locally.
# WARNING: Do NOT commit real credentials to version control.

# Example using Supabase Postgres connection string (recommended for production)
# DATABASE_URL=postgresql://<USER>:<PASSWORD>@<HOST>:<PORT>/<DATABASE>?sslmode=require

# Example local Postgres (Docker)
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=pecas_db
PGSSL=false

# Server port
PORT=3001

# Supabase keys (optional). If you set SUPABASE_SERVICE_ROLE_KEY, the backend
# will be able to verify Supabase access tokens and upsert users. Keep these
# values secret and do not put them into public repos.
# SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# For dev only: disable TLS verification (not for production)
# NODE_TLS_REJECT_UNAUTHORIZED=0
# ============================================
# Template de configuração para Backend
# ============================================
# IMPORTANTE: Copie este arquivo para .env e preencha com seus valores reais
# NÃO commite o arquivo .env no repositório!

# ============================================
# OPÇÃO 1: PostgreSQL via Supabase (RECOMENDADO para produção)
# ============================================
# Obtenha no Supabase Dashboard -> Settings -> Database -> Connection String (URI)
DATABASE_URL=postgresql://postgres.nishmqdbtcqrnxbvssvw:LgmeOg1YHMvXU6Bl@aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require

# Habilitar SSL (obrigatório para Supabase)
PGSSL=true
NODE_TLS_REJECT_UNAUTHORIZED=0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTYyNDYzMCwiZXhwIjoyMDc1MjAwNjMwfQ.O_bnNRrVzoSy_sddCFShaFIABEFJ6mjj5BEtvVknqWM

# ============================================
# OPÇÃO 2: PostgreSQL Local (Docker) - para desenvolvimento
# ============================================
# Descomente as linhas abaixo se usar Docker local
# PGHOST=localhost
# PGPORT=5432
# PGUSER=postgres
# PGPASSWORD=postgres
# PGDATABASE=pecas_db
# PGSSL=false

# ============================================
# Porta do servidor backend
# ============================================
PORT=3001

# Local Vite env for Supabase (do not commit real secrets)
# Replace placeholders below with your real values (without quotes)

# ============================================
# Supabase API Keys (opcional - para usar supabase-js do backend)
# ============================================
# Obtenha no Supabase Dashboard -> Settings -> API
# ATENÇÃO: NUNCA exponha service_role no frontend! Use apenas no backend.
# SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
# SUPABASE_ANON_KEY=eyJhbGci...     (pode ser exposto no frontend com RLS)
# SUPABASE_SERVICE_ROLE_KEY=eyJhbG... (APENAS backend! Nunca exponha!)
