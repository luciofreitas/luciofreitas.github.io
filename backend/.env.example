# Example backend/.env template
# Copy this file to backend/.env and fill in the real secrets locally or in your deployment platform.
# DO NOT commit the real backend/.env with secrets.

# Database (Postgres) connection string
# DATABASE_URL=postgresql://username:password@host:port/database?sslmode=require

# Supabase project settings
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key  # keep this secret and do NOT expose to clients

# Other optional settings
# NODE_ENV=production
# PORT=3001
# ============================================
# Exemplo de configuração para Backend (NÃO contém credenciais reais)
# Copie este arquivo para `.env` e preencha com seus valores locais.
# NÃO comite o arquivo `.env` no repositório; este arquivo é seguro para commitar.
# ============================================

# OPÇÃO 1: PostgreSQL via Supabase (RECOMENDADO para produção)
# Substitua pelos valores do seu projeto Supabase (Connection string)
DATABASE_URL=postgresql://<USER>:<PASSWORD>@<HOST>:<PORT>/<DATABASE>?sslmode=require

# Habilitar SSL (obrigatório para Supabase)
PGSSL=true

# OPÇÃO 2: PostgreSQL Local (Docker) - para desenvolvimento
# Descomente e ajuste se usar Docker local
# PGHOST=localhost
# PGPORT=5432
# PGUSER=postgres
# PGPASSWORD=postgres
# PGDATABASE=pecas_db
# PGSSL=false

# Porta do servidor backend
PORT=3001

# Supabase / Keys (opcionales; evite colocar service_role em arquivos públicos)
# SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
# SUPABASE_ANON_KEY=eyJhbGci...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbG...

# Observação:
# - Integrações legadas removidas: não é necessário adicionar FIREBASE_SERVICE_ACCOUNT_JSON para o fluxo padrão.
# - Este arquivo é seguro para compartilhar no repo. O arquivo real com credenciais deve permanecer
#   em `backend/.env` e nunca ser versionado.

# --- Solução rápida para erro TLS em desenvolvimento ---
# Se você enfrentar "self-signed certificate in certificate chain" ao conectar ao
# PostgreSQL/Supabase em ambiente de desenvolvimento, você pode (apenas em dev)
# adicionar a linha abaixo no seu `.env` local para desativar a validação TLS:
#
# AVISO: Nunca use isso em produção. Essa configuração desativa a verificação de
# certificados TLS e reduz significativamente a segurança. Use apenas em máquinas
# de desenvolvimento controladas.
NODE_TLS_REJECT_UNAUTHORIZED=0

