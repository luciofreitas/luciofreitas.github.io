const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./page-QuemSomos-DFCcEZJW.js","./page-QuemSomos-BplU6agG.css","./page-NossoProjeto-CAU2rfQo.js","./page-NossoProjeto-J97cwMZf.css","./page-SejaPro-BCLXKgul.js","./page-SejaPro-MJO4Ei-h.css","./page-VersaoPro-BYf-tbht.js","./index.esm-9E13IrQ_.js","./page-VersaoPro-C1Nwk2sz.css","./page-Checkin-MdYy-wmx.js","./page-Checkin-BKAEyL34.css","./page-VersaoPro_Assinado-DHXWxoqV.js","./page-VersaoPro_Assinado-lWtUO9E5.css","./page-Contato-lPz6tzTS.js","./ContatoForm-NIVShX-G.js","./page-Contato-DOpEtLeo.css","./page-Parceiros-C2sQWC_u.js","./page-Parceiros-BQl1G1l1.css","./page-ContatoLogado-Be0soors.js","./page-ContatoLogado-IKINHp8e.css","./page-BuscarPeca-BNFfBIT5.js","./apiService-DRkEcca-.js","./glossarioData-8VebtgBN.js","./carService-Due04Svz.js","./page-BuscarPeca-B35jISkT.css","./page-Perfil-CL-estVg.js","./page-Perfil-Sx6ll7ba.css","./page-MeusCarros-CHII1J1T.js","./page-MeusCarros-D1kY6u99.css","./page-Recalls-BBDTLYOH.js","./page-Recalls-C0RVrp6n.css","./page-Guias-B1ZXzpDE.js","./useAvaliacoes-BnwVTgE-.js","./guiasService-DAw1oR7r.js","./page-Guias-CDvqYO-3.css","./page-CriarGuia-CVRlMOnJ.js","./page-CriarGuia-CXa5ZkLx.css","./page-VisualizarGuia-Bg7uLS8y.js","./page-VisualizarGuia-CHFAkNqF.css","./page-Configuracoes-B9Q3mfna.js","./page-Configuracoes-BxPaA1eK.css","./page-TabelaFIPE-CLxGjeBH.js","./page-TabelaFIPE-C1RcSvLb.css","./page-ManutencaoPreventiva-CyixiM7M.js","./page-ManutencaoPreventiva-DGteOGc1.css","./page-PecasOriginaisVsCompativeis-ZEIZ4kCM.js","./page-PecasOriginaisVsCompativeis-BfEiIfqT.css","./page-LuzesDoPainel-Ddde_JmV.js","./page-LuzesDoPainel-chB7xWMn.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Wm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function N_(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}),n}var tc={exports:{}},Ds={},nc={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function x_(){if(vp)return ye;vp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,A={};function b(R,M,fe){this.props=R,this.context=M,this.refs=A,this.updater=fe||I}b.prototype.isReactComponent={},b.prototype.setState=function(R,M){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,M,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=b.prototype;function N(R,M,fe){this.props=R,this.context=M,this.refs=A,this.updater=fe||I}var L=N.prototype=new D;L.constructor=N,P(L,b.prototype),L.isPureReactComponent=!0;var j=Array.isArray,G=Object.prototype.hasOwnProperty,K={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function ce(R,M,fe){var de,ve={},_e=null,Pe=null;if(M!=null)for(de in M.ref!==void 0&&(Pe=M.ref),M.key!==void 0&&(_e=""+M.key),M)G.call(M,de)&&!X.hasOwnProperty(de)&&(ve[de]=M[de]);var Se=arguments.length-2;if(Se===1)ve.children=fe;else if(1<Se){for(var Le=Array(Se),St=0;St<Se;St++)Le[St]=arguments[St+2];ve.children=Le}if(R&&R.defaultProps)for(de in Se=R.defaultProps,Se)ve[de]===void 0&&(ve[de]=Se[de]);return{$$typeof:i,type:R,key:_e,ref:Pe,props:ve,_owner:K.current}}function z(R,M){return{$$typeof:i,type:R.type,key:M,ref:R.ref,props:R.props,_owner:R._owner}}function me(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Ve(R){var M={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(fe){return M[fe]})}var He=/\/+/g;function Ge(R,M){return typeof R=="object"&&R!==null&&R.key!=null?Ve(""+R.key):M.toString(36)}function rt(R,M,fe,de,ve){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var Pe=!1;if(R===null)Pe=!0;else switch(_e){case"string":case"number":Pe=!0;break;case"object":switch(R.$$typeof){case i:case e:Pe=!0}}if(Pe)return Pe=R,ve=ve(Pe),R=de===""?"."+Ge(Pe,0):de,j(ve)?(fe="",R!=null&&(fe=R.replace(He,"$&/")+"/"),rt(ve,M,fe,"",function(St){return St})):ve!=null&&(me(ve)&&(ve=z(ve,fe+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(He,"$&/")+"/")+R)),M.push(ve)),1;if(Pe=0,de=de===""?".":de+":",j(R))for(var Se=0;Se<R.length;Se++){_e=R[Se];var Le=de+Ge(_e,Se);Pe+=rt(_e,M,fe,Le,ve)}else if(Le=w(R),typeof Le=="function")for(R=Le.call(R),Se=0;!(_e=R.next()).done;)_e=_e.value,Le=de+Ge(_e,Se++),Pe+=rt(_e,M,fe,Le,ve);else if(_e==="object")throw M=String(R),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Qe(R,M,fe){if(R==null)return R;var de=[],ve=0;return rt(R,de,"","",function(_e){return M.call(fe,_e,ve++)}),de}function We(R){if(R._status===-1){var M=R._result;M=M(),M.then(function(fe){(R._status===0||R._status===-1)&&(R._status=1,R._result=fe)},function(fe){(R._status===0||R._status===-1)&&(R._status=2,R._result=fe)}),R._status===-1&&(R._status=0,R._result=M)}if(R._status===1)return R._result.default;throw R._result}var xe={current:null},J={transition:null},ie={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:J,ReactCurrentOwner:K};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:Qe,forEach:function(R,M,fe){Qe(R,function(){M.apply(this,arguments)},fe)},count:function(R){var M=0;return Qe(R,function(){M++}),M},toArray:function(R){return Qe(R,function(M){return M})||[]},only:function(R){if(!me(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ye.Component=b,ye.Fragment=n,ye.Profiler=o,ye.PureComponent=N,ye.StrictMode=s,ye.Suspense=p,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ye.act=Y,ye.cloneElement=function(R,M,fe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var de=P({},R.props),ve=R.key,_e=R.ref,Pe=R._owner;if(M!=null){if(M.ref!==void 0&&(_e=M.ref,Pe=K.current),M.key!==void 0&&(ve=""+M.key),R.type&&R.type.defaultProps)var Se=R.type.defaultProps;for(Le in M)G.call(M,Le)&&!X.hasOwnProperty(Le)&&(de[Le]=M[Le]===void 0&&Se!==void 0?Se[Le]:M[Le])}var Le=arguments.length-2;if(Le===1)de.children=fe;else if(1<Le){Se=Array(Le);for(var St=0;St<Le;St++)Se[St]=arguments[St+2];de.children=Se}return{$$typeof:i,type:R.type,key:ve,ref:_e,props:de,_owner:Pe}},ye.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},ye.createElement=ce,ye.createFactory=function(R){var M=ce.bind(null,R);return M.type=R,M},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:h,render:R}},ye.isValidElement=me,ye.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:We}},ye.memo=function(R,M){return{$$typeof:m,type:R,compare:M===void 0?null:M}},ye.startTransition=function(R){var M=J.transition;J.transition={};try{R()}finally{J.transition=M}},ye.unstable_act=Y,ye.useCallback=function(R,M){return xe.current.useCallback(R,M)},ye.useContext=function(R){return xe.current.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R){return xe.current.useDeferredValue(R)},ye.useEffect=function(R,M){return xe.current.useEffect(R,M)},ye.useId=function(){return xe.current.useId()},ye.useImperativeHandle=function(R,M,fe){return xe.current.useImperativeHandle(R,M,fe)},ye.useInsertionEffect=function(R,M){return xe.current.useInsertionEffect(R,M)},ye.useLayoutEffect=function(R,M){return xe.current.useLayoutEffect(R,M)},ye.useMemo=function(R,M){return xe.current.useMemo(R,M)},ye.useReducer=function(R,M,fe){return xe.current.useReducer(R,M,fe)},ye.useRef=function(R){return xe.current.useRef(R)},ye.useState=function(R){return xe.current.useState(R)},ye.useSyncExternalStore=function(R,M,fe){return xe.current.useSyncExternalStore(R,M,fe)},ye.useTransition=function(){return xe.current.useTransition()},ye.version="18.3.1",ye}var _p;function Xc(){return _p||(_p=1,nc.exports=x_()),nc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function L_(){if(wp)return Ds;wp=1;var i=Xc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var g,_={},w=null,I=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(I=p.ref);for(g in p)s.call(p,g)&&!l.hasOwnProperty(g)&&(_[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)_[g]===void 0&&(_[g]=p[g]);return{$$typeof:e,type:h,key:w,ref:I,props:_,_owner:o.current}}return Ds.Fragment=n,Ds.jsx=c,Ds.jsxs=c,Ds}var Ep;function D_(){return Ep||(Ep=1,tc.exports=L_()),tc.exports}var v=D_();typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});var k=Xc();const Sp=Wm(k);var Ta={},rc={exports:{}},xt={},ic={exports:{}},sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function j_(){return Ip||(Ip=1,(function(i){function e(J,ie){var Y=J.length;J.push(ie);e:for(;0<Y;){var R=Y-1>>>1,M=J[R];if(0<o(M,ie))J[R]=ie,J[Y]=M,Y=R;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ie=J[0],Y=J.pop();if(Y!==ie){J[0]=Y;e:for(var R=0,M=J.length,fe=M>>>1;R<fe;){var de=2*(R+1)-1,ve=J[de],_e=de+1,Pe=J[_e];if(0>o(ve,Y))_e<M&&0>o(Pe,ve)?(J[R]=Pe,J[_e]=Y,R=_e):(J[R]=ve,J[de]=Y,R=de);else if(_e<M&&0>o(Pe,Y))J[R]=Pe,J[_e]=Y,R=_e;else break e}}return ie}function o(J,ie){var Y=J.sortIndex-ie.sortIndex;return Y!==0?Y:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var p=[],m=[],g=1,_=null,w=3,I=!1,P=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var ie=n(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=J)s(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(m)}}function j(J){if(A=!1,L(J),!P)if(n(p)!==null)P=!0,We(G);else{var ie=n(m);ie!==null&&xe(j,ie.startTime-J)}}function G(J,ie){P=!1,A&&(A=!1,D(ce),ce=-1),I=!0;var Y=w;try{for(L(ie),_=n(p);_!==null&&(!(_.expirationTime>ie)||J&&!Ve());){var R=_.callback;if(typeof R=="function"){_.callback=null,w=_.priorityLevel;var M=R(_.expirationTime<=ie);ie=i.unstable_now(),typeof M=="function"?_.callback=M:_===n(p)&&s(p),L(ie)}else s(p);_=n(p)}if(_!==null)var fe=!0;else{var de=n(m);de!==null&&xe(j,de.startTime-ie),fe=!1}return fe}finally{_=null,w=Y,I=!1}}var K=!1,X=null,ce=-1,z=5,me=-1;function Ve(){return!(i.unstable_now()-me<z)}function He(){if(X!==null){var J=i.unstable_now();me=J;var ie=!0;try{ie=X(!0,J)}finally{ie?Ge():(K=!1,X=null)}}else K=!1}var Ge;if(typeof N=="function")Ge=function(){N(He)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Qe=rt.port2;rt.port1.onmessage=He,Ge=function(){Qe.postMessage(null)}}else Ge=function(){b(He,0)};function We(J){X=J,K||(K=!0,Ge())}function xe(J,ie){ce=b(function(){J(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){P||I||(P=!0,We(G))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var Y=w;w=ie;try{return J()}finally{w=Y}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Y=w;w=J;try{return ie()}finally{w=Y}},i.unstable_scheduleCallback=function(J,ie,Y){var R=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,J){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Y+M,J={id:g++,callback:ie,priorityLevel:J,startTime:Y,expirationTime:M,sortIndex:-1},Y>R?(J.sortIndex=Y,e(m,J),n(p)===null&&J===n(m)&&(A?(D(ce),ce=-1):A=!0,xe(j,Y-R))):(J.sortIndex=M,e(p,J),P||I||(P=!0,We(G))),J},i.unstable_shouldYield=Ve,i.unstable_wrapCallback=function(J){var ie=w;return function(){var Y=w;w=ie;try{return J.apply(this,arguments)}finally{w=Y}}}})(sc)),sc}var kp;function U_(){return kp||(kp=1,ic.exports=j_()),ic.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function M_(){if(Tp)return xt;Tp=1;var i=Xc(),e=U_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(o[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(t){return p.call(_,t)?!0:p.call(g,t)?!1:m.test(t)?_[t]=!0:(g[t]=!0,!1)}function I(t,r,a,u){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P(t,r,a,u){if(r===null||typeof r>"u"||I(t,r,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function A(t,r,a,u,d,f,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=y}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new A(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new A(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new A(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new A(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new A(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new A(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new A(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new A(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new A(t,5,!1,t.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function N(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(D,N);b[r]=new A(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(D,N);b[r]=new A(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(D,N);b[r]=new A(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new A(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new A(t,1,!1,t.toLowerCase(),null,!0,!0)});function L(t,r,a,u){var d=b.hasOwnProperty(r)?b[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(P(r,a,d,u)&&(a=null),u||d===null?w(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,u=d.attributeNamespace,a===null?t.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?t.setAttributeNS(u,r,a):t.setAttribute(r,a))))}var j=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),K=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,R;function M(t){if(R===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+t}var fe=!1;function de(t,r){if(!t||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(x){var u=x}Reflect.construct(t,[],r)}else{try{r.call()}catch(x){u=x}t.call(r.prototype)}else{try{throw Error()}catch(x){u=x}t()}}catch(x){if(x&&u&&typeof x.stack=="string"){for(var d=x.stack.split(`
`),f=u.stack.split(`
`),y=d.length-1,E=f.length-1;1<=y&&0<=E&&d[y]!==f[E];)E--;for(;1<=y&&0<=E;y--,E--)if(d[y]!==f[E]){if(y!==1||E!==1)do if(y--,E--,0>E||d[y]!==f[E]){var S=`
`+d[y].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=y&&0<=E);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?M(t):""}function ve(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function _e(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case K:return"Portal";case z:return"Profiler";case ce:return"StrictMode";case Ge:return"Suspense";case rt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ve:return(t.displayName||"Context")+".Consumer";case me:return(t._context.displayName||"Context")+".Provider";case He:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qe:return r=t.displayName||null,r!==null?r:_e(t.type)||"Memo";case We:r=t._payload,t=t._init;try{return _e(t(r))}catch{}}return null}function Pe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(r);case 8:return r===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Se(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function St(t){var r=Le(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function F(t){t._valueTracker||(t._valueTracker=St(t))}function V(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=Le(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function U(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function we(t,r){var a=r.checked;return Y({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Z(t,r){var a=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;a=Se(r.value!=null?r.value:a),t._wrapperState={initialChecked:u,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function le(t,r){r=r.checked,r!=null&&L(t,"checked",r,!1)}function pe(t,r){le(t,r);var a=Se(r.value),u=r.type;if(a!=null)u==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?be(t,r.type,a):r.hasOwnProperty("defaultValue")&&be(t,r.type,Se(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Me(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function be(t,r,a){(r!=="number"||U(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Jt=Array.isArray;function hn(t,r,a,u){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Se(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Er(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yt(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(Jt(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Se(a)}}function Qi(t,r){var a=Se(r.value),u=Se(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),u!=null&&(t.defaultValue=""+u)}function zn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ie(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ie(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rt,Sr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,a,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Rt=Rt||document.createElement("div"),Rt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Rt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Jr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jy=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(t){jy.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Xi[r]=Xi[t]})});function Nd(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Xi.hasOwnProperty(t)&&Xi[t]?(""+r).trim():r+"px"}function xd(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=Nd(a,r[a],u);a==="float"&&(a="cssFloat"),u?t.setProperty(a,d):t[a]=d}}var Uy=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fl(t,r){if(r){if(Uy[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function pl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yl=null,Yr=null,Qr=null;function Ld(t){if(t=ws(t)){if(typeof yl!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Fo(r),yl(t.stateNode,t.type,r))}}function Dd(t){Yr?Qr?Qr.push(t):Qr=[t]:Yr=t}function jd(){if(Yr){var t=Yr,r=Qr;if(Qr=Yr=null,Ld(t),r)for(t=0;t<r.length;t++)Ld(r[t])}}function Ud(t,r){return t(r)}function Md(){}var vl=!1;function $d(t,r,a){if(vl)return t(r,a);vl=!0;try{return Ud(t,r,a)}finally{vl=!1,(Yr!==null||Qr!==null)&&(Md(),jd())}}function Zi(t,r){var a=t.stateNode;if(a===null)return null;var u=Fo(a);if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var _l=!1;if(h)try{var es={};Object.defineProperty(es,"passive",{get:function(){_l=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{_l=!1}function My(t,r,a,u,d,f,y,E,S){var x=Array.prototype.slice.call(arguments,3);try{r.apply(a,x)}catch(B){this.onError(B)}}var ts=!1,vo=null,_o=!1,wl=null,$y={onError:function(t){ts=!0,vo=t}};function Fy(t,r,a,u,d,f,y,E,S){ts=!1,vo=null,My.apply($y,arguments)}function By(t,r,a,u,d,f,y,E,S){if(Fy.apply(this,arguments),ts){if(ts){var x=vo;ts=!1,vo=null}else throw Error(n(198));_o||(_o=!0,wl=x)}}function Ir(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Fd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Bd(t){if(Ir(t)!==t)throw Error(n(188))}function zy(t){var r=t.alternate;if(!r){if(r=Ir(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,u=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return Bd(d),t;if(f===u)return Bd(d),r;f=f.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=f;else{for(var y=!1,E=d.child;E;){if(E===a){y=!0,a=d,u=f;break}if(E===u){y=!0,u=d,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,u=d;break}if(E===u){y=!0,u=f,a=d;break}E=E.sibling}if(!y)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function zd(t){return t=zy(t),t!==null?Vd(t):null}function Vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Vd(t);if(r!==null)return r;t=t.sibling}return null}var Hd=e.unstable_scheduleCallback,Wd=e.unstable_cancelCallback,Vy=e.unstable_shouldYield,Hy=e.unstable_requestPaint,tt=e.unstable_now,Wy=e.unstable_getCurrentPriorityLevel,El=e.unstable_ImmediatePriority,qd=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,qy=e.unstable_LowPriority,Kd=e.unstable_IdlePriority,Eo=null,fn=null;function Ky(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Eo,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Yy,Gy=Math.log,Jy=Math.LN2;function Yy(t){return t>>>=0,t===0?32:31-(Gy(t)/Jy|0)|0}var So=64,Io=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ko(t,r){var a=t.pendingLanes;if(a===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,y=a&268435455;if(y!==0){var E=y&~d;E!==0?u=ns(E):(f&=y,f!==0&&(u=ns(f)))}else y=a&~d,y!==0?u=ns(y):f!==0&&(u=ns(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)a=31-Xt(r),d=1<<a,u|=t[a],r&=~d;return u}function Qy(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xy(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var y=31-Xt(f),E=1<<y,S=d[y];S===-1?((E&a)===0||(E&u)!==0)&&(d[y]=Qy(E,r)):S<=r&&(t.expiredLanes|=E),f&=~E}}function Sl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gd(){var t=So;return So<<=1,(So&4194240)===0&&(So=64),t}function Il(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function rs(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Xt(r),t[r]=a}function Zy(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-Xt(a),f=1<<d;r[d]=0,u[d]=-1,t[d]=-1,a&=~f}}function kl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-Xt(a),d=1<<u;d&r|t[u]&r&&(t[u]|=r),a&=~d}}var Re=0;function Jd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Yd,Tl,Qd,Xd,Zd,bl=!1,To=[],Vn=null,Hn=null,Wn=null,is=new Map,ss=new Map,qn=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(t,r){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":is.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(r.pointerId)}}function os(t,r,a,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=ws(r),r!==null&&Tl(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function tv(t,r,a,u,d){switch(r){case"focusin":return Vn=os(Vn,t,r,a,u,d),!0;case"dragenter":return Hn=os(Hn,t,r,a,u,d),!0;case"mouseover":return Wn=os(Wn,t,r,a,u,d),!0;case"pointerover":var f=d.pointerId;return is.set(f,os(is.get(f)||null,t,r,a,u,d)),!0;case"gotpointercapture":return f=d.pointerId,ss.set(f,os(ss.get(f)||null,t,r,a,u,d)),!0}return!1}function th(t){var r=kr(t.target);if(r!==null){var a=Ir(r);if(a!==null){if(r=a.tag,r===13){if(r=Fd(a),r!==null){t.blockedOn=r,Zd(t.priority,function(){Qd(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Al(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);ml=u,a.target.dispatchEvent(u),ml=null}else return r=ws(a),r!==null&&Tl(r),t.blockedOn=a,!1;r.shift()}return!0}function nh(t,r,a){bo(t)&&a.delete(r)}function nv(){bl=!1,Vn!==null&&bo(Vn)&&(Vn=null),Hn!==null&&bo(Hn)&&(Hn=null),Wn!==null&&bo(Wn)&&(Wn=null),is.forEach(nh),ss.forEach(nh)}function as(t,r){t.blockedOn===r&&(t.blockedOn=null,bl||(bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nv)))}function ls(t){function r(d){return as(d,t)}if(0<To.length){as(To[0],t);for(var a=1;a<To.length;a++){var u=To[a];u.blockedOn===t&&(u.blockedOn=null)}}for(Vn!==null&&as(Vn,t),Hn!==null&&as(Hn,t),Wn!==null&&as(Wn,t),is.forEach(r),ss.forEach(r),a=0;a<qn.length;a++)u=qn[a],u.blockedOn===t&&(u.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)th(a),a.blockedOn===null&&qn.shift()}var Xr=j.ReactCurrentBatchConfig,Ro=!0;function rv(t,r,a,u){var d=Re,f=Xr.transition;Xr.transition=null;try{Re=1,Rl(t,r,a,u)}finally{Re=d,Xr.transition=f}}function iv(t,r,a,u){var d=Re,f=Xr.transition;Xr.transition=null;try{Re=4,Rl(t,r,a,u)}finally{Re=d,Xr.transition=f}}function Rl(t,r,a,u){if(Ro){var d=Al(t,r,a,u);if(d===null)Wl(t,r,u,Ao,a),eh(t,u);else if(tv(d,t,r,a,u))u.stopPropagation();else if(eh(t,u),r&4&&-1<ev.indexOf(t)){for(;d!==null;){var f=ws(d);if(f!==null&&Yd(f),f=Al(t,r,a,u),f===null&&Wl(t,r,u,Ao,a),f===d)break;d=f}d!==null&&u.stopPropagation()}else Wl(t,r,u,null,a)}}var Ao=null;function Al(t,r,a,u){if(Ao=null,t=gl(u),t=kr(t),t!==null)if(r=Ir(t),r===null)t=null;else if(a=r.tag,a===13){if(t=Fd(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ao=t,null}function rh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wy()){case El:return 1;case qd:return 4;case wo:case qy:return 16;case Kd:return 536870912;default:return 16}default:return 16}}var Kn=null,Cl=null,Co=null;function ih(){if(Co)return Co;var t,r=Cl,a=r.length,u,d="value"in Kn?Kn.value:Kn.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var y=a-t;for(u=1;u<=y&&r[a-u]===d[f-u];u++);return Co=d.slice(t,1<u?1-u:void 0)}function Po(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function sh(){return!1}function jt(t){function r(a,u,d,f,y){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oo:sh,this.isPropagationStopped=sh,this}return Y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),r}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=jt(Zr),us=Y({},Zr,{view:0,detail:0}),sv=jt(us),Ol,Nl,cs,No=Y({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(Ol=t.screenX-cs.screenX,Nl=t.screenY-cs.screenY):Nl=Ol=0,cs=t),Ol)},movementY:function(t){return"movementY"in t?t.movementY:Nl}}),oh=jt(No),ov=Y({},No,{dataTransfer:0}),av=jt(ov),lv=Y({},us,{relatedTarget:0}),xl=jt(lv),uv=Y({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=jt(uv),dv=Y({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hv=jt(dv),fv=Y({},Zr,{data:0}),ah=jt(fv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gv[t])?!!r[t]:!1}function Ll(){return yv}var vv=Y({},us,{key:function(t){if(t.key){var r=pv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_v=jt(vv),wv=Y({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=jt(wv),Ev=Y({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Sv=jt(Ev),Iv=Y({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=jt(Iv),Tv=Y({},No,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bv=jt(Tv),Rv=[9,13,27,32],Dl=h&&"CompositionEvent"in window,ds=null;h&&"documentMode"in document&&(ds=document.documentMode);var Av=h&&"TextEvent"in window&&!ds,uh=h&&(!Dl||ds&&8<ds&&11>=ds),ch=" ",dh=!1;function hh(t,r){switch(t){case"keyup":return Rv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function Cv(t,r){switch(t){case"compositionend":return fh(r);case"keypress":return r.which!==32?null:(dh=!0,ch);case"textInput":return t=r.data,t===ch&&dh?null:t;default:return null}}function Pv(t,r){if(ei)return t==="compositionend"||!Dl&&hh(t,r)?(t=ih(),Co=Cl=Kn=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uh&&r.locale!=="ko"?null:r.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ov[t.type]:r==="textarea"}function mh(t,r,a,u){Dd(u),r=Uo(r,"onChange"),0<r.length&&(a=new Pl("onChange","change",null,a,u),t.push({event:a,listeners:r}))}var hs=null,fs=null;function Nv(t){xh(t,0)}function xo(t){var r=si(t);if(V(r))return t}function xv(t,r){if(t==="change")return r}var gh=!1;if(h){var jl;if(h){var Ul="oninput"in document;if(!Ul){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Ul=typeof yh.oninput=="function"}jl=Ul}else jl=!1;gh=jl&&(!document.documentMode||9<document.documentMode)}function vh(){hs&&(hs.detachEvent("onpropertychange",_h),fs=hs=null)}function _h(t){if(t.propertyName==="value"&&xo(fs)){var r=[];mh(r,fs,t,gl(t)),$d(Nv,r)}}function Lv(t,r,a){t==="focusin"?(vh(),hs=r,fs=a,hs.attachEvent("onpropertychange",_h)):t==="focusout"&&vh()}function Dv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(fs)}function jv(t,r){if(t==="click")return xo(r)}function Uv(t,r){if(t==="input"||t==="change")return xo(r)}function Mv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Zt=typeof Object.is=="function"?Object.is:Mv;function ps(t,r){if(Zt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!p.call(r,d)||!Zt(t[d],r[d]))return!1}return!0}function wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eh(t,r){var a=wh(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wh(a)}}function Sh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ih(){for(var t=window,r=U();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=U(t.document)}return r}function Ml(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function $v(t){var r=Ih(),a=t.focusedElem,u=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Sh(a.ownerDocument.documentElement,a)){if(u!==null&&Ml(a)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=Eh(a,f);var y=Eh(a,u);d&&y&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fv=h&&"documentMode"in document&&11>=document.documentMode,ti=null,$l=null,ms=null,Fl=!1;function kh(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fl||ti==null||ti!==U(u)||(u=ti,"selectionStart"in u&&Ml(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ms&&ps(ms,u)||(ms=u,u=Uo($l,"onSelect"),0<u.length&&(r=new Pl("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=ti)))}function Lo(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ni={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},Bl={},Th={};h&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Do(t){if(Bl[t])return Bl[t];if(!ni[t])return t;var r=ni[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Th)return Bl[t]=r[a];return t}var bh=Do("animationend"),Rh=Do("animationiteration"),Ah=Do("animationstart"),Ch=Do("transitionend"),Ph=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(t,r){Ph.set(t,r),l(r,[t])}for(var zl=0;zl<Oh.length;zl++){var Vl=Oh[zl],Bv=Vl.toLowerCase(),zv=Vl[0].toUpperCase()+Vl.slice(1);Gn(Bv,"on"+zv)}Gn(bh,"onAnimationEnd"),Gn(Rh,"onAnimationIteration"),Gn(Ah,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Ch,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Nh(t,r,a){var u=t.type||"unknown-event";t.currentTarget=a,By(u,r,void 0,t),t.currentTarget=null}function xh(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],d=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var y=u.length-1;0<=y;y--){var E=u[y],S=E.instance,x=E.currentTarget;if(E=E.listener,S!==f&&d.isPropagationStopped())break e;Nh(d,E,x),f=S}else for(y=0;y<u.length;y++){if(E=u[y],S=E.instance,x=E.currentTarget,E=E.listener,S!==f&&d.isPropagationStopped())break e;Nh(d,E,x),f=S}}}if(_o)throw t=wl,_o=!1,wl=null,t}function $e(t,r){var a=r[Ql];a===void 0&&(a=r[Ql]=new Set);var u=t+"__bubble";a.has(u)||(Lh(r,t,2,!1),a.add(u))}function Hl(t,r,a){var u=0;r&&(u|=4),Lh(a,t,u,r)}var jo="_reactListening"+Math.random().toString(36).slice(2);function ys(t){if(!t[jo]){t[jo]=!0,s.forEach(function(a){a!=="selectionchange"&&(Vv.has(a)||Hl(a,!1,t),Hl(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jo]||(r[jo]=!0,Hl("selectionchange",!1,r))}}function Lh(t,r,a,u){switch(rh(r)){case 1:var d=rv;break;case 4:d=iv;break;default:d=Rl}a=d.bind(null,r,a,t),d=void 0,!_l||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function Wl(t,r,a,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var E=u.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;y=y.return}for(;E!==null;){if(y=kr(E),y===null)return;if(S=y.tag,S===5||S===6){u=f=y;continue e}E=E.parentNode}}u=u.return}$d(function(){var x=f,B=gl(a),H=[];e:{var $=Ph.get(t);if($!==void 0){var Q=Pl,te=t;switch(t){case"keypress":if(Po(a)===0)break e;case"keydown":case"keyup":Q=_v;break;case"focusin":te="focus",Q=xl;break;case"focusout":te="blur",Q=xl;break;case"beforeblur":case"afterblur":Q=xl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Sv;break;case bh:case Rh:case Ah:Q=cv;break;case Ch:Q=kv;break;case"scroll":Q=sv;break;case"wheel":Q=bv;break;case"copy":case"cut":case"paste":Q=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=lh}var ne=(r&4)!==0,nt=!ne&&t==="scroll",C=ne?$!==null?$+"Capture":null:$;ne=[];for(var T=x,O;T!==null;){O=T;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,C!==null&&(q=Zi(T,C),q!=null&&ne.push(vs(T,q,O)))),nt)break;T=T.return}0<ne.length&&($=new Q($,te,null,a,B),H.push({event:$,listeners:ne}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&a!==ml&&(te=a.relatedTarget||a.fromElement)&&(kr(te)||te[wn]))break e;if((Q||$)&&($=B.window===B?B:($=B.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(te=a.relatedTarget||a.toElement,Q=x,te=te?kr(te):null,te!==null&&(nt=Ir(te),te!==nt||te.tag!==5&&te.tag!==6)&&(te=null)):(Q=null,te=x),Q!==te)){if(ne=oh,q="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ne=lh,q="onPointerLeave",C="onPointerEnter",T="pointer"),nt=Q==null?$:si(Q),O=te==null?$:si(te),$=new ne(q,T+"leave",Q,a,B),$.target=nt,$.relatedTarget=O,q=null,kr(B)===x&&(ne=new ne(C,T+"enter",te,a,B),ne.target=O,ne.relatedTarget=nt,q=ne),nt=q,Q&&te)t:{for(ne=Q,C=te,T=0,O=ne;O;O=ri(O))T++;for(O=0,q=C;q;q=ri(q))O++;for(;0<T-O;)ne=ri(ne),T--;for(;0<O-T;)C=ri(C),O--;for(;T--;){if(ne===C||C!==null&&ne===C.alternate)break t;ne=ri(ne),C=ri(C)}ne=null}else ne=null;Q!==null&&Dh(H,$,Q,ne,!1),te!==null&&nt!==null&&Dh(H,nt,te,ne,!0)}}e:{if($=x?si(x):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var re=xv;else if(ph($))if(gh)re=Uv;else{re=Dv;var se=Lv}else(Q=$.nodeName)&&Q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(re=jv);if(re&&(re=re(t,x))){mh(H,re,a,B);break e}se&&se(t,$,x),t==="focusout"&&(se=$._wrapperState)&&se.controlled&&$.type==="number"&&be($,"number",$.value)}switch(se=x?si(x):window,t){case"focusin":(ph(se)||se.contentEditable==="true")&&(ti=se,$l=x,ms=null);break;case"focusout":ms=$l=ti=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,kh(H,a,B);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":kh(H,a,B)}var oe;if(Dl)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else ei?hh(t,a)&&(ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(uh&&a.locale!=="ko"&&(ei||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&ei&&(oe=ih()):(Kn=B,Cl="value"in Kn?Kn.value:Kn.textContent,ei=!0)),se=Uo(x,ue),0<se.length&&(ue=new ah(ue,t,null,a,B),H.push({event:ue,listeners:se}),oe?ue.data=oe:(oe=fh(a),oe!==null&&(ue.data=oe)))),(oe=Av?Cv(t,a):Pv(t,a))&&(x=Uo(x,"onBeforeInput"),0<x.length&&(B=new ah("onBeforeInput","beforeinput",null,a,B),H.push({event:B,listeners:x}),B.data=oe))}xh(H,r)})}function vs(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uo(t,r){for(var a=r+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Zi(t,a),f!=null&&u.unshift(vs(t,f,d)),f=Zi(t,r),f!=null&&u.push(vs(t,f,d))),t=t.return}return u}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dh(t,r,a,u,d){for(var f=r._reactName,y=[];a!==null&&a!==u;){var E=a,S=E.alternate,x=E.stateNode;if(S!==null&&S===u)break;E.tag===5&&x!==null&&(E=x,d?(S=Zi(a,f),S!=null&&y.unshift(vs(a,S,E))):d||(S=Zi(a,f),S!=null&&y.push(vs(a,S,E)))),a=a.return}y.length!==0&&t.push({event:r,listeners:y})}var Hv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function jh(t){return(typeof t=="string"?t:""+t).replace(Hv,`
`).replace(Wv,"")}function Mo(t,r,a){if(r=jh(r),jh(t)!==r&&a)throw Error(n(425))}function $o(){}var ql=null,Kl=null;function Gl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Uh=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Uh<"u"?function(t){return Uh.resolve(null).then(t).catch(Gv)}:Jl;function Gv(t){setTimeout(function(){throw t})}function Yl(t,r){var a=r,u=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){t.removeChild(d),ls(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);ls(r)}function Jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Mh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var ii=Math.random().toString(36).slice(2),pn="__reactFiber$"+ii,_s="__reactProps$"+ii,wn="__reactContainer$"+ii,Ql="__reactEvents$"+ii,Jv="__reactListeners$"+ii,Yv="__reactHandles$"+ii;function kr(t){var r=t[pn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[pn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Mh(t);t!==null;){if(a=t[pn])return a;t=Mh(t)}return r}t=a,a=t.parentNode}return null}function ws(t){return t=t[pn]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Fo(t){return t[_s]||null}var Xl=[],oi=-1;function Yn(t){return{current:t}}function Fe(t){0>oi||(t.current=Xl[oi],Xl[oi]=null,oi--)}function De(t,r){oi++,Xl[oi]=t.current,t.current=r}var Qn={},vt=Yn(Qn),At=Yn(!1),Tr=Qn;function ai(t,r){var a=t.type.contextTypes;if(!a)return Qn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=r[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(t){return t=t.childContextTypes,t!=null}function Bo(){Fe(At),Fe(vt)}function $h(t,r,a){if(vt.current!==Qn)throw Error(n(168));De(vt,r),De(At,a)}function Fh(t,r,a){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,Pe(t)||"Unknown",d));return Y({},a,u)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Tr=vt.current,De(vt,t),De(At,At.current),!0}function Bh(t,r,a){var u=t.stateNode;if(!u)throw Error(n(169));a?(t=Fh(t,r,Tr),u.__reactInternalMemoizedMergedChildContext=t,Fe(At),Fe(vt),De(vt,t)):Fe(At),De(At,a)}var En=null,Vo=!1,Zl=!1;function zh(t){En===null?En=[t]:En.push(t)}function Qv(t){Vo=!0,zh(t)}function Xn(){if(!Zl&&En!==null){Zl=!0;var t=0,r=Re;try{var a=En;for(Re=1;t<a.length;t++){var u=a[t];do u=u(!0);while(u!==null)}En=null,Vo=!1}catch(d){throw En!==null&&(En=En.slice(t+1)),Hd(El,Xn),d}finally{Re=r,Zl=!1}}return null}var li=[],ui=0,Ho=null,Wo=0,Bt=[],zt=0,br=null,Sn=1,In="";function Rr(t,r){li[ui++]=Wo,li[ui++]=Ho,Ho=t,Wo=r}function Vh(t,r,a){Bt[zt++]=Sn,Bt[zt++]=In,Bt[zt++]=br,br=t;var u=Sn;t=In;var d=32-Xt(u)-1;u&=~(1<<d),a+=1;var f=32-Xt(r)+d;if(30<f){var y=d-d%5;f=(u&(1<<y)-1).toString(32),u>>=y,d-=y,Sn=1<<32-Xt(r)+d|a<<d|u,In=f+t}else Sn=1<<f|a<<d|u,In=t}function eu(t){t.return!==null&&(Rr(t,1),Vh(t,1,0))}function tu(t){for(;t===Ho;)Ho=li[--ui],li[ui]=null,Wo=li[--ui],li[ui]=null;for(;t===br;)br=Bt[--zt],Bt[zt]=null,In=Bt[--zt],Bt[zt]=null,Sn=Bt[--zt],Bt[zt]=null}var Ut=null,Mt=null,qe=!1,en=null;function Hh(t,r){var a=qt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Wh(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ut=t,Mt=Jn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ut=t,Mt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=br!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=qt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Ut=t,Mt=null,!0):!1;default:return!1}}function nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ru(t){if(qe){var r=Mt;if(r){var a=r;if(!Wh(t,r)){if(nu(t))throw Error(n(418));r=Jn(a.nextSibling);var u=Ut;r&&Wh(t,r)?Hh(u,a):(t.flags=t.flags&-4097|2,qe=!1,Ut=t)}}else{if(nu(t))throw Error(n(418));t.flags=t.flags&-4097|2,qe=!1,Ut=t}}}function qh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function qo(t){if(t!==Ut)return!1;if(!qe)return qh(t),qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Gl(t.type,t.memoizedProps)),r&&(r=Mt)){if(nu(t))throw Kh(),Error(n(418));for(;r;)Hh(t,r),r=Jn(r.nextSibling)}if(qh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){Mt=Jn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}Mt=null}}else Mt=Ut?Jn(t.stateNode.nextSibling):null;return!0}function Kh(){for(var t=Mt;t;)t=Jn(t.nextSibling)}function ci(){Mt=Ut=null,qe=!1}function iu(t){en===null?en=[t]:en.push(t)}var Xv=j.ReactCurrentBatchConfig;function Es(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,t));var d=u,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(y){var E=d.refs;y===null?delete E[f]:E[f]=y},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Ko(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Gh(t){var r=t._init;return r(t._payload)}function Jh(t){function r(C,T){if(t){var O=C.deletions;O===null?(C.deletions=[T],C.flags|=16):O.push(T)}}function a(C,T){if(!t)return null;for(;T!==null;)r(C,T),T=T.sibling;return null}function u(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function d(C,T){return C=or(C,T),C.index=0,C.sibling=null,C}function f(C,T,O){return C.index=O,t?(O=C.alternate,O!==null?(O=O.index,O<T?(C.flags|=2,T):O):(C.flags|=2,T)):(C.flags|=1048576,T)}function y(C){return t&&C.alternate===null&&(C.flags|=2),C}function E(C,T,O,q){return T===null||T.tag!==6?(T=Ju(O,C.mode,q),T.return=C,T):(T=d(T,O),T.return=C,T)}function S(C,T,O,q){var re=O.type;return re===X?B(C,T,O.props.children,q,O.key):T!==null&&(T.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===We&&Gh(re)===T.type)?(q=d(T,O.props),q.ref=Es(C,T,O),q.return=C,q):(q=ya(O.type,O.key,O.props,null,C.mode,q),q.ref=Es(C,T,O),q.return=C,q)}function x(C,T,O,q){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=Yu(O,C.mode,q),T.return=C,T):(T=d(T,O.children||[]),T.return=C,T)}function B(C,T,O,q,re){return T===null||T.tag!==7?(T=Dr(O,C.mode,q,re),T.return=C,T):(T=d(T,O),T.return=C,T)}function H(C,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Ju(""+T,C.mode,O),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case G:return O=ya(T.type,T.key,T.props,null,C.mode,O),O.ref=Es(C,null,T),O.return=C,O;case K:return T=Yu(T,C.mode,O),T.return=C,T;case We:var q=T._init;return H(C,q(T._payload),O)}if(Jt(T)||ie(T))return T=Dr(T,C.mode,O,null),T.return=C,T;Ko(C,T)}return null}function $(C,T,O,q){var re=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return re!==null?null:E(C,T,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return O.key===re?S(C,T,O,q):null;case K:return O.key===re?x(C,T,O,q):null;case We:return re=O._init,$(C,T,re(O._payload),q)}if(Jt(O)||ie(O))return re!==null?null:B(C,T,O,q,null);Ko(C,O)}return null}function Q(C,T,O,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return C=C.get(O)||null,E(T,C,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case G:return C=C.get(q.key===null?O:q.key)||null,S(T,C,q,re);case K:return C=C.get(q.key===null?O:q.key)||null,x(T,C,q,re);case We:var se=q._init;return Q(C,T,O,se(q._payload),re)}if(Jt(q)||ie(q))return C=C.get(O)||null,B(T,C,q,re,null);Ko(T,q)}return null}function te(C,T,O,q){for(var re=null,se=null,oe=T,ue=T=0,ft=null;oe!==null&&ue<O.length;ue++){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var ke=$(C,oe,O[ue],q);if(ke===null){oe===null&&(oe=ft);break}t&&oe&&ke.alternate===null&&r(C,oe),T=f(ke,T,ue),se===null?re=ke:se.sibling=ke,se=ke,oe=ft}if(ue===O.length)return a(C,oe),qe&&Rr(C,ue),re;if(oe===null){for(;ue<O.length;ue++)oe=H(C,O[ue],q),oe!==null&&(T=f(oe,T,ue),se===null?re=oe:se.sibling=oe,se=oe);return qe&&Rr(C,ue),re}for(oe=u(C,oe);ue<O.length;ue++)ft=Q(oe,C,ue,O[ue],q),ft!==null&&(t&&ft.alternate!==null&&oe.delete(ft.key===null?ue:ft.key),T=f(ft,T,ue),se===null?re=ft:se.sibling=ft,se=ft);return t&&oe.forEach(function(ar){return r(C,ar)}),qe&&Rr(C,ue),re}function ne(C,T,O,q){var re=ie(O);if(typeof re!="function")throw Error(n(150));if(O=re.call(O),O==null)throw Error(n(151));for(var se=re=null,oe=T,ue=T=0,ft=null,ke=O.next();oe!==null&&!ke.done;ue++,ke=O.next()){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var ar=$(C,oe,ke.value,q);if(ar===null){oe===null&&(oe=ft);break}t&&oe&&ar.alternate===null&&r(C,oe),T=f(ar,T,ue),se===null?re=ar:se.sibling=ar,se=ar,oe=ft}if(ke.done)return a(C,oe),qe&&Rr(C,ue),re;if(oe===null){for(;!ke.done;ue++,ke=O.next())ke=H(C,ke.value,q),ke!==null&&(T=f(ke,T,ue),se===null?re=ke:se.sibling=ke,se=ke);return qe&&Rr(C,ue),re}for(oe=u(C,oe);!ke.done;ue++,ke=O.next())ke=Q(oe,C,ue,ke.value,q),ke!==null&&(t&&ke.alternate!==null&&oe.delete(ke.key===null?ue:ke.key),T=f(ke,T,ue),se===null?re=ke:se.sibling=ke,se=ke);return t&&oe.forEach(function(O_){return r(C,O_)}),qe&&Rr(C,ue),re}function nt(C,T,O,q){if(typeof O=="object"&&O!==null&&O.type===X&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case G:e:{for(var re=O.key,se=T;se!==null;){if(se.key===re){if(re=O.type,re===X){if(se.tag===7){a(C,se.sibling),T=d(se,O.props.children),T.return=C,C=T;break e}}else if(se.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===We&&Gh(re)===se.type){a(C,se.sibling),T=d(se,O.props),T.ref=Es(C,se,O),T.return=C,C=T;break e}a(C,se);break}else r(C,se);se=se.sibling}O.type===X?(T=Dr(O.props.children,C.mode,q,O.key),T.return=C,C=T):(q=ya(O.type,O.key,O.props,null,C.mode,q),q.ref=Es(C,T,O),q.return=C,C=q)}return y(C);case K:e:{for(se=O.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){a(C,T.sibling),T=d(T,O.children||[]),T.return=C,C=T;break e}else{a(C,T);break}else r(C,T);T=T.sibling}T=Yu(O,C.mode,q),T.return=C,C=T}return y(C);case We:return se=O._init,nt(C,T,se(O._payload),q)}if(Jt(O))return te(C,T,O,q);if(ie(O))return ne(C,T,O,q);Ko(C,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(a(C,T.sibling),T=d(T,O),T.return=C,C=T):(a(C,T),T=Ju(O,C.mode,q),T.return=C,C=T),y(C)):a(C,T)}return nt}var di=Jh(!0),Yh=Jh(!1),Go=Yn(null),Jo=null,hi=null,su=null;function ou(){su=hi=Jo=null}function au(t){var r=Go.current;Fe(Go),t._currentValue=r}function lu(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}}function fi(t,r){Jo=t,su=hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Pt=!0),t.firstContext=null)}function Vt(t){var r=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:r,next:null},hi===null){if(Jo===null)throw Error(n(308));hi=t,Jo.dependencies={lanes:0,firstContext:t}}else hi=hi.next=t;return r}var Ar=null;function uu(t){Ar===null?Ar=[t]:Ar.push(t)}function Qh(t,r,a,u){var d=r.interleaved;return d===null?(a.next=a,uu(r)):(a.next=d.next,d.next=a),r.interleaved=a,kn(t,u)}function kn(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Zn=!1;function cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function er(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ee&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,kn(t,a)}return d=u.interleaved,d===null?(r.next=r,uu(u)):(r.next=d.next,d.next=r),u.interleaved=r,kn(t,a)}function Yo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,kl(t,a)}}function Zh(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Qo(t,r,a,u){var d=t.updateQueue;Zn=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var S=E,x=S.next;S.next=null,y===null?f=x:y.next=x,y=S;var B=t.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==y&&(E===null?B.firstBaseUpdate=x:E.next=x,B.lastBaseUpdate=S))}if(f!==null){var H=d.baseState;y=0,B=x=S=null,E=f;do{var $=E.lane,Q=E.eventTime;if((u&$)===$){B!==null&&(B=B.next={eventTime:Q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var te=t,ne=E;switch($=r,Q=a,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){H=te.call(Q,H,$);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,$=typeof te=="function"?te.call(Q,H,$):te,$==null)break e;H=Y({},H,$);break e;case 2:Zn=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,$=d.effects,$===null?d.effects=[E]:$.push(E))}else Q={eventTime:Q,lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(x=B=Q,S=H):B=B.next=Q,y|=$;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;$=E,E=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(B===null&&(S=H),d.baseState=S,d.firstBaseUpdate=x,d.lastBaseUpdate=B,r=d.shared.interleaved,r!==null){d=r;do y|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);Or|=y,t.lanes=y,t.memoizedState=H}}function ef(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var Ss={},mn=Yn(Ss),Is=Yn(Ss),ks=Yn(Ss);function Cr(t){if(t===Ss)throw Error(n(174));return t}function du(t,r){switch(De(ks,r),De(Is,t),De(mn,Ss),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Qt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Qt(r,t)}Fe(mn),De(mn,r)}function pi(){Fe(mn),Fe(Is),Fe(ks)}function tf(t){Cr(ks.current);var r=Cr(mn.current),a=Qt(r,t.type);r!==a&&(De(Is,t),De(mn,a))}function hu(t){Is.current===t&&(Fe(mn),Fe(Is))}var Je=Yn(0);function Xo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fu=[];function pu(){for(var t=0;t<fu.length;t++)fu[t]._workInProgressVersionPrimary=null;fu.length=0}var Zo=j.ReactCurrentDispatcher,mu=j.ReactCurrentBatchConfig,Pr=0,Ye=null,lt=null,dt=null,ea=!1,Ts=!1,bs=0,Zv=0;function _t(){throw Error(n(321))}function gu(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Zt(t[a],r[a]))return!1;return!0}function yu(t,r,a,u,d,f){if(Pr=f,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Zo.current=t===null||t.memoizedState===null?r_:i_,t=a(u,d),Ts){f=0;do{if(Ts=!1,bs=0,25<=f)throw Error(n(301));f+=1,dt=lt=null,r.updateQueue=null,Zo.current=s_,t=a(u,d)}while(Ts)}if(Zo.current=ra,r=lt!==null&&lt.next!==null,Pr=0,dt=lt=Ye=null,ea=!1,r)throw Error(n(300));return t}function vu(){var t=bs!==0;return bs=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=t:dt=dt.next=t,dt}function Ht(){if(lt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var r=dt===null?Ye.memoizedState:dt.next;if(r!==null)dt=r,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?Ye.memoizedState=dt=t:dt=dt.next=t}return dt}function Rs(t,r){return typeof r=="function"?r(t):r}function _u(t){var r=Ht(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var u=lt,d=u.baseQueue,f=a.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}u.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,u=u.baseState;var E=y=null,S=null,x=f;do{var B=x.lane;if((Pr&B)===B)S!==null&&(S=S.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),u=x.hasEagerState?x.eagerState:t(u,x.action);else{var H={lane:B,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};S===null?(E=S=H,y=u):S=S.next=H,Ye.lanes|=B,Or|=B}x=x.next}while(x!==null&&x!==f);S===null?y=u:S.next=E,Zt(u,r.memoizedState)||(Pt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=S,a.lastRenderedState=u}if(t=a.interleaved,t!==null){d=t;do f=d.lane,Ye.lanes|=f,Or|=f,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function wu(t){var r=Ht(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var u=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var y=d=d.next;do f=t(f,y.action),y=y.next;while(y!==d);Zt(f,r.memoizedState)||(Pt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function nf(){}function rf(t,r){var a=Ye,u=Ht(),d=r(),f=!Zt(u.memoizedState,d);if(f&&(u.memoizedState=d,Pt=!0),u=u.queue,Eu(af.bind(null,a,u,t),[t]),u.getSnapshot!==r||f||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,As(9,of.bind(null,a,u,d,r),void 0,null),ht===null)throw Error(n(349));(Pr&30)!==0||sf(a,r,d)}return d}function sf(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function of(t,r,a,u){r.value=a,r.getSnapshot=u,lf(r)&&uf(t)}function af(t,r,a){return a(function(){lf(r)&&uf(t)})}function lf(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Zt(t,a)}catch{return!0}}function uf(t){var r=kn(t,1);r!==null&&sn(r,t,1,-1)}function cf(t){var r=gn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},r.queue=t,t=t.dispatch=n_.bind(null,Ye,t),[r.memoizedState,t]}function As(t,r,a,u){return t={tag:t,create:r,destroy:a,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t)),t}function df(){return Ht().memoizedState}function ta(t,r,a,u){var d=gn();Ye.flags|=t,d.memoizedState=As(1|r,a,void 0,u===void 0?null:u)}function na(t,r,a,u){var d=Ht();u=u===void 0?null:u;var f=void 0;if(lt!==null){var y=lt.memoizedState;if(f=y.destroy,u!==null&&gu(u,y.deps)){d.memoizedState=As(r,a,f,u);return}}Ye.flags|=t,d.memoizedState=As(1|r,a,f,u)}function hf(t,r){return ta(8390656,8,t,r)}function Eu(t,r){return na(2048,8,t,r)}function ff(t,r){return na(4,2,t,r)}function pf(t,r){return na(4,4,t,r)}function mf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gf(t,r,a){return a=a!=null?a.concat([t]):null,na(4,4,mf.bind(null,r,t),a)}function Su(){}function yf(t,r){var a=Ht();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&gu(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function vf(t,r){var a=Ht();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&gu(r,u[1])?u[0]:(t=t(),a.memoizedState=[t,r],t)}function _f(t,r,a){return(Pr&21)===0?(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=a):(Zt(a,r)||(a=Gd(),Ye.lanes|=a,Or|=a,t.baseState=!0),r)}function e_(t,r){var a=Re;Re=a!==0&&4>a?a:4,t(!0);var u=mu.transition;mu.transition={};try{t(!1),r()}finally{Re=a,mu.transition=u}}function wf(){return Ht().memoizedState}function t_(t,r,a){var u=ir(t);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Ef(t))Sf(r,a);else if(a=Qh(t,r,a,u),a!==null){var d=kt();sn(a,t,u,d),If(a,r,u)}}function n_(t,r,a){var u=ir(t),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ef(t))Sf(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var y=r.lastRenderedState,E=f(y,a);if(d.hasEagerState=!0,d.eagerState=E,Zt(E,y)){var S=r.interleaved;S===null?(d.next=d,uu(r)):(d.next=S.next,S.next=d),r.interleaved=d;return}}catch{}finally{}a=Qh(t,r,d,u),a!==null&&(d=kt(),sn(a,t,u,d),If(a,r,u))}}function Ef(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Sf(t,r){Ts=ea=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function If(t,r,a){if((a&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,kl(t,a)}}var ra={readContext:Vt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},r_={readContext:Vt,useCallback:function(t,r){return gn().memoizedState=[t,r===void 0?null:r],t},useContext:Vt,useEffect:hf,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,ta(4194308,4,mf.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ta(4194308,4,t,r)},useInsertionEffect:function(t,r){return ta(4,2,t,r)},useMemo:function(t,r){var a=gn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var u=gn();return r=a!==void 0?a(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=t_.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=gn();return t={current:t},r.memoizedState=t},useState:cf,useDebugValue:Su,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=cf(!1),r=t[0];return t=e_.bind(null,t[1]),gn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var u=Ye,d=gn();if(qe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),ht===null)throw Error(n(349));(Pr&30)!==0||sf(u,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,hf(af.bind(null,u,f,t),[t]),u.flags|=2048,As(9,of.bind(null,u,f,a,r),void 0,null),a},useId:function(){var t=gn(),r=ht.identifierPrefix;if(qe){var a=In,u=Sn;a=(u&~(1<<32-Xt(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=bs++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Zv++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},i_={readContext:Vt,useCallback:yf,useContext:Vt,useEffect:Eu,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:pf,useMemo:vf,useReducer:_u,useRef:df,useState:function(){return _u(Rs)},useDebugValue:Su,useDeferredValue:function(t){var r=Ht();return _f(r,lt.memoizedState,t)},useTransition:function(){var t=_u(Rs)[0],r=Ht().memoizedState;return[t,r]},useMutableSource:nf,useSyncExternalStore:rf,useId:wf,unstable_isNewReconciler:!1},s_={readContext:Vt,useCallback:yf,useContext:Vt,useEffect:Eu,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:pf,useMemo:vf,useReducer:wu,useRef:df,useState:function(){return wu(Rs)},useDebugValue:Su,useDeferredValue:function(t){var r=Ht();return lt===null?r.memoizedState=t:_f(r,lt.memoizedState,t)},useTransition:function(){var t=wu(Rs)[0],r=Ht().memoizedState;return[t,r]},useMutableSource:nf,useSyncExternalStore:rf,useId:wf,unstable_isNewReconciler:!1};function tn(t,r){if(t&&t.defaultProps){r=Y({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Iu(t,r,a,u){r=t.memoizedState,a=a(u,r),a=a==null?r:Y({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ia={isMounted:function(t){return(t=t._reactInternals)?Ir(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var u=kt(),d=ir(t),f=Tn(u,d);f.payload=r,a!=null&&(f.callback=a),r=er(t,f,d),r!==null&&(sn(r,t,d,u),Yo(r,t,d))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=kt(),d=ir(t),f=Tn(u,d);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=er(t,f,d),r!==null&&(sn(r,t,d,u),Yo(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kt(),u=ir(t),d=Tn(a,u);d.tag=2,r!=null&&(d.callback=r),r=er(t,d,u),r!==null&&(sn(r,t,u,a),Yo(r,t,u))}};function kf(t,r,a,u,d,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,y):r.prototype&&r.prototype.isPureReactComponent?!ps(a,u)||!ps(d,f):!0}function Tf(t,r,a){var u=!1,d=Qn,f=r.contextType;return typeof f=="object"&&f!==null?f=Vt(f):(d=Ct(r)?Tr:vt.current,u=r.contextTypes,f=(u=u!=null)?ai(t,d):Qn),r=new r(a,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ia,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),r}function bf(t,r,a,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==t&&ia.enqueueReplaceState(r,r.state,null)}function ku(t,r,a,u){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},cu(t);var f=r.contextType;typeof f=="object"&&f!==null?d.context=Vt(f):(f=Ct(r)?Tr:vt.current,d.context=ai(t,f)),d.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Iu(t,r,f,a),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&ia.enqueueReplaceState(d,d.state,null),Qo(t,a,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function mi(t,r){try{var a="",u=r;do a+=ve(u),u=u.return;while(u);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:d,digest:null}}function Tu(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function bu(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function Rf(t,r,a){a=Tn(-1,a),a.tag=3,a.payload={element:null};var u=r.value;return a.callback=function(){da||(da=!0,Bu=u),bu(t,r)},a}function Af(t,r,a){a=Tn(-1,a),a.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;a.payload=function(){return u(d)},a.callback=function(){bu(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){bu(t,r),typeof u!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),a}function Cf(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new o_;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(a)||(d.add(a),t=w_.bind(null,t,r,a),r.then(t,t))}function Pf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Of(t,r,a,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Tn(-1,1),r.tag=2,er(a,r,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var a_=j.ReactCurrentOwner,Pt=!1;function It(t,r,a,u){r.child=t===null?Yh(r,null,a,u):di(r,t.child,a,u)}function Nf(t,r,a,u,d){a=a.render;var f=r.ref;return fi(r,d),u=yu(t,r,a,u,f,d),a=vu(),t!==null&&!Pt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,bn(t,r,d)):(qe&&a&&eu(r),r.flags|=1,It(t,r,u,d),r.child)}function xf(t,r,a,u,d){if(t===null){var f=a.type;return typeof f=="function"&&!Gu(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=f,Lf(t,r,f,u,d)):(t=ya(a.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,(t.lanes&d)===0){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ps,a(y,u)&&t.ref===r.ref)return bn(t,r,d)}return r.flags|=1,t=or(f,u),t.ref=r.ref,t.return=r,r.child=t}function Lf(t,r,a,u,d){if(t!==null){var f=t.memoizedProps;if(ps(f,u)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=u=f,(t.lanes&d)!==0)(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,bn(t,r,d)}return Ru(t,r,a,u,d)}function Df(t,r,a){var u=r.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(yi,$t),$t|=a;else{if((a&1073741824)===0)return t=f!==null?f.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,De(yi,$t),$t|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:a,De(yi,$t),$t|=u}else f!==null?(u=f.baseLanes|a,r.memoizedState=null):u=a,De(yi,$t),$t|=u;return It(t,r,d,a),r.child}function jf(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Ru(t,r,a,u,d){var f=Ct(a)?Tr:vt.current;return f=ai(r,f),fi(r,d),a=yu(t,r,a,u,f,d),u=vu(),t!==null&&!Pt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,bn(t,r,d)):(qe&&u&&eu(r),r.flags|=1,It(t,r,a,d),r.child)}function Uf(t,r,a,u,d){if(Ct(a)){var f=!0;zo(r)}else f=!1;if(fi(r,d),r.stateNode===null)oa(t,r),Tf(r,a,u),ku(r,a,u,d),u=!0;else if(t===null){var y=r.stateNode,E=r.memoizedProps;y.props=E;var S=y.context,x=a.contextType;typeof x=="object"&&x!==null?x=Vt(x):(x=Ct(a)?Tr:vt.current,x=ai(r,x));var B=a.getDerivedStateFromProps,H=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function";H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==u||S!==x)&&bf(r,y,u,x),Zn=!1;var $=r.memoizedState;y.state=$,Qo(r,u,y,d),S=r.memoizedState,E!==u||$!==S||At.current||Zn?(typeof B=="function"&&(Iu(r,a,B,u),S=r.memoizedState),(E=Zn||kf(r,a,E,u,$,S,x))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=S),y.props=u,y.state=S,y.context=x,u=E):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Xh(t,r),E=r.memoizedProps,x=r.type===r.elementType?E:tn(r.type,E),y.props=x,H=r.pendingProps,$=y.context,S=a.contextType,typeof S=="object"&&S!==null?S=Vt(S):(S=Ct(a)?Tr:vt.current,S=ai(r,S));var Q=a.getDerivedStateFromProps;(B=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==H||$!==S)&&bf(r,y,u,S),Zn=!1,$=r.memoizedState,y.state=$,Qo(r,u,y,d);var te=r.memoizedState;E!==H||$!==te||At.current||Zn?(typeof Q=="function"&&(Iu(r,a,Q,u),te=r.memoizedState),(x=Zn||kf(r,a,x,u,$,te,S)||!1)?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,S)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=S,u=x):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return Au(t,r,a,u,f,d)}function Au(t,r,a,u,d,f){jf(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return d&&Bh(r,a,!1),bn(t,r,f);u=r.stateNode,a_.current=r;var E=y&&typeof a.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=di(r,t.child,null,f),r.child=di(r,null,E,f)):It(t,r,E,f),r.memoizedState=u.state,d&&Bh(r,a,!0),r.child}function Mf(t){var r=t.stateNode;r.pendingContext?$h(t,r.pendingContext,r.pendingContext!==r.context):r.context&&$h(t,r.context,!1),du(t,r.containerInfo)}function $f(t,r,a,u,d){return ci(),iu(d),r.flags|=256,It(t,r,a,u),r.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ff(t,r,a){var u=r.pendingProps,d=Je.current,f=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=t!==null&&t.memoizedState===null?!1:(d&2)!==0),E?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),De(Je,d&1),t===null)return ru(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,f?(u=r.mode,f=r.child,y={mode:"hidden",children:y},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=va(y,u,0,null),t=Dr(t,u,a,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Pu(a),r.memoizedState=Cu,t):Ou(r,y));if(d=t.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return l_(t,r,y,u,E,d,a);if(f){f=u.fallback,y=r.mode,d=t.child,E=d.sibling;var S={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=S,r.deletions=null):(u=or(d,S),u.subtreeFlags=d.subtreeFlags&14680064),E!==null?f=or(E,f):(f=Dr(f,y,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,y=t.child.memoizedState,y=y===null?Pu(a):{baseLanes:y.baseLanes|a,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=t.childLanes&~a,r.memoizedState=Cu,u}return f=t.child,t=f.sibling,u=or(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=a),u.return=r,u.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=u,r.memoizedState=null,u}function Ou(t,r){return r=va({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function sa(t,r,a,u){return u!==null&&iu(u),di(r,t.child,null,a),t=Ou(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,a,u,d,f,y){if(a)return r.flags&256?(r.flags&=-257,u=Tu(Error(n(422))),sa(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=u.fallback,d=r.mode,u=va({mode:"visible",children:u.children},d,0,null),f=Dr(f,d,y,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&di(r,t.child,null,y),r.child.memoizedState=Pu(y),r.memoizedState=Cu,f);if((r.mode&1)===0)return sa(t,r,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var E=u.dgst;return u=E,f=Error(n(419)),u=Tu(f,u,void 0),sa(t,r,y,u)}if(E=(y&t.childLanes)!==0,Pt||E){if(u=ht,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,kn(t,d),sn(u,t,d,-1))}return Ku(),u=Tu(Error(n(421))),sa(t,r,y,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=E_.bind(null,t),d._reactRetry=r,null):(t=f.treeContext,Mt=Jn(d.nextSibling),Ut=r,qe=!0,en=null,t!==null&&(Bt[zt++]=Sn,Bt[zt++]=In,Bt[zt++]=br,Sn=t.id,In=t.overflow,br=r),r=Ou(r,u.children),r.flags|=4096,r)}function Bf(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),lu(t.return,r,a)}function Nu(t,r,a,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=d)}function zf(t,r,a){var u=r.pendingProps,d=u.revealOrder,f=u.tail;if(It(t,r,u.children,a),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bf(t,a,r);else if(t.tag===19)Bf(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(De(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Xo(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Nu(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Xo(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Nu(r,!0,a,null,f);break;case"together":Nu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function oa(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function bn(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Or|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=or(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=or(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function u_(t,r,a){switch(r.tag){case 3:Mf(r),ci();break;case 5:tf(r);break;case 1:Ct(r.type)&&zo(r);break;case 4:du(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;De(Go,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(De(Je,Je.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Ff(t,r,a):(De(Je,Je.current&1),t=bn(t,r,a),t!==null?t.sibling:null);De(Je,Je.current&1);break;case 19:if(u=(a&r.childLanes)!==0,(t.flags&128)!==0){if(u)return zf(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),De(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Df(t,r,a)}return bn(t,r,a)}var Vf,xu,Hf,Wf;Vf=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xu=function(){},Hf=function(t,r,a,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Cr(mn.current);var f=null;switch(a){case"input":d=we(t,d),u=we(t,u),f=[];break;case"select":d=Y({},d,{value:void 0}),u=Y({},u,{value:void 0}),f=[];break;case"textarea":d=Er(t,d),u=Er(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=$o)}fl(a,u);var y;a=null;for(x in d)if(!u.hasOwnProperty(x)&&d.hasOwnProperty(x)&&d[x]!=null)if(x==="style"){var E=d[x];for(y in E)E.hasOwnProperty(y)&&(a||(a={}),a[y]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in u){var S=u[x];if(E=d?.[x],u.hasOwnProperty(x)&&S!==E&&(S!=null||E!=null))if(x==="style")if(E){for(y in E)!E.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(a||(a={}),a[y]="");for(y in S)S.hasOwnProperty(y)&&E[y]!==S[y]&&(a||(a={}),a[y]=S[y])}else a||(f||(f=[]),f.push(x,a)),a=S;else x==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,E=E?E.__html:void 0,S!=null&&E!==S&&(f=f||[]).push(x,S)):x==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(x,""+S):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(o.hasOwnProperty(x)?(S!=null&&x==="onScroll"&&$e("scroll",t),f||E===S||(f=[])):(f=f||[]).push(x,S))}a&&(f=f||[]).push("style",a);var x=f;(r.updateQueue=x)&&(r.flags|=4)}},Wf=function(t,r,a,u){a!==u&&(r.flags|=4)};function Cs(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function wt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function c_(t,r,a){var u=r.pendingProps;switch(tu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return Ct(r.type)&&Bo(),wt(r),null;case 3:return u=r.stateNode,pi(),Fe(At),Fe(vt),pu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(qo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,en!==null&&(Hu(en),en=null))),xu(t,r),wt(r),null;case 5:hu(r);var d=Cr(ks.current);if(a=r.type,t!==null&&r.stateNode!=null)Hf(t,r,a,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return wt(r),null}if(t=Cr(mn.current),qo(r)){u=r.stateNode,a=r.type;var f=r.memoizedProps;switch(u[pn]=r,u[_s]=f,t=(r.mode&1)!==0,a){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(d=0;d<gs.length;d++)$e(gs[d],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Z(u,f),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},$e("invalid",u);break;case"textarea":Yt(u,f),$e("invalid",u)}fl(a,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var E=f[y];y==="children"?typeof E=="string"?u.textContent!==E&&(f.suppressHydrationWarning!==!0&&Mo(u.textContent,E,t),d=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(f.suppressHydrationWarning!==!0&&Mo(u.textContent,E,t),d=["children",""+E]):o.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&$e("scroll",u)}switch(a){case"input":F(u),Me(u,f,!0);break;case"textarea":F(u),zn(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=$o)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ie(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(a,{is:u.is}):(t=y.createElement(a),a==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,a),t[pn]=r,t[_s]=u,Vf(t,r,!1,!1),r.stateNode=t;e:{switch(y=pl(a,u),a){case"dialog":$e("cancel",t),$e("close",t),d=u;break;case"iframe":case"object":case"embed":$e("load",t),d=u;break;case"video":case"audio":for(d=0;d<gs.length;d++)$e(gs[d],t);d=u;break;case"source":$e("error",t),d=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),d=u;break;case"details":$e("toggle",t),d=u;break;case"input":Z(t,u),d=we(t,u),$e("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=Y({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Yt(t,u),d=Er(t,u),$e("invalid",t);break;default:d=u}fl(a,d),E=d;for(f in E)if(E.hasOwnProperty(f)){var S=E[f];f==="style"?xd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Sr(t,S)):f==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&Jr(t,S):typeof S=="number"&&Jr(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&$e("scroll",t):S!=null&&L(t,f,S,y))}switch(a){case"input":F(t),Me(t,u,!1);break;case"textarea":F(t),zn(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Se(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?hn(t,!!u.multiple,f,!1):u.defaultValue!=null&&hn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=$o)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wt(r),null;case 6:if(t&&r.stateNode!=null)Wf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(a=Cr(ks.current),Cr(mn.current),qo(r)){if(u=r.stateNode,a=r.memoizedProps,u[pn]=r,(f=u.nodeValue!==a)&&(t=Ut,t!==null))switch(t.tag){case 3:Mo(u.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(u.nodeValue,a,(t.mode&1)!==0)}f&&(r.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[pn]=r,r.stateNode=u}return wt(r),null;case 13:if(Fe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Mt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Kh(),ci(),r.flags|=98560,f=!1;else if(f=qo(r),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[pn]=r}else ci(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),f=!1}else en!==null&&(Hu(en),en=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Je.current&1)!==0?ut===0&&(ut=3):Ku())),r.updateQueue!==null&&(r.flags|=4),wt(r),null);case 4:return pi(),xu(t,r),t===null&&ys(r.stateNode.containerInfo),wt(r),null;case 10:return au(r.type._context),wt(r),null;case 17:return Ct(r.type)&&Bo(),wt(r),null;case 19:if(Fe(Je),f=r.memoizedState,f===null)return wt(r),null;if(u=(r.flags&128)!==0,y=f.rendering,y===null)if(u)Cs(f,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Xo(t),y!==null){for(r.flags|=128,Cs(f,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=a,a=r.child;a!==null;)f=a,t=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,t=y.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return De(Je,Je.current&1|2),r.child}t=t.sibling}f.tail!==null&&tt()>vi&&(r.flags|=128,u=!0,Cs(f,!1),r.lanes=4194304)}else{if(!u)if(t=Xo(y),t!==null){if(r.flags|=128,u=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Cs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!qe)return wt(r),null}else 2*tt()-f.renderingStartTime>vi&&a!==1073741824&&(r.flags|=128,u=!0,Cs(f,!1),r.lanes=4194304);f.isBackwards?(y.sibling=r.child,r.child=y):(a=f.last,a!==null?a.sibling=y:r.child=y,f.last=y)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=tt(),r.sibling=null,a=Je.current,De(Je,u?a&1|2:a&1),r):(wt(r),null);case 22:case 23:return qu(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?($t&1073741824)!==0&&(wt(r),r.subtreeFlags&6&&(r.flags|=8192)):wt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function d_(t,r){switch(tu(r),r.tag){case 1:return Ct(r.type)&&Bo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return pi(),Fe(At),Fe(vt),pu(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return hu(r),null;case 13:if(Fe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ci()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Fe(Je),null;case 4:return pi(),null;case 10:return au(r.type._context),null;case 22:case 23:return qu(),null;case 24:return null;default:return null}}var aa=!1,Et=!1,h_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function gi(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Xe(t,r,u)}else a.current=null}function Lu(t,r,a){try{a()}catch(u){Xe(t,r,u)}}var qf=!1;function f_(t,r){if(ql=Ro,t=Ih(),Ml(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,S=-1,x=0,B=0,H=t,$=null;t:for(;;){for(var Q;H!==a||d!==0&&H.nodeType!==3||(E=y+d),H!==f||u!==0&&H.nodeType!==3||(S=y+u),H.nodeType===3&&(y+=H.nodeValue.length),(Q=H.firstChild)!==null;)$=H,H=Q;for(;;){if(H===t)break t;if($===a&&++x===d&&(E=y),$===f&&++B===u&&(S=y),(Q=H.nextSibling)!==null)break;H=$,$=H.parentNode}H=Q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kl={focusedElem:t,selectionRange:a},Ro=!1,ee=r;ee!==null;)if(r=ee,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ee=t;else for(;ee!==null;){r=ee;try{var te=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,nt=te.memoizedState,C=r.stateNode,T=C.getSnapshotBeforeUpdate(r.elementType===r.type?ne:tn(r.type,ne),nt);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Xe(r,r.return,q)}if(t=r.sibling,t!==null){t.return=r.return,ee=t;break}ee=r.return}return te=qf,qf=!1,te}function Ps(t,r,a){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&Lu(r,a,f)}d=d.next}while(d!==u)}}function la(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var u=a.create;a.destroy=u()}a=a.next}while(a!==r)}}function Du(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Kf(t){var r=t.alternate;r!==null&&(t.alternate=null,Kf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[pn],delete r[_s],delete r[Ql],delete r[Jv],delete r[Yv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gf(t){return t.tag===5||t.tag===3||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ju(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$o));else if(u!==4&&(t=t.child,t!==null))for(ju(t,r,a),t=t.sibling;t!==null;)ju(t,r,a),t=t.sibling}function Uu(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Uu(t,r,a),t=t.sibling;t!==null;)Uu(t,r,a),t=t.sibling}var gt=null,nn=!1;function tr(t,r,a){for(a=a.child;a!==null;)Yf(t,r,a),a=a.sibling}function Yf(t,r,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Eo,a)}catch{}switch(a.tag){case 5:Et||gi(a,r);case 6:var u=gt,d=nn;gt=null,tr(t,r,a),gt=u,nn=d,gt!==null&&(nn?(t=gt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(nn?(t=gt,a=a.stateNode,t.nodeType===8?Yl(t.parentNode,a):t.nodeType===1&&Yl(t,a),ls(t)):Yl(gt,a.stateNode));break;case 4:u=gt,d=nn,gt=a.stateNode.containerInfo,nn=!0,tr(t,r,a),gt=u,nn=d;break;case 0:case 11:case 14:case 15:if(!Et&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Lu(a,r,y),d=d.next}while(d!==u)}tr(t,r,a);break;case 1:if(!Et&&(gi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(E){Xe(a,r,E)}tr(t,r,a);break;case 21:tr(t,r,a);break;case 22:a.mode&1?(Et=(u=Et)||a.memoizedState!==null,tr(t,r,a),Et=u):tr(t,r,a);break;default:tr(t,r,a)}}function Qf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new h_),r.forEach(function(u){var d=S_.bind(null,t,u);a.has(u)||(a.add(u),u.then(d,d))})}}function rn(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var f=t,y=r,E=y;e:for(;E!==null;){switch(E.tag){case 5:gt=E.stateNode,nn=!1;break e;case 3:gt=E.stateNode.containerInfo,nn=!0;break e;case 4:gt=E.stateNode.containerInfo,nn=!0;break e}E=E.return}if(gt===null)throw Error(n(160));Yf(f,y,d),gt=null,nn=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(x){Xe(d,r,x)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Xf(r,t),r=r.sibling}function Xf(t,r){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(r,t),yn(t),u&4){try{Ps(3,t,t.return),la(3,t)}catch(ne){Xe(t,t.return,ne)}try{Ps(5,t,t.return)}catch(ne){Xe(t,t.return,ne)}}break;case 1:rn(r,t),yn(t),u&512&&a!==null&&gi(a,a.return);break;case 5:if(rn(r,t),yn(t),u&512&&a!==null&&gi(a,a.return),t.flags&32){var d=t.stateNode;try{Jr(d,"")}catch(ne){Xe(t,t.return,ne)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,y=a!==null?a.memoizedProps:f,E=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{E==="input"&&f.type==="radio"&&f.name!=null&&le(d,f),pl(E,y);var x=pl(E,f);for(y=0;y<S.length;y+=2){var B=S[y],H=S[y+1];B==="style"?xd(d,H):B==="dangerouslySetInnerHTML"?Sr(d,H):B==="children"?Jr(d,H):L(d,B,H,x)}switch(E){case"input":pe(d,f);break;case"textarea":Qi(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?hn(d,!!f.multiple,Q,!1):$!==!!f.multiple&&(f.defaultValue!=null?hn(d,!!f.multiple,f.defaultValue,!0):hn(d,!!f.multiple,f.multiple?[]:"",!1))}d[_s]=f}catch(ne){Xe(t,t.return,ne)}}break;case 6:if(rn(r,t),yn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(ne){Xe(t,t.return,ne)}}break;case 3:if(rn(r,t),yn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(r.containerInfo)}catch(ne){Xe(t,t.return,ne)}break;case 4:rn(r,t),yn(t);break;case 13:rn(r,t),yn(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Fu=tt())),u&4&&Qf(t);break;case 22:if(B=a!==null&&a.memoizedState!==null,t.mode&1?(Et=(x=Et)||B,rn(r,t),Et=x):rn(r,t),yn(t),u&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!B&&(t.mode&1)!==0)for(ee=t,B=t.child;B!==null;){for(H=ee=B;ee!==null;){switch($=ee,Q=$.child,$.tag){case 0:case 11:case 14:case 15:Ps(4,$,$.return);break;case 1:gi($,$.return);var te=$.stateNode;if(typeof te.componentWillUnmount=="function"){u=$,a=$.return;try{r=u,te.props=r.memoizedProps,te.state=r.memoizedState,te.componentWillUnmount()}catch(ne){Xe(u,a,ne)}}break;case 5:gi($,$.return);break;case 22:if($.memoizedState!==null){tp(H);continue}}Q!==null?(Q.return=$,ee=Q):tp(H)}B=B.sibling}e:for(B=null,H=t;;){if(H.tag===5){if(B===null){B=H;try{d=H.stateNode,x?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(E=H.stateNode,S=H.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,E.style.display=Nd("display",y))}catch(ne){Xe(t,t.return,ne)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(ne){Xe(t,t.return,ne)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===t)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===t)break e;for(;H.sibling===null;){if(H.return===null||H.return===t)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:rn(r,t),yn(t),u&4&&Qf(t);break;case 21:break;default:rn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Gf(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Jr(d,""),u.flags&=-33);var f=Jf(t);Uu(t,f,d);break;case 3:case 4:var y=u.stateNode.containerInfo,E=Jf(t);ju(t,E,y);break;default:throw Error(n(161))}}catch(S){Xe(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function p_(t,r,a){ee=t,Zf(t)}function Zf(t,r,a){for(var u=(t.mode&1)!==0;ee!==null;){var d=ee,f=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||aa;if(!y){var E=d.alternate,S=E!==null&&E.memoizedState!==null||Et;E=aa;var x=Et;if(aa=y,(Et=S)&&!x)for(ee=d;ee!==null;)y=ee,S=y.child,y.tag===22&&y.memoizedState!==null?np(d):S!==null?(S.return=y,ee=S):np(d);for(;f!==null;)ee=f,Zf(f),f=f.sibling;ee=d,aa=E,Et=x}ep(t)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,ee=f):ep(t)}}function ep(t){for(;ee!==null;){var r=ee;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Et||la(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Et)if(a===null)u.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:tn(r.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&ef(r,f,u);break;case 3:var y=r.updateQueue;if(y!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}ef(r,y,a)}break;case 5:var E=r.stateNode;if(a===null&&r.flags&4){a=E;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var x=r.alternate;if(x!==null){var B=x.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&ls(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Et||r.flags&512&&Du(r)}catch($){Xe(r,r.return,$)}}if(r===t){ee=null;break}if(a=r.sibling,a!==null){a.return=r.return,ee=a;break}ee=r.return}}function tp(t){for(;ee!==null;){var r=ee;if(r===t){ee=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ee=a;break}ee=r.return}}function np(t){for(;ee!==null;){var r=ee;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{la(4,r)}catch(S){Xe(r,a,S)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(S){Xe(r,d,S)}}var f=r.return;try{Du(r)}catch(S){Xe(r,f,S)}break;case 5:var y=r.return;try{Du(r)}catch(S){Xe(r,y,S)}}}catch(S){Xe(r,r.return,S)}if(r===t){ee=null;break}var E=r.sibling;if(E!==null){E.return=r.return,ee=E;break}ee=r.return}}var m_=Math.ceil,ua=j.ReactCurrentDispatcher,Mu=j.ReactCurrentOwner,Wt=j.ReactCurrentBatchConfig,Ee=0,ht=null,it=null,yt=0,$t=0,yi=Yn(0),ut=0,Os=null,Or=0,ca=0,$u=0,Ns=null,Ot=null,Fu=0,vi=1/0,Rn=null,da=!1,Bu=null,nr=null,ha=!1,rr=null,fa=0,xs=0,zu=null,pa=-1,ma=0;function kt(){return(Ee&6)!==0?tt():pa!==-1?pa:pa=tt()}function ir(t){return(t.mode&1)===0?1:(Ee&2)!==0&&yt!==0?yt&-yt:Xv.transition!==null?(ma===0&&(ma=Gd()),ma):(t=Re,t!==0||(t=window.event,t=t===void 0?16:rh(t.type)),t)}function sn(t,r,a,u){if(50<xs)throw xs=0,zu=null,Error(n(185));rs(t,a,u),((Ee&2)===0||t!==ht)&&(t===ht&&((Ee&2)===0&&(ca|=a),ut===4&&sr(t,yt)),Nt(t,u),a===1&&Ee===0&&(r.mode&1)===0&&(vi=tt()+500,Vo&&Xn()))}function Nt(t,r){var a=t.callbackNode;Xy(t,r);var u=ko(t,t===ht?yt:0);if(u===0)a!==null&&Wd(a),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(a!=null&&Wd(a),r===1)t.tag===0?Qv(ip.bind(null,t)):zh(ip.bind(null,t)),Kv(function(){(Ee&6)===0&&Xn()}),a=null;else{switch(Jd(u)){case 1:a=El;break;case 4:a=qd;break;case 16:a=wo;break;case 536870912:a=Kd;break;default:a=wo}a=hp(a,rp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function rp(t,r){if(pa=-1,ma=0,(Ee&6)!==0)throw Error(n(327));var a=t.callbackNode;if(_i()&&t.callbackNode!==a)return null;var u=ko(t,t===ht?yt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=ga(t,u);else{r=u;var d=Ee;Ee|=2;var f=op();(ht!==t||yt!==r)&&(Rn=null,vi=tt()+500,xr(t,r));do try{v_();break}catch(E){sp(t,E)}while(!0);ou(),ua.current=f,Ee=d,it!==null?r=0:(ht=null,yt=0,r=ut)}if(r!==0){if(r===2&&(d=Sl(t),d!==0&&(u=d,r=Vu(t,d))),r===1)throw a=Os,xr(t,0),sr(t,u),Nt(t,tt()),a;if(r===6)sr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!g_(d)&&(r=ga(t,u),r===2&&(f=Sl(t),f!==0&&(u=f,r=Vu(t,f))),r===1))throw a=Os,xr(t,0),sr(t,u),Nt(t,tt()),a;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Lr(t,Ot,Rn);break;case 3:if(sr(t,u),(u&130023424)===u&&(r=Fu+500-tt(),10<r)){if(ko(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){kt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Jl(Lr.bind(null,t,Ot,Rn),r);break}Lr(t,Ot,Rn);break;case 4:if(sr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var y=31-Xt(u);f=1<<y,y=r[y],y>d&&(d=y),u&=~f}if(u=d,u=tt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*m_(u/1960))-u,10<u){t.timeoutHandle=Jl(Lr.bind(null,t,Ot,Rn),u);break}Lr(t,Ot,Rn);break;case 5:Lr(t,Ot,Rn);break;default:throw Error(n(329))}}}return Nt(t,tt()),t.callbackNode===a?rp.bind(null,t):null}function Vu(t,r){var a=Ns;return t.current.memoizedState.isDehydrated&&(xr(t,r).flags|=256),t=ga(t,r),t!==2&&(r=Ot,Ot=a,r!==null&&Hu(r)),t}function Hu(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function g_(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],f=d.getSnapshot;d=d.value;try{if(!Zt(f(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(t,r){for(r&=~$u,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-Xt(r),u=1<<a;t[a]=-1,r&=~u}}function ip(t){if((Ee&6)!==0)throw Error(n(327));_i();var r=ko(t,0);if((r&1)===0)return Nt(t,tt()),null;var a=ga(t,r);if(t.tag!==0&&a===2){var u=Sl(t);u!==0&&(r=u,a=Vu(t,u))}if(a===1)throw a=Os,xr(t,0),sr(t,r),Nt(t,tt()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Lr(t,Ot,Rn),Nt(t,tt()),null}function Wu(t,r){var a=Ee;Ee|=1;try{return t(r)}finally{Ee=a,Ee===0&&(vi=tt()+500,Vo&&Xn())}}function Nr(t){rr!==null&&rr.tag===0&&(Ee&6)===0&&_i();var r=Ee;Ee|=1;var a=Wt.transition,u=Re;try{if(Wt.transition=null,Re=1,t)return t()}finally{Re=u,Wt.transition=a,Ee=r,(Ee&6)===0&&Xn()}}function qu(){$t=yi.current,Fe(yi)}function xr(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,qv(a)),it!==null)for(a=it.return;a!==null;){var u=a;switch(tu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Bo();break;case 3:pi(),Fe(At),Fe(vt),pu();break;case 5:hu(u);break;case 4:pi();break;case 13:Fe(Je);break;case 19:Fe(Je);break;case 10:au(u.type._context);break;case 22:case 23:qu()}a=a.return}if(ht=t,it=t=or(t.current,null),yt=$t=r,ut=0,Os=null,$u=ca=Or=0,Ot=Ns=null,Ar!==null){for(r=0;r<Ar.length;r++)if(a=Ar[r],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,f=a.pending;if(f!==null){var y=f.next;f.next=d,u.next=y}a.pending=u}Ar=null}return t}function sp(t,r){do{var a=it;try{if(ou(),Zo.current=ra,ea){for(var u=Ye.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}ea=!1}if(Pr=0,dt=lt=Ye=null,Ts=!1,bs=0,Mu.current=null,a===null||a.return===null){ut=1,Os=r,it=null;break}e:{var f=t,y=a.return,E=a,S=r;if(r=yt,E.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var x=S,B=E,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var $=B.alternate;$?(B.updateQueue=$.updateQueue,B.memoizedState=$.memoizedState,B.lanes=$.lanes):(B.updateQueue=null,B.memoizedState=null)}var Q=Pf(y);if(Q!==null){Q.flags&=-257,Of(Q,y,E,f,r),Q.mode&1&&Cf(f,x,r),r=Q,S=x;var te=r.updateQueue;if(te===null){var ne=new Set;ne.add(S),r.updateQueue=ne}else te.add(S);break e}else{if((r&1)===0){Cf(f,x,r),Ku();break e}S=Error(n(426))}}else if(qe&&E.mode&1){var nt=Pf(y);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),Of(nt,y,E,f,r),iu(mi(S,E));break e}}f=S=mi(S,E),ut!==4&&(ut=2),Ns===null?Ns=[f]:Ns.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var C=Rf(f,S,r);Zh(f,C);break e;case 1:E=S;var T=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(nr===null||!nr.has(O)))){f.flags|=65536,r&=-r,f.lanes|=r;var q=Af(f,E,r);Zh(f,q);break e}}f=f.return}while(f!==null)}lp(a)}catch(re){r=re,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function op(){var t=ua.current;return ua.current=ra,t===null?ra:t}function Ku(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||(Or&268435455)===0&&(ca&268435455)===0||sr(ht,yt)}function ga(t,r){var a=Ee;Ee|=2;var u=op();(ht!==t||yt!==r)&&(Rn=null,xr(t,r));do try{y_();break}catch(d){sp(t,d)}while(!0);if(ou(),Ee=a,ua.current=u,it!==null)throw Error(n(261));return ht=null,yt=0,ut}function y_(){for(;it!==null;)ap(it)}function v_(){for(;it!==null&&!Vy();)ap(it)}function ap(t){var r=dp(t.alternate,t,$t);t.memoizedProps=t.pendingProps,r===null?lp(t):it=r,Mu.current=null}function lp(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=c_(a,r,$t),a!==null){it=a;return}}else{if(a=d_(a,r),a!==null){a.flags&=32767,it=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ut===0&&(ut=5)}function Lr(t,r,a){var u=Re,d=Wt.transition;try{Wt.transition=null,Re=1,__(t,r,a,u)}finally{Wt.transition=d,Re=u}return null}function __(t,r,a,u){do _i();while(rr!==null);if((Ee&6)!==0)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=a.lanes|a.childLanes;if(Zy(t,f),t===ht&&(it=ht=null,yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ha||(ha=!0,hp(wo,function(){return _i(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=Wt.transition,Wt.transition=null;var y=Re;Re=1;var E=Ee;Ee|=4,Mu.current=null,f_(t,a),Xf(a,t),$v(Kl),Ro=!!ql,Kl=ql=null,t.current=a,p_(a),Hy(),Ee=E,Re=y,Wt.transition=f}else t.current=a;if(ha&&(ha=!1,rr=t,fa=d),f=t.pendingLanes,f===0&&(nr=null),Ky(a.stateNode),Nt(t,tt()),r!==null)for(u=t.onRecoverableError,a=0;a<r.length;a++)d=r[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(da)throw da=!1,t=Bu,Bu=null,t;return(fa&1)!==0&&t.tag!==0&&_i(),f=t.pendingLanes,(f&1)!==0?t===zu?xs++:(xs=0,zu=t):xs=0,Xn(),null}function _i(){if(rr!==null){var t=Jd(fa),r=Wt.transition,a=Re;try{if(Wt.transition=null,Re=16>t?16:t,rr===null)var u=!1;else{if(t=rr,rr=null,fa=0,(Ee&6)!==0)throw Error(n(331));var d=Ee;for(Ee|=4,ee=t.current;ee!==null;){var f=ee,y=f.child;if((ee.flags&16)!==0){var E=f.deletions;if(E!==null){for(var S=0;S<E.length;S++){var x=E[S];for(ee=x;ee!==null;){var B=ee;switch(B.tag){case 0:case 11:case 15:Ps(8,B,f)}var H=B.child;if(H!==null)H.return=B,ee=H;else for(;ee!==null;){B=ee;var $=B.sibling,Q=B.return;if(Kf(B),B===x){ee=null;break}if($!==null){$.return=Q,ee=$;break}ee=Q}}}var te=f.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var nt=ne.sibling;ne.sibling=null,ne=nt}while(ne!==null)}}ee=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,ee=y;else e:for(;ee!==null;){if(f=ee,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ps(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,ee=C;break e}ee=f.return}}var T=t.current;for(ee=T;ee!==null;){y=ee;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,ee=O;else e:for(y=T;ee!==null;){if(E=ee,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:la(9,E)}}catch(re){Xe(E,E.return,re)}if(E===y){ee=null;break e}var q=E.sibling;if(q!==null){q.return=E.return,ee=q;break e}ee=E.return}}if(Ee=d,Xn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Eo,t)}catch{}u=!0}return u}finally{Re=a,Wt.transition=r}}return!1}function up(t,r,a){r=mi(a,r),r=Rf(t,r,1),t=er(t,r,1),r=kt(),t!==null&&(rs(t,1,r),Nt(t,r))}function Xe(t,r,a){if(t.tag===3)up(t,t,a);else for(;r!==null;){if(r.tag===3){up(r,t,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){t=mi(a,t),t=Af(r,t,1),r=er(r,t,1),t=kt(),r!==null&&(rs(r,1,t),Nt(r,t));break}}r=r.return}}function w_(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),r=kt(),t.pingedLanes|=t.suspendedLanes&a,ht===t&&(yt&a)===a&&(ut===4||ut===3&&(yt&130023424)===yt&&500>tt()-Fu?xr(t,0):$u|=a),Nt(t,r)}function cp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var a=kt();t=kn(t,r),t!==null&&(rs(t,r,a),Nt(t,a))}function E_(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),cp(t,a)}function S_(t,r){var a=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),cp(t,a)}var dp;dp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||At.current)Pt=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return Pt=!1,u_(t,r,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(r.flags&1048576)!==0&&Vh(r,Wo,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;oa(t,r),t=r.pendingProps;var d=ai(r,vt.current);fi(r,a),d=yu(null,r,u,t,d,a);var f=vu();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ct(u)?(f=!0,zo(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,cu(r),d.updater=ia,r.stateNode=d,d._reactInternals=r,ku(r,u,t,a),r=Au(null,r,u,!0,f,a)):(r.tag=0,qe&&f&&eu(r),It(null,r,d,a),r=r.child),r;case 16:u=r.elementType;e:{switch(oa(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=k_(u),t=tn(u,t),d){case 0:r=Ru(null,r,u,t,a);break e;case 1:r=Uf(null,r,u,t,a);break e;case 11:r=Nf(null,r,u,t,a);break e;case 14:r=xf(null,r,u,tn(u.type,t),a);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:tn(u,d),Ru(t,r,u,d,a);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:tn(u,d),Uf(t,r,u,d,a);case 3:e:{if(Mf(r),t===null)throw Error(n(387));u=r.pendingProps,f=r.memoizedState,d=f.element,Xh(t,r),Qo(r,u,null,a);var y=r.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=mi(Error(n(423)),r),r=$f(t,r,u,a,d);break e}else if(u!==d){d=mi(Error(n(424)),r),r=$f(t,r,u,a,d);break e}else for(Mt=Jn(r.stateNode.containerInfo.firstChild),Ut=r,qe=!0,en=null,a=Yh(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ci(),u===d){r=bn(t,r,a);break e}It(t,r,u,a)}r=r.child}return r;case 5:return tf(r),t===null&&ru(r),u=r.type,d=r.pendingProps,f=t!==null?t.memoizedProps:null,y=d.children,Gl(u,d)?y=null:f!==null&&Gl(u,f)&&(r.flags|=32),jf(t,r),It(t,r,y,a),r.child;case 6:return t===null&&ru(r),null;case 13:return Ff(t,r,a);case 4:return du(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=di(r,null,u,a):It(t,r,u,a),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:tn(u,d),Nf(t,r,u,d,a);case 7:return It(t,r,r.pendingProps,a),r.child;case 8:return It(t,r,r.pendingProps.children,a),r.child;case 12:return It(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,f=r.memoizedProps,y=d.value,De(Go,u._currentValue),u._currentValue=y,f!==null)if(Zt(f.value,y)){if(f.children===d.children&&!At.current){r=bn(t,r,a);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var E=f.dependencies;if(E!==null){y=f.child;for(var S=E.firstContext;S!==null;){if(S.context===u){if(f.tag===1){S=Tn(-1,a&-a),S.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var B=x.pending;B===null?S.next=S:(S.next=B.next,B.next=S),x.pending=S}}f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),lu(f.return,a,r),E.lanes|=a;break}S=S.next}}else if(f.tag===10)y=f.type===r.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(n(341));y.lanes|=a,E=y.alternate,E!==null&&(E.lanes|=a),lu(y,a,r),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===r){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}It(t,r,d.children,a),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,fi(r,a),d=Vt(d),u=u(d),r.flags|=1,It(t,r,u,a),r.child;case 14:return u=r.type,d=tn(u,r.pendingProps),d=tn(u.type,d),xf(t,r,u,d,a);case 15:return Lf(t,r,r.type,r.pendingProps,a);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:tn(u,d),oa(t,r),r.tag=1,Ct(u)?(t=!0,zo(r)):t=!1,fi(r,a),Tf(r,u,d),ku(r,u,d,a),Au(null,r,u,!0,t,a);case 19:return zf(t,r,a);case 22:return Df(t,r,a)}throw Error(n(156,r.tag))};function hp(t,r){return Hd(t,r)}function I_(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,r,a,u){return new I_(t,r,a,u)}function Gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k_(t){if(typeof t=="function")return Gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===He)return 11;if(t===Qe)return 14}return 2}function or(t,r){var a=t.alternate;return a===null?(a=qt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ya(t,r,a,u,d,f){var y=2;if(u=t,typeof t=="function")Gu(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case X:return Dr(a.children,d,f,r);case ce:y=8,d|=8;break;case z:return t=qt(12,a,r,d|2),t.elementType=z,t.lanes=f,t;case Ge:return t=qt(13,a,r,d),t.elementType=Ge,t.lanes=f,t;case rt:return t=qt(19,a,r,d),t.elementType=rt,t.lanes=f,t;case xe:return va(a,d,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:y=10;break e;case Ve:y=9;break e;case He:y=11;break e;case Qe:y=14;break e;case We:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=qt(y,a,r,d),r.elementType=t,r.type=u,r.lanes=f,r}function Dr(t,r,a,u){return t=qt(7,t,u,r),t.lanes=a,t}function va(t,r,a,u){return t=qt(22,t,u,r),t.elementType=xe,t.lanes=a,t.stateNode={isHidden:!1},t}function Ju(t,r,a){return t=qt(6,t,null,r),t.lanes=a,t}function Yu(t,r,a){return r=qt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function T_(t,r,a,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Qu(t,r,a,u,d,f,y,E,S){return t=new T_(t,r,a,E,S),r===1?(r=1,f===!0&&(r|=8)):r=0,f=qt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(f),t}function b_(t,r,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:t,containerInfo:r,implementation:a}}function fp(t){if(!t)return Qn;t=t._reactInternals;e:{if(Ir(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ct(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Ct(a))return Fh(t,a,r)}return r}function pp(t,r,a,u,d,f,y,E,S){return t=Qu(a,u,!0,t,d,f,y,E,S),t.context=fp(null),a=t.current,u=kt(),d=ir(a),f=Tn(u,d),f.callback=r??null,er(a,f,d),t.current.lanes=d,rs(t,d,u),Nt(t,u),t}function _a(t,r,a,u){var d=r.current,f=kt(),y=ir(d);return a=fp(a),r.context===null?r.context=a:r.pendingContext=a,r=Tn(f,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=er(d,r,y),t!==null&&(sn(t,d,y,f),Yo(t,d,y)),y}function wa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Xu(t,r){mp(t,r),(t=t.alternate)&&mp(t,r)}function R_(){return null}var gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zu(t){this._internalRoot=t}Ea.prototype.render=Zu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));_a(t,r,null,null)},Ea.prototype.unmount=Zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Nr(function(){_a(null,t,null,null)}),r[wn]=null}};function Ea(t){this._internalRoot=t}Ea.prototype.unstable_scheduleHydration=function(t){if(t){var r=Xd();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qn.length&&r!==0&&r<qn[a].priority;a++);qn.splice(a,0,t),a===0&&th(t)}};function ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yp(){}function A_(t,r,a,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var x=wa(y);f.call(x)}}var y=pp(r,u,t,0,null,!1,!1,"",yp);return t._reactRootContainer=y,t[wn]=y.current,ys(t.nodeType===8?t.parentNode:t),Nr(),y}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var E=u;u=function(){var x=wa(S);E.call(x)}}var S=Qu(t,0,!1,null,null,!1,!1,"",yp);return t._reactRootContainer=S,t[wn]=S.current,ys(t.nodeType===8?t.parentNode:t),Nr(function(){_a(r,S,a,u)}),S}function Ia(t,r,a,u,d){var f=a._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var E=d;d=function(){var S=wa(y);E.call(S)}}_a(r,y,t,d)}else y=A_(a,r,t,d,u);return wa(y)}Yd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=ns(r.pendingLanes);a!==0&&(kl(r,a|1),Nt(r,tt()),(Ee&6)===0&&(vi=tt()+500,Xn()))}break;case 13:Nr(function(){var u=kn(t,1);if(u!==null){var d=kt();sn(u,t,1,d)}}),Xu(t,1)}},Tl=function(t){if(t.tag===13){var r=kn(t,134217728);if(r!==null){var a=kt();sn(r,t,134217728,a)}Xu(t,134217728)}},Qd=function(t){if(t.tag===13){var r=ir(t),a=kn(t,r);if(a!==null){var u=kt();sn(a,t,r,u)}Xu(t,r)}},Xd=function(){return Re},Zd=function(t,r){var a=Re;try{return Re=t,r()}finally{Re=a}},yl=function(t,r,a){switch(r){case"input":if(pe(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var d=Fo(u);if(!d)throw Error(n(90));V(u),pe(u,d)}}}break;case"textarea":Qi(t,a);break;case"select":r=a.value,r!=null&&hn(t,!!a.multiple,r,!1)}},Ud=Wu,Md=Nr;var C_={usingClientEntryPoint:!1,Events:[ws,si,Fo,Dd,jd,Wu]},Ls={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P_={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||R_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Eo=ka.inject(P_),fn=ka}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_,xt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(r))throw Error(n(200));return b_(t,r,null,a)},xt.createRoot=function(t,r){if(!ec(t))throw Error(n(299));var a=!1,u="",d=gp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Qu(t,1,!1,null,null,a,!1,u,d),t[wn]=r.current,ys(t.nodeType===8?t.parentNode:t),new Zu(r)},xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=zd(r),t=t===null?null:t.stateNode,t},xt.flushSync=function(t){return Nr(t)},xt.hydrate=function(t,r,a){if(!Sa(r))throw Error(n(200));return Ia(null,t,r,!0,a)},xt.hydrateRoot=function(t,r,a){if(!ec(t))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,d=!1,f="",y=gp;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),r=pp(r,null,t,1,a??null,d,!1,f,y),t[wn]=r.current,ys(t),u)for(t=0;t<u.length;t++)a=u[t],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new Ea(r)},xt.render=function(t,r,a){if(!Sa(r))throw Error(n(200));return Ia(null,t,r,!1,a)},xt.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(n(40));return t._reactRootContainer?(Nr(function(){Ia(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1},xt.unstable_batchedUpdates=Wu,xt.unstable_renderSubtreeIntoContainer=function(t,r,a,u){if(!Sa(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ia(t,r,a,!1,u)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var bp;function qm(){if(bp)return rc.exports;bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rc.exports=M_(),rc.exports}var Rp;function $_(){if(Rp)return Ta;Rp=1;var i=qm();return Ta.createRoot=i.createRoot,Ta.hydrateRoot=i.hydrateRoot,Ta}var F_=$_();(function(){if(typeof window>"u"||typeof document>"u")return;function e(){try{Array.from(document.querySelectorAll("div[id]")).forEach(o=>{if(o.hasAttribute("role")||o.hasAttribute("aria-labelledby"))return;const l=o.querySelector("h1, h2, h3, h4, h5, h6");if(l){if(!l.id){const c=o.id||"region";let h=`${c}-heading`,p=1;for(;document.getElementById(h);)h=`${c}-heading-${p++}`;l.id=h}o.setAttribute("role","region"),o.setAttribute("aria-labelledby",l.id)}})}catch(s){console.warn("addRegionRoles: failed to apply roles",s)}}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(e,0):window.addEventListener("DOMContentLoaded",()=>setTimeout(e,0));const n=history.pushState;history.pushState=function(){n.apply(this,arguments),setTimeout(e,60)},window.addEventListener("popstate",()=>setTimeout(e,60))})();const B_="modulepreload",z_=function(i,e){return new URL(i,e).href},Ap={},Oe=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=m(n.map(g=>{if(g=z_(g,s),g in Ap)return;Ap[g]=!0;const _=g.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(s)for(let P=c.length-1;P>=0;P--){const A=c[P];if(A.href===g&&(!_||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${w}`))return;const I=document.createElement("link");if(I.rel=_?"stylesheet":B_,_||(I.as="script"),I.crossOrigin="",I.href=g,p&&I.setAttribute("nonce",p),document.head.appendChild(I),_)return new Promise((P,A)=>{I.addEventListener("load",P),I.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cp="popstate";function V_(i={}){function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=Wr(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Oc("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:Js(l))}function s(o,l){Kt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return W_(e,n,s,i)}function Ke(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Kt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H_(){return Math.random().toString(36).substring(2,10)}function Pp(i,e){return{usr:i.state,key:i.key,idx:e}}function Oc(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Wr(e):e,state:n,key:e&&e.key||s||H_()}}function Js({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Wr(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function W_(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,h="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function _(){h="POP";let b=g(),D=b==null?null:b-m;m=b,p&&p({action:h,location:A.location,delta:D})}function w(b,D){h="PUSH";let N=Oc(A.location,b,D);n&&n(N,b),m=g()+1;let L=Pp(N,m),j=A.createHref(N);try{c.pushState(L,"",j)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(j)}l&&p&&p({action:h,location:A.location,delta:1})}function I(b,D){h="REPLACE";let N=Oc(A.location,b,D);n&&n(N,b),m=g();let L=Pp(N,m),j=A.createHref(N);c.replaceState(L,"",j),l&&p&&p({action:h,location:A.location,delta:0})}function P(b){return q_(b)}let A={get action(){return h},get location(){return i(o,c)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Cp,_),p=b,()=>{o.removeEventListener(Cp,_),p=null}},createHref(b){return e(o,b)},createURL:P,encodeLocation(b){let D=P(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:I,go(b){return c.go(b)}};return A}function q_(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Js(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Km(i,e,n="/"){return K_(i,e,n,!1)}function K_(i,e,n,s){let o=typeof e=="string"?Wr(e):e,l=Dn(o.pathname||"/",n);if(l==null)return null;let c=Gm(i);G_(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=sw(l);h=rw(c[p],m,s)}return h}function Gm(i,e=[],n=[],s="",o=!1){let l=(c,h,p=o,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&p)return;Ke(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let _=Nn([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Gm(c.children,e,w,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:tw(_,c.index),routesMeta:w})};return i.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let p of Jm(c.path))l(c,h,!0,p)}),e}function Jm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Jm(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function G_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:nw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var J_=/^:[\w-]+$/,Y_=3,Q_=2,X_=1,Z_=10,ew=-2,Op=i=>i==="*";function tw(i,e){let n=i.split("/"),s=n.length;return n.some(Op)&&(s+=ew),e&&(s+=Q_),n.filter(o=>!Op(o)).reduce((o,l)=>o+(J_.test(l)?Y_:l===""?X_:Z_),s)}function nw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function rw(i,e,n=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",_=Va({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),w=p.route;if(!_&&m&&n&&!s[s.length-1].route.index&&(_=Va({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:Nn([l,_.pathname]),pathnameBase:uw(Nn([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Nn([l,_.pathnameBase]))}return c}function Va(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=iw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:_},w)=>{if(g==="*"){let P=h[w]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const I=h[w];return _&&!I?m[g]=void 0:m[g]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:i}}function iw(i,e=!1,n=!0){Kt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Dn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function ow(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Wr(i):i;return{pathname:n?n.startsWith("/")?n:aw(n,e):e,search:cw(s),hash:dw(o)}}function aw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function oc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zc(i){let e=lw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ed(i,e,n,s=!1){let o;typeof i=="string"?o=Wr(i):(o={...i},Ke(!o.pathname||!o.pathname.includes("?"),oc("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),oc("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),oc("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?e[_]:"/"}let p=ow(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Nn=i=>i.join("/").replace(/\/\/+/g,"/"),uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),cw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,dw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ym=["POST","PUT","PATCH","DELETE"];new Set(Ym);var fw=["GET",...Ym];new Set(fw);var Hi=k.createContext(null);Hi.displayName="DataRouter";var nl=k.createContext(null);nl.displayName="DataRouterState";k.createContext(!1);var Qm=k.createContext({isTransitioning:!1});Qm.displayName="ViewTransition";var pw=k.createContext(new Map);pw.displayName="Fetchers";var mw=k.createContext(null);mw.displayName="Await";var cn=k.createContext(null);cn.displayName="Navigation";var so=k.createContext(null);so.displayName="Location";var dn=k.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var td=k.createContext(null);td.displayName="RouteError";function gw(i,{relative:e}={}){Ke(Wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(cn),{hash:o,pathname:l,search:c}=oo(i,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Nn([n,l])),s.createHref({pathname:h,search:c,hash:o})}function Wi(){return k.useContext(so)!=null}function vr(){return Ke(Wi(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(so).location}var Xm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zm(i){k.useContext(cn).static||k.useLayoutEffect(i)}function qi(){let{isDataRoute:i}=k.useContext(dn);return i?Cw():yw()}function yw(){Ke(Wi(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Hi),{basename:e,navigator:n}=k.useContext(cn),{matches:s}=k.useContext(dn),{pathname:o}=vr(),l=JSON.stringify(Zc(s)),c=k.useRef(!1);return Zm(()=>{c.current=!0}),k.useCallback((p,m={})=>{if(Kt(c.current,Xm),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=ed(p,JSON.parse(l),o,m.relative==="path");i==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Nn([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,o,i])}k.createContext(null);function aA(){let{matches:i}=k.useContext(dn),e=i[i.length-1];return e?e.params:{}}function oo(i,{relative:e}={}){let{matches:n}=k.useContext(dn),{pathname:s}=vr(),o=JSON.stringify(Zc(n));return k.useMemo(()=>ed(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function vw(i,e){return eg(i,e)}function eg(i,e,n,s,o){Ke(Wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(cn),{matches:c}=k.useContext(dn),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let N=_&&_.path||"";tg(m,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=vr(),I;if(e){let N=typeof e=="string"?Wr(e):e;Ke(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),I=N}else I=w;let P=I.pathname||"/",A=P;if(g!=="/"){let N=g.replace(/^\//,"").split("/");A="/"+P.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=Km(i,{pathname:A});Kt(_||b!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Kt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Iw(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:Nn([g,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Nn([g,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,n,s,o);return e&&D?k.createElement(so.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},D):D}function _w(){let i=Aw(),e=hw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,c)}var ww=k.createElement(_w,null),Ew=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?k.createElement(dn.Provider,{value:this.props.routeContext},k.createElement(td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:i,match:e,children:n}){let s=k.useContext(Hi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(dn.Provider,{value:i},n)}function Iw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,c=n?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ke(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:_,errors:w}=n,I=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||I){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,g,_)=>{let w,I=!1,P=null,A=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,P=g.route.errorElement||ww,h&&(p<0&&_===0?(tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,A=null):p===_&&(I=!0,A=g.route.hydrateFallbackElement||null)));let b=e.concat(l.slice(0,_+1)),D=()=>{let N;return w?N=P:I?N=A:g.route.Component?N=k.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=m,k.createElement(Sw,{match:g,routeContext:{outlet:m,matches:b,isDataRoute:n!=null},children:N})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?k.createElement(Ew,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:D(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:s}):D()},null)}function nd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(i){let e=k.useContext(Hi);return Ke(e,nd(i)),e}function Tw(i){let e=k.useContext(nl);return Ke(e,nd(i)),e}function bw(i){let e=k.useContext(dn);return Ke(e,nd(i)),e}function rd(i){let e=bw(i),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Rw(){return rd("useRouteId")}function Aw(){let i=k.useContext(td),e=Tw("useRouteError"),n=rd("useRouteError");return i!==void 0?i:e.errors?.[n]}function Cw(){let{router:i}=kw("useNavigate"),e=rd("useNavigate"),n=k.useRef(!1);return Zm(()=>{n.current=!0}),k.useCallback(async(o,l={})=>{Kt(n.current,Xm),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Np={};function tg(i,e,n){!e&&!Np[i]&&(Np[i]=!0,Kt(!1,n))}k.memo(Pw);function Pw({routes:i,future:e,state:n,unstable_onError:s}){return eg(i,void 0,n,s,e)}function Ha({to:i,replace:e,state:n,relative:s}){Ke(Wi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(cn);Kt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(dn),{pathname:c}=vr(),h=qi(),p=ed(i,Zc(l),c,s==="path"),m=JSON.stringify(p);return k.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function Ae(i){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){Ke(!Wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Wr(n));let{pathname:p="/",search:m="",hash:g="",state:_=null,key:w="default"}=n,I=k.useMemo(()=>{let P=Dn(p,c);return P==null?null:{location:{pathname:P,search:m,hash:g,state:_,key:w},navigationType:s}},[c,p,m,g,_,w,s]);return Kt(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:k.createElement(cn.Provider,{value:h},k.createElement(so.Provider,{children:e,value:I}))}function Nw({children:i,location:e}){return vw(Nc(i),e)}function Nc(i,e=[]){let n=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let l=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Nc(s.props.children,l));return}Ke(s.type===Ae,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Nc(s.props.children,l)),n.push(c)}),n}var xa="get",La="application/x-www-form-urlencoded";function rl(i){return i!=null&&typeof i.tagName=="string"}function xw(i){return rl(i)&&i.tagName.toLowerCase()==="button"}function Lw(i){return rl(i)&&i.tagName.toLowerCase()==="form"}function Dw(i){return rl(i)&&i.tagName.toLowerCase()==="input"}function jw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Uw(i,e){return i.button===0&&(!e||e==="_self")&&!jw(i)}var ba=null;function Mw(){if(ba===null)try{new FormData(document.createElement("form"),0),ba=!1}catch{ba=!0}return ba}var $w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ac(i){return i!=null&&!$w.has(i)?(Kt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${La}"`),null):i}function Fw(i,e){let n,s,o,l,c;if(Lw(i)){let h=i.getAttribute("action");s=h?Dn(h,e):null,n=i.getAttribute("method")||xa,o=ac(i.getAttribute("enctype"))||La,l=new FormData(i)}else if(xw(i)||Dw(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(s=p?Dn(p,e):null,n=i.getAttribute("formmethod")||h.getAttribute("method")||xa,o=ac(i.getAttribute("formenctype"))||ac(h.getAttribute("enctype"))||La,l=new FormData(h,i),!Mw()){let{name:m,type:g,value:_}=i;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,_)}}else{if(rl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xa,s=null,o=La,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function id(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Dn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function zw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Hw(i,e,n){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await zw(l,n);return c.links?c.links():[]}return[]}));return Gw(s.flat(1).filter(Vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xp(i,e,n,s,o,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{let g=s.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ww(i,e,{includeHydrateFallback:n}={}){return qw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function qw(i){return[...new Set(i)]}function Kw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Gw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(Kw(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function ng(){let i=k.useContext(Hi);return id(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Jw(){let i=k.useContext(nl);return id(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sd=k.createContext(void 0);sd.displayName="FrameworkContext";function rg(){let i=k.useContext(sd);return id(i,"You must render this element inside a <HydratedRouter> element"),i}function Yw(i,e){let n=k.useContext(sd),[s,o]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:_}=e,w=k.useRef(null);k.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let A=D=>{D.forEach(N=>{c(N.isIntersecting)})},b=new IntersectionObserver(A,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[i]),k.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let I=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?i!=="intent"?[l,w,{}]:[l,w,{onFocus:js(h,I),onBlur:js(p,P),onMouseEnter:js(m,I),onMouseLeave:js(g,P),onTouchStart:js(_,I)}]:[!1,w,{}]}function js(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Qw({page:i,...e}){let{router:n}=ng(),s=k.useMemo(()=>Km(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?k.createElement(Zw,{page:i,matches:s,...e}):null}function Xw(i){let{manifest:e,routeModules:n}=rg(),[s,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return Hw(i,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,n]),s}function Zw({page:i,matches:e,...n}){let s=vr(),{manifest:o,routeModules:l}=rg(),{basename:c}=ng(),{loaderData:h,matches:p}=Jw(),m=k.useMemo(()=>xp(i,e,p,o,s,"data"),[i,e,p,o,s]),g=k.useMemo(()=>xp(i,e,p,o,s,"assets"),[i,e,p,o,s]),_=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,A=!1;if(e.forEach(D=>{let N=o.routes[D.route.id];!N||!N.hasLoader||(!m.some(L=>L.route.id===D.route.id)&&D.route.id in h&&l[D.route.id]?.shouldRevalidate||N.hasClientLoader?A=!0:P.add(D.route.id))}),P.size===0)return[];let b=Bw(i,c,"data");return A&&P.size>0&&b.searchParams.set("_routes",e.filter(D=>P.has(D.route.id)).map(D=>D.route.id).join(",")),[b.pathname+b.search]},[c,h,s,o,m,e,i,l]),w=k.useMemo(()=>Ww(g,o),[g,o]),I=Xw(g);return k.createElement(k.Fragment,null,_.map(P=>k.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),w.map(P=>k.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:A})=>k.createElement("link",{key:P,nonce:n.nonce,...A})))}function eE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ig&&(window.__reactRouterVersion="7.9.4")}catch{}function tE({basename:i,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=V_({window:n,v5Compat:!0}));let o=s.current,[l,c]=k.useState({action:o.action,location:o.location}),h=k.useCallback(p=>{k.startTransition(()=>c(p))},[c]);return k.useLayoutEffect(()=>o.listen(h),[o,h]),k.createElement(Ow,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,od=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:g,viewTransition:_,...w},I){let{basename:P}=k.useContext(cn),A=typeof m=="string"&&sg.test(m),b,D=!1;if(typeof m=="string"&&A&&(b=m,ig))try{let z=new URL(window.location.href),me=m.startsWith("//")?new URL(z.protocol+m):new URL(m),Ve=Dn(me.pathname,P);me.origin===z.origin&&Ve!=null?m=Ve+me.search+me.hash:D=!0}catch{Kt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=gw(m,{relative:o}),[L,j,G]=Yw(s,w),K=sE(m,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:_});function X(z){e&&e(z),z.defaultPrevented||K(z)}let ce=k.createElement("a",{...w,...G,href:b||N,onClick:D||l?e:X,ref:eE(I,j),target:p,"data-discover":!A&&n==="render"?"true":void 0});return L&&!A?k.createElement(k.Fragment,null,ce,k.createElement(Qw,{page:N})):ce});od.displayName="Link";var nE=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...m},g){let _=oo(c,{relative:m.relative}),w=vr(),I=k.useContext(nl),{navigator:P,basename:A}=k.useContext(cn),b=I!=null&&cE(_)&&h===!0,D=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,N=w.pathname,L=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(N=N.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&A&&(L=Dn(L,A)||L);const j=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let G=N===D||!o&&N.startsWith(D)&&N.charAt(j)==="/",K=L!=null&&(L===D||!o&&L.startsWith(D)&&L.charAt(D.length)==="/"),X={isActive:G,isPending:K,isTransitioning:b},ce=G?e:void 0,z;typeof s=="function"?z=s(X):z=[s,G?"active":null,K?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let me=typeof l=="function"?l(X):l;return k.createElement(od,{...m,"aria-current":ce,className:z,ref:g,style:me,to:c,viewTransition:h},typeof p=="function"?p(X):p)});nE.displayName="NavLink";var rE=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=xa,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:_,...w},I)=>{let P=lE(),A=uE(h,{relative:m}),b=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&sg.test(h),N=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let j=L.nativeEvent.submitter,G=j?.getAttribute("formmethod")||c;P(j||L.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:_})};return k.createElement("form",{ref:I,method:b,action:A,onSubmit:s?p:N,...w,"data-discover":!D&&i==="render"?"true":void 0})});rE.displayName="Form";function iE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(i){let e=k.useContext(Hi);return Ke(e,iE(i)),e}function sE(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=qi(),p=vr(),m=oo(i,{relative:l});return k.useCallback(g=>{if(Uw(g,e)){g.preventDefault();let _=n!==void 0?n:Js(p)===Js(m);h(i,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,m,n,s,e,i,o,l,c])}var oE=0,aE=()=>`__${String(++oE)}__`;function lE(){let{router:i}=og("useSubmit"),{basename:e}=k.useContext(cn),n=Rw();return k.useCallback(async(s,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=Fw(s,e);if(o.navigate===!1){let g=o.fetcherKey||aE();await i.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function uE(i,{relative:e}={}){let{basename:n}=k.useContext(cn),s=k.useContext(dn);Ke(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...oo(i||".",{relative:e})},c=vr();if(i==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();l.search=g?`?${g}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Nn([n,l.pathname])),Js(l)}function cE(i,{relative:e}={}){let n=k.useContext(Qm);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=og("useViewTransitionState"),o=oo(i,{relative:e});if(!n.isTransitioning)return!1;let l=Dn(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Dn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Va(o.pathname,c)!=null||Va(o.pathname,l)!=null}var lA=qm();const ag=k.createContext();function uA(){const i=k.useContext(ag);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}function dE({children:i}){const[e,n]=k.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch(l){return console.error("Error loading theme from localStorage:",l),"light"}});k.useEffect(()=>{const l=document.documentElement;l.classList.remove("theme-light","theme-dark"),l.classList.add(`theme-${e}`);try{localStorage.setItem("theme",e)}catch(c){console.error("Error saving theme to localStorage:",c)}},[e]);const o={theme:e,setTheme:n,toggleTheme:()=>{n(l=>l==="light"?"dark":"light")},isDark:e==="dark",isLight:e==="light"};return v.jsx(ag.Provider,{value:o,children:i})}const hE=({message:i,priority:e="polite"})=>{const n=k.useRef(null);return k.useEffect(()=>{i&&n.current&&(n.current.textContent="",setTimeout(()=>{n.current&&(n.current.textContent=i)},10))},[i]),v.jsx("div",{ref:n,"aria-live":e,"aria-atomic":"true",className:"aria-live-region"})},fE=({onClick:i,className:e="",size:n="medium"})=>v.jsx("button",{className:`circular-arrow-button ${n} ${e}`,onClick:i,type:"button","aria-label":"Comece agora -  grtis",children:v.jsx("svg",{className:"circular-button-arrow",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),pE=({onClick:i,className:e=""})=>v.jsxs("button",{className:`get-started-button ${e}`,onClick:i,type:"button",children:[v.jsx("span",{className:"button-text",children:"Comece agora -  grtis"}),v.jsx("svg",{className:"button-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),mE=({className:i="",onClick:e,...n})=>{const s=qi(),o=()=>{e?e():s("/")};return v.jsx("div",{className:"menu-login-logo",children:v.jsxs("div",{className:`logo-container ${i}`,onClick:o,...n,children:[v.jsx("img",{src:"/images/logo.png",alt:"Logo Pea Fcil",className:"logo-image"}),v.jsxs("div",{className:"logo-text-container",children:[v.jsx("h1",{className:"logo-title",children:"Pea Fcil"}),v.jsx("p",{className:"logo-subtitle",children:"Confiana e Economia"})]})]})})},gE=({message:i,type:e="success",duration:n=3e3,onClose:s})=>{const[o,l]=k.useState(!1),[c,h]=k.useState(!1);return k.useEffect(()=>{const p=setTimeout(()=>l(!0),10),m=setTimeout(()=>{h(!0),setTimeout(()=>{s?.()},300)},n);return()=>{clearTimeout(p),clearTimeout(m)}},[n,s]),i?v.jsxs("div",{className:`toast toast--${e} ${o?"toast--visible":""} ${c?"toast--leaving":""}`,role:"alert","aria-live":"polite",children:[v.jsxs("div",{className:"toast-content",children:[e==="success"&&v.jsx("svg",{className:"toast-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:v.jsx("path",{d:"M13.5 4.5 L6 12 L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),v.jsx("span",{className:"toast-message",children:i})]}),v.jsx("button",{className:"toast-close",onClick:()=>{h(!0),setTimeout(s,300)},"aria-label":"Fechar notificao",children:v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:v.jsx("path",{d:"M11 3L3 11M3 3L11 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}):null},lg=()=>{const[i,e]=k.useState(!1),[n,s]=k.useState({top:0,left:0}),[o,l]=k.useState(null),[c,h]=k.useState(""),[p,m]=k.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),g=k.useRef(null),_=k.useRef(null),w=qi(),{usuarioLogado:I,setUsuarioLogado:P,authLoaded:A}=k.useContext(yo)||{},b=[{id:"inicio",label:"Incio",onClick:()=>w("/inicio")},{id:"catalogo",label:"Catlogo de Peas",onClick:()=>w("/buscar-pecas")},{id:"quem-somos",label:"Quem Somos",onClick:()=>w("/quem-somos")},{id:"nosso-projeto",label:"Nosso Projeto",onClick:()=>w("/nosso-projeto")},{id:"seja-pro",label:"Seja Pro",onClick:()=>w("/seja-pro")},{id:"contato",label:"Contato",onClick:()=>w("/contato")}],D=(z,me,Ve)=>{l({type:z,title:me,message:Ve,id:Date.now()}),setTimeout(()=>l(null),4e3)},N=z=>{h(z),setTimeout(()=>h(""),100)},L=()=>{D("success","Login realizado","Bem-vindo de volta!"),N("Login realizado com sucesso")},j=k.useRef();k.useEffect(()=>{j.current===null&&I&&L(),j.current=I},[I]),k.useEffect(()=>{const z=()=>{const Ve=window.innerWidth<=768;m(Ve)};return window.addEventListener("resize",z),z(),()=>window.removeEventListener("resize",z)},[]);const G=()=>{if(g.current){const z=g.current.getBoundingClientRect(),me=Math.round(z.bottom+4),Ve=Math.round(z.left);if(_.current)if(!p)_.current.style.setProperty("--dropdown-top",`${me}px`),_.current.style.setProperty("--dropdown-left",`${Ve}px`);else{try{_.current.style.removeProperty("--dropdown-top"),_.current.style.removeProperty("--dropdown-left")}catch{}try{const He=g.current.getBoundingClientRect(),rt=Math.round(He.bottom-6),Qe=Math.round(He.left);try{_.current.style.setProperty("top",`${rt}px`,"important")}catch{_.current.style.top=`${rt}px`}try{_.current.style.setProperty("left",`${Qe}px`,"important")}catch{_.current.style.left=`${Qe}px`}try{_.current.style.setProperty("right","auto","important")}catch{_.current.style.right="auto"}}catch{}}s({top:me,left:Ve})}},K=()=>{const z=!i;e(z),z&&window.requestAnimationFrame(()=>G())},X=()=>{e(!1)},ce=z=>me=>{me&&typeof me.preventDefault=="function"&&(me.preventDefault(),me.stopPropagation()),X(),z()};return k.useEffect(()=>{function z(me){i&&g.current&&!g.current.contains(me.target)&&_.current&&!_.current.contains(me.target)&&e(!1)}return window.addEventListener("mousedown",z),window.addEventListener("resize",G),()=>{window.removeEventListener("mousedown",z),window.removeEventListener("resize",G)}},[i]),k.useLayoutEffect(()=>{if(i&&_.current&&g.current){const z=g.current.getBoundingClientRect(),me=Math.round(z.bottom+4),Ve=Math.round(z.left);if(_.current)if(!p)_.current.style.setProperty("--dropdown-top",`${me}px`),_.current.style.setProperty("--dropdown-left",`${Ve}px`);else{try{_.current.style.removeProperty("--dropdown-top"),_.current.style.removeProperty("--dropdown-left")}catch{}try{const He=g.current.getBoundingClientRect(),rt=Math.round(He.bottom-6),Qe=Math.round(He.left);try{_.current.style.setProperty("top",`${rt}px`,"important")}catch{_.current.style.top=`${rt}px`}try{_.current.style.setProperty("left",`${Qe}px`,"important")}catch{_.current.style.left=`${Qe}px`}try{_.current.style.setProperty("right","auto","important")}catch{_.current.style.right="auto"}}catch{}}s({top:me,left:Ve})}},[i]),v.jsxs(v.Fragment,{children:[v.jsx("header",{className:"site-header",children:v.jsxs("div",{className:"menu-login-root menu-responsive",children:[v.jsx(mE,{}),v.jsxs("div",{className:"user-menu-root",children:[v.jsxs("button",{ref:g,className:`mobile-menu-toggle ${i?"active":""}`,onClick:K,"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":i,children:[v.jsx("span",{className:"hamburger-line"}),v.jsx("span",{className:"hamburger-line"}),v.jsx("span",{className:"hamburger-line"})]}),v.jsx("div",{ref:_,className:`user-dropdown mobile-nav-dropdown ${i?"open":"closed"}`,role:"menu","aria-hidden":!i,children:b.map(z=>v.jsx("button",{className:"dropdown-item",onClick:()=>{e(!1),z.onClick()},children:z.label},z.id))})]}),v.jsx("div",{className:"menu-login-center",children:v.jsx("nav",{className:"menu-nav",children:v.jsx("ul",{className:"menu-list",children:b.map(z=>v.jsx("li",{children:v.jsx("button",{className:`menu-login-item ${z.id==="nosso-projeto"?"nosso-projeto":""}`,onClick:ce(z.onClick),children:z.label})},z.id))})})}),v.jsx("div",{className:"menu-login-right",children:p?v.jsx(fE,{onClick:z=>{z?.preventDefault?.(),z?.stopPropagation?.(),w("/login")}}):v.jsx(pE,{onClick:z=>{z?.preventDefault?.(),z?.stopPropagation?.(),w("/login")}})})]})}),o&&v.jsx(gE,{type:o.type,title:o.title,message:o.message,onClose:()=>l(null),autoClose:!0,duration:4e3}),v.jsx(hE,{message:c})]})};function yE({on:i=!1,onClick:e=()=>{},ariaLabel:n}){return v.jsx("button",{type:"button",className:`car-toggle ${i?"headlight-on":"headlight-off"}`,onClick:e,"aria-label":n||(i?"Ocultar senha":"Mostrar senha"),children:v.jsxs("svg",{width:"32",height:"24",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M28 8c0-1.1-.9-2-2-2h-2l-1-2c-.5-.9-1.4-1.5-2.4-1.5H11.4c-1 0-1.9.6-2.4 1.5l-1 2H6c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h1v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h12v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h1c1.1 0 2-.9 2-2V8z",fill:i?"#3B82F6":"#4A5568",className:"car-body"}),v.jsx("path",{d:"M24 6H8l1.5-1.5c.3-.3.7-.5 1.1-.5h9.8c.4 0 .8.2 1.1.5L24 6z",fill:i?"#1E40AF":"#2D3748",className:"car-roof"}),v.jsx("path",{d:"M10.5 4.5L9 6h3l1-1.5h-2.5z",fill:"#63B3ED",opacity:"0.3"}),v.jsx("circle",{cx:"9",cy:"16",r:"2.5",fill:"#2D3748"}),v.jsx("circle",{cx:"9",cy:"16",r:"1.5",fill:i?"#60A5FA":"#718096",className:"wheel-rim"}),v.jsx("circle",{cx:"23",cy:"16",r:"2.5",fill:"#2D3748"}),v.jsx("circle",{cx:"23",cy:"16",r:"1.5",fill:i?"#60A5FA":"#718096",className:"wheel-rim"}),v.jsx("rect",{x:"4",y:"9",width:"2",height:"4",fill:i?"#1E40AF":"#2D3748",className:"car-grille"}),v.jsx("circle",{cx:"5",cy:"10",r:"2",fill:i?"#FED7AA":"#E2E8F0",className:"headlight-main"}),i&&v.jsxs(v.Fragment,{children:[v.jsx("ellipse",{cx:"2",cy:"10",rx:"4",ry:"6",fill:"#FED7AA",opacity:"0.15",className:"headlight-beam"}),v.jsx("circle",{cx:"5",cy:"10",r:"2.8",fill:"#FBBF24",opacity:"0.25",className:"headlight-glow-1"}),v.jsx("circle",{cx:"5",cy:"10",r:"2.2",fill:"#F59E0B",opacity:"0.4",className:"headlight-glow-2"}),v.jsx("circle",{cx:"5",cy:"10",r:"1.3",fill:"#FCD34D",className:"headlight-bright"}),v.jsxs("g",{className:"headlight-rays",stroke:"#FDE68A",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.95",children:[v.jsx("line",{x1:"7",y1:"9",x2:"11",y2:"7",className:"ray ray-1"}),v.jsx("line",{x1:"7",y1:"10",x2:"12",y2:"10",className:"ray ray-2"}),v.jsx("line",{x1:"7",y1:"11",x2:"11",y2:"13",className:"ray ray-3"}),v.jsx("line",{x1:"6",y1:"8.2",x2:"9",y2:"6",className:"ray ray-4"}),v.jsx("line",{x1:"6",y1:"11.8",x2:"9",y2:"14",className:"ray ray-5"})]})]}),v.jsx("circle",{cx:"5",cy:"13.5",r:"0.8",fill:i?"#FEF3C7":"#CBD5E0"}),v.jsx("rect",{x:"15",y:"11",width:"1",height:"0.5",fill:i?"#1E40AF":"#2D3748",className:"door-handle"}),v.jsx("ellipse",{cx:"7.5",cy:"8.5",rx:"0.8",ry:"0.5",fill:i?"#3B82F6":"#4A5568",className:"side-mirror"})]})})}const vE=()=>{const[i,e]=k.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});k.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",i),localStorage.setItem("theme",i?"dark":"light");const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",i?"#0f172a":"#2b6cb0")},[i]);const n=()=>{e(s=>!s)};return v.jsxs("button",{className:"theme-toggle",onClick:n,"aria-label":i?"Alternar para modo claro":"Alternar para modo escuro",title:i?"Modo Claro (Dia)":"Modo Escuro (Noite)",children:[v.jsx("div",{className:`traffic-light ${i?"dark":"light"}`,children:v.jsxs("div",{className:"light-container",children:[v.jsx("div",{className:`light red ${i?"active":""}`}),v.jsx("div",{className:`light green ${i?"":"active"}`})]})}),v.jsx("span",{className:"theme-label",children:i?"Noite":"Dia"})]})},_E=[{id:1,nome:"Joo Silva",celular:"11999999999",email:"joao@email.com",senha:"123456"},{id:2,nome:"Maria Souza",celular:"11988888888",email:"maria@email.com",senha:"abcdef"}],wE=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...n)=>Oe(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},[],import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class ad extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Lp extends ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dp extends ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jp extends ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(xc||(xc={}));var EE=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};class SE{constructor(e,{headers:n={},customFetch:s,region:o=xc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=wE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return EE(this,arguments,void 0,function*(n,s={}){var o;try{const{headers:l,method:c,body:h,signal:p}=s;let m={},{region:g}=s;g||(g=this.region);const _=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,_.searchParams.set("forceFunctionRegion",g));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)));const I=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:w,signal:p}).catch(D=>{throw D.name==="AbortError"?D:new Lp(D)}),P=I.headers.get("x-relay-error");if(P&&P==="true")throw new Dp(I);if(!I.ok)throw new jp(I);let A=((o=I.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return A==="application/json"?b=yield I.json():A==="application/octet-stream"?b=yield I.blob():A==="text/event-stream"?b=I:A==="multipart/form-data"?b=yield I.formData():b=yield I.text(),{data:b,error:null,response:I}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Lp(l)}:{data:null,error:l,response:l instanceof jp||l instanceof Dp?l.context:void 0}}})}}var pt={},wi={},Ei={},Si={},Ii={},ki={},IE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fi=IE();const kE=Fi.fetch,ug=Fi.fetch.bind(Fi),cg=Fi.Headers,TE=Fi.Request,bE=Fi.Response,Ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:cg,Request:TE,Response:bE,default:ug,fetch:kE},Symbol.toStringTag,{value:"Module"})),RE=N_(Ki);var Ra={},Up;function dg(){if(Up)return Ra;Up=1,Object.defineProperty(Ra,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ra.default=i,Ra}var Mp;function hg(){if(Mp)return ki;Mp=1;var i=ki&&ki.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ki,"__esModule",{value:!0});const e=i(RE),n=i(dg());class s{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,_,w,I;let P=null,A=null,b=null,D=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const K=await m.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?A=K:A=JSON.parse(K))}const j=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),G=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&G&&G.length>1&&(b=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(P={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,b=null,D=406,N="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const j=await m.text();try{P=JSON.parse(j),Array.isArray(P)&&m.status===404&&(A=[],P=null,D=200,N="OK")}catch{m.status===404&&j===""?(D=204,N="No Content"):P={message:j}}if(P&&this.isMaybeSingle&&(!((I=P?.details)===null||I===void 0)&&I.includes("0 rows"))&&(P=null,D=200,N="OK"),P&&this.shouldThrowOnError)throw new n.default(P)}return{error:P,data:A,count:b,status:D,statusText:N}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,_,w;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return ki.default=s,ki}var $p;function fg(){if($p)return Ii;$p=1;var i=Ii&&Ii.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ii,"__esModule",{value:!0});const e=i(hg());class n extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const _=[o?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ii.default=n,Ii}var Fp;function ld(){if(Fp)return Si;Fp=1;var i=Si&&Si.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Si,"__esModule",{value:!0});const e=i(fg());class n extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return Si.default=n,Si}var Bp;function pg(){if(Bp)return Ei;Bp=1;var i=Ei&&Ei.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ei,"__esModule",{value:!0});const e=i(ld());class n{constructor(o,{headers:l={},schema:c,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(o,l){const{head:c=!1,count:h}=l??{},p=c?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(m.length>0){const g=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((w,I)=>w.concat(Object.keys(I)),[]);if(_.length>0){const w=[...new Set(_)].map(I=>`"${I}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ei.default=n,Ei}var zp;function AE(){if(zp)return wi;zp=1;var i=wi&&wi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wi,"__esModule",{value:!0});const e=i(pg()),n=i(ld());class s{constructor(l,{headers:c={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:p=!1,count:m}={}){var g;let _;const w=new URL(`${this.url}/rpc/${l}`);let I;h||p?(_=h?"HEAD":"GET",Object.entries(c).filter(([A,b])=>b!==void 0).map(([A,b])=>[A,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([A,b])=>{w.searchParams.append(A,b)})):(_="POST",I=c);const P=new Headers(this.headers);return m&&P.set("Prefer",`count=${m}`),new n.default({method:_,url:w,headers:P,schema:this.schemaName,body:I,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return wi.default=s,wi}var Vp;function CE(){if(Vp)return pt;Vp=1;var i=pt&&pt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const e=i(AE());pt.PostgrestClient=e.default;const n=i(pg());pt.PostgrestQueryBuilder=n.default;const s=i(ld());pt.PostgrestFilterBuilder=s.default;const o=i(fg());pt.PostgrestTransformBuilder=o.default;const l=i(hg());pt.PostgrestBuilder=l.default;const c=i(dg());return pt.PostgrestError=c.default,pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},pt}var PE=CE();const OE=Wm(PE),{PostgrestClient:NE,PostgrestQueryBuilder:cA,PostgrestFilterBuilder:dA,PostgrestTransformBuilder:hA,PostgrestBuilder:fA,PostgrestError:pA}=OE;class xE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LE="2.75.0",DE=`realtime-js/${LE}`,jE="1.0.0",Lc=1e4,UE=1e3,ME=100;var zs;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(zs||(zs={}));var ct;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ct||(ct={}));var an;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(an||(an={}));var Dc;(function(i){i.websocket="websocket"})(Dc||(Dc={}));var Fr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Fr||(Fr={}));class $E{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=s.decode(e.slice(c,c+o));c=c+o;const p=s.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class mg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(je||(je={}));const Hp=(i,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=FE(c,i,e,o),l),{}):{}},FE=(i,e,n,s)=>{const o=e.find(h=>h.name===i),l=o?.type,c=n[i];return l&&!s.includes(l)?gg(l,c):jc(c)},gg=(i,e)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return HE(e,n)}switch(i){case je.bool:return BE(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return zE(e);case je.json:case je.jsonb:return VE(e);case je.timestamp:return WE(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return jc(e);default:return jc(e)}},jc=i=>i,BE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},zE=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},VE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},HE=(i,e)=>{if(typeof i!="string")return i;const n=i.length-1,s=i[n];if(i[0]==="{"&&s==="}"){let l;const c=i.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>gg(e,h))}return i},WE=i=>typeof i=="string"?i.replace(" ","T"):i,yg=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class lc{constructor(e,n,s={},o=Lc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wp;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Wp||(Wp={}));class Vs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,o,l,c),this.pendingDiffs.forEach(p=>{this.state=Vs.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vs.syncDiff(this.state,o,l,c),h())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(m,g)=>{c[m]||(p[m]=g)}),this.map(c,(m,g)=>{const _=l[m];if(_){const w=g.map(b=>b.presence_ref),I=_.map(b=>b.presence_ref),P=g.filter(b=>I.indexOf(b.presence_ref)<0),A=_.filter(b=>w.indexOf(b.presence_ref)<0);P.length>0&&(h[m]=P),A.length>0&&(p[m]=A)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:p},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(h,p)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),g.length>0){const _=e[h].map(I=>I.presence_ref),w=g.filter(I=>_.indexOf(I.presence_ref)<0);e[h].unshift(...w)}s(h,g,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const g=p.map(_=>_.presence_ref);m=m.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qp;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(qp||(qp={}));var Hs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Hs||(Hs={}));var An;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class ud{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lc(this,an.join,this.params,this.timeout),this.rejoinTimer=new mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Vs(this),this.broadcastEndpointURL=yg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(I=>I.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(I=>e?.(An.CHANNEL_ERROR,I)),this._onClose(()=>e?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:I})=>{var P;if(this.socket.setAuth(),I===void 0){e?.(An.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,b=(P=A?.length)!==null&&P!==void 0?P:0,D=[];for(let N=0;N<b;N++){const L=A[N],{filter:{event:j,schema:G,table:K,filter:X}}=L,ce=I&&I[N];if(ce&&ce.event===j&&ce.schema===G&&ce.table===K&&ce.filter===X)D.push(Object.assign(Object.assign({},L),{id:ce.id}));else{this.unsubscribe(),this.state=ct.errored,e?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(An.SUBSCRIBED);return}}).receive("error",I=>{this.state=ct.errored,e?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(I).join(", ")||"error")))}).receive("timeout",()=>{e?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ct.joined&&e===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new lc(this,an.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new lc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ME){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=an;if(s&&[h,p,m,g].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(I=>{var P,A,b;return((P=I.filter)===null||P===void 0?void 0:P.event)==="*"||((b=(A=I.filter)===null||A===void 0?void 0:A.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(I=>I.callback(w,s)):(l=this.bindings[c])===null||l===void 0||l.filter(I=>{var P,A,b,D,N,L;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in I){const j=I.id,G=(P=I.filter)===null||P===void 0?void 0:P.event;return j&&((A=n.ids)===null||A===void 0?void 0:A.includes(j))&&(G==="*"||G?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(N=(D=I?.filter)===null||D===void 0?void 0:D.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return j==="*"||j===((L=n?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===c}).map(I=>{if(typeof w=="object"&&"ids"in w){const P=w.data,{schema:A,table:b,commit_timestamp:D,type:N,errors:L}=P;w=Object.assign(Object.assign({},{schema:A,table:b,commit_timestamp:D,eventType:N,new:{},old:{},errors:L}),this._getPayloadRecords(P))}I.callback(w,s)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&ud.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hp(e.columns,e.old_record)),n}}const uc=()=>{},Aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qE=[1e3,2e3,5e3,1e4],KE=1e4,GE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JE{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lc,this.transport=null,this.heartbeatIntervalMs=Aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uc,this.ref=0,this.reconnectTimer=null,this.logger=uc,this.conn=null,this.sendBuffer=[],this.serializer=new $E,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>Oe(async()=>{const{default:h}=await Promise.resolve().then(()=>Ki);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...c)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dc.websocket}`,this.httpEndpoint=yg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jE}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return Fr.Connecting;case zs.open:return Fr.Open;case zs.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new ud(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:c}=n,h=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([GE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:DE};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(an.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,h,p,m,g;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Lc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Aa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:uc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>qE[_-1]||KE),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,w)=>w(JSON.stringify(_))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class cd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ot(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class YE extends cd{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uc extends cd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var QE=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};const vg=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...n)=>Oe(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},XE=()=>QE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oe(()=>Promise.resolve().then(()=>Ki),void 0,import.meta.url)).Response:Response}),Mc=i=>{if(Array.isArray(i))return i.map(n=>Mc(n));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Mc(s)}),e},ZE=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var qr=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};const cc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),e0=(i,e,n)=>qr(void 0,void 0,void 0,function*(){const s=yield XE();i instanceof s&&!n?.noResolveJson?i.json().then(o=>{const l=i.status||500,c=o?.statusCode||l+"";e(new YE(cc(o),l,c))}).catch(o=>{e(new Uc(cc(o),o))}):e(new Uc(cc(i),i))}),t0=(i,e,n,s)=>{const o={method:i,headers:e?.headers||{}};return i==="GET"||!s?o:(ZE(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ao(i,e,n,s,o,l){return qr(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(n,t0(e,s,o,l)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>e0(p,h,s))})})}function Wa(i,e,n,s){return qr(this,void 0,void 0,function*(){return ao(i,"GET",e,n,s)})}function vn(i,e,n,s,o){return qr(this,void 0,void 0,function*(){return ao(i,"POST",e,s,o,n)})}function $c(i,e,n,s,o){return qr(this,void 0,void 0,function*(){return ao(i,"PUT",e,s,o,n)})}function n0(i,e,n,s){return qr(this,void 0,void 0,function*(){return ao(i,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function _g(i,e,n,s,o){return qr(this,void 0,void 0,function*(){return ao(i,"DELETE",e,s,o,n)})}var r0=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};class i0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return r0(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var s0=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};class o0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new i0(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return s0(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var Lt=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};const a0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l0{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=vg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return Lt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Kp),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),_=yield(e=="PUT"?$c:vn)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}})}upload(e,n,s){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return Lt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Kp.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",m.cacheControl)):(p=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const _=yield $c(this.fetch,h.toString(),p,{headers:g});return{data:{path:l,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ot(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const l=yield vn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new cd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}update(e,n,s){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Lt(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}copy(e,n,s){return Lt(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return Lt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield vn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return Lt(this,void 0,void 0,function*(){try{const o=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),p=()=>Wa(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new o0(p,this.shouldThrowOnError)}info(e){return Lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Wa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}exists(e){return Lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield n0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s)&&s instanceof Uc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const h=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(e){return Lt(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}list(e,n,s){return Lt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},a0),n),{prefix:e||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}listV2(e,n){return Lt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const u0="2.75.0",c0={"X-Client-Info":`storage-js/${u0}`};var Ti=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};class d0{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c0),n),this.fetch=vg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}getBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}createBucket(e){return Ti(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return Ti(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}}class h0 extends d0{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new l0(this.url,this.headers,e,this.fetch)}}const f0="2.75.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const p0={"X-Client-Info":`supabase-js-${Ms}/${f0}`},m0={headers:p0},g0={schema:"public"},y0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v0={};var _0=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};const w0=i=>{let e;return i?e=i:typeof fetch>"u"?e=ug:e=fetch,(...n)=>e(...n)},E0=()=>typeof Headers>"u"?cg:Headers,S0=(i,e,n)=>{const s=w0(n),o=E0();return(l,c)=>_0(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:i;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),s(l,Object.assign(Object.assign({},c),{headers:m}))})};var I0=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};function k0(i){return i.endsWith("/")?i:i+"/"}function T0(i,e){var n,s;const{db:o,auth:l,realtime:c,global:h}=i,{db:p,auth:m,realtime:g,global:_}=e,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>I0(this,void 0,void 0,function*(){return""})};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function b0(i){const e=i?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wg="2.75.0",Ni=30*1e3,Fc=3,dc=Fc*Ni,R0="http://localhost:9999",A0="supabase.auth.token",C0={"X-Client-Info":`gotrue-js/${wg}`},Bc="X-Supabase-Api-Version",Eg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O0=600*1e3;class Ys extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class N0 extends Ys{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function x0(i){return ae(i)&&i.name==="AuthApiError"}class Br extends Ys{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _r extends Ys{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class cr extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L0(i){return ae(i)&&i.name==="AuthSessionMissingError"}class bi extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends _r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pa extends _r{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D0(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class Gp extends _r{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends _r{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hc(i){return ae(i)&&i.name==="AuthRetryableFetchError"}class Jp extends _r{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Vc extends _r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yp=` 	
\r=`.split(""),j0=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<Yp.length;e+=1)i[Yp[e].charCodeAt(0)]=-2;for(let e=0;e<qa.length;e+=1)i[qa[e].charCodeAt(0)]=e;return i})();function Qp(i,e,n){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(qa[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(qa[s]),e.queuedBits-=6}}function Sg(i,e,n){const s=j0[i];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Xp(i){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{$0(c,s,n)};for(let c=0;c<i.length;c+=1)Sg(i.charCodeAt(c),o,l);return e.join("")}function U0(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function M0(i,e){for(let n=0;n<i.length;n+=1){let s=i.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(i.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}U0(s,e)}}function $0(i,e,n){if(e.utf8seq===0){if(i<=127){n(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Li(i){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<i.length;o+=1)Sg(i.charCodeAt(o),n,s);return new Uint8Array(e)}function F0(i){const e=[];return M0(i,n=>e.push(n)),new Uint8Array(e)}function zr(i){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return i.forEach(o=>Qp(o,n,s)),Qp(null,n,s),e.join("")}function B0(i){return Math.round(Date.now()/1e3)+i}function z0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},Ig=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function V0(i){const e={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const kg=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...n)=>Oe(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},H0=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",xi=async(i,e,n)=>{await i.setItem(e,JSON.stringify(n))},Ur=async(i,e)=>{const n=await i.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lr=async(i,e)=>{await i.removeItem(e)};let Tg=class bg{constructor(){this.promise=new bg.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Tg.promiseConstructor=Promise;function fc(i){const e=i.split(".");if(e.length!==3)throw new Vc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!P0.test(e[s]))throw new Vc("JWT not in base64url format");return{header:JSON.parse(Xp(e[0])),payload:JSON.parse(Xp(e[1])),signature:Li(e[2]),raw:{header:e[0],payload:e[1]}}}async function W0(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function q0(i,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await i(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function K0(i){return("0"+i.toString(16)).substr(-2)}function G0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,K0).join("")}async function J0(i){const n=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Y0(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await J0(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(i,e,n=!1){const s=G0();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await xi(i,`${e}-code-verifier`,o);const l=await Y0(s);return[l,s===l?"plain":"s256"]}const Q0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X0(i){const e=i.headers.get(Bc);if(!e||!e.match(Q0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Z0(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function eS(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ai(i){if(!tS.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const i={};return new Proxy(i,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zp(i){return JSON.parse(JSON.stringify(i))}var nS=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};const Mr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),rS=[502,503,504];async function em(i){var e;if(!H0(i))throw new zc(Mr(i),0);if(rS.includes(i.status))throw new zc(Mr(i),i.status);let n;try{n=await i.json()}catch(l){throw new Br(Mr(l),l)}let s;const o=X0(i);if(o&&o.getTime()>=Eg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Jp(Mr(n),i.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Jp(Mr(n),i.status,n.weak_password.reasons);throw new N0(Mr(n),i.status||500,s)}const iS=(i,e,n,s)=>{const o={method:i,headers:e?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function he(i,e,n,s){var o;const l=Object.assign({},s?.headers);l[Bc]||(l[Bc]=Eg["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await sS(i,e,n+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function sS(i,e,n,s,o,l){const c=iS(e,s,o,l);let h;try{h=await i(n,Object.assign({},c))}catch(p){throw console.error(p),new zc(Mr(p),0)}if(h.ok||await em(h),s?.noResolveJson)return h;try{return await h.json()}catch(p){await em(p)}}function on(i){var e;let n=null;lS(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=B0(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:n,user:s},error:null}}function tm(i){const e=on(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function dr(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function oS(i){return{data:i,error:null}}function aS(i){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=i,c=nS(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function nm(i){return i}function lS(i){return i.access_token&&i.refresh_token&&i.expires_in}const mc=["global","local","others"];var uS=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};class cS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=kg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=mc[0]){if(mc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=uS(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:aS,redirectTo:n?.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:nm});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,I=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return I.length>0&&(I.forEach(P=>{const A=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(P.split(";")[1].split("=")[1]);m[`${b}Page`]=A}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ai(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ai(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Ai(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ai(e.userId);try{const{data:n,error:s}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ai(e.userId),Ai(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:nm});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,I=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return I.length>0&&(I.forEach(P=>{const A=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(P.split(";")[1].split("=")[1]);m[`${b}Page`]=A}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function rm(i={}){return{getItem:e=>i[e]||null,setItem:(e,n)=>{i[e]=n},removeItem:e=>{delete i[e]}}}const Ci={debug:!!(globalThis&&Ig()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dS extends Rg{}async function hS(i,e,n){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await n()}finally{Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(e===0)throw Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new dS(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ci.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ag(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function pS(i){return parseInt(i,16)}function mS(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function gS(i){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:p,resources:m,scheme:g,uri:_,version:w}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const I=Ag(i.address),P=g?`${g}://${s}`:s,A=i.statement?`${i.statement}
`:"",b=`${P} wants you to sign in with your Ethereum account:
${I}

${A}`;let D=`URI: ${_}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),h&&(D+=`
Not Before: ${h.toISOString()}`),p&&(D+=`
Request ID: ${p}`),m){let N=`
Resources:`;for(const L of m){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);N+=`
- ${L}`}D+=N}return`${b}
${D}`}class st extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ka extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function yS({error:i,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(Pg(c)){if(l.rp.id!==c)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function vS({error:i,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(Pg(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}var Cg=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};class _S{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const wS=new _S;function ES(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:n,excludeCredentials:s}=i,o=Cg(i,["challenge","user","excludeCredentials"]),l=Li(e).buffer,c=Object.assign(Object.assign({},n),{id:Li(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const m=s[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Li(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function SS(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:n}=i,s=Cg(i,["challenge","allowCredentials"]),o=Li(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Li(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function IS(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:zr(new Uint8Array(i.response.attestationObject)),clientDataJSON:zr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kS(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,s=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:zr(new Uint8Array(o.authenticatorData)),clientDataJSON:zr(new Uint8Array(o.clientDataJSON)),signature:zr(new Uint8Array(o.signature)),userHandle:o.userHandle?zr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function im(){var i,e;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function TS(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:yS({error:e,options:i})}}}async function bS(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:vS({error:e,options:i})}}}const RS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AS={userVerification:"preferred",hints:["security-key"]};function Ga(...i){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of i)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const h=s[l];e(h)?s[l]=Ga(h,c):s[l]=Ga(c)}else s[l]=c}return s}function CS(i,e){return Ga(RS,i,e||{})}function PS(i,e){return Ga(AS,i,e||{})}class OS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const p=o??wS.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=CS(c.webauthn.credential_options.publicKey,l?.create),{data:g,error:_}=await TS({publicKey:m,signal:p});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}case"request":{const m=PS(c.webauthn.credential_options.publicKey,l?.request),{data:g,error:_}=await bS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Br("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn authentication")};try{if(!im())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Br("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn registration")};try{if(!im())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var _;return(_=g.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Br("Unexpected error in register",c)}}}}fS();const NS={url:R0,storageKey:A0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sm(i,e,n){return await n()}const Pi={};class Qs{get jwks(){var e,n;return(n=(e=Pi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},NS),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new cS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kg(o.fetch),this.lock=o.lock||sm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ft()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=hS:this.lock=sm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OS(this)},this.persistSession?(o.storage?this.storage=o.storage:Ig()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=rm(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=V0(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ft()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),D0(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?{error:n}:{error:new Br("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:on}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:g,password:_,options:w}=e;let I=null,P=null;this.flowType==="pkce"&&([I,P]=await Ri(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:_,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:I,code_challenge_method:P},xform:on})}else if("phone"in e){const{phone:g,password:_,options:w}=e;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:on})}else throw new Ca("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tm})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tm})}else throw new Ca("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new bi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,h,p,m,g,_,w;let I,P;if("message"in e)I=e.message,P=e.signature;else{const{chain:A,wallet:b,statement:D,options:N}=e;let L;if(Ft())if(typeof b=="object")L=b;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")L=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=b}const j=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),G=await L.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Ag(G[0]);let X=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!X){const z=await L.request({method:"eth_chainId"});X=pS(z)}const ce={domain:j.host,address:K,statement:D,uri:j.href,version:"1",chainId:X,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};I=gS(ce),P=await L.request({method:"personal_sign",params:[mS(I),K]})}try{const{data:A,error:b}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:I,signature:P},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:on});if(b)throw b;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new bi}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:b})}catch(A){if(ae(A))return{data:{user:null,session:null},error:A};throw A}}async signInWithSolana(e){var n,s,o,l,c,h,p,m,g,_,w,I;let P,A;if("message"in e)P=e.message,A=e.signature;else{const{chain:b,wallet:D,statement:N,options:L}=e;let j;if(Ft())if(typeof D=="object")j=D;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))j=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=D}const G=new URL((n=L?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const K=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),N?{statement:N}:null));let X;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")X=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)X=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)P=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),A=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${G.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(s=L?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=L?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((c=L?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(g=L?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const K=await j.signMessage(new TextEncoder().encode(P),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=K}}try{const{data:b,error:D}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:zr(A)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(I=e.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:on});if(D)throw D;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new bi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:D})}catch(b){if(ae(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:on});if(await lr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new bi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,h=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:on}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new bi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ri(this.storage,this.storageKey));const{error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:g}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new Ca("You must provide either an email or phone number.")}catch(h){if(ae(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:on});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ri(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:oS})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new cr;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:h}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new Ca("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<dc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Ur(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=pc()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async n=>{var s,o,l;const{data:c,error:h}=n;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:dr})})}catch(n){if(ae(n))return L0(n)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new cr;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Ri(this.storage,this.storageKey));const{data:m,error:g}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:dr});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=fc(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new cr;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ft())throw new Pa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gp("No code detected.");const{data:N,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!c||!m)throw new Pa("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let w=g+_;p&&(w=parseInt(p));const I=w-g;I*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${_}s`);const P=w-_;g-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,w,g):g-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,w,g);const{data:A,error:b}=await this._getUser(l);if(b)throw b;const D={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:w,refresh_token:c,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(s){if(ae(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{error:l};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(x0(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=z0(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ri(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,h,p,m,g;const{data:_,error:w}=l;if(w)throw w;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",I,{headers:this.headers,jwt:(g=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Ft()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(ae(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:h,token:p,access_token:m,nonce:g}=e,_=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:p,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:on}),{data:w,error:I}=_;return I?{data:{user:null,session:null},error:I}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new bi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:I})}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await q0(async o=>(o>0&&await W0(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:on})),(o,l)=>{const c=200*Math.pow(2,o);return l&&hc(l)&&Date.now()+c-s<Ni})}catch(s){if(this._debug(n,"error",s),ae(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Ft()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ur(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await xi(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:pc()}else if(o&&!o.user&&!o.user){const c=await Ur(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await lr(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,o)):o.user=pc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${dc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),hc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tg;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new cr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),ae(l)){const c={data:null,error:l};return hc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await xi(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Zp(o);await xi(this.storage,this.storageKey,l)}else{const o=Zp(n);await xi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ni}ms, refresh threshold is ${Fc} ticks`),o<=Fc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ri(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?{data:null,error:l}:await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?IS(e.webauthn.credential_response):kS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ES(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:SS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=fc(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const g=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(h=>h.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+O0>o)return s;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:I,error:P}=await this.getSession();if(P||!I.session)return{data:null,error:P};s=I.session.access_token}const{header:o,payload:l,signature:c,raw:{header:h,payload:p}}=fc(s);n?.allowExpired||Z0(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:I}=await this.getUser(s);if(I)throw I;return{data:{claims:l,header:o,signature:c},error:null}}const g=eS(o.alg),_=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,c,F0(`${h}.${p}`)))throw new Vc("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}}Qs.nextInstanceID=0;const xS=Qs;class LS extends xS{constructor(e){super(e)}}var DS=function(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(i,e||[])).next())})};class jS{constructor(e,n,s){var o,l,c;this.supabaseUrl=e,this.supabaseKey=n;const h=b0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:g0,realtime:v0,auth:Object.assign(Object.assign({},y0),{storageKey:p}),global:m0},g=T0(s??{},m);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=S0(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new NE(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new h0(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new SE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return DS(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:h,lock:p,debug:m},g,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LS({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,flowType:h,lock:p,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new JE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const US=(i,e,n)=>new jS(i,e,n);function MS(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const om={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var Cn={};let xn=null;try{xn=typeof import.meta<"u"&&import.meta&&om?om:null}catch{xn=null}const am=xn&&xn.VITE_SUPABASE_URL||typeof process<"u"&&Cn&&Cn.REACT_APP_SUPABASE_URL||typeof process<"u"&&Cn&&Cn.SUPABASE_URL||typeof window<"u"&&window.__SUPABASE_URL||"",lm=xn&&xn.VITE_SUPABASE_ANON_KEY||typeof process<"u"&&Cn&&Cn.REACT_APP_SUPABASE_ANON_KEY||typeof process<"u"&&Cn&&Cn.SUPABASE_ANON_KEY||typeof window<"u"&&window.__SUPABASE_ANON_KEY||"";let Bi=null,Ja=!1;function $S(){const i=new Error("Supabase client not configured (missing URL or anon key)"),e=()=>Promise.reject(i);return{auth:{signIn:e,signInWithOAuth:e,getSessionFromUrl:e},from:()=>({select:e,insert:e,update:e,delete:e}),rpc:e,storage:()=>({from:()=>({upload:e,download:e})}),_notConfigured:!0}}(function(){if(!am||!lm){console.warn("Supabase client not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or REACT_APP_SUPABASE_* / window.__SUPABASE_*)."),Bi=$S(),Ja=!1;return}Bi=US(String(am).replace(/\/$/,""),String(lm),{auth:{persistSession:!0}}),Ja=!0})();const Da=Bi;try{const i=!!(xn&&(xn.DEV||xn.VITE_DEBUG_SUPABASE==="true"))||typeof process<"u"&&Cn&&!1;typeof window<"u"&&i&&Bi&&!window.__debugSupabase&&(console.info("[supabase] dev: exposing supabase on window.__debugSupabase"),Object.defineProperty(window,"__debugSupabase",{value:Bi,writable:!1,configurable:!0}))}catch(i){console.debug("[supabase] failed to attach debug client",i&&i.message)}const FS=Object.freeze(Object.defineProperty({__proto__:null,default:Da,get isConfigured(){return Ja},get supabase(){return Bi}},Symbol.toStringTag,{value:"Module"})),BS=()=>{};var um={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[n++],c=i[n++],h=i[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,h=c?i[o+1]:0,p=o+2<i.length,m=p?i[o+2]:0,g=l>>2,_=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,I=m&63;p||(I=64,c||(w=64)),s.push(n[g],n[_],n[w],n[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Og(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=n[i.charAt(o++)],h=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const _=o<i.length?n[i.charAt(o)]:64;if(++o,l==null||h==null||m==null||_==null)throw new VS;const w=l<<2|h>>4;if(s.push(w),m!==64){const I=h<<4&240|m>>2;if(s.push(I),_!==64){const P=m<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HS=function(i){const e=Og(i);return Ng.encodeByteArray(e,!0)},xg=function(i){return HS(i).replace(/\./g,"")},Lg=function(i){try{return Ng.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=()=>WS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof um>"u")return;const i=um.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lg(i[1]);return e&&JSON.parse(e)},dd=()=>{try{return BS()||qS()||KS()||GS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JS=i=>dd()?.emulatorHosts?.[i],Dg=()=>dd()?.config,jg=i=>dd()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QS(i){return(await fetch(i,{credentials:"include"})).ok}const Ws={};function XS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ws))Ws[e]?i.emulator.push(e):i.prod.push(e);return i}function ZS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let cm=!1;function eI(i,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Ws[i]===e||Ws[i]||cm)return;Ws[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=XS().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cm=!0,c()},w}function g(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=ZS(s),I=n("text"),P=document.getElementById(I)||document.createElement("span"),A=n("learnmore"),b=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),N=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;h(L),g(b,A);const j=m();p(N,D),L.append(N,P,b,j),document.body.appendChild(L)}l?(P.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sI(){const i=bt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function oI(){try{return typeof indexedDB=="object"}catch{return!1}}function aI(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="FirebaseError";class wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lI,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?uI(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new wr(o,h,s)}}function uI(i,e){return i.replace(cI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cI=/\{\$([^}]+)}/g;function dI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function zi(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(dm(l)&&dm(c)){if(!zi(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function dm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $s(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Fs(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function hI(i,e){const n=new fI(i,e);return n.subscribe.bind(n)}class fI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gc),o.error===void 0&&(o.error=gc),o.complete===void 0&&(o.complete=gc);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function gc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(i){return i&&i._delegate?i._delegate:i}class Vi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yI(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gI(i){return i===$r?void 0:i}function yI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const _I={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},wI=Ne.INFO,EI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},SI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=EI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=wI,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const II=(i,e)=>e.some(n=>i instanceof n);let hm,fm;function kI(){return hm||(hm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return fm||(fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mg=new WeakMap,Hc=new WeakMap,$g=new WeakMap,yc=new WeakMap,hd=new WeakMap;function bI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{n(mr(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Mg.set(n,i)}).catch(()=>{}),hd.set(e,i),e}function RI(i){if(Hc.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Hc.set(i,e)}let Wc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Hc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$g.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function AI(i){Wc=i(Wc)}function CI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vc(this),e,...n);return $g.set(s,e.sort?e.sort():[e]),mr(s)}:TI().includes(i)?function(...e){return i.apply(vc(this),e),mr(Mg.get(this))}:function(...e){return mr(i.apply(vc(this),e))}}function PI(i){return typeof i=="function"?CI(i):(i instanceof IDBTransaction&&RI(i),II(i,kI())?new Proxy(i,Wc):i)}function mr(i){if(i instanceof IDBRequest)return bI(i);if(yc.has(i))return yc.get(i);const e=PI(i);return e!==i&&(yc.set(i,e),hd.set(e,i)),e}const vc=i=>hd.get(i);function OI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),h=mr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(mr(c.result),p.oldVersion,p.newVersion,mr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const NI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],_c=new Map;function pm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NI.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&p.done]))[0]};return _c.set(e,l),l}AI(i=>({...i,get:(e,n,s)=>pm(e,n)||i.get(e,n,s),has:(e,n)=>!!pm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DI(i){return i.getComponent()?.type==="VERSION"}const qc="@firebase/app",mm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Ug("@firebase/app"),jI="@firebase/app-compat",UI="@firebase/analytics-compat",MI="@firebase/analytics",$I="@firebase/app-check-compat",FI="@firebase/app-check",BI="@firebase/auth",zI="@firebase/auth-compat",VI="@firebase/database",HI="@firebase/data-connect",WI="@firebase/database-compat",qI="@firebase/functions",KI="@firebase/functions-compat",GI="@firebase/installations",JI="@firebase/installations-compat",YI="@firebase/messaging",QI="@firebase/messaging-compat",XI="@firebase/performance",ZI="@firebase/performance-compat",ek="@firebase/remote-config",tk="@firebase/remote-config-compat",nk="@firebase/storage",rk="@firebase/storage-compat",ik="@firebase/firestore",sk="@firebase/ai",ok="@firebase/firestore-compat",ak="firebase",lk="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]",uk={[qc]:"fire-core",[jI]:"fire-core-compat",[MI]:"fire-analytics",[UI]:"fire-analytics-compat",[FI]:"fire-app-check",[$I]:"fire-app-check-compat",[BI]:"fire-auth",[zI]:"fire-auth-compat",[VI]:"fire-rtdb",[HI]:"fire-data-connect",[WI]:"fire-rtdb-compat",[qI]:"fire-fn",[KI]:"fire-fn-compat",[GI]:"fire-iid",[JI]:"fire-iid-compat",[YI]:"fire-fcm",[QI]:"fire-fcm-compat",[XI]:"fire-perf",[ZI]:"fire-perf-compat",[ek]:"fire-rc",[tk]:"fire-rc-compat",[nk]:"fire-gcs",[rk]:"fire-gcs-compat",[ik]:"fire-fst",[ok]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[ak]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Map,ck=new Map,Gc=new Map;function gm(i,e){try{i.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xs(i){const e=i.name;if(Gc.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;Gc.set(e,i);for(const n of Ya.values())gm(n,i);for(const n of ck.values())gm(n,i);return!0}function Fg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ze(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new lo("app","Firebase",dk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=lk;function Bg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Kc,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=Dg()),!n)throw gr.create("no-options");const l=Ya.get(o);if(l){if(zi(n,l.options)&&zi(s,l.config))return l;throw gr.create("duplicate-app",{appName:o})}const c=new vI(o);for(const p of Gc.values())c.addComponent(p);const h=new hk(n,s,c);return Ya.set(o,h),h}function fk(i=Kc){const e=Ya.get(i);if(!e&&i===Kc&&Dg())return Bg();if(!e)throw gr.create("no-app",{appName:i});return e}function Di(i,e,n){let s=uk[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}Xs(new Vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebase-heartbeat-database",mk=1,Zs="firebase-heartbeat-store";let wc=null;function zg(){return wc||(wc=OI(pk,mk,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zs)}catch(n){console.warn(n)}}}}).catch(i=>{throw gr.create("idb-open",{originalErrorMessage:i.message})})),wc}async function gk(i){try{const n=(await zg()).transaction(Zs),s=await n.objectStore(Zs).get(Vg(i));return await n.done,s}catch(e){if(e instanceof wr)jn.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}}async function ym(i,e){try{const s=(await zg()).transaction(Zs,"readwrite");await s.objectStore(Zs).put(e,Vg(i)),await s.done}catch(n){if(n instanceof wr)jn.warn(n.message);else{const s=gr.create("idb-set",{originalErrorMessage:n?.message});jn.warn(s.message)}}}function Vg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1024,vk=30;class _k{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ek(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vk){const o=Sk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vm(),{heartbeatsToSend:n,unsentEntries:s}=wk(this._heartbeatsCache.heartbeats),o=xg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return jn.warn(e),""}}}function vm(){return new Date().toISOString().substring(0,10)}function wk(i,e=yk){const n=[];let s=i.slice();for(const o of i){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),_m(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_m(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oI()?aI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ym(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ym(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _m(i){return xg(JSON.stringify({version:2,heartbeats:i})).length}function Sk(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(i){Xs(new Vi("platform-logger",e=>new LI(e),"PRIVATE")),Xs(new Vi("heartbeat",e=>new _k(e),"PRIVATE")),Di(qc,mm,i),Di(qc,mm,"esm2020"),Di("fire-js","")}Ik("");var kk="firebase",Tk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(kk,Tk,"app");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={PHONE:"phone",TOTP:"totp"},gA={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},yA={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},vA={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},_A={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Hg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wA=bk,Rk=Hg,Wg=new lo("auth","Firebase",Hg()),EA={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Ug("@firebase/auth");function Ak(i,...e){Qa.logLevel<=Ne.WARN&&Qa.warn(`Auth (${uo}): ${i}`,...e)}function ja(i,...e){Qa.logLevel<=Ne.ERROR&&Qa.error(`Auth (${uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,...e){throw pd(i,...e)}function Tt(i,...e){return pd(i,...e)}function fd(i,e,n){const s={...Rk(),[e]:n};return new lo("auth","Firebase",s).create(e,{appName:i.name})}function mt(i){return fd(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ji(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Dt(i,"argument-error"),fd(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pd(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Wg.create(i,...e)}function W(i,e,...n){if(!i)throw pd(e,...n)}function _n(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ja(e),new Error(e)}function Un(i,e){i||_n(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof self<"u"&&self.location?.href||""}function md(){return wm()==="http:"||wm()==="https:"}function wm(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(md()||rI()||"connection"in navigator)?navigator.onLine:!0}function Pk(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=tI()||iI()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i,e){Un(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xk=new co(3e4,6e4);function Be(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ze(i,e,n,s,o={}){return Kg(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Gi({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m={method:e,headers:p,...l};return nI()||(m.referrerPolicy="no-referrer"),i.emulatorConfig&&il(i.emulatorConfig.host)&&(m.credentials="include"),qg.fetch()(await Gg(i,i.config.apiHost,n,h),m)})}async function Kg(i,e,n){i._canInitEmulator=!1;const s={...Ok,...e};try{const o=new Dk(i),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bs(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bs(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Bs(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Bs(i,"user-disabled",c);const g=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fd(i,g,m);Dt(i,g)}}catch(o){if(o instanceof wr)throw o;Dt(i,"network-request-failed",{message:String(o)})}}async function Fn(i,e,n,s,o={}){const l=await ze(i,e,n,s,o);return"mfaPendingCredential"in l&&Dt(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gg(i,e,n,s){const o=`${e}${n}?${s}`,l=i,c=l.config.emulator?gd(i.config,o):`${i.config.apiScheme}://${o}`;return Nk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Lk(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Tt(this.auth,"network-request-failed")),xk.get())})}}function Bs(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Tt(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(i){return i!==void 0&&i.getResponse!==void 0}function Sm(i){return i!==void 0&&i.enterprise!==void 0}class Jg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(i){return(await ze(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Yg(i,e){return ze(i,"GET","/v2/recaptchaConfig",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(i,e){return ze(i,"POST","/v1/accounts:delete",e)}async function Mk(i,e){return ze(i,"POST","/v1/accounts:update",e)}async function Xa(i,e){return ze(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(i,e=!1){return ge(i).getIdToken(e)}async function $k(i,e=!1){const n=ge(i),s=await n.getIdToken(e),o=sl(s);W(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:qs(Ec(o.auth_time)),issuedAtTime:qs(Ec(o.iat)),expirationTime:qs(Ec(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ec(i){return Number(i)*1e3}function sl(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ja("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lg(n);return o?JSON.parse(o):(ja("Failed to decode base64 JWT payload"),null)}catch(o){return ja("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Im(i){const e=sl(i);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mn(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wr&&Fk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Fk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qs(this.lastLoginAt),this.creationTime=qs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i){const e=i.auth,n=await i.getIdToken(),s=await Mn(i,Xa(e,{idToken:n}));W(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?Qg(o.providerUserInfo):[],c=Vk(i.providerData,l),h=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,m=h?p:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jc(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(i,g)}async function zk(i){const e=ge(i);await to(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vk(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Qg(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(i,e){const n=await Kg(i,{},async()=>{const s=Gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await Gg(i,o,"/v1/token",`key=${l}`),h=await i._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return i.emulatorConfig&&il(i.emulatorConfig.host)&&(p.credentials="include"),qg.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wk(i,e){return ze(i,"POST","/v2/accounts:revokeToken",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Im(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=Im(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await Hk(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new ji;return s&&(W(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(W(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(W(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ji,this.toJSON())}_performRefresh(){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(i,e){W(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class un{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mn(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $k(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await to(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(mt(this.auth));const e=await this.getIdToken();return await Mn(this,Uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:I,providerData:P,stsTokenManager:A}=n;W(_&&A,e,"internal-error");const b=ji.fromJSON(this.name,A);W(typeof _=="string",e,"internal-error"),ur(s,e.name),ur(o,e.name),W(typeof w=="boolean",e,"internal-error"),W(typeof I=="boolean",e,"internal-error"),ur(l,e.name),ur(c,e.name),ur(h,e.name),ur(p,e.name),ur(m,e.name),ur(g,e.name);const D=new un({uid:_,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:b,createdAt:m,lastLoginAt:g});return P&&Array.isArray(P)&&(D.providerData=P.map(N=>({...N}))),p&&(D._redirectEventId=p),D}static async _fromIdTokenResponse(e,n,s=!1){const o=new ji;o.updateFromServerResponse(n);const l=new un({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await to(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];W(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Qg(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,h=new ji;h.updateFromIdToken(s);const p=new un({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jc(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Map;function Pn(i){Un(i instanceof Function,"Expected a class definition");let e=km.get(i);return e?(Un(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,km.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xg.type="NONE";const Tm=Xg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(i,e,n){return`firebase:${i}:${e}:${n}`}class Ui{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Ua(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ua("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xa(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ui(Pn(Tm),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Pn(Tm);const c=Ua(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let _;if(typeof g=="string"){const w=await Xa(e,{idToken:g}).catch(()=>{});if(!w)break;_=await un._fromGetAccountInfoResponse(e,w,g)}else _=un._fromJSON(e,g);m!==l&&(h=_),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ui(l,e,s):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Ui(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ny(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iy(e))return"Blackberry";if(sy(e))return"Webos";if(ey(e))return"Safari";if((e.includes("chrome/")||ty(e))&&!e.includes("edge/"))return"Chrome";if(ry(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Zg(i=bt()){return/firefox\//i.test(i)}function ey(i=bt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ty(i=bt()){return/crios\//i.test(i)}function ny(i=bt()){return/iemobile/i.test(i)}function ry(i=bt()){return/android/i.test(i)}function iy(i=bt()){return/blackberry/i.test(i)}function sy(i=bt()){return/webos/i.test(i)}function yd(i=bt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qk(i=bt()){return yd(i)&&!!window.navigator?.standalone}function Kk(){return sI()&&document.documentMode===10}function oy(i=bt()){return yd(i)||ry(i)||sy(i)||iy(i)||/windows phone/i.test(i)||ny(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(i,e=[]){let n;switch(i){case"Browser":n=bm(bt());break;case"Worker":n=`${bm(bt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(i,e={}){return ze(i,"GET","/v2/passwordPolicy",Be(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=6;class Qk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rm(this),this.idTokenSubscription=new Rm(this),this.beforeStateQueue=new Gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ui.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xa(this,{idToken:e}),s=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ze(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await to(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(mt(this));const n=e?ge(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(mt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(mt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jk(this),n=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Wk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Ui.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ay(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ak(`Error while retrieving App Check token: ${e.error}`),e?.token}}function et(i){return ge(i)}class Rm{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zk(i){ho=i}function vd(i){return ho.loadJS(i)}function eT(){return ho.recaptchaV2Script}function tT(){return ho.recaptchaEnterpriseScript}function nT(){return ho.gapiScript}function ly(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=500,iT=6e4,Oa=1e12;class sT{constructor(e){this.auth=e,this.counter=Oa,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new lT(e,this.auth.name,n||{})),this.counter++,s}reset(e){const n=e||Oa;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||Oa;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||Oa;return this._widgets.get(n)?.execute(),""}}class oT{constructor(){this.enterprise=new aT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lT{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;W(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=uT(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},iT)},rT))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function uT(i){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const cT="recaptcha-enterprise",Ks="NO_RECAPTCHA";class uy{constructor(e){this.type=cT,this.auth=et(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{Yg(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Jg(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function o(l,c,h){const p=window.grecaptcha;Sm(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(Ks)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oT().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&Sm(window.grecaptcha))o(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tT();p.length!==0&&(p+=h),vd(p).then(()=>{o(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Us(i,e,n,s=!1,o=!1){const l=new uy(i);let c;if(o)c=Ks;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function yr(i,e,n,s,o){if(o==="EMAIL_PASSWORD_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Us(i,e,n,n==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Us(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(l)});else if(o==="PHONE_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const l=await Us(i,e,n);return s(i,l).catch(async c=>{if(i._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Us(i,e,n,!1,!0);return s(i,h)}return Promise.reject(c)})}else{const l=await Us(i,e,n,!1,!0);return s(i,l)}else return Promise.reject(o+" provider is not supported.")}async function cy(i){const e=et(i),n=await Yg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Jg(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new uy(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i,e){const n=Fg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(zi(l,e??{}))return o;Dt(o,"already-initialized")}return n.initialize({options:e})}function hT(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Pn);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function fT(i,e,n){const s=et(i);W(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!!n?.disableWarnings,l=dy(e),{host:c,port:h}=pT(e),p=h===null?"":`:${h}`,m={url:`${l}//${c}${p}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){W(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),W(zi(m,s.config.emulator)&&zi(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,il(c)?(QS(`${l}//${c}${p}`),eI("Auth",!0)):o||mT()}function dy(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pT(i){const e=dy(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Am(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Am(c)}}}function Am(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function mT(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(i,e){return ze(i,"POST","/v1/accounts:resetPassword",Be(i,e))}async function gT(i,e){return ze(i,"POST","/v1/accounts:update",e)}async function yT(i,e){return ze(i,"POST","/v1/accounts:signUp",e)}async function vT(i,e){return ze(i,"POST","/v1/accounts:update",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(i,e){return Fn(i,"POST","/v1/accounts:signInWithPassword",Be(i,e))}async function ol(i,e){return ze(i,"POST","/v1/accounts:sendOobCode",Be(i,e))}async function wT(i,e){return ol(i,e)}async function ET(i,e){return ol(i,e)}async function ST(i,e){return ol(i,e)}async function IT(i,e){return ol(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(i,e){return Fn(i,"POST","/v1/accounts:signInWithEmailLink",Be(i,e))}async function TT(i,e){return Fn(i,"POST","/v1/accounts:signInWithEmailLink",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends fo{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new no(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new no(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yr(e,n,"signInWithPassword",_T,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kT(e,{email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yr(e,s,"signUpPassword",yT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TT(e,{idToken:n,email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ln(i,e){return Fn(i,"POST","/v1/accounts:signInWithIdp",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="http://localhost";class $n extends fo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new $n(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ln(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ln(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ln(e,n)}buildRequest(){const e={requestUri:bT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(i,e){return ze(i,"POST","/v1/accounts:sendVerificationCode",Be(i,e))}async function RT(i,e){return Fn(i,"POST","/v1/accounts:signInWithPhoneNumber",Be(i,e))}async function AT(i,e){const n=await Fn(i,"POST","/v1/accounts:signInWithPhoneNumber",Be(i,e));if(n.temporaryProof)throw Bs(i,"account-exists-with-different-credential",n);return n}const CT={USER_NOT_FOUND:"user-not-found"};async function PT(i,e){const n={...e,operation:"REAUTH"};return Fn(i,"POST","/v1/accounts:signInWithPhoneNumber",Be(i,n),CT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends fo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Hr({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Hr({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return RT(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return AT(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return PT(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:l}=e;return!s&&!n&&!o&&!l?null:new Hr({verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NT(i){const e=$s(Fs(i)).link,n=e?$s(Fs(e)).deep_link_id:null,s=$s(Fs(i)).deep_link_id;return(s?$s(Fs(s)).link:null)||s||n||e||i}class po{constructor(e){const n=$s(Fs(e)),s=n.apiKey??null,o=n.oobCode??null,l=OT(n.mode??null);W(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NT(e);try{return new po(n)}catch{return null}}}function IA(i){return po.parseLink(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.providerId=Kr.PROVIDER_ID}static credential(e,n){return no._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=po.parseLink(n);return W(s,"argument-error"),no._fromEmailAndCode(e,s.code,s.tenantId)}}Kr.PROVIDER_ID="password";Kr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ma extends Yi{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),$n._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),$n._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Ma.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ma.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:l,nonce:c,providerId:h}=e;if(!s&&!o&&!n&&!l||!h)return null;try{return new Ma(h)._credential({idToken:n,accessToken:s,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Yi{constructor(){super("facebook.com")}static credential(e){return $n._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $n._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ln.credential(n,s)}catch{return null}}}ln.GOOGLE_SIGN_IN_METHOD="google.com";ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Yi{constructor(){super("github.com")}static credential(e){return $n._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="http://localhost";class ro extends fo{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ln(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ln(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ln(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,pendingToken:l}=n;return!s||!o||!l||s!==o?null:new ro(s,l)}static _create(e,n){return new ro(e,n)}buildRequest(){return{requestUri:xT,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="saml.";class Yc extends Bn{constructor(e){W(e.startsWith(LT),"argument-error"),super(e)}static credentialFromResult(e){return Yc.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yc.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ro.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:s}=e;if(!n||!s)return null;try{return ro._create(s,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Yi{constructor(){super("twitter.com")}static credential(e,n){return $n._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(i,e){return Fn(i,"POST","/v1/accounts:signUp",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await un._fromIdTokenResponse(e,s,o),c=Pm(s);return new Gt({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Pm(s);return new Gt({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Pm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(i){if(Ze(i.app))return Promise.reject(mt(i));const e=et(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Gt({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await fy(e,{returnSecureToken:!0}),s=await Gt._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends wr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Za(e,n,s,o)}}function py(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Za._fromErrorAndOperation(i,l,e,s):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(i,e){const n=ge(i);await al(!0,n,e);const{providerUserInfo:s}=await Mk(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=my(s||[]);return n.providerData=n.providerData.filter(l=>o.has(l.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function _d(i,e,n=!1){const s=await Mn(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Gt._forOperation(i,"link",s)}async function al(i,e,n){await to(e);const s=my(e.providerData),o=i===!1?"provider-already-linked":"no-such-provider";W(s.has(n)===i,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gy(i,e,n=!1){const{auth:s}=i;if(Ze(s.app))return Promise.reject(mt(s));const o="reauthenticate";try{const l=await Mn(i,py(s,o,e,i),n);W(l.idToken,s,"internal-error");const c=sl(l.idToken);W(c,s,"internal-error");const{sub:h}=c;return W(i.uid===h,s,"user-mismatch"),Gt._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dt(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(i,e,n=!1){if(Ze(i.app))return Promise.reject(mt(i));const s="signIn",o=await py(i,s,e),l=await Gt._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(l.user),l}async function wd(i,e){return yy(et(i),e)}async function vy(i,e){const n=ge(i);return await al(!1,n,e.providerId),_d(n,e)}async function DT(i,e){return gy(ge(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(i,e){return Fn(i,"POST","/v1/accounts:signInWithCustomToken",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(i,e){if(Ze(i.app))return Promise.reject(mt(i));const n=et(i),s=await jT(n,{token:e,returnSecureToken:!0}),o=await Gt._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Ed._fromServerResponse(e,n):"totpInfo"in n?Sd._fromServerResponse(e,n):Dt(e,"internal-error")}}class Ed extends mo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Ed(n)}}class Sd extends mo{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Sd(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(i,e,n){W(n.url?.length>0,i,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),W(typeof n.linkDomain>"u"||n.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(i){const e=et(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RA(i,e,n){const s=et(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ll(s,o,n),await yr(s,o,"getOobCode",ET,"EMAIL_PASSWORD_PROVIDER")}async function AA(i,e,n){await hy(ge(i),{oobCode:e,newPassword:n}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Id(i),s})}async function CA(i,e){await vT(ge(i),{oobCode:e})}async function UT(i,e){const n=ge(i),s=await hy(n,{oobCode:e}),o=s.requestType;switch(W(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(s.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(s.mfaInfo,n,"internal-error");default:W(s.email,n,"internal-error")}let l=null;return s.mfaInfo&&(l=mo._fromServerResponse(et(n),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:l},operation:o}}async function PA(i,e){const{data:n}=await UT(ge(i),e);return n.email}async function OA(i,e,n){if(Ze(i.app))return Promise.reject(mt(i));const s=et(i),c=await yr(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fy,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Id(i),p}),h=await Gt._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function Sc(i,e,n){return Ze(i.app)?Promise.reject(mt(i)):wd(ge(i),Kr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Id(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(i,e,n){const s=et(i),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,h){W(h.handleCodeInApp,s,"argument-error"),h&&ll(s,c,h)}l(o,n),await yr(s,o,"getOobCode",ST,"EMAIL_PASSWORD_PROVIDER")}function xA(i,e){return po.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function LA(i,e,n){if(Ze(i.app))return Promise.reject(mt(i));const s=ge(i),o=Kr.credentialWithLink(e,n||eo());return W(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),wd(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(i,e){return ze(i,"POST","/v1/accounts:createAuthUri",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(i,e){const n=md()?eo():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:o}=await MT(ge(i),s);return o||[]}async function DA(i,e){const n=ge(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()};e&&ll(n.auth,o,e);const{email:l}=await wT(n.auth,o);l!==i.email&&await i.reload()}async function jA(i,e,n){const s=ge(i),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await i.getIdToken(),newEmail:e};n&&ll(s.auth,l,n);const{email:c}=await IT(s.auth,l);c!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(i,e){return ze(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ge(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Mn(s,$T(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function MA(i,e){const n=ge(i);return Ze(n.auth.app)?Promise.reject(mt(n.auth)):_y(n,e,null)}function $A(i,e){return _y(ge(i),null,e)}async function _y(i,e,n){const{auth:s}=i,l={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const c=await Mn(i,gT(s,l));await i._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i){if(!i)return null;const{providerId:e}=i,n=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},s=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&i?.idToken){const o=sl(i.idToken)?.firebase?.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new Mi(s,l)}}if(!e)return null;switch(e){case"facebook.com":return new BT(s,n);case"github.com":return new zT(s,n);case"google.com":return new VT(s,n);case"twitter.com":return new HT(s,n,i.screenName||null);case"custom":case"anonymous":return new Mi(s,null);default:return new Mi(s,e,n)}}class Mi{constructor(e,n,s={}){this.isNewUser=e,this.providerId=n,this.profile=s}}class wy extends Mi{constructor(e,n,s,o){super(e,n,s),this.username=o}}class BT extends Mi{constructor(e,n){super(e,"facebook.com",n)}}class zT extends wy{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}}class VT extends Mi{constructor(e,n){super(e,"google.com",n)}}class HT extends wy{constructor(e,n,s){super(e,"twitter.com",n,s)}}function FA(i){const{user:e,_tokenResponse:n}=i;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:FT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(i,e){return ge(i).setPersistence(e)}function zA(i){return cy(i)}async function VA(i,e){return et(i).validatePassword(e)}function WT(i,e,n,s){return ge(i).onIdTokenChanged(e,n,s)}function qT(i,e,n){return ge(i).beforeAuthStateChanged(e,n)}function KT(i,e,n,s){return ge(i).onAuthStateChanged(e,n,s)}function HA(i){ge(i).useDeviceLanguage()}function WA(i,e){return ge(i).updateCurrentUser(e)}function kc(i){return ge(i).signOut()}function qA(i,e){return et(i).revokeAccessToken(e)}async function KA(i){return ge(i).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s){this.type=e,this.credential=n,this.user=s}static _fromIdtoken(e,n){return new Vr("enroll",e,n)}static _fromMfaPendingCredential(e){return new Vr("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return Vr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return Vr._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,s){this.session=e,this.hints=n,this.signInResolver=s}static _fromError(e,n){const s=et(e),o=n.customData._serverResponse,l=(o.mfaInfo||[]).map(h=>mo._fromServerResponse(s,h));W(o.mfaPendingCredential,s,"internal-error");const c=Vr._fromMfaPendingCredential(o.mfaPendingCredential);return new kd(c,l,async h=>{const p=await h._process(s,c);delete o.mfaInfo,delete o.mfaPendingCredential;const m={...o,idToken:p.idToken,refreshToken:p.refreshToken};switch(n.operationType){case"signIn":const g=await Gt._fromIdTokenResponse(s,n.operationType,m);return await s._updateCurrentUser(g.user),g;case"reauthenticate":return W(n.user,s,"internal-error"),Gt._forOperation(n.user,n.operationType,m);default:Dt(s,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function GA(i,e){const n=ge(i),s=e;return W(e.customData.operationType,n,"argument-error"),W(s.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),kd._fromError(n,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(i,e){return ze(i,"POST","/v2/accounts/mfaEnrollment:start",Be(i,e))}function GT(i,e){return ze(i,"POST","/v2/accounts/mfaEnrollment:finalize",Be(i,e))}function JT(i,e){return ze(i,"POST","/v2/accounts/mfaEnrollment:start",Be(i,e))}function YT(i,e){return ze(i,"POST","/v2/accounts/mfaEnrollment:finalize",Be(i,e))}function QT(i,e){return ze(i,"POST","/v2/accounts/mfaEnrollment:withdraw",Be(i,e))}class Td{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(s=>mo._fromServerResponse(e.auth,s)))})}static _fromUser(e){return new Td(e)}async getSession(){return Vr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const s=e,o=await this.getSession(),l=await Mn(this.user,s._process(this.user.auth,o,n));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,s=await this.user.getIdToken();try{const o=await Mn(this.user,QT(this.user.auth,{idToken:s,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==n),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const Tc=new WeakMap;function JA(i){const e=ge(i);return Tc.has(e)||Tc.set(e,Td._fromUser(e)),Tc.get(e)}const el="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(el,"1"),this.storage.removeItem(el),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=1e3,ZT=10;class Sy extends Ey{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Kk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZT):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},XT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sy.type="LOCAL";const eb=Sy;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=1e3;function bc(i){const e=i.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${e}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Rc(i){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${i.split(":")[3]}`}class Iy{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const n=new URL(`${window.location.origin}/__cookies__`);return n.searchParams.set("finalTarget",e),n}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;const n=Rc(e);return window.cookieStore?(await window.cookieStore.get(n))?.value:bc(n)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const s=Rc(e);document.cookie=`${s}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;const s=Rc(e);if(window.cookieStore){const h=(m=>{const g=m.changed.find(w=>w.name===s);g&&n(g.value),m.deleted.find(w=>w.name===s)&&n(null)}),p=()=>window.cookieStore.removeEventListener("change",h);return this.listenerUnsubscribes.set(n,p),window.cookieStore.addEventListener("change",h)}let o=bc(s);const l=setInterval(()=>{const h=bc(s);h!==o&&(n(h),o=h)},tb),c=()=>clearInterval(l);this.listenerUnsubscribes.set(n,c)}_removeListener(e,n){const s=this.listenerUnsubscribes.get(n);s&&(s(),this.listenerUnsubscribes.delete(n))}}Iy.type="COOKIE";const YA=Iy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Ey{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ky.type="SESSION";const Ty=ky;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ul(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async m=>m(n.origin,l)),p=await nb(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ul.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=cl("",20);o.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(g),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return window}function ib(i){at().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){return typeof at().WorkerGlobalScope<"u"&&typeof at().importScripts=="function"}async function sb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ob(){return navigator?.serviceWorker?.controller||null}function ab(){return bd()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="firebaseLocalStorageDb",lb=1,tl="firebaseLocalStorage",Ry="fbase_key";class go{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dl(i,e){return i.transaction([tl],e?"readwrite":"readonly").objectStore(tl)}function ub(){const i=indexedDB.deleteDatabase(by);return new go(i).toPromise()}function Qc(){const i=indexedDB.open(by,lb);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(tl,{keyPath:Ry})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(tl)?e(s):(s.close(),await ub(),e(await Qc()))})})}async function Nm(i,e,n){const s=dl(i,!0).put({[Ry]:e,value:n});return new go(s).toPromise()}async function cb(i,e){const n=dl(i,!1).get(e),s=await new go(n).toPromise();return s===void 0?null:s.value}function xm(i,e){const n=dl(i,!0).delete(e);return new go(n).toPromise()}const db=800,hb=3;class Ay{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ul._getInstance(ab()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sb(),!this.activeServiceWorker)return;this.sender=new rb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ob()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qc();return await Nm(e,el,"1"),await xm(e,el),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cb(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=dl(o,!1).getAll();return new go(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ay.type="LOCAL";const fb=Ay;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i,e){return ze(i,"POST","/v2/accounts/mfaSignIn:start",Be(i,e))}function pb(i,e){return ze(i,"POST","/v2/accounts/mfaSignIn:finalize",Be(i,e))}function mb(i,e){return ze(i,"POST","/v2/accounts/mfaSignIn:finalize",Be(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=ly("rcb"),gb=new co(3e4,6e4);class yb{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!at().grecaptcha?.render}load(e,n=""){return W(vb(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Em(at().grecaptcha)?Promise.resolve(at().grecaptcha):new Promise((s,o)=>{const l=at().setTimeout(()=>{o(Tt(e,"network-request-failed"))},gb.get());at()[Ac]=()=>{at().clearTimeout(l),delete at()[Ac];const h=at().grecaptcha;if(!h||!Em(h)){o(Tt(e,"internal-error"));return}const p=h.render;h.render=(m,g)=>{const _=p(m,g);return this.counter++,_},this.hostLanguage=n,s(h)};const c=`${eT()}?${Gi({onload:Ac,render:"explicit",hl:n})}`;vd(c).catch(()=>{clearTimeout(l),o(Tt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!at().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function vb(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class _b{async load(e){return new sT(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="recaptcha",wb={theme:"light",type:"image"};class QA{constructor(e,n,s={...wb}){this.parameters=s,this.type=Gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=et(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;W(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _b:new yb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(o=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),o(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=at()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(md()&&!bd(),this.auth,"internal-error"),await Eb(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await jk(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Eb(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Hr._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function XA(i,e,n){if(Ze(i.app))return Promise.reject(mt(i));const s=et(i),o=await hl(s,e,ge(n));return new Rd(o,l=>wd(s,l))}async function ZA(i,e,n){const s=ge(i);await al(!1,s,"phone");const o=await hl(s.auth,e,ge(n));return new Rd(o,l=>vy(s,l))}async function eC(i,e,n){const s=ge(i);if(Ze(s.auth.app))return Promise.reject(mt(s.auth));const o=await hl(s.auth,e,ge(n));return new Rd(o,l=>DT(s,l))}async function hl(i,e,n){if(!i._getRecaptchaConfig())try{await cy(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){W(o.type==="enroll",i,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yr(i,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Ks){W(n?.type===Gs,m,"argument-error");const _=await Cc(m,g,n);return Om(m,_)}return Om(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{W(o.type==="signin",i,"internal-error");const l=s.multiFactorHint?.uid||s.multiFactorUid;W(l,i,"missing-multi-factor-info");const c={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yr(i,c,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===Ks){W(n?.type===Gs,g,"argument-error");const w=await Cc(g,_,n);return Lm(g,w)}return Lm(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yr(i,o,"sendVerificationCode",async(p,m)=>{if(m.captchaResponse===Ks){W(n?.type===Gs,p,"argument-error");const g=await Cc(p,m,n);return Cm(p,g)}return Cm(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{n?._reset()}}async function tC(i,e){const n=ge(i);if(Ze(n.auth.app))return Promise.reject(mt(n.auth));await _d(n,e)}async function Cc(i,e,n){W(n.type===Gs,i,"argument-error");const s=await n.verify();W(typeof s=="string",i,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.captchaResponse,h=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:s,captchaResponse:c,clientType:h,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.captchaResponse,c=o.phoneSignInInfo.clientType,h=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:l,clientType:c,recaptchaVersion:h}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.providerId=$i.PROVIDER_ID,this.auth=et(e)}verifyPhoneNumber(e,n){return hl(this.auth,e,ge(n))}static credential(e,n){return Hr._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $i.credentialFromTaggedObject(n)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:s}=e;return n&&s?Hr._fromTokenResponse(n,s):null}}$i.PROVIDER_ID="phone";$i.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i,e){return e?Pn(e):(W(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends fo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ln(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ln(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ln(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Sb(i){return yy(i.auth,new Ad(i),i.bypassAuthState)}function Ib(i){const{auth:e,user:n}=i;return W(n,e,"internal-error"),gy(n,new Ad(i),i.bypassAuthState)}async function kb(i){const{auth:e,user:n}=i;return W(n,e,"internal-error"),_d(n,new Ad(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sb;case"linkViaPopup":case"linkViaRedirect":return kb;case"reauthViaPopup":case"reauthViaRedirect":return Ib;default:Dt(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new co(2e3,1e4);async function bb(i,e,n){if(Ze(i.app))return Promise.reject(Tt(i,"operation-not-supported-in-this-environment"));const s=et(i);Ji(i,e,Bn);const o=Gr(s,n);return new On(s,"signInViaPopup",e,o).executeNotNull()}async function nC(i,e,n){const s=ge(i);if(Ze(s.auth.app))return Promise.reject(Tt(s.auth,"operation-not-supported-in-this-environment"));Ji(s.auth,e,Bn);const o=Gr(s.auth,n);return new On(s.auth,"reauthViaPopup",e,o,s).executeNotNull()}async function rC(i,e,n){const s=ge(i);Ji(s.auth,e,Bn);const o=Gr(s.auth,n);return new On(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class On extends Cy{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,On.currentPopupAction&&On.currentPopupAction.cancel(),On.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=cl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,On.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tb.get())};e()}}On.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="pendingRedirect",$a=new Map;class Ab extends Cy{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$a.get(this.auth._key());if(!e){try{const s=await Cb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$a.set(this.auth._key(),e)}return this.bypassAuthState||$a.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cb(i,e){const n=Oy(e),s=Py(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function Cd(i,e){return Py(i)._set(Oy(e),"true")}function Pb(i,e){$a.set(i._key(),e)}function Py(i){return Pn(i._redirectPersistence)}function Oy(i){return Ua(Rb,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i,e,n){return Ob(i,e,n)}async function Ob(i,e,n){if(Ze(i.app))return Promise.reject(mt(i));const s=et(i);Ji(i,e,Bn),await s._initializationPromise;const o=Gr(s,n);return await Cd(o,s),o._openRedirect(s,e,"signInViaRedirect")}function sC(i,e,n){return Nb(i,e,n)}async function Nb(i,e,n){const s=ge(i);if(Ji(s.auth,e,Bn),Ze(s.auth.app))return Promise.reject(mt(s.auth));await s.auth._initializationPromise;const o=Gr(s.auth,n);await Cd(o,s.auth);const l=await xy(s);return o._openRedirect(s.auth,e,"reauthViaRedirect",l)}function oC(i,e,n){return xb(i,e,n)}async function xb(i,e,n){const s=ge(i);Ji(s.auth,e,Bn),await s.auth._initializationPromise;const o=Gr(s.auth,n);await al(!1,s,e.providerId),await Cd(o,s.auth);const l=await xy(s);return o._openRedirect(s.auth,e,"linkViaRedirect",l)}async function Lb(i,e){return await et(i)._initializationPromise,Ny(i,e,!1)}async function Ny(i,e,n=!1){if(Ze(i.app))return Promise.reject(mt(i));const s=et(i),o=Gr(s,e),c=await new Ab(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}async function xy(i){const e=cl(`${i.uid}:::`);return i._redirectEventId=e,await i.auth._setRedirectUser(i),await i.auth._persistUserIfCurrent(i),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=600*1e3;class jb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ub(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ly(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Tt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Db&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dm(e))}saveEventToCache(e){this.cachedEventUids.add(Dm(e)),this.lastProcessedEventTime=Date.now()}}function Dm(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ly({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Ub(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ly(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(i,e={}){return ze(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fb=/^https?/;async function Bb(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Mb(i);for(const n of e)try{if(zb(n))return}catch{}Dt(i,"unauthorized-domain")}function zb(i){const e=eo(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Fb.test(n))return!1;if($b.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new co(3e4,6e4);function jm(){const i=at().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Hb(i){return new Promise((e,n)=>{function s(){jm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jm(),n(Tt(i,"network-request-failed"))},timeout:Vb.get()})}if(at().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(at().gapi?.load)s();else{const o=ly("iframefcb");return at()[o]=()=>{gapi.load?s():n(Tt(i,"network-request-failed"))},vd(`${nT()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Fa=null,e})}let Fa=null;function Wb(i){return Fa=Fa||Hb(i),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new co(5e3,15e3),Kb="__/auth/iframe",Gb="emulator/auth/iframe",Jb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qb(i){const e=i.config;W(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?gd(e,Gb):`https://${i.config.authDomain}/${Kb}`,s={apiKey:e.apiKey,appName:i.name,v:uo},o=Yb.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Gi(s).slice(1)}`}async function Xb(i){const e=await Wb(i),n=at().gapi;return W(n,i,"internal-error"),e.open({where:document.body,url:Qb(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jb,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Tt(i,"network-request-failed"),h=at().setTimeout(()=>{l(c)},qb.get());function p(){at().clearTimeout(h),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eR=500,tR=600,nR="_blank",rR="http://localhost";class Um{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(i,e,n,s=eR,o=tR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...Zb,width:s.toString(),height:o.toString(),top:l,left:c},m=bt().toLowerCase();n&&(h=ty(m)?nR:n),Zg(m)&&(e=e||rR,p.scrollbars="yes");const g=Object.entries(p).reduce((w,[I,P])=>`${w}${I}=${P},`,"");if(qk(m)&&h!=="_self")return sR(e||"",h),new Um(null);const _=window.open(e||"",h,g);W(_,i,"popup-blocked");try{_.focus()}catch{}return new Um(_)}function sR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="__/auth/handler",aR="emulator/auth/handler",lR=encodeURIComponent("fac");async function Mm(i,e,n,s,o,l){W(i.config.authDomain,i,"auth-domain-config-required"),W(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof Bn){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",dI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof Yi){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}i.tenantId&&(c.tid=i.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const p=await i._getAppCheckToken(),m=p?`#${lR}=${encodeURIComponent(p)}`:"";return`${uR(i)}?${Gi(h).slice(1)}${m}`}function uR({config:i}){return i.emulator?gd(i,aR):`https://${i.authDomain}/${oR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="webStorageSupport";class cR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ty,this._completeRedirectFn=Ny,this._overrideRedirectResult=Pb}async _openPopup(e,n,s,o){Un(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Mm(e,n,s,eo(),o);return iR(e,l,cl())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await Mm(e,n,s,eo(),o);return ib(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Un(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Xb(e),s=new jb(e);return n.register("authEvent",o=>(W(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pc,{type:Pc},o=>{const l=o?.[0]?.[Pc];l!==void 0&&n(!!l),Dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oy()||ey()||yd()}}const dR=cR;class Dy{constructor(e){this.factorId=e}_process(e,n,s){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,s);case"signin":return this._finalizeSignIn(e,n.credential);default:return _n("unexpected MultiFactorSessionType")}}}class Pd extends Dy{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Pd(e)}_finalizeEnroll(e,n,s){return GT(e,{idToken:n,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return pb(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hR{constructor(){}static assertion(e){return Pd._fromCredential(e)}}hR.FACTOR_ID="phone";class fR{static assertionForEnrollment(e,n){return io._fromSecret(e,n)}static assertionForSignIn(e,n){return io._fromEnrollmentId(e,n)}static async generateSecret(e){const n=e;W(typeof n.user?.auth<"u","internal-error");const s=await JT(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return Od._fromStartTotpMfaEnrollmentResponse(s,n.user.auth)}}fR.FACTOR_ID="totp";class io extends Dy{constructor(e,n,s){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=s}static _fromSecret(e,n){return new io(n,void 0,e)}static _fromEnrollmentId(e,n){return new io(n,e)}async _finalizeEnroll(e,n,s){return W(typeof this.secret<"u",e,"argument-error"),YT(e,{idToken:n,displayName:s,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){W(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const s={verificationCode:this.otp};return mb(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:s})}}class Od{constructor(e,n,s,o,l,c,h){this.sessionInfo=c,this.auth=h,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=s,this.codeIntervalSeconds=o,this.enrollmentCompletionDeadline=l}static _fromStartTotpMfaEnrollmentResponse(e,n){return new Od(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){let s=!1;return(Na(e)||Na(n))&&(s=!0),s&&(Na(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Na(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Na(i){return typeof i>"u"||i?.length===0}var $m="@firebase/auth",Fm="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gR(i){Xs(new Vi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;W(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ay(i)},m=new Xk(s,o,l,p);return hT(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Vi("auth-internal",e=>{const n=et(e.getProvider("auth").getImmediate());return(s=>new pR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di($m,Fm,mR(i)),Di($m,Fm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=300,vR=jg("authIdTokenMaxAge")||yR;let Bm=null;const _R=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vR)return;const o=n?.token;Bm!==o&&(Bm=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wR(i=fk()){const e=Fg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=dT(i,{popupRedirectResolver:dR,persistence:[fb,eb,Ty]}),s=jg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=_R(l.toString());qT(n,c,()=>c(n.currentUser)),WT(n,h=>c(h))}}const o=JS("auth");return o&&fT(n,`http://${o}`),n}function ER(){return document.getElementsByTagName("head")?.[0]??document}Zk({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Tt("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",ER().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gR("Browser");const zm={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var SR={};let Te=null;try{Te=typeof import.meta<"u"&&import.meta&&zm?zm:null}catch{Te=null}const Ce=typeof process<"u"&&SR||{},Ba={apiKey:Te&&Te.VITE_FIREBASE_API_KEY||Ce.REACT_APP_FIREBASE_API_KEY||Ce.FIREBASE_API_KEY,authDomain:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN||Ce.REACT_APP_FIREBASE_AUTH_DOMAIN||Ce.FIREBASE_AUTH_DOMAIN,projectId:Te&&Te.VITE_FIREBASE_PROJECT_ID||Ce.REACT_APP_FIREBASE_PROJECT_ID||Ce.FIREBASE_PROJECT_ID,storageBucket:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET||Ce.REACT_APP_FIREBASE_STORAGE_BUCKET||Ce.FIREBASE_STORAGE_BUCKET,messagingSenderId:Te&&Te.VITE_FIREBASE_MESSAGING_SENDER_ID||Ce.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||Ce.FIREBASE_MESSAGING_SENDER_ID,appId:Te&&Te.VITE_FIREBASE_APP_ID||Ce.REACT_APP_FIREBASE_APP_ID||Ce.FIREBASE_APP_ID,measurementId:Te&&Te.VITE_FIREBASE_MEASUREMENT_ID||Ce.REACT_APP_FIREBASE_MEASUREMENT_ID||Ce.FIREBASE_MEASUREMENT_ID};try{const i={apiKeySource:Te&&Te.VITE_FIREBASE_API_KEY?"import.meta.env (VITE_)":Ce.REACT_APP_FIREBASE_API_KEY||Ce.FIREBASE_API_KEY?"process.env":"none",authDomainSource:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN?"import.meta.env (VITE_)":Ce.REACT_APP_FIREBASE_AUTH_DOMAIN||Ce.FIREBASE_AUTH_DOMAIN?"process.env":"none",projectIdSource:Te&&Te.VITE_FIREBASE_PROJECT_ID?"import.meta.env (VITE_)":Ce.REACT_APP_FIREBASE_PROJECT_ID||Ce.FIREBASE_PROJECT_ID?"process.env":"none",storageBucketSource:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET?"import.meta.env (VITE_)":Ce.REACT_APP_FIREBASE_STORAGE_BUCKET||Ce.FIREBASE_STORAGE_BUCKET?"process.env":"none",appIdSource:Te&&Te.VITE_FIREBASE_APP_ID?"import.meta.env (VITE_)":Ce.REACT_APP_FIREBASE_APP_ID||Ce.FIREBASE_APP_ID?"process.env":"none"},e=(()=>{const n=Te&&Te.VITE_FIREBASE_API_KEY||Ce.REACT_APP_FIREBASE_API_KEY||Ce.FIREBASE_API_KEY||"";return n?n.length>8?`${n.slice(0,8)}...[masked]`:"[masked]":"(none)"})();console.debug("[firebase] env sources:",i,"maskedApiKey:",e)}catch(i){console.debug("[firebase] env debug failed",i&&i.message)}const IR=!!(Ba.apiKey&&Ba.projectId&&Ba.appId);let Vm=null,Ue=null;IR?(Vm=Bg(Ba),Ue=wR(Vm)):console.error("[firebase] missing essential config (apiKey/projectId/appId). Skipping initializeApp to avoid /__/firebase/init.json requests.");try{const i=!!(Te&&(Te.DEV||Te.VITE_DEBUG_FIREBASE==="true"))||Ce&&Ce.NODE_ENV!=="production"&&Ce.DEBUG_FIREBASE==="true";typeof window<"u"&&i&&(console.info("[firebase] dev: exposing auth on window.__debugFirebaseAuth"),Object.defineProperty(window,"__debugFirebaseAuth",{value:Ue,writable:!1,configurable:!0}))}catch(i){console.debug("[firebase] failed to attach debug auth",i&&i.message)}const aC=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Ue}},Symbol.toStringTag,{value:"Module"})),za=new ln;try{za.addScope("profile"),za.addScope("email"),za.setCustomParameters({prompt:"select_account"})}catch(i){console.debug("[firebaseAuth] could not set provider scopes/params",i&&i.message?i.message:i)}async function kR(){if(!Ue)return{error:new Error("[firebaseAuth] Firebase not configured (missing env vars)")};try{const i=await bb(Ue,za);let e=null;try{e=ln.credentialFromResult(i)}catch{}return{user:i.user,credential:e}}catch(i){return{error:i}}}async function TR(){if(!Ue)return{error:new Error("[firebaseAuth] Firebase not configured (missing env vars)")};try{const i=await Lb(Ue);if(!i)return{none:!0};let e=null;try{e=ln.credentialFromResult(i)}catch{}return{user:i.user,credential:e}}catch(i){return{error:i}}}const bR=[{id:"demo1",nome:"Usurio Demo",email:"demo@pecafacil.com",senha:"123456",celular:"11999999999",isDemo:!0},{id:"admin1",nome:"Admin Demo",email:"admin@pecafacil.com",senha:"admin123",celular:"11888888888",isDemo:!0},{id:"teste1",nome:"Teste Pblico",email:"teste@pecafacil.com",senha:"teste123",celular:"11777777777",isDemo:!0}];function RR(){const[i,e]=k.useState(""),[n,s]=k.useState(""),[o,l]=k.useState(""),[c,h]=k.useState(null),[p,m]=k.useState(!1),[g,_]=k.useState(!1),[w,I]=k.useState(!1),[P,A]=k.useState(!1),[b,D]=k.useState(null),[N,L]=k.useState(""),[j,G]=k.useState(!1),[K,X]=k.useState(null),[ce,z]=k.useState(""),[me,Ve]=k.useState(!1),[He,Ge]=k.useState(null),[rt,Qe]=k.useState(null),[We,xe]=k.useState(!1),[J,ie]=k.useState(""),Y=qi();k.useEffect(()=>{try{const V=window.history.state&&window.history.state.usr&&window.history.state.usr.state||window.history.state&&window.history.state.state,U=V&&V.email;U&&e(String(U).trim())}catch{}},[]);const{setUsuarioLogado:R}=k.useContext(yo||{});k.useEffect(()=>{try{localStorage.setItem("__test_localStorage__","test"),localStorage.removeItem("__test_localStorage__")}catch{}},[]);function M(F){if(!F||typeof F!="string")return"";let V=F.trim();return V=V.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),V=V.replace(/[._+\-]+/g," "),V=V.replace(/\s+/g," ").trim(),V=V.split(" ").map(U=>U?U.charAt(0).toUpperCase()+U.slice(1):"").join(" ").trim(),V||F}const fe=k.useRef(!1);async function de(F,V=null){if(!(!F||fe.current)){try{try{console.time("[auth-timing] processFirebaseUser total")}catch{}const U=F&&F.email?String(F.email).trim().toLowerCase():null;if(U){const we=_e().find(Z=>String(Z.email||"").trim().toLowerCase()===U);if(we&&!we.isDemo){if(V){console.debug("Attempting automatic merge for existing local user with googleCredential",V);try{let Z=null;try{Z=await F.getIdToken()}catch{}if(!Z)try{Z=await F.getIdToken(!0)}catch{}if(Z){Ge(Z),Qe(U),ie("");try{await ve(Z);return}catch(le){console.warn("Automatic merge attempt failed, falling back to password prompt",le&&le.message?le.message:le)}}}catch(Z){console.warn("Automatic merge attempt threw",Z&&Z.message?Z.message:Z)}console.debug("Setting linkingCredential (processFirebaseUser) fallback to modal:",V),D(V),X(U),l(""),z(""),G(!0);return}l("J existe uma conta criada com este e-mail. Faa login com e-mail/senha ou entre em contato para unificar as contas.");try{await kc(Ue)}catch{}return}try{const Z=await Ic(Ue,U);if(Array.isArray(Z)){const le=Z.includes("password"),pe=Z.includes("google.com")||Z.includes("google");if(le&&!pe){if(V){D(V),X(U),l(""),z(""),G(!0);return}l("J existe uma conta criada com este e-mail (senha). Faa login com e-mail/senha ou entre em contato para unificar as contas.");try{await kc(Ue)}catch{}return}}}catch{}}}catch{}fe.current=!0;try{let U=null;try{console.time("[auth-timing] wait-for-idToken")}catch{}try{U=await F.getIdToken()}catch(be){console.warn("processFirebaseUser: could not obtain idToken",be)}try{console.timeEnd("[auth-timing] wait-for-idToken")}catch{}U||console.warn("processFirebaseUser: no idToken available");try{console.time("[auth-timing] backend-verify")}catch{}const we=window.__API_BASE||"";let Z=null;U&&fetch(`${we}/api/auth/firebase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({})}).catch(be=>console.warn("Backend verification failed (non-blocking):",be));try{console.timeEnd("[auth-timing] backend-verify")}catch{}const le=F&&F.displayName||(F&&F.email?F.email.split("@")[0]:""),pe=M(le)||"",Me=Z?{...Z,nome:pe||Z.nome||Z.name,name:pe||Z.name||Z.nome,access_token:U,photoURL:Z.photoURL||Z.photo_url||Z.photo||F.photoURL||null}:{id:F.uid,email:F.email,nome:pe,name:pe,access_token:U,photoURL:F.photoURL||null};try{(Me&&String(Me.id||"").startsWith("dev_")||Me&&/devuser\+|dev_/.test(String(Me.nome||"").toLowerCase()))&&pe&&(Me.nome=pe,Me.name=pe)}catch{}R&&R(Me);try{localStorage.setItem("usuario-logado",JSON.stringify(Me))}catch{}try{console.timeEnd("[auth-timing] processFirebaseUser total")}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${Me.nome||"Usurio"}!`,"success",3e3),Y("/buscar-pecas")}catch(U){console.warn("processFirebaseUser failed",U&&U.message?U.message:U)}}}try{typeof window<"u"&&(window.__simulateGoogleSignin=async F=>{try{return await de(F),{ok:!0}}catch(V){return{error:V&&V.message?V.message:V}}})}catch{}k.useEffect(()=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.getItem("__google_redirect_pending")&&(A(!0),I(!0))}catch{}(async()=>{try{console.log("[page-Login] Starting handleRedirectResult check...");const V=await TR();console.log("[page-Login] handleRedirectResult result:",V);try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}A(!1);try{I(!1)}catch{}V&&V.user?(console.log("[page-Login] Processing firebase user from redirect..."),await de(V.user,V.credential||null)):V&&V.error?console.warn("[page-Login] handleRedirectResult returned error",V.error):console.log("[page-Login] No redirect result (expected on normal page load)")}catch(V){try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}A(!1);try{I(!1)}catch{}console.error("[page-Login] handleRedirectResult threw error:",V&&V.message?V.message:V)}})();const F=KT(Ue,async V=>{if(V)try{await de(V)}finally{try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}A(!1);try{I(!1)}catch{}}});return()=>{try{F&&F()}catch{}}},[R,Y]);async function ve(F=null){let V=F||He;if(typeof V!="string"&&(V=V?String(V):""),V=V.trim(),console.debug("confirmMerge invoked",{tokenProvided:!!F,pendingMergeEmail:rt,tokenPresent:!!V}),!V||V==="undefined"){ie("Token indisponvel para fuso.");return}xe(!0),ie("");try{const U=window.__API_BASE||"",we=await fetch(`${U}/api/auth/merge-google`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({})});if(!we.ok){const le=await we.json().catch(()=>({}));ie(le&&le.error?String(le.error):`Merge falhou: ${we.status}`),xe(!1);return}const Z=await we.json().catch(()=>({}));if(Z&&Z.success&&Z.user){const le=Z.user;R&&R(le);try{localStorage.setItem("usuario-logado",JSON.stringify(le))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${le.nome||le.name||"Usurio"}!`,"success",3e3),Ve(!1),Ge(null),Qe(null),Y("/buscar-pecas");return}ie("No foi possvel unir as contas. Tente novamente ou contate o suporte.")}catch(U){console.error("confirmMerge failed",U),ie("Erro ao comunicar com o servidor. Tente novamente.")}finally{xe(!1)}}function _e(){let F=[...bR];try{const V=localStorage.getItem("usuarios");V&&(F=F.concat(JSON.parse(V)))}catch{}try{const V=(_E||[]).map(U=>({id:U.id,nome:U.nome||"",celular:String(U.celular||"").replace(/\D/g,""),email:String(U.email||"").trim().toLowerCase(),senha:String(U.senha||"")}));F=F.concat(V)}catch{}return F}function Pe(F){F.preventDefault();const V=String(i||"").trim().toLowerCase(),U=String(n||"");(async()=>{try{let Z=function(Ie){return!Ie||typeof Ie!="string"?"":(Ie.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(Rt=>Rt?Rt.charAt(0).toUpperCase()+Rt.slice(1):"").join(" ").trim()};const le=window.__API_BASE||"";try{const Ie=await fetch(`${le}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:V,senha:U})});if(Ie.ok){const Qt=await Ie.json().catch(()=>({})),Rt=Qt&&Qt.user?Qt.user:null;if(Rt){const Sr={...Rt};Rt.auth_id&&!Sr.providers&&(Sr.providers=["google"]),R&&R(Sr);try{localStorage.setItem("usuario-logado",JSON.stringify(Sr))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${Rt.nome||Rt.name||"Usurio"}!`,"success",3e3),Y("/buscar-pecas");return}}}catch(Ie){console.debug("Server-side /api/auth/login failed (will try Supabase):",Ie&&Ie.message?Ie.message:Ie)}try{if(Ue&&typeof Sc=="function")try{const Ie=await Sc(Ue,V,U),Qt=Ie&&Ie.user?Ie.user:null;if(Qt){await de(Qt);return}}catch(Ie){console.debug("Firebase email/password signIn failed (falling back):",Ie&&Ie.code?Ie.code:Ie&&Ie.message?Ie.message:Ie)}}catch(Ie){console.debug("Firebase fallback check threw",Ie&&Ie.message?Ie.message:Ie)}if(typeof Da>"u"||!Da||!Ja)throw new Error("Supabase client not configured");const{data:pe,error:Me}=await Da.auth.signInWithPassword({email:V,password:U});if(Me){console.debug("Supabase auth signIn error (expected for non-Supabase users):",Me),l("E-mail ou senha incorretos.");return}const be=pe&&pe.session?pe.session:null,Jt=be&&be.access_token?be.access_token:null;if(!Jt){console.warn("Supabase signIn returned no access token"),l("Erro ao efetuar login. Tente novamente.");return}const hn=await fetch(`${le}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Jt}`},body:JSON.stringify({access_token:Jt})});if(!hn.ok){console.warn("Backend supabase-verify failed",hn.status),l("Erro ao verificar conta. Tente novamente.");return}const Er=await hn.json().catch(()=>({})),Yt=Er&&Er.user?Er.user:null;if(!Yt){l("Erro ao obter dados do usurio.");return}const Qi=(Yt.nome||Yt.name||"").trim()||Z(Yt.email||Yt.email_address||Yt.mail),zn={...Yt,nome:Qi,name:Qi,access_token:Jt};Yt.auth_id&&!zn.providers&&(zn.providers=["google"]),l(""),R&&R(zn);try{localStorage.setItem("usuario-logado",JSON.stringify(zn))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${zn.nome||"Usurio"}!`,"success",3e3),Y("/buscar-pecas");return}catch(Z){console.warn("Login flow failed, falling back to local users",Z&&Z.message)}const we=_e().find(Z=>String(Z.email||"").trim().toLowerCase()===V&&String(Z.senha||"")===U);if(!we){l("E-mail ou senha incorretos.");return}l(""),R&&R(we);try{localStorage.setItem("usuario-logado",JSON.stringify(we))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${we.nome||"Usurio"}!`,"success",3e3),Y("/buscar-pecas")})()}async function Se(){if(z(""),console.debug("confirmLinkAccounts called",{linkingCredential:b,linkEmail:K}),!b){z("Credencial do Google no disponvel. Tente novamente.");return}try{const F=b&&b.email?b.email:K||null;if(!F){z("Email no disponvel para link.");return}try{const U=await Ic(Ue,F);if(!Array.isArray(U)||!U.includes("password")){z("No existe uma conta com autenticao por senha neste e-mail no Firebase. Use Recuperar senha ou contate o suporte para unir as contas.");return}}catch(U){console.warn("fetchSignInMethodsForEmail failed",U)}if(!N){z("Digite a senha da conta existente para confirmar a unio.");return}let V=null;try{const U=await Sc(Ue,F,N);if(V=U&&U.user?U.user:null,!V){z("Falha ao autenticar a conta existente. Verifique a senha.");return}}catch(U){if(console.error("signInWithEmailAndPassword failed",U),U&&U.code){if(U.code==="auth/wrong-password"||U.code==="AUTH_WRONG_PASSWORD"){z("Senha incorreta. Verifique e tente novamente.");return}if(U.code==="auth/user-not-found"||U.code==="AUTH_USER_NOT_FOUND"){z("Usurio no encontrado no provedor de autenticao. Tente recuperar sua senha ou contate o suporte.");return}}z("Falha ao autenticar a conta existente. Verifique a senha ou tente recuperar sua senha.");return}try{await vy(V,b)}catch(U){console.error("Erro ao linkar credencial:",U),U&&U.code?z(`Erro ao unir contas: ${U.code} - ${U.message||""}`):U&&U.message?z(`Erro ao unir contas: ${U.message}`):z("Erro ao unir contas. Tente novamente.");return}try{let U=null;try{Ue&&Ue.currentUser&&typeof Ue.currentUser.getIdToken=="function"&&(U=await Ue.currentUser.getIdToken())}catch(we){console.warn("Could not obtain idToken to call backend link-account",we)}if(U)try{try{console.info("DEBUG: calling backend /api/auth/link-account",{email:F,haveIdToken:!!U,idTokenPreview:typeof U=="string"?U.slice(0,8)+"...":null,apiBase:window.__API_BASE||""})}catch{}const we=window.__API_BASE||"",Z=await fetch(`${we}/api/auth/link-account`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({email:F,senha:N})});if(Z.ok)try{const le=await Z.json().catch(()=>({}));le&&le.success&&console.debug("Backend link-account succeeded",le)}catch{}else try{const le=await Z.json().catch(()=>({}));z(le&&le.error?String(le.error):`Falha ao ligar contas: ${Z.status}`)}catch{}}catch(we){console.warn("Calling backend /api/auth/link-account failed",we)}await de(V)}catch(U){console.warn("Finalizing link flow failed",U),await de(V)}G(!1),L(""),D(null)}catch(F){console.error("confirmLinkAccounts failed",F),z("Erro ao unir contas. Verifique os dados e tente novamente.")}}const Le=!!(j||me||We||w||He),St=!!(w||P);return v.jsxs(v.Fragment,{children:[v.jsx(lg,{}),v.jsx("div",{className:"page-wrapper",children:v.jsx("div",{className:"page-content",children:v.jsx("div",{className:"cadastro-card-outer",children:v.jsxs("div",{className:"cadastro-card-grid",children:[v.jsxs("section",{className:"cadastro-card",children:[v.jsx("h1",{className:"cadastro-title",children:"Entrar"}),v.jsx("p",{className:"cadastro-sub",children:"Acesse sua conta para gerenciar pedidos e recursos"}),v.jsxs("form",{className:"cadastro-form",onSubmit:Pe,noValidate:!0,children:[!Le&&!j&&o&&v.jsx("div",{className:"form-error",children:o}),j&&v.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:v.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"420px",width:"100%",borderRadius:8},children:[v.jsx("h3",{children:"Unir contas"}),v.jsx("p",{children:"Foi encontrada uma conta existente com este e-mail. Para unir a conta do Google com sua conta existente, confirme sua senha:"}),v.jsxs("label",{className:"field",children:[v.jsx("span",{className:"label",children:"E-mail"}),v.jsx("input",{className:"input",type:"email",value:K||"",readOnly:!0})]}),ce&&v.jsx("div",{className:"form-error",style:{marginTop:8},children:ce}),v.jsxs("label",{className:"field",children:[v.jsx("span",{className:"label",children:"Senha da conta existente"}),v.jsx("input",{className:"input",type:"password",value:N,onChange:F=>L(F.target.value),placeholder:"Senha",onKeyDown:F=>{if(F.key==="Enter"){F.preventDefault();try{Se()}catch{}}}})]}),v.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:12},children:[v.jsx("button",{type:"button",className:"submit",onClick:Se,children:"Confirmar e unir contas"}),v.jsx("button",{type:"button",className:"submit",onClick:async()=>{try{await kc(Ue)}catch{}G(!1),D(null),L("")},children:"Cancelar"}),v.jsx("button",{type:"button",className:"submit",onClick:()=>{try{window.location.href="/recuperar-senha"}catch{}},children:"Recuperar senha"})]}),ce&&/autentica[c][a]o por senha|senha/i.test(ce)&&v.jsx("div",{style:{marginTop:12},children:v.jsx("button",{type:"button",className:"submit",onClick:async()=>{z("");try{let F=He;if(!F){if(!Ue||!Ue.currentUser){z("Usurio do provedor no disponvel. Tente entrar novamente com Google.");return}F=await Ue.currentUser.getIdToken()}if(!F){z("No foi possvel obter token do provedor.");return}Ge(F),Qe(K||Ue.currentUser&&Ue.currentUser.email),G(!1),Ve(!0);try{await ve()}catch(V){console.error("Auto confirmMerge failed",V)}}catch(F){console.error("mergeFromLinkModal failed",F),z("Erro ao obter token/realizar fuso: "+(F&&F.message?F.message:String(F)))}},children:"Unir contas no sistema (merge)"})}),v.jsx("div",{style:{marginTop:8,fontSize:12},children:v.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),me&&v.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e4},children:v.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"480px",width:"100%",borderRadius:8},children:[v.jsx("h3",{children:"Unir contas (confirmao)"}),v.jsxs("p",{children:["Detectamos uma conta existente com o mesmo e-mail (",v.jsx("strong",{children:rt}),")."]}),v.jsx("p",{children:"Se confirmar, iremos unir sua conta do Google com a conta existente no nosso sistema. Isso pode atualizar ou mesclar seus dados de perfil."}),J&&v.jsx("div",{className:"form-error",style:{marginTop:8},children:J}),v.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[v.jsx("button",{type:"button",className:"submit",onClick:ve,disabled:We,children:We?"Unindo...":"Confirmar e unir contas"}),v.jsx("button",{type:"button",className:"submit",onClick:()=>{Ve(!1),Ge(null),Qe(null),ie("")},children:"Cancelar"})]}),v.jsx("div",{style:{marginTop:8,fontSize:12},children:v.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),v.jsxs("label",{className:"field",children:[v.jsx("span",{className:"label",children:"E-mail"}),v.jsx("input",{className:"input",type:"email",value:i,onChange:F=>e(F.target.value),placeholder:"seu@exemplo.com",autoComplete:"username"})]}),v.jsxs("label",{className:"field",children:[v.jsx("span",{className:"label",children:"Senha"}),v.jsxs("div",{className:"password-field",children:[v.jsx("input",{className:"input password-input",type:g?"text":"password",value:n,onChange:F=>s(F.target.value),placeholder:"Senha",autoComplete:"current-password"}),v.jsx(yE,{on:g,onClick:()=>_(F=>!F),ariaLabel:g?"Ocultar senha":"Mostrar senha"})]})]}),v.jsx("div",{className:"cadastro-forgot-row",children:v.jsx("a",{href:"#",className:"login-forgot-link",onClick:async F=>{if(F.preventDefault(),!(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"))){try{window.location.href="/recuperar-senha"}catch{}return}l("");const U=String(i||"").trim();if(!U){l("Digite o e-mail antes de recuperar a senha (dev).");return}try{const we=window.__API_BASE||"",Z=await fetch(`${we}/api/debug/dev-generate-reset`,{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Key":"let-me-debug"},body:JSON.stringify({email:U})});if(!Z.ok){const pe=await Z.json().catch(()=>({}));l(pe&&pe.error?String(pe.error):"Falha ao gerar token de recuperao.");return}const le=await Z.json().catch(()=>({}));h(le),m(!0)}catch(we){console.error("dev generate reset failed",we),l("Erro ao gerar token de recuperao. Veja o console.")}},children:"Esqueci minha senha"})}),p&&c&&v.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:v.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"520px",width:"100%",borderRadius:8},children:[v.jsx("h3",{children:"Recuperao (modo dev)"}),v.jsxs("p",{children:["Token temporal e senha gerados para ",v.jsx("strong",{children:c&&c.email}),". Estes dados existem apenas no ambiente de desenvolvimento."]}),v.jsx("pre",{style:{background:"#f6f6f6",padding:12,borderRadius:6,overflowX:"auto"},children:`token: ${c&&c.token}
tempPassword: ${c&&c.tempPassword}
expiresAt: ${c&&c.expiresAt}`}),v.jsx("div",{style:{display:"flex",gap:8,marginTop:12},children:v.jsx("button",{className:"submit",onClick:()=>{m(!1),h(null)},children:"Fechar"})})]})}),v.jsx("button",{className:"submit",type:"submit",children:"Entrar"}),St&&v.jsxs("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e4},children:[v.jsxs("div",{className:"modal",role:"status","aria-live":"polite",style:{background:"#fff",padding:"20px",maxWidth:"420px",width:"100%",borderRadius:8,display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[v.jsx("div",{style:{width:44,height:44,borderRadius:22,border:"4px solid #eee",borderTopColor:"#4285F4",animation:"spin 1s linear infinite"},"aria-hidden":!0}),v.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Entrando com Google"}),v.jsx("div",{style:{fontSize:12,color:"#666"},children:"Aguarde enquanto finalizamos sua autenticao."})]}),v.jsx("style",{children:"@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"})]}),v.jsx("div",{className:"social-login-row",children:v.jsx("button",{type:"button",className:"google-btn google-btn-round","aria-label":"Entrar com Google",title:"Entrar com Google",disabled:w,onClick:async()=>{if(!w){I(!0),l("");try{let F=null,V=null;try{V=await kR(),V&&V.user?F=V.user:V&&V.error&&console.warn("signInWithGooglePopup returned error, falling back to redirect",V.error)}catch(U){console.warn("signInWithGooglePopup threw, falling back to redirect",U&&U.message?U.message:U)}if(!F){l("Popup do Google foi bloqueado. Por favor, permita popups para este site e tente novamente."),I(!1);return}if(!F){l("Falha ao obter usurio do provedor."),I(!1);return}try{const U=F&&F.email?String(F.email).trim().toLowerCase():null;if(U){const we=_e().find(Z=>String(Z.email||"").trim().toLowerCase()===U);if(we&&!we.isDemo){const Z=V&&V.credential?V.credential:null;console.debug("Popup flow: found existing manual account, attempting automatic merge",Z);let le=null;try{if(F&&typeof F.getIdToken=="function"){const pe=await F.getIdToken();if(pe)le=pe;else try{le=await F.getIdToken(!0)}catch{}}}catch{}if(le)try{if(n)try{const pe=window.__API_BASE||"",Me=await fetch(`${pe}/api/auth/link-account`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({email:U,senha:n})});if(Me&&Me.ok){const be=await Me.json().catch(()=>({}));if(be&&(be.success||be.user)){console.debug("Automatic link-account succeeded",be),be.user&&R&&R(be.user);try{localStorage.setItem("usuario-logado",JSON.stringify(be.user||{}))}catch{}window.showToast&&window.showToast("Contas unidas com sucesso!","success",3e3),I(!1),await de(F);return}}else try{const be=await Me.json().catch(()=>({}));console.warn("Automatic link-account returned error",Me.status,be)}catch{console.warn("Automatic link-account returned non-ok status",Me&&Me.status)}}catch(pe){console.warn("Automatic link-account request failed",pe)}try{Ge(le),Qe(U),ie(""),await ve(le),I(!1);return}catch(pe){console.warn("Automatic merge failed in popup flow, falling back to modal",pe&&pe.message?pe.message:pe)}}catch(pe){console.warn("Popup flow automatic linking/merge attempt threw",pe)}console.debug("Setting linkingCredential (popup flow) fallback to modal:",Z),D(Z),X(U);try{le&&Ge(le)}catch{}l(""),z(""),G(!0),I(!1);return}try{const Z=await Ic(Ue,U);if(Array.isArray(Z)&&Z.includes("password")){const le=V&&V.credential?V.credential:null;D(le),X(U);try{if(F&&typeof F.getIdToken=="function"){const pe=await F.getIdToken();pe&&Ge(pe)}}catch{}l(""),z(""),G(!0),I(!1);return}}catch{}}}catch{}await de(F,V&&V.credential?V.credential:null);return}catch(F){console.error("Google popup flow failed",F&&F.message?F.message:F),l("Erro inesperado durante login. Tente novamente.")}finally{I(!1)}}},children:v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",children:[v.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.9 0 7.1 1.4 9.2 3.2l6.8-6.6C35.6 3 30.1 1 24 1 14.7 1 6.9 6.6 3.1 14.7l7.9 6.1C12.4 15.1 17.7 9.5 24 9.5z"}),v.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-2.9-.4-4.3H24v8.2h12.9c-.6 3.2-2.9 5.9-6.1 7.4l9.4 7.3C43.9 37.4 46.5 31.1 46.5 24z"}),v.jsx("path",{fill:"#4A90E2",d:"M10 29.8A14.9 14.9 0 0 1 9.1 24c0-1.2.2-2.3.5-3.4L2 14.5A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.5 10.8l7.5-5z"}),v.jsx("path",{fill:"#FBBC05",d:"M24 46c6.1 0 11.6-2 15.7-5.4l-9.4-7.3c-2.5 1.7-5.7 2.8-9 2.8-6.3 0-11.6-4.6-13.6-10.8L2.5 34.8C6.9 41.4 14.7 46 24 46z"}),v.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),v.jsx("div",{className:"cadastro-signup-row",children:v.jsx(od,{to:"/cadastro",className:"signup-link",children:"Crie sua conta agora!"})})]})]}),v.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:v.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peas automotivas"})})]})})})})]})}const AR=""+new URL("catalogo-1-Ddz4h86a.jpg",import.meta.url).href,CR=""+new URL("catalogo-2-D2XH-_xo.jpg",import.meta.url).href,PR=""+new URL("recall-1-CpG-sMCU.jpg",import.meta.url).href,OR=""+new URL("recall-2-DOuPWRLm.jpg",import.meta.url).href,NR=""+new URL("guias-1-D1doTbHu.jpg",import.meta.url).href,xR=""+new URL("guias-2-CtaxD6Iu.jpg",import.meta.url).href,LR=""+new URL("tabelaFIPE-1-CohhTY1t.jpg",import.meta.url).href,DR=""+new URL("tabelaFIPE-2-DT2dycZ0.jpg",import.meta.url).href;function jR(){qi();const[i,e]=k.useState(null),n=[AR,CR,PR,OR,NR,xR,LR,DR],[s,o]=k.useState(0),l=k.useRef(null),c=()=>o(p=>(p-1+n.length)%n.length),h=()=>o(p=>(p+1)%n.length);return k.useEffect(()=>{const p=m=>{m.key==="ArrowLeft"&&c(),m.key==="ArrowRight"&&h()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),v.jsxs(v.Fragment,{children:[v.jsx(lg,{}),v.jsx("div",{className:"page-wrapper page-inicio",children:v.jsxs("div",{className:"page-content inicio-main",children:[v.jsx("div",{className:"inicio-hero",children:v.jsxs("div",{className:"inicio-hero-inner",children:[v.jsx("h1",{className:"page-title",children:"Seja um entendedor automotivo, agora mesmo!"}),v.jsx("div",{className:"inicio-intro",children:v.jsx("p",{className:"inicio-subtitle",children:"No PeaFcil voc conseguir se virar sozinho, aprender a identificar e comprar as peas certas para o seu carro com confiana e economia, aprender sobre manuteno preventiva, instalao de peas e muito mais."})})]})}),v.jsxs("div",{className:"inicio-carousel","aria-roledescription":"carousel",children:[v.jsx("button",{className:"carousel-control prev","aria-label":"Anterior",onClick:c,children:""}),v.jsx("div",{className:"carousel-track",ref:l,children:(()=>{const p=n.length,m=(s-1+p)%p,g=(s+1)%p;return[m,s,g].map((w,I)=>{const P=n[w],A=I===1,b=A?"carousel-item is-center":"carousel-item is-thumb";return v.jsxs("div",{className:b,onClick:()=>{A?e(P):o(w)},role:"button",tabIndex:0,onKeyDown:D=>{D.key==="Enter"&&(A?e(P):o(w))},children:[v.jsx("img",{src:P,alt:`Slide ${w+1}`}),A&&v.jsx("span",{className:"carousel-zoom-icon","aria-hidden":"true",title:"Ver imagem ampliada",children:""})]},w)})})()}),v.jsx("button",{className:"carousel-control next","aria-label":"Prximo",onClick:h,children:""})]}),v.jsx("div",{className:"inicio-band",children:v.jsxs("div",{className:"inicio-band-inner",children:[v.jsx("div",{className:"inicio-band-left",children:v.jsx("h1",{className:"inicio-band-title",children:"10 motivos para que voc escolha o Pea Fcil"})}),v.jsx("div",{className:"inicio-band-right",children:v.jsx("div",{className:"inicio-reasons",children:v.jsxs("div",{className:"reasons-grid",children:[v.jsxs("ol",{className:"reasons-col",children:[v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"1"}),"Conexo Simplificada com Oficinas."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"2"}),"Busca Inteligente de Peas."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"3"}),"Especificao Completa das Peas."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"4"}),"Informaes Essenciais sobre Recalls."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"5"}),"Guias Automotivos Abrangentes."]})]}),v.jsxs("ol",{className:"reasons-col",children:[v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"6"}),"Economia de Tempo e Esforo."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"7"}),"Decises de Manuteno Informadas."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"8"}),"Histrico de Manuteno Organizado."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"9"}),"Segurana e Confiabilidade."]}),v.jsxs("li",{children:[v.jsx("span",{className:"reason-number",children:"10"}),"Comunidade e Suporte."]})]})]})})})]})}),v.jsx("div",{className:"inicio-stats-section",children:v.jsxs("div",{className:"inicio-stats-container",children:[v.jsx("h2",{className:"inicio-stats-title",children:"Impacto e Credibilidade: A Pea Fcil em Nmeros"}),v.jsxs("div",{className:"inicio-stats-grid",children:[v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"50.000+"}),v.jsx("div",{className:"stat-label",children:"Peas Catalogadas"}),v.jsx("div",{className:"stat-description",children:"Base de dados completa e atualizada"})]}),v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"500+"}),v.jsx("div",{className:"stat-label",children:"Modelos de Veculos"}),v.jsx("div",{className:"stat-description",children:"Compatibilidade verificada e testada"})]}),v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"10.000+"}),v.jsx("div",{className:"stat-label",children:"Usurios Ativos"}),v.jsx("div",{className:"stat-description",children:"Comunidade crescente de entusiastas"})]}),v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"98%"}),v.jsx("div",{className:"stat-label",children:"Satisfao"}),v.jsx("div",{className:"stat-description",children:"Avaliao positiva dos usurios"})]}),v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"R$ 5.000"}),v.jsx("div",{className:"stat-label",children:"Economia Mdia/Ano"}),v.jsx("div",{className:"stat-description",children:"Por usurio em compras certeiras"})]}),v.jsxs("div",{className:"inicio-stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsx("div",{className:"stat-number",children:"70%"}),v.jsx("div",{className:"stat-label",children:"Reduo de Tempo"}),v.jsx("div",{className:"stat-description",children:"Na busca e compra de peas"})]})]})]})})]})}),i&&v.jsx("div",{className:"pf-zoom-overlay",onClick:()=>e(null),children:v.jsx("img",{className:"pf-zoom-image",src:i,alt:"Imagem ampliada",onClick:p=>p.stopPropagation()})})]})}const UR=k.lazy(()=>Oe(()=>import("./page-QuemSomos-DFCcEZJW.js"),__vite__mapDeps([0,1]),import.meta.url)),MR=k.lazy(()=>Oe(()=>import("./page-NossoProjeto-CAU2rfQo.js"),__vite__mapDeps([2,3]),import.meta.url)),$R=k.lazy(()=>Oe(()=>import("./page-SejaPro-BCLXKgul.js"),__vite__mapDeps([4,5]),import.meta.url)),FR=k.lazy(()=>Oe(()=>import("./page-VersaoPro-BYf-tbht.js"),__vite__mapDeps([6,7,8]),import.meta.url)),BR=k.lazy(()=>Oe(()=>import("./page-Checkin-MdYy-wmx.js"),__vite__mapDeps([9,7,10]),import.meta.url)),zR=k.lazy(()=>Oe(()=>import("./page-VersaoPro_Assinado-DHXWxoqV.js"),__vite__mapDeps([11,7,12]),import.meta.url)),VR=k.lazy(()=>Oe(()=>import("./page-Contato-lPz6tzTS.js"),__vite__mapDeps([13,14,15]),import.meta.url)),HR=k.lazy(()=>Oe(()=>import("./page-Cadastro-COFLTKNm.js"),[],import.meta.url)),WR=k.lazy(()=>Oe(()=>import("./page-Parceiros-C2sQWC_u.js"),__vite__mapDeps([16,7,17]),import.meta.url)),qR=k.lazy(()=>Oe(()=>import("./page-ContatoLogado-Be0soors.js"),__vite__mapDeps([18,14,7,19]),import.meta.url)),KR=k.lazy(()=>Oe(()=>import("./page-BuscarPeca-BNFfBIT5.js"),__vite__mapDeps([20,21,22,7,23,24]),import.meta.url)),GR=k.lazy(()=>Oe(()=>import("./page-Perfil-CL-estVg.js"),__vite__mapDeps([25,7,21,22,26]),import.meta.url)),JR=k.lazy(()=>Oe(()=>import("./page-MeusCarros-CHII1J1T.js"),__vite__mapDeps([27,7,23,28]),import.meta.url)),YR=k.lazy(()=>Oe(()=>import("./page-Recalls-BBDTLYOH.js"),__vite__mapDeps([29,7,23,30]),import.meta.url)),QR=k.lazy(()=>Oe(()=>import("./page-Guias-B1ZXzpDE.js"),__vite__mapDeps([31,7,22,32,33,34]),import.meta.url)),Hm=k.lazy(()=>Oe(()=>import("./page-CriarGuia-CVRlMOnJ.js"),__vite__mapDeps([35,7,33,36]),import.meta.url)),XR=k.lazy(()=>Oe(()=>import("./page-VisualizarGuia-Bg7uLS8y.js"),__vite__mapDeps([37,7,33,38]),import.meta.url)),ZR=k.lazy(()=>Oe(()=>import("./page-Configuracoes-B9Q3mfna.js"),__vite__mapDeps([39,40]),import.meta.url)),eA=k.lazy(()=>Oe(()=>import("./page-TabelaFIPE-CLxGjeBH.js"),__vite__mapDeps([41,7,42]),import.meta.url)),tA=k.lazy(()=>Oe(()=>import("./page-ManutencaoPreventiva-CyixiM7M.js"),__vite__mapDeps([43,7,44]),import.meta.url)),nA=k.lazy(()=>Oe(()=>import("./page-PecasOriginaisVsCompativeis-ZEIZ4kCM.js"),__vite__mapDeps([45,7,46]),import.meta.url)),rA=k.lazy(()=>Oe(()=>import("./page-LuzesDoPainel-Ddde_JmV.js"),__vite__mapDeps([47,7,21,22,32,48]),import.meta.url));function iA(){return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontSize:"1.2rem",color:"#666"},children:"Carregando..."})}const yo=k.createContext(null);function Oi({children:i}){const{usuarioLogado:e,authLoaded:n}=k.useContext(yo)||{};return n?e?i:v.jsx(Ha,{to:"/login",replace:!0}):null}function sA(){const{usuarioLogado:i,authLoaded:e}=k.useContext(yo)||{};return e?v.jsx(Ha,{to:i?"/buscar-pecas":"/inicio",replace:!0}):null}function oA(){const[i,e]=k.useState(null),[n,s]=k.useState(!1),[o,l]=k.useState(!1),[c,h]=k.useState(!1),p=c||n&&o,m=h;return k.useEffect(()=>{p&&h(!0)},[p]),Sp.useEffect(()=>{async function g(){try{console.time("[app-timing] initFromStorage start")}catch{}try{const _=localStorage.getItem("usuario-logado")||"null",w=JSON.parse(_);if(w){let I=function(P){if(!P||typeof P!="string")return"";let A=P.trim();return A=A.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),A=A.replace(/[._+\-]+/g," "),A=A.replace(/\s+/g," ").trim(),A=A.split(" ").map(b=>b?b.charAt(0).toUpperCase()+b.slice(1):"").join(" ").trim(),A||P};try{const P=String(w.nome||w.name||"");if(/^(dev_|devuser\+|dev-)/i.test(P)||/devuser\+/i.test(P)){const b=(w.displayName||w.name||w.nome||w.email||"").toString(),D=I(b)||I(w.email?w.email.split("@")[0]:"");D&&(w.nome=D,w.name=D)}}catch{}if(!w.photoURL&&w.photo_url&&(w.photoURL=w.photo_url),e(w),w.access_token&&!w.photoURL)try{const P=window.__API_BASE||"",A=await fetch(`${P}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.access_token}`},body:JSON.stringify({access_token:w.access_token})});if(A.ok){const b=await A.json().catch(()=>({})),D=b&&b.user?b.user:null;if(D){!D.photoURL&&D.photo_url&&(D.photoURL=D.photo_url);const N={...D,access_token:w.access_token};e(N);try{localStorage.setItem("usuario-logado",JSON.stringify(N))}catch{}}}}catch{}}}catch(_){console.warn("Failed to parse usuario-logado from localStorage",_)}try{console.timeEnd("[app-timing] initFromStorage start")}catch{}s(!0)}g()},[]),Sp.useEffect(()=>{(async()=>{const g=window.location.href||"",_=g.includes("access_token")||g.includes("refresh_token");try{const{default:w}=await Oe(async()=>{const{default:I}=await Promise.resolve().then(()=>FS);return{default:I}},void 0,import.meta.url);if(_){try{console.time("[app-timing] redirect-processing start")}catch{}console.log("[auth-debug] starting redirect processing. href=",g)}if(w&&typeof w.auth.getSessionFromUrl=="function"){console.log("[auth-debug] calling supabase.auth.getSessionFromUrl()");const{data:I,error:P}=await w.auth.getSessionFromUrl();P&&console.warn("[auth-debug] supabase getSessionFromUrl error:",P);let A=I&&I.session?I.session:null;if(!A)try{const b=window.location.href||"";console.log("[auth-debug] getSessionFromUrl returned no session, attempting token parse from href",b);const D=j=>{const G=new RegExp(j+"=([^&#\\/]+)","i"),K=b.match(G);return K?decodeURIComponent(K[1]):null},N=D("access_token"),L=D("refresh_token");if(N){console.log("[auth-debug] found tokens in URL fallback, access_token length=",N?N.length:0," refresh_token=",L?L.length:0);try{if(w&&w.auth&&typeof w.auth.setSession=="function"){await w.auth.setSession({access_token:N,refresh_token:L||void 0}),A={access_token:N,refresh_token:L};try{window.history.replaceState({},document.title,window.location.origin+"/#/")}catch{}}}catch(j){console.warn("[auth-debug] Failed to set supabase session from URL fallback",j&&j.message?j.message:j)}}}catch{}if(A&&A.access_token){const b=A.access_token,D=window.__API_BASE||"";try{console.log("[auth-debug] calling backend supabase-verify",`${D}/api/auth/supabase-verify`);const N=await fetch(`${D}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({access_token:b})});console.log("[auth-debug] supabase-verify response status=",N.status);let L=null;try{L=await N.json().catch(()=>({}))}catch{L=null}if(console.log("[auth-debug] supabase-verify response body=",L),N.ok){const j=L&&L.user?L.user:null;if(j){let G=function(ce){return!ce||typeof ce!="string"?"":(ce.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(me=>me?me.charAt(0).toUpperCase()+me.slice(1):"").join(" ").trim()};const K=(j.nome||j.name||"").trim()||G(j.email||j.email_address||j.mail),X={...j,nome:K,name:K,access_token:b};console.log("[auth-debug] backend returned user, setting usuarioLogado",X.email),e(X);try{localStorage.setItem("usuario-logado",JSON.stringify(X))}catch{}}}else{console.warn("[auth-debug] backend supabase-verify returned non-ok",N.status,L);try{if(w&&w.auth)try{console.log("[auth-debug] attempting supabase.auth.getUser() fallback");const j=await w.auth.getUser(),G=j&&j.data&&j.data.user?j.data.user:null;if(G){const K=(G.user_metadata&&(G.user_metadata.nome||G.user_metadata.name)?G.user_metadata.nome||G.user_metadata.name:(G.email||"").split("@")[0])||"",X={...G,nome:K,name:K,access_token:b};console.log("[auth-debug] got user from supabase.getUser(), setting usuarioLogado",X.email),e(X);try{localStorage.setItem("usuario-logado",JSON.stringify(X))}catch{}}else{console.log("[auth-debug] supabase.auth.getUser() returned no user, trying getSession()");const K=await w.auth.getSession(),X=K&&K.data&&K.data.session&&K.data.session.user?K.data.session.user:null;if(X){const ce=(X.user_metadata&&(X.user_metadata.nome||X.user_metadata.name)?X.user_metadata.nome||X.user_metadata.name:(X.email||"").split("@")[0])||"",z={...X,nome:ce,name:ce,access_token:b};console.log("[auth-debug] got user from supabase.getSession(), setting usuarioLogado",z.email),e(z);try{localStorage.setItem("usuario-logado",JSON.stringify(z))}catch{}}else console.warn("[auth-debug] supabase client did not return user/session on fallback")}}catch(j){console.warn("[auth-debug] supabase.getUser/getSession fallback failed",j&&j.message?j.message:j)}}catch(j){console.warn("[auth-debug] Fallback supabase user fetch failed",j&&j.message?j.message:j)}}}catch(N){console.warn("[auth-debug] Failed to call backend supabase-verify",N&&N.message?N.message:N);try{if(w&&w.auth){console.log("[auth-debug] backend verify threw; attempting supabase.getUser/getSession fallback");const L=await w.auth.getUser(),j=L&&L.data&&L.data.user?L.data.user:null;if(j){const G=(j.user_metadata&&(j.user_metadata.nome||j.user_metadata.name)?j.user_metadata.nome||j.user_metadata.name:(j.email||"").split("@")[0])||"",K={...j,nome:G,name:G,access_token:b};console.log("[auth-debug] got user from supabase.getUser() after exception, setting usuarioLogado",K.email),e(K);try{localStorage.setItem("usuario-logado",JSON.stringify(K))}catch{}}else{const G=await w.auth.getSession(),K=G&&G.data&&G.data.session&&G.data.session.user?G.data.session.user:null;if(K){const X=(K.user_metadata&&(K.user_metadata.nome||K.user_metadata.name)?K.user_metadata.nome||K.user_metadata.name:(K.email||"").split("@")[0])||"",ce={...K,nome:X,name:X,access_token:b};console.log("[auth-debug] got user from supabase.getSession() after exception, setting usuarioLogado",ce.email),e(ce);try{localStorage.setItem("usuario-logado",JSON.stringify(ce))}catch{}}}}}catch(L){console.warn("[auth-debug] aggressive fallback after backend error also failed",L&&L.message?L.message:L)}}}}if(_){console.log("[auth-debug] redirect processing finished, setting redirectDone");try{console.timeEnd("[app-timing] redirect-processing start")}catch{}}l(!0)}catch(w){if(console.warn("[auth-debug] redirect processing outer catch",w&&w.message?w.message:w),_)try{console.timeEnd("[app-timing] redirect-processing start")}catch{}l(!0)}})()},[e]),v.jsx(dE,{children:v.jsx(yo.Provider,{value:{usuarioLogado:i,setUsuarioLogado:e,authLoaded:p,setAuthLoaded:m},children:v.jsx(tE,{children:v.jsxs("div",{className:"app",children:[v.jsx(vE,{}),v.jsx(k.Suspense,{fallback:v.jsx(iA,{}),children:v.jsxs(Nw,{children:[v.jsx(Ae,{path:"/",element:v.jsx(sA,{})}),v.jsx(Ae,{path:"/buscar-pecas",element:v.jsx(KR,{})}),v.jsx(Ae,{path:"/login",element:v.jsx(RR,{})}),v.jsx(Ae,{path:"/cadastro",element:v.jsx(HR,{})}),v.jsx(Ae,{path:"/inicio",element:v.jsx(jR,{})}),v.jsx(Ae,{path:"/quem-somos",element:v.jsx(UR,{})}),v.jsx(Ae,{path:"/seja-pro",element:v.jsx($R,{})}),v.jsx(Ae,{path:"/versao-pro",element:v.jsx(FR,{})}),v.jsx(Ae,{path:"/checkin",element:v.jsx(BR,{})}),v.jsx(Ae,{path:"/versao-pro-assinado",element:v.jsx(zR,{})}),v.jsx(Ae,{path:"/contato",element:v.jsx(VR,{})}),v.jsx(Ae,{path:"/contato-logado",element:v.jsx(qR,{})}),v.jsx(Ae,{path:"/parceiros",element:v.jsx(WR,{})}),v.jsx(Ae,{path:"/recalls",element:v.jsx(YR,{})}),v.jsx(Ae,{path:"/guias",element:v.jsx(QR,{})}),v.jsx(Ae,{path:"/guia/:guiaId",element:v.jsx(XR,{})}),v.jsx(Ae,{path:"/glossario",element:v.jsx(Ha,{to:"/guias",replace:!0})}),v.jsx(Ae,{path:"/criar-guia",element:v.jsx(Oi,{children:v.jsx(Hm,{})})}),v.jsx(Ae,{path:"/criar-guia/:guiaId",element:v.jsx(Oi,{children:v.jsx(Hm,{})})}),v.jsx(Ae,{path:"/manutencao-preventiva",element:v.jsx(tA,{})}),v.jsx(Ae,{path:"/pecas-originais-vs-compativeis",element:v.jsx(nA,{})}),v.jsx(Ae,{path:"/luzes-do-painel",element:v.jsx(rA,{})}),v.jsx(Ae,{path:"/nosso-projeto",element:v.jsx(MR,{})}),v.jsx(Ae,{path:"/perfil",element:v.jsx(Oi,{children:v.jsx(GR,{})})}),v.jsx(Ae,{path:"/meus-carros",element:v.jsx(Oi,{children:v.jsx(JR,{})})}),v.jsx(Ae,{path:"/configuracoes",element:v.jsx(Oi,{children:v.jsx(ZR,{})})}),v.jsx(Ae,{path:"/tabela-fipe",element:v.jsx(Oi,{children:v.jsx(eA,{})})}),v.jsx(Ae,{path:"/perfil-teste",element:v.jsx(Ha,{to:"/perfil",replace:!0})})]})})]})})})})}try{console.time("[app-timing] module-load")}catch{}F_.createRoot(document.getElementById("root")).render(v.jsx(k.StrictMode,{children:v.jsx(oA,{})}));try{console.timeEnd("[app-timing] module-load")}catch{}try{console.time("[app-timing] react-render-start")}catch{}setTimeout(()=>{try{console.timeEnd("[app-timing] react-render-start")}catch{}try{console.log("[app-timing] runtime marks set")}catch{}},0);try{if(typeof window<"u")if(window.__API_BASE)console.log("[runtime] API base already set to",window.__API_BASE);else try{window.location&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?(window.__API_BASE=`${window.location.protocol}//${window.location.hostname}:3001`,console.log("[runtime] API base set to local backend",window.__API_BASE)):console.log("[runtime] API base not injected by index.html; leaving unset")}catch(i){console.warn("[runtime] failed to set local API base",i&&i.message?i.message:i)}}catch{}try{typeof window<"u"&&typeof window.supabase>"u"&&(window.supabase=window.__SUPABASE_CLIENT!==void 0?window.__SUPABASE_CLIENT:null)}catch{}export{SA as $,yo as A,qT as B,fE as C,YA as D,no as E,hr as F,fr as G,eb as H,dR as I,Ty as J,UT as K,od as L,lg as M,AA as N,$n as O,Hr as P,fT as Q,Sp as R,Yc as S,yE as T,OA as U,wA as V,KA as W,Ic as X,FA as Y,wR as Z,Oe as _,aA as a,$k as a0,GA as a1,Lb as a2,Tm as a3,fb as a4,dT as a5,zA as a6,xA as a7,vy as a8,ZA as a9,TA as aA,WA as aB,MA as aC,$A as aD,tC as aE,UA as aF,HA as aG,VA as aH,jA as aI,PA as aJ,FS as aK,aC as aL,rC as aa,oC as ab,JA as ac,KT as ad,WT as ae,IA as af,Rk as ag,DT as ah,eC as ai,nC as aj,sC as ak,zk as al,qA as am,DA as an,RA as ao,NA as ap,BA as aq,kA as ar,wd as as,bA as at,Sc as au,LA as av,XA as aw,bb as ax,iC as ay,kc as az,uA as b,lA as c,mE as d,_A as e,po as f,fo as g,EA as h,Kr as i,v as j,mA as k,ln as l,Ma as m,vA as n,$i as o,hR as p,gA as q,k as r,Da as s,QA as t,qi as u,yA as v,fR as w,Od as x,pr as y,CA as z};
