import{r as s,A as M,j as e}from"./index-hkdKUbQP.js";import{M as w}from"./index.esm-B00dXpE7.js";import{g as z}from"./carService-Due04Svz.js";const b=[{recall_id:"FORD-2024-001",marca:"Ford",modelo:"Ka",ano_inicial:2016,ano_final:2018,data_publicacao:"2024-03-15",componente:"Airbag do Condutor",risco:"Alto",descricao:"O inflador do airbag do condutor pode romper durante a ativação, causando projeção de fragmentos metálicos que podem causar ferimentos graves ou fatais aos ocupantes do veículo.",acao_recomendada:"Substituição gratuita do módulo do airbag em concessionária autorizada Ford. O reparo leva aproximadamente 1 hora.",status:"Ativo",fonte_oficial:"Comunicado Ford BR-2024-001",vin_affected:"Veículos fabricados entre janeiro/2016 e dezembro/2018"},{recall_id:"GM-2024-012",marca:"Chevrolet",modelo:"Onix",ano_inicial:2019,ano_final:2021,data_publicacao:"2024-02-20",componente:"Cinto de Segurança",risco:"Médio",descricao:"O mecanismo do cinto de segurança traseiro central pode não travar adequadamente em caso de impacto, reduzindo a eficácia da proteção oferecida.",acao_recomendada:"Inspeção e possível substituição do mecanismo do cinto de segurança traseiro central sem custo para o cliente.",status:"Ativo",fonte_oficial:"Comunicado GM BR-2024-012",vin_affected:"Veículos produzidos entre março/2019 e agosto/2021"},{recall_id:"VW-2023-045",marca:"Volkswagen",modelo:"Gol",ano_inicial:2017,ano_final:2019,data_publicacao:"2023-11-10",componente:"Sistema de Freios",risco:"Alto",descricao:"Falha no servo-freio pode resultar em aumento significativo do esforço necessário para acionamento do pedal de freio, aumentando a distância de frenagem.",acao_recomendada:"Substituição do servo-freio sem custo para o proprietário. Atendimento prioritário devido ao risco de segurança.",status:"Concluído",fonte_oficial:"Comunicado VW BR-2023-045",vin_affected:"Veículos fabricados entre junho/2017 e abril/2019"},{recall_id:"FIAT-2024-008",marca:"Fiat",modelo:"Uno",ano_inicial:2020,ano_final:2022,data_publicacao:"2024-01-25",componente:"Sistema Elétrico",risco:"Médio",descricao:"Possível superaquecimento do chicote elétrico próximo ao motor pode causar mau funcionamento de componentes elétricos ou, em casos extremos, princípio de incêndio.",acao_recomendada:"Inspeção e possível substituição do chicote elétrico. Reparo gratuito em oficinas autorizadas Fiat.",status:"Ativo",fonte_oficial:"Comunicado Fiat BR-2024-008",vin_affected:"Veículos produzidos entre janeiro/2020 e dezembro/2022"},{recall_id:"TOYOTA-2023-067",marca:"Toyota",modelo:"Corolla",ano_inicial:2018,ano_final:2020,data_publicacao:"2023-09-18",componente:"Bomba de Combustível",risco:"Médio",descricao:"A bomba de combustível pode apresentar falha prematura, causando perda de potência do motor ou até mesmo parada completa do veículo durante a condução.",acao_recomendada:"Substituição da bomba de combustível sem custo para o cliente. Agendamento prioritário disponível.",status:"Ativo",fonte_oficial:"Comunicado Toyota BR-2023-067",vin_affected:"Veículos fabricados entre setembro/2018 e março/2020"},{recall_id:"HONDA-2024-003",marca:"Honda",modelo:"Civic",ano_inicial:2021,ano_final:2023,data_publicacao:"2024-04-12",componente:"Software do Motor",risco:"Baixo",descricao:"Atualização de software necessária para corrigir possível falha na calibração do sistema de injeção eletrônica que pode afetar o desempenho do motor.",acao_recomendada:"Atualização gratuita do software do motor em concessionárias autorizadas Honda. Procedimento leva cerca de 30 minutos.",status:"Ativo",fonte_oficial:"Comunicado Honda BR-2024-003",vin_affected:"Todos os veículos do período especificado"}];function D(){const{usuarioLogado:c}=s.useContext(M)||{},[p,N]=s.useState([]),[r,f]=s.useState([]),[n,m]=s.useState(""),[l,u]=s.useState(""),[t,x]=s.useState(""),[d,v]=s.useState(""),[h,j]=s.useState([]),[_,g]=s.useState("");s.useEffect(()=>{(async()=>{if(c){const o=c.id||c.email,i=await z(o);j(i)}else j([]),g("")})()},[c]);const C=a=>{const o=a.target.value;if(g(o),!o)return;const i=h.find(R=>R.id===o);i&&(m(i.marca),u(i.modelo))};s.useEffect(()=>{N(b),f(b)},[]),s.useEffect(()=>{let a=p;if(n&&(a=a.filter(o=>o.marca.toLowerCase().includes(n.toLowerCase()))),l&&(a=a.filter(o=>o.modelo.toLowerCase().includes(l.toLowerCase()))),t){const o=parseInt(t);a=a.filter(i=>o>=i.anoInicial&&o<=i.anoFinal)}d&&(a=a.filter(o=>o.risco===d)),f(a)},[n,l,t,d,p]);const A=a=>{switch(a){case"Alto":return"risk-high";case"Médio":return"risk-medium";case"Baixo":return"risk-low";default:return"risk-unknown"}},F=a=>a==="Ativo"?"status-active":"status-completed",S=()=>{m(""),u(""),x(""),v("")};return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{className:"page-wrapper menu-page",children:e.jsxs("div",{className:"page-content recalls-section",children:[e.jsx("h2",{className:"page-title",children:"Recalls por Modelo"}),e.jsx("div",{className:"recalls-intro-wrapper",children:e.jsx("div",{className:"recalls-intro",children:e.jsx("p",{children:"Consulte recalls oficiais por marca, modelo e ano do seu veículo. MantenhaSe informado sobre questões de segurança."})})}),e.jsxs("div",{className:"recalls-search",children:[c&&h.length>0&&e.jsxs("div",{className:"recalls-car-selector",children:[e.jsx("label",{htmlFor:"carro-selecionado",children:"Buscar recalls para um carro específico (opcional)"}),e.jsxs("select",{id:"carro-selecionado",value:_,onChange:C,className:"recalls-input",children:[e.jsx("option",{value:"",children:"-- Busca geral (deixar em branco) --"}),h.map(a=>e.jsxs("option",{value:a.id,children:[a.marca," ",a.modelo," ",a.ano,a.isDefault?" ⭐":""]},a.id))]})]}),e.jsxs("div",{className:"search-row",children:[e.jsxs("div",{className:"search-field",children:[e.jsx("label",{htmlFor:"marca",children:"Marca"}),e.jsx("input",{type:"text",id:"marca",value:n,onChange:a=>m(a.target.value),placeholder:"Ex: Ford, Chevrolet, Volkswagen",className:"recalls-input"})]}),e.jsxs("div",{className:"search-field",children:[e.jsx("label",{htmlFor:"modelo",children:"Modelo"}),e.jsx("input",{type:"text",id:"modelo",value:l,onChange:a=>u(a.target.value),placeholder:"Ex: Ka, Onix, Gol",className:"recalls-input"})]}),e.jsxs("div",{className:"search-field",children:[e.jsx("label",{htmlFor:"ano",children:"Ano"}),e.jsx("input",{type:"number",id:"ano",value:t,onChange:a=>x(a.target.value),placeholder:"Ex: 2020",min:"1990",max:"2025",className:"recalls-input"})]}),e.jsxs("div",{className:"search-field",children:[e.jsx("label",{htmlFor:"risco",children:"Nível de Risco"}),e.jsxs("select",{id:"risco",value:d,onChange:a=>v(a.target.value),className:"recalls-select",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"Alto",children:"Alto"}),e.jsx("option",{value:"Médio",children:"Médio"}),e.jsx("option",{value:"Baixo",children:"Baixo"})]})]})]}),e.jsx("div",{className:"search-actions",children:e.jsx("button",{onClick:S,className:"recalls-btn recalls-btn-secondary",children:"Limpar Filtros"})})]}),e.jsxs("div",{className:"recalls-results",children:[e.jsx("div",{className:"results-header",children:e.jsxs("h3",{children:[r.length," recall",r.length!==1?"s":""," encontrado",r.length!==1?"s":""]})}),e.jsx("div",{className:"recalls-list",children:r.map((a,o)=>e.jsxs("div",{className:"recall-card",children:[e.jsxs("div",{className:"recall-header",children:[e.jsxs("div",{className:"recall-title",children:[e.jsxs("h4",{children:[a.marca," ",a.modelo]}),e.jsxs("span",{className:"recall-years",children:[a.anoInicial," - ",a.anoFinal]})]}),e.jsxs("div",{className:"recall-badges",children:[e.jsxs("span",{className:`risk-badge ${A(a.risco)}`,children:["Risco ",a.risco]}),e.jsx("span",{className:`status-badge ${F(a.status)}`,children:a.status})]})]}),e.jsxs("div",{className:"recall-info",children:[e.jsxs("div",{className:"recall-component",children:[e.jsx("strong",{children:"Componente:"})," ",a.componente]}),e.jsxs("div",{className:"recall-date",children:[e.jsx("strong",{children:"Data de Publicação:"})," ",new Date(a.dataPublicacao).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"recall-description",children:[e.jsx("h5",{children:"Descrição do Problema"}),e.jsx("p",{children:a.descricao})]}),e.jsxs("div",{className:"recall-action",children:[e.jsx("h5",{children:"Ação Recomendada"}),e.jsx("p",{children:a.acaoRecomendada})]}),e.jsxs("div",{className:"recall-details",children:[e.jsxs("div",{className:"recall-vin",children:[e.jsx("strong",{children:"Veículos Afetados:"})," ",a.vinAffected]}),e.jsxs("div",{className:"recall-source",children:[e.jsx("strong",{children:"Fonte:"})," ",a.fonteOficial]})]}),e.jsxs("div",{className:"recall-id",children:["ID: ",a.recallId]})]},a.recallId||`${a.marca}-${a.modelo}-${a.anoInicial}-${a.anoFinal}-${o}`))}),r.length===0&&e.jsxs("div",{className:"no-results",children:[e.jsx("p",{children:"Nenhum recall encontrado para os critérios selecionados."}),e.jsx("p",{children:"Isso pode significar que não há recalls ativos para este veículo ou que os dados ainda não foram atualizados."})]})]}),e.jsx("div",{className:"recalls-footer",children:e.jsxs("div",{className:"important-info",children:[e.jsx("h3",{children:"Informações Importantes"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Gratuito:"})," Todo atendimento de recall é gratuito, mesmo fora da garantia."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Agendamento:"})," Entre em contato com a concessionária autorizada para agendar."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Documentos:"})," Leve o documento do veículo e um documento pessoal com foto."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prazo:"})," Recalls não têm prazo de validade - podem ser realizados a qualquer momento."]})]})]})})]})})]})}export{D as default};
