import{r as s,A as z,u as J,j as e}from"./index-iLYL_1J9.js";import{M as I}from"./index.esm-NxWe1EMR.js";import{g as q,u as H,a as K,r as W,s as Q}from"./carService-CkEnHevU.js";const B={Chevrolet:["Agile","Astra","Blazer","Bolt","Camaro","Captiva","Celta","Classic","Cobalt","Corsa","Cruze","Equinox","Joy","Montana","Meriva","Omega","Onix","Onix Plus","Prisma","S10","Sonic","Spin","Tracker","Trailblazer","Vectra","Zafira"],Fiat:["147","500","Argo","Brava","Cronos","Doblo","Ducato","Fastback","Fiorino","Freemont","Grand Siena","Idea","Linea","Marea","Mobi","Palio","Palio Weekend","Pulse","Punto","Siena","Stilo","Strada","Toro","Tipo","Uno"],Volkswagen:["Amarok","Arteon","Bora","BrasÃ­lia","Crossfox","Fox","Fusca","Gol","Golf","Jetta","Kombi","Nivus","Novo Gol","Parati","Passat","Polo","Santana","Saveiro","SpaceFox","T-Cross","Taos","Tiguan","Touareg","Up","Virtus","Voyage"],Ford:["Belina","Bronco","Bronco Sport","Corcel","Courier","Del Rey","EcoSport","Edge","Escort","Explorer","F-150","F-250","F-350","Fiesta","Fusion","Ka","Ka+","Maverick","Mondeo","Mustang","Ranger","Territory","Transit"],Renault:["Alaskan","Captur","Clio","Duster","Fluence","Grand Tour","Kangoo","Kardian","Koleos","Kwid","Logan","Master","Megane","Oroch","Sandero","Sandero RS","Scenic","Stepway","Symbol","Twingo","Zoe"],Hyundai:["Accent","Azera","Creta","Elantra","Equus","Galloper","Genesis","HB20","HB20S","HB20X","i30","Ioniq","ix35","Kauai","Kona","Palisade","Santa Fe","Sonata","Tucson","Veloster","Venue"],Toyota:["Bandeirante","Camry","Corolla","Corolla Cross","Etios","Fielder","Hilux","Hilux SW4","Prius","RAV4","SW4","Yaris","Yaris Sedan"],Honda:["Accord","City","Civic","CR-V","Fit","HR-V","WR-V"],Nissan:["Frontier","Kicks","Leaf","Livina","March","Sentra","Tiida","Versa","X-Trail"],Jeep:["Cherokee","Commander","Compass","Grand Cherokee","Renegade","Wrangler"],Peugeot:["106","2008","206","207","208","3008","306","307","308","406","408","5008","504","508","Boxer","Expert","Hoggar","Partner","RCZ"],CitroÃ«n:["Aircross","Berlingo","C3","C3 Aircross","C4","C4 Cactus","C4 Lounge","C4 Pallas","C5","C8","Jumper","Picasso","Xantia","Xsara"],Mitsubishi:["ASX","Eclipse Cross","L200","Lancer","Outlander","Pajero"],Kia:["Bongo","Cadenza","Carnival","Cerato","Mohave","Optima","Picanto","Rio","Sorento","Soul","Sportage","Stinger","Stonic"],BMW:["118i","120i","316i","318i","320i","325i","328i","330i","SÃ©rie 1","SÃ©rie 2","SÃ©rie 3","SÃ©rie 4","SÃ©rie 5","SÃ©rie 6","SÃ©rie 7","X1","X3","X4","X5","X6","Z4"],"Mercedes-Benz":["A 160","A 190","A 200","A 250","C 180","C 200","C 220","C 250","C 300","Classe A","Classe B","Classe C","Classe E","Classe G","Classe S","CLA","CLS","GLA","GLB","GLC","GLE","GLS","Sprinter"],Audi:["A3","A4","A5","A6","A7","A8","Q3","Q5","Q7","Q8","TT"],Volvo:["C30","S40","S60","S80","V40","V60","XC40","XC60","XC90"],"Land Rover":["Defender","Discovery","Discovery Sport","Evoque","Freelander","Range Rover","Range Rover Sport","Range Rover Velar"],Porsche:["911","Boxster","Cayenne","Cayman","Macan","Panamera","Taycan"],JAC:["iEV20","iEV40","J2","J3","J5","J6","T40","T50","T60","T8"],Chery:["Arrizo 5","Arrizo 6","Celer","QQ","Tiggo 2","Tiggo 3","Tiggo 5","Tiggo 7","Tiggo 8"],"Caoa Chery":["Arrizo 5","Arrizo 6","Tiggo 5x","Tiggo 7","Tiggo 8"],BYD:["Dolphin","e2","e5","Song","Tan","Yuan"],GWM:["Haval H6","Poer","Wingle"],RAM:["1500","2500","3500","Rampage"],Dodge:["Challenger","Charger","Dakota","Durango","Journey","Ram"],Subaru:["Forester","Impreza","Legacy","Outback","XV","WRX"],Suzuki:["Grand Vitara","Jimny","SX4","Swift","Vitara"],Mini:["Cooper","Countryman","Paceman"],Jaguar:["E-Pace","F-Pace","F-Type","I-Pace","XE","XF","XJ"],Lexus:["CT","ES","IS","LS","NX","RX","UX"],Lifan:["320","530","620","X60"],Troller:["T4"],Outro:[]},U=Object.keys(B).sort(),Y=o=>B[o]||[];function ee(){const{usuarioLogado:o}=s.useContext(z)||{},j=J(),[u,D]=s.useState([]),[t,w]=s.useState(!1),[b,N]=s.useState(null),[m,C]=s.useState(!1),[r,h]=s.useState(""),[c,n]=s.useState(""),[T,l]=s.useState(""),[R,x]=s.useState([]),[p,g]=s.useState(""),[A,v]=s.useState(""),[y,f]=s.useState(""),[F,S]=s.useState("");s.useEffect(()=>{if(!o){j("/login");return}d()},[o,j]),s.useEffect(()=>{if(r&&r!=="Outro"){const a=Y(r);x(a),t||(n(""),l(""))}else x([])},[r,t]);const d=async()=>{if(o){const a=await q(o.id||o.email);D(a)}},E=()=>{h(""),n(""),l(""),x([]),g(""),v(""),f(""),S(""),w(!1),N(null),C(!1)},L=a=>{const i=a.target.value;h(i),n(""),l("")},X=a=>{n(a.target.value),a.target.value!=="Outro"&&l("")},V=async a=>{a.preventDefault();const i=c==="Outro"?T:c;if(!r||!i||!p){window.showToast&&window.showToast("Preencha marca, modelo e ano","error",3e3);return}const M=o.id||o.email,P={marca:r.trim(),modelo:i.trim(),ano:p.trim(),placa:A.trim().toUpperCase(),cor:y.trim(),observacoes:F.trim()};t&&b?(await H(M,b,P),window.showToast&&window.showToast("Carro atualizado com sucesso!","success",3e3)):(await K(M,P),window.showToast&&window.showToast("Carro cadastrado com sucesso!","success",3e3)),await d(),E()},k=a=>{h(a.marca),n(a.modelo),g(a.ano),v(a.placa||""),f(a.cor||""),S(a.observacoes||""),w(!0),N(a.id),C(!0)},O=async a=>{if(window.confirm("Tem certeza que deseja excluir este carro?")){const i=o.id||o.email;await W(i,a),await d(),window.showToast&&window.showToast("Carro removido com sucesso!","success",3e3)}},G=async a=>{const i=o.id||o.email;await Q(i,a),await d(),window.showToast&&window.showToast("Carro definido como padrÃ£o!","success",2e3)};return o?e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx("div",{className:"site-header-spacer"}),e.jsx("div",{className:"page-wrapper menu-page",children:e.jsxs("div",{className:"page-content",children:[e.jsx("h2",{className:"page-title",children:"Meus Carros"}),e.jsx("div",{className:"meus-carros-intro",children:e.jsx("p",{children:"Cadastre seus veÃ­culos para facilitar as buscas por peÃ§as, recalls e informaÃ§Ãµes especÃ­ficas. VocÃª pode marcar um carro como padrÃ£o para pesquisas rÃ¡pidas."})}),!m&&e.jsx("div",{className:"add-car-section",children:e.jsx("button",{className:"btn-add-car",onClick:()=>C(!0),children:"+ Adicionar Carro"})}),m&&e.jsxs("div",{className:"car-form-container",children:[e.jsx("h3",{className:"form-title",children:t?"Editar Carro":"Cadastrar Novo Carro"}),e.jsxs("form",{onSubmit:V,className:"car-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"marca",children:"Marca *"}),e.jsxs("select",{id:"marca",value:r,onChange:L,required:!0,children:[e.jsx("option",{value:"",children:"Selecione a marca"}),U.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"modelo",children:"Modelo *"}),e.jsxs("select",{id:"modelo",value:c,onChange:X,disabled:!r,required:!0,children:[e.jsx("option",{value:"",children:"Selecione o modelo"}),R.map(a=>e.jsx("option",{value:a,children:a},a)),e.jsx("option",{value:"Outro",children:"Outro (digitar manualmente)"})]})]})]}),c==="Outro"&&e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"modeloCustom",children:"Digite o modelo *"}),e.jsx("input",{type:"text",id:"modeloCustom",value:T,onChange:a=>l(a.target.value),placeholder:"Ex: Onix",required:!0})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"ano",children:"Ano *"}),e.jsx("input",{type:"text",id:"ano",value:p,onChange:a=>g(a.target.value),placeholder:"Ex: 2020",maxLength:"4",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"placa",children:"Placa"}),e.jsx("input",{type:"text",id:"placa",value:A,onChange:a=>v(a.target.value.toUpperCase()),placeholder:"Ex: ABC-1234",maxLength:"8"})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"cor",children:"Cor"}),e.jsx("input",{type:"text",id:"cor",value:y,onChange:a=>f(a.target.value),placeholder:"Ex: Prata"})]})}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{htmlFor:"observacoes",children:"ObservaÃ§Ãµes"}),e.jsx("textarea",{id:"observacoes",value:F,onChange:a=>S(a.target.value),placeholder:"InformaÃ§Ãµes adicionais sobre o veÃ­culo...",rows:"3"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-submit",children:t?"Salvar AlteraÃ§Ãµes":"Cadastrar Carro"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:E,children:"Cancelar"})]})]})]}),u.length>0?e.jsxs("div",{className:"cars-list",children:[e.jsxs("h3",{className:"list-title",children:["Carros Cadastrados (",u.length,")"]}),e.jsx("div",{className:"cars-grid",children:u.map(a=>e.jsxs("div",{className:`car-card ${a.isDefault?"car-card-default":""}`,children:[a.isDefault&&e.jsx("div",{className:"default-badge",children:"â­ PadrÃ£o"}),e.jsxs("div",{className:"car-header",children:[e.jsxs("h4",{className:"car-title",children:[a.marca," ",a.modelo]}),e.jsx("span",{className:"car-year",children:a.ano})]}),e.jsxs("div",{className:"car-details",children:[a.placa&&e.jsxs("p",{className:"car-info",children:[e.jsx("strong",{children:"Placa:"})," ",a.placa]}),a.cor&&e.jsxs("p",{className:"car-info",children:[e.jsx("strong",{children:"Cor:"})," ",a.cor]}),a.observacoes&&e.jsxs("p",{className:"car-info",children:[e.jsx("strong",{children:"Obs:"})," ",a.observacoes]})]}),e.jsxs("div",{className:"car-actions",children:[!a.isDefault&&e.jsx("button",{className:"btn-set-default",onClick:()=>G(a.id),title:"Definir como padrÃ£o",children:"â­"}),e.jsx("button",{className:"btn-edit",onClick:()=>k(a),children:"âœï¸ Editar"}),e.jsx("button",{className:"btn-delete",onClick:()=>O(a.id),children:"ğŸ—‘ï¸ Excluir"})]})]},a.id))})]}):!m&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"ğŸš— VocÃª ainda nÃ£o cadastrou nenhum carro."}),e.jsx("p",{children:'Clique em "Adicionar Carro" para comeÃ§ar!'})]})]})})]}):null}export{ee as default};
