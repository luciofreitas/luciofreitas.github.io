import{r as i,A as b,u as C,j as s,M as A}from"./index-eRB8UkES.js";import{M as y}from"./index.esm-CHha9FvZ.js";import{a as L}from"./apiService-DRkEcca-.js";import{u as k}from"./useAvaliacoes-Dh75PseR.js";import{g as n}from"./glossarioData-8VebtgBN.js";function P(){const{usuarioLogado:d}=i.useContext(b)||{},m=C(),[x,t]=i.useState([]),[u,j]=i.useState(!0),[h,v]=i.useState(null),[r,c]=i.useState({busca:"",prioridade:"",cor:""});k(d?.email),i.useEffect(()=>{(async()=>{try{const a=await L.getGlossarioDashboard(),o=Array.isArray(a)?a:a?[a]:n;t(o)}catch(a){console.error("Erro ao carregar glossÃ¡rio:",a),t(Array.isArray(n)?n:[]),v(null)}finally{j(!1)}})()},[]);const p=()=>{c({busca:"",prioridade:"",cor:""})},g=e=>({Alta:"#dc2626",MÃ©dia:"#f59e0b",Baixa:"#16a34a"})[e]||"#6b7280",N=e=>({vermelho:"#dc2626",amarelo:"#f59e0b",verde:"#16a34a",azul:"#2563eb",laranja:"#ea580c"})[e.toLowerCase()]||"#6b7280",l=x.filter(e=>{const a=!r.busca||e.nome.toLowerCase().includes(r.busca.toLowerCase()),o=!r.prioridade||e.prioridade===r.prioridade,f=!r.cor||e.cor.toLowerCase()===r.cor.toLowerCase();return a&&o&&f});return s.jsxs(s.Fragment,{children:[d?s.jsx(y,{}):s.jsx(A,{}),s.jsx("div",{className:"page-wrapper menu-page",children:s.jsxs("div",{className:"page-content",children:[s.jsxs("div",{className:"luzes-header",children:[s.jsx("div",{className:"header-icon",children:"âš ï¸"}),s.jsx("h2",{className:"page-title",children:"Luzes do Painel"}),s.jsx("p",{className:"header-subtitle",children:"Entenda os avisos do seu veÃ­culo e saiba como agir quando as luzes do painel acenderem. Mantenha-se seguro e evite problemas maiores."})]}),u?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Carregando glossÃ¡rio..."})]}):h?s.jsxs("div",{className:"error-container",children:[s.jsx("h2",{children:"Erro ao carregar"}),s.jsx("p",{children:h})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"filtros-section",children:[s.jsxs("div",{className:"filtros-row",children:[s.jsxs("div",{className:"filtro-group",children:[s.jsx("label",{children:"Buscar:"}),s.jsx("input",{type:"text",className:"busca-input",placeholder:"Digite o nome da luz...",value:r.busca,onChange:e=>c({...r,busca:e.target.value})})]}),s.jsxs("div",{className:"filtro-group",children:[s.jsx("label",{children:"Prioridade:"}),s.jsxs("select",{value:r.prioridade,onChange:e=>c({...r,prioridade:e.target.value}),children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"Alta",children:"Alta"}),s.jsx("option",{value:"MÃ©dia",children:"MÃ©dia"}),s.jsx("option",{value:"Baixa",children:"Baixa"})]})]}),s.jsxs("div",{className:"filtro-group",children:[s.jsx("label",{children:"Cor:"}),s.jsxs("select",{value:r.cor,onChange:e=>c({...r,cor:e.target.value}),children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"vermelho",children:"Vermelho"}),s.jsx("option",{value:"amarelo",children:"Amarelo"}),s.jsx("option",{value:"verde",children:"Verde"}),s.jsx("option",{value:"azul",children:"Azul"}),s.jsx("option",{value:"laranja",children:"Laranja"})]})]}),s.jsx("button",{className:"btn-limpar-filtros",onClick:p,children:"Limpar"})]}),s.jsxs("div",{className:"resultados-info",children:[l.length," luz(es) encontrada(s)"]})]}),l.length===0?s.jsx("div",{className:"no-results",children:s.jsx("p",{children:"Nenhuma luz encontrada com os filtros aplicados."})}):s.jsx("div",{className:"luzes-grid",children:l.map(e=>s.jsxs("div",{className:"luz-card",children:[s.jsxs("div",{className:"luz-header",children:[s.jsx("div",{className:"luz-icone",children:e.icone}),s.jsxs("div",{className:"luz-info",children:[s.jsx("h3",{className:"luz-nome",children:e.nome}),s.jsxs("div",{className:"luz-indicators",children:[s.jsx("span",{className:"prioridade-badge",style:{backgroundColor:g(e.prioridade)},children:e.prioridade}),s.jsx("div",{className:"cor-indicator",style:{backgroundColor:N(e.cor)}})]})]})]}),s.jsxs("div",{className:"luz-content",children:[s.jsx("div",{className:"luz-descricao",children:e.descricao}),e.acoes&&e.acoes.length>0&&s.jsxs("div",{className:"luz-section",children:[s.jsx("h4",{children:"âš¡ O que fazer:"}),s.jsx("ul",{className:"acoes-list",children:e.acoes.map((a,o)=>s.jsx("li",{children:a},o))})]}),e.causas&&e.causas.length>0&&s.jsxs("div",{className:"luz-section",children:[s.jsx("h4",{children:"ğŸ” PossÃ­veis causas:"}),s.jsx("ul",{className:"causas-list",children:e.causas.map((a,o)=>s.jsx("li",{children:a},o))})]})]})]},e.id))}),s.jsxs("div",{className:"glossario-footer-section",children:[s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{children:"ğŸ¨ Legenda das Cores"}),s.jsxs("div",{className:"cores-legend",children:[s.jsxs("div",{className:"cor-item",children:[s.jsx("div",{className:"cor-dot",style:{backgroundColor:"#dc2626"}}),s.jsxs("span",{children:[s.jsx("strong",{children:"Vermelho:"})," Pare imediatamente"]})]}),s.jsxs("div",{className:"cor-item",children:[s.jsx("div",{className:"cor-dot",style:{backgroundColor:"#f59e0b"}}),s.jsxs("span",{children:[s.jsx("strong",{children:"Amarelo:"})," AtenÃ§Ã£o necessÃ¡ria"]})]}),s.jsxs("div",{className:"cor-item",children:[s.jsx("div",{className:"cor-dot",style:{backgroundColor:"#16a34a"}}),s.jsxs("span",{children:[s.jsx("strong",{children:"Verde:"})," Sistema funcionando"]})]}),s.jsxs("div",{className:"cor-item",children:[s.jsx("div",{className:"cor-dot",style:{backgroundColor:"#2563eb"}}),s.jsxs("span",{children:[s.jsx("strong",{children:"Azul:"})," Informativo"]})]}),s.jsxs("div",{className:"cor-item",children:[s.jsx("div",{className:"cor-dot",style:{backgroundColor:"#ea580c"}}),s.jsxs("span",{children:[s.jsx("strong",{children:"Laranja:"})," AtenÃ§Ã£o"]})]})]})]}),s.jsx("div",{className:"disclaimer",children:s.jsxs("p",{children:["âš ï¸ ",s.jsx("strong",{children:"Aviso:"})," Este glossÃ¡rio Ã© apenas informativo. Sempre consulte um mecÃ¢nico qualificado para diagnÃ³sticos precisos."]})})]})]}),s.jsx("div",{className:"guia-footer-voltar",children:s.jsx("span",{className:"guia-cta",onClick:()=>m("/guias"),children:"â† Voltar para Guias"})})]})})]})}export{P as default};
