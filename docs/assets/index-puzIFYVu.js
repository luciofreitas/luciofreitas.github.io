const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./page-QuemSomos-DF5Bb4sZ.js","./page-QuemSomos-BplU6agG.css","./page-NossoProjeto-DzzCVS06.js","./page-NossoProjeto-J97cwMZf.css","./page-SejaPro-BPoJTW6b.js","./page-SejaPro-MJO4Ei-h.css","./page-VersaoPro-Ck03hpx5.js","./index.esm-DLkgwHqG.js","./page-VersaoPro-C1Nwk2sz.css","./page-Checkin-Crk38IkP.js","./page-Checkin-BKAEyL34.css","./page-VersaoPro_Assinado-hsVNphgm.js","./page-VersaoPro_Assinado-Cfc2o0Ld.css","./page-Contato-C0xel5-W.js","./index-CVqEIAxx.js","./ContatoForm-CiHd8FUo.js","./page-Contato-FudPCNlW.css","./page-Parceiros-7NlE2S0w.js","./page-Parceiros-BQl1G1l1.css","./page-ContatoLogado-qnyWGPB-.js","./page-ContatoLogado-CWSVLrzd.css","./page-BuscarPeca-C3neQ2Qh.js","./apiService-DRkEcca-.js","./glossarioData-8VebtgBN.js","./carService-CkEnHevU.js","./page-BuscarPeca-B35jISkT.css","./page-Perfil-BTlwcMZC.js","./page-Perfil-Sx6ll7ba.css","./page-MeusCarros-CbQiSLsc.js","./page-MeusCarros-D1kY6u99.css","./page-Recalls-LjiR-Bc9.js","./page-Recalls-C0RVrp6n.css","./page-Guias-kE_kADYM.js","./useAvaliacoes-CNxMUKlI.js","./guiasService-DAw1oR7r.js","./page-Guias-DvovJsOX.css","./page-CriarGuia-DOzKyY0_.js","./page-CriarGuia-CXa5ZkLx.css","./page-VisualizarGuia-DGwDqflH.js","./page-VisualizarGuia-CHFAkNqF.css","./page-Configuracoes-CMzqn1bz.js","./page-Configuracoes-BxPaA1eK.css","./page-TabelaFIPE-BR_TDdLK.js","./page-TabelaFIPE-C1RcSvLb.css","./page-ManutencaoPreventiva-BRO7QjvR.js","./page-ManutencaoPreventiva-DGteOGc1.css","./page-PecasOriginaisVsCompativeis-CdjcOaMf.js","./page-PecasOriginaisVsCompativeis-BfEiIfqT.css","./page-LuzesDoPainel-GmJJlJsr.js","./page-LuzesDoPainel-chB7xWMn.css","./page-HistoricoManutencao-DuZtLxfm.js","./page-HistoricoManutencao-2awLJqEY.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function qm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function D_(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var o=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return r[s]}})}),n}var nc={exports:{}},Ls={},rc={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function L_(){if(_p)return ge;_p=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function R(b,U,pe){this.props=b,this.context=U,this.refs=C,this.updater=pe||T}R.prototype.isReactComponent={},R.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function O(){}O.prototype=R.prototype;function D(b,U,pe){this.props=b,this.context=U,this.refs=C,this.updater=pe||T}var j=D.prototype=new O;j.constructor=D,N(j,R.prototype),j.isPureReactComponent=!0;var B=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function ie(b,U,pe){var he,ve={},_e=null,Pe=null;if(U!=null)for(he in U.ref!==void 0&&(Pe=U.ref),U.key!==void 0&&(_e=""+U.key),U)J.call(U,he)&&!ee.hasOwnProperty(he)&&(ve[he]=U[he]);var Se=arguments.length-2;if(Se===1)ve.children=pe;else if(1<Se){for(var Ue=Array(Se),St=0;St<Se;St++)Ue[St]=arguments[St+2];ve.children=Ue}if(b&&b.defaultProps)for(he in Se=b.defaultProps,Se)ve[he]===void 0&&(ve[he]=Se[he]);return{$$typeof:r,type:b,key:_e,ref:Pe,props:ve,_owner:K.current}}function L(b,U){return{$$typeof:r,type:b.type,key:U,ref:b.ref,props:b.props,_owner:b._owner}}function re(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function oe(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(pe){return U[pe]})}var de=/\/+/g;function Ee(b,U){return typeof b=="object"&&b!==null&&b.key!=null?oe(""+b.key):U.toString(36)}function Le(b,U,pe,he,ve){var _e=typeof b;(_e==="undefined"||_e==="boolean")&&(b=null);var Pe=!1;if(b===null)Pe=!0;else switch(_e){case"string":case"number":Pe=!0;break;case"object":switch(b.$$typeof){case r:case e:Pe=!0}}if(Pe)return Pe=b,ve=ve(Pe),b=he===""?"."+Ee(Pe,0):he,B(ve)?(pe="",b!=null&&(pe=b.replace(de,"$&/")+"/"),Le(ve,U,pe,"",function(St){return St})):ve!=null&&(re(ve)&&(ve=L(ve,pe+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(de,"$&/")+"/")+b)),U.push(ve)),1;if(Pe=0,he=he===""?".":he+":",B(b))for(var Se=0;Se<b.length;Se++){_e=b[Se];var Ue=he+Ee(_e,Se);Pe+=Le(_e,U,pe,Ue,ve)}else if(Ue=w(b),typeof Ue=="function")for(b=Ue.call(b),Se=0;!(_e=b.next()).done;)_e=_e.value,Ue=he+Ee(_e,Se++),Pe+=Le(_e,U,pe,Ue,ve);else if(_e==="object")throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Be(b,U,pe){if(b==null)return b;var he=[],ve=0;return Le(b,he,"","",function(_e){return U.call(pe,_e,ve++)}),he}function qe(b){if(b._status===-1){var U=b._result;U=U(),U.then(function(pe){(b._status===0||b._status===-1)&&(b._status=1,b._result=pe)},function(pe){(b._status===0||b._status===-1)&&(b._status=2,b._result=pe)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var je={current:null},G={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:G,ReactCurrentOwner:K};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Be,forEach:function(b,U,pe){Be(b,function(){U.apply(this,arguments)},pe)},count:function(b){var U=0;return Be(b,function(){U++}),U},toArray:function(b){return Be(b,function(U){return U})||[]},only:function(b){if(!re(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ge.Component=R,ge.Fragment=n,ge.Profiler=o,ge.PureComponent=D,ge.StrictMode=s,ge.Suspense=p,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ge.act=Y,ge.cloneElement=function(b,U,pe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var he=N({},b.props),ve=b.key,_e=b.ref,Pe=b._owner;if(U!=null){if(U.ref!==void 0&&(_e=U.ref,Pe=K.current),U.key!==void 0&&(ve=""+U.key),b.type&&b.type.defaultProps)var Se=b.type.defaultProps;for(Ue in U)J.call(U,Ue)&&!ee.hasOwnProperty(Ue)&&(he[Ue]=U[Ue]===void 0&&Se!==void 0?Se[Ue]:U[Ue])}var Ue=arguments.length-2;if(Ue===1)he.children=pe;else if(1<Ue){Se=Array(Ue);for(var St=0;St<Ue;St++)Se[St]=arguments[St+2];he.children=Se}return{$$typeof:r,type:b.type,key:ve,ref:_e,props:he,_owner:Pe}},ge.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},ge.createElement=ie,ge.createFactory=function(b){var U=ie.bind(null,b);return U.type=b,U},ge.createRef=function(){return{current:null}},ge.forwardRef=function(b){return{$$typeof:h,render:b}},ge.isValidElement=re,ge.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:qe}},ge.memo=function(b,U){return{$$typeof:m,type:b,compare:U===void 0?null:U}},ge.startTransition=function(b){var U=G.transition;G.transition={};try{b()}finally{G.transition=U}},ge.unstable_act=Y,ge.useCallback=function(b,U){return je.current.useCallback(b,U)},ge.useContext=function(b){return je.current.useContext(b)},ge.useDebugValue=function(){},ge.useDeferredValue=function(b){return je.current.useDeferredValue(b)},ge.useEffect=function(b,U){return je.current.useEffect(b,U)},ge.useId=function(){return je.current.useId()},ge.useImperativeHandle=function(b,U,pe){return je.current.useImperativeHandle(b,U,pe)},ge.useInsertionEffect=function(b,U){return je.current.useInsertionEffect(b,U)},ge.useLayoutEffect=function(b,U){return je.current.useLayoutEffect(b,U)},ge.useMemo=function(b,U){return je.current.useMemo(b,U)},ge.useReducer=function(b,U,pe){return je.current.useReducer(b,U,pe)},ge.useRef=function(b){return je.current.useRef(b)},ge.useState=function(b){return je.current.useState(b)},ge.useSyncExternalStore=function(b,U,pe){return je.current.useSyncExternalStore(b,U,pe)},ge.useTransition=function(){return je.current.useTransition()},ge.version="18.3.1",ge}var wp;function Qc(){return wp||(wp=1,rc.exports=L_()),rc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function j_(){if(Ep)return Ls;Ep=1;var r=Qc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var g,_={},w=null,T=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(T=p.ref);for(g in p)s.call(p,g)&&!l.hasOwnProperty(g)&&(_[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)_[g]===void 0&&(_[g]=p[g]);return{$$typeof:e,type:h,key:w,ref:T,props:_,_owner:o.current}}return Ls.Fragment=n,Ls.jsx=c,Ls.jsxs=c,Ls}var Sp;function U_(){return Sp||(Sp=1,nc.exports=j_()),nc.exports}var y=U_();typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});typeof window<"u"&&typeof window.process>"u"&&(window.process={env:{}});typeof globalThis<"u"&&typeof globalThis.process>"u"&&(globalThis.process=globalThis.process||{env:{}});var I=Qc();const Ip=qm(I);var Ta={},ic={exports:{}},Dt={},sc={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function M_(){return kp||(kp=1,(function(r){function e(G,se){var Y=G.length;G.push(se);e:for(;0<Y;){var b=Y-1>>>1,U=G[b];if(0<o(U,se))G[b]=se,G[Y]=U,Y=b;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],Y=G.pop();if(Y!==se){G[0]=Y;e:for(var b=0,U=G.length,pe=U>>>1;b<pe;){var he=2*(b+1)-1,ve=G[he],_e=he+1,Pe=G[_e];if(0>o(ve,Y))_e<U&&0>o(Pe,ve)?(G[b]=Pe,G[_e]=Y,b=_e):(G[b]=ve,G[he]=Y,b=he);else if(_e<U&&0>o(Pe,Y))G[b]=Pe,G[_e]=Y,b=_e;else break e}}return se}function o(G,se){var Y=G.sortIndex-se.sortIndex;return Y!==0?Y:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],m=[],g=1,_=null,w=3,T=!1,N=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var se=n(m);se!==null;){if(se.callback===null)s(m);else if(se.startTime<=G)s(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(m)}}function B(G){if(C=!1,j(G),!N)if(n(p)!==null)N=!0,qe(J);else{var se=n(m);se!==null&&je(B,se.startTime-G)}}function J(G,se){N=!1,C&&(C=!1,O(ie),ie=-1),T=!0;var Y=w;try{for(j(se),_=n(p);_!==null&&(!(_.expirationTime>se)||G&&!oe());){var b=_.callback;if(typeof b=="function"){_.callback=null,w=_.priorityLevel;var U=b(_.expirationTime<=se);se=r.unstable_now(),typeof U=="function"?_.callback=U:_===n(p)&&s(p),j(se)}else s(p);_=n(p)}if(_!==null)var pe=!0;else{var he=n(m);he!==null&&je(B,he.startTime-se),pe=!1}return pe}finally{_=null,w=Y,T=!1}}var K=!1,ee=null,ie=-1,L=5,re=-1;function oe(){return!(r.unstable_now()-re<L)}function de(){if(ee!==null){var G=r.unstable_now();re=G;var se=!0;try{se=ee(!0,G)}finally{se?Ee():(K=!1,ee=null)}}else K=!1}var Ee;if(typeof D=="function")Ee=function(){D(de)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Be=Le.port2;Le.port1.onmessage=de,Ee=function(){Be.postMessage(null)}}else Ee=function(){R(de,0)};function qe(G){ee=G,K||(K=!0,Ee())}function je(G,se){ie=R(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){N||T||(N=!0,qe(J))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var Y=w;w=se;try{return G()}finally{w=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=w;w=G;try{return se()}finally{w=Y}},r.unstable_scheduleCallback=function(G,se,Y){var b=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?b+Y:b):Y=b,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,G={id:g++,callback:se,priorityLevel:G,startTime:Y,expirationTime:U,sortIndex:-1},Y>b?(G.sortIndex=Y,e(m,G),n(p)===null&&G===n(m)&&(C?(O(ie),ie=-1):C=!0,je(B,Y-b))):(G.sortIndex=U,e(p,G),N||T||(N=!0,qe(J))),G},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function(G){var se=w;return function(){var Y=w;w=se;try{return G.apply(this,arguments)}finally{w=Y}}}})(oc)),oc}var Tp;function $_(){return Tp||(Tp=1,sc.exports=M_()),sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function F_(){if(bp)return Dt;bp=1;var r=Qc(),e=$_();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(t,i){c(t,i),c(t+"Capture",i)}function c(t,i){for(o[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(t){return p.call(_,t)?!0:p.call(g,t)?!1:m.test(t)?_[t]=!0:(g[t]=!0,!1)}function T(t,i,a,u){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,i,a,u){if(i===null||typeof i>"u"||T(t,i,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(t,i,a,u,d,f,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=f,this.removeEmptyString=v}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new C(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];R[i]=new C(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new C(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new C(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new C(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new C(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(O,D);R[i]=new C(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(O,D);R[i]=new C(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(O,D);R[i]=new C(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)});function j(t,i,a,u){var d=R.hasOwnProperty(i)?R[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,a,d,u)&&(a=null),u||d===null?w(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,u=d.attributeNamespace,a===null?t.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?t.setAttributeNS(u,i,a):t.setAttribute(i,a))))}var B=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),K=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),oe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,b;function U(t){if(b===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+t}var pe=!1;function he(t,i){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(x){var u=x}Reflect.construct(t,[],i)}else{try{i.call()}catch(x){u=x}t.call(i.prototype)}else{try{throw Error()}catch(x){u=x}t()}}catch(x){if(x&&u&&typeof x.stack=="string"){for(var d=x.stack.split(`
`),f=u.stack.split(`
`),v=d.length-1,E=f.length-1;1<=v&&0<=E&&d[v]!==f[E];)E--;for(;1<=v&&0<=E;v--,E--)if(d[v]!==f[E]){if(v!==1||E!==1)do if(v--,E--,0>E||d[v]!==f[E]){var S=`
`+d[v].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=v&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?U(t):""}function ve(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function _e(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case K:return"Portal";case L:return"Profiler";case ie:return"StrictMode";case Ee:return"Suspense";case Le:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oe:return(t.displayName||"Context")+".Consumer";case re:return(t._context.displayName||"Context")+".Provider";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Be:return i=t.displayName||null,i!==null?i:_e(t.type)||"Memo";case qe:i=t._payload,t=t._init;try{return _e(t(i))}catch{}}return null}function Pe(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Se(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ue(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function St(t){var i=Ue(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function z(t){t._valueTracker||(t._valueTracker=St(t))}function q(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return t&&(u=Ue(t)?t.checked?"true":"false":t.value),t=u,t!==a?(i.setValue(t),!0):!1}function W(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Me(t,i){var a=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Ne(t,i){var a=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;a=Se(i.value!=null?i.value:a),t._wrapperState={initialChecked:u,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ye(t,i){i=i.checked,i!=null&&j(t,"checked",i,!1)}function Qe(t,i){ye(t,i);var a=Se(i.value),u=i.type;if(a!=null)u==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?xe(t,i.type,a):i.hasOwnProperty("defaultValue")&&xe(t,i.type,Se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Oe(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function xe(t,i,a){(i!=="number"||W(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var It=Array.isArray;function zt(t,i,a,u){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Se(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Er(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qt(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(It(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Se(a)}}function Qi(t,i){var a=Se(i.value),u=Se(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),u!=null&&(t.defaultValue=""+u)}function zn(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Ie(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Ie(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var At,Sr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,u,d){MSApp.execUnsafeLocalFunction(function(){return t(i,a,u,d)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=At.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Qr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mv=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(t){Mv.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Xi[i]=Xi[t]})});function Nd(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Xi.hasOwnProperty(t)&&Xi[t]?(""+i).trim():i+"px"}function Dd(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=Nd(a,i[a],u);a==="float"&&(a="cssFloat"),u?t.setProperty(a,d):t[a]=d}}var $v=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(t,i){if(i){if($v[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ml(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=null;function vl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yl=null,Xr=null,Zr=null;function Ld(t){if(t=ws(t)){if(typeof yl!="function")throw Error(n(280));var i=t.stateNode;i&&(i=Fo(i),yl(t.stateNode,t.type,i))}}function jd(t){Xr?Zr?Zr.push(t):Zr=[t]:Xr=t}function Ud(){if(Xr){var t=Xr,i=Zr;if(Zr=Xr=null,Ld(t),i)for(t=0;t<i.length;t++)Ld(i[t])}}function Md(t,i){return t(i)}function $d(){}var _l=!1;function Fd(t,i,a){if(_l)return t(i,a);_l=!0;try{return Md(t,i,a)}finally{_l=!1,(Xr!==null||Zr!==null)&&($d(),Ud())}}function Zi(t,i){var a=t.stateNode;if(a===null)return null;var u=Fo(a);if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var wl=!1;if(h)try{var es={};Object.defineProperty(es,"passive",{get:function(){wl=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{wl=!1}function Fv(t,i,a,u,d,f,v,E,S){var x=Array.prototype.slice.call(arguments,3);try{i.apply(a,x)}catch($){this.onError($)}}var ts=!1,yo=null,_o=!1,El=null,Bv={onError:function(t){ts=!0,yo=t}};function zv(t,i,a,u,d,f,v,E,S){ts=!1,yo=null,Fv.apply(Bv,arguments)}function Vv(t,i,a,u,d,f,v,E,S){if(zv.apply(this,arguments),ts){if(ts){var x=yo;ts=!1,yo=null}else throw Error(n(198));_o||(_o=!0,El=x)}}function Ir(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Bd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function zd(t){if(Ir(t)!==t)throw Error(n(188))}function Hv(t){var i=t.alternate;if(!i){if(i=Ir(t),i===null)throw Error(n(188));return i!==t?null:t}for(var a=t,u=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return zd(d),t;if(f===u)return zd(d),i;f=f.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=f;else{for(var v=!1,E=d.child;E;){if(E===a){v=!0,a=d,u=f;break}if(E===u){v=!0,u=d,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,u=d;break}if(E===u){v=!0,u=f,a=d;break}E=E.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:i}function Vd(t){return t=Hv(t),t!==null?Hd(t):null}function Hd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Hd(t);if(i!==null)return i;t=t.sibling}return null}var Wd=e.unstable_scheduleCallback,qd=e.unstable_cancelCallback,Wv=e.unstable_shouldYield,qv=e.unstable_requestPaint,nt=e.unstable_now,Kv=e.unstable_getCurrentPriorityLevel,Sl=e.unstable_ImmediatePriority,Kd=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,Gv=e.unstable_LowPriority,Gd=e.unstable_IdlePriority,Eo=null,fn=null;function Jv(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Eo,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Xv,Yv=Math.log,Qv=Math.LN2;function Xv(t){return t>>>=0,t===0?32:31-(Yv(t)/Qv|0)|0}var So=64,Io=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ko(t,i){var a=t.pendingLanes;if(a===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,v=a&268435455;if(v!==0){var E=v&~d;E!==0?u=ns(E):(f&=v,f!==0&&(u=ns(f)))}else v=a&~d,v!==0?u=ns(v):f!==0&&(u=ns(f));if(u===0)return 0;if(i!==0&&i!==u&&(i&d)===0&&(d=u&-u,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if((u&4)!==0&&(u|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=u;0<i;)a=31-Zt(i),d=1<<a,u|=t[a],i&=~d;return u}function Zv(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ey(t,i){for(var a=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var v=31-Zt(f),E=1<<v,S=d[v];S===-1?((E&a)===0||(E&u)!==0)&&(d[v]=Zv(E,i)):S<=i&&(t.expiredLanes|=E),f&=~E}}function Il(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jd(){var t=So;return So<<=1,(So&4194240)===0&&(So=64),t}function kl(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function rs(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Zt(i),t[i]=a}function ty(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-Zt(a),f=1<<d;i[d]=0,u[d]=-1,t[d]=-1,a&=~f}}function Tl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var u=31-Zt(a),d=1<<u;d&i|t[u]&i&&(t[u]|=i),a&=~d}}var Re=0;function Yd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Qd,bl,Xd,Zd,eh,Rl=!1,To=[],Vn=null,Hn=null,Wn=null,is=new Map,ss=new Map,qn=[],ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function th(t,i){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":is.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(i.pointerId)}}function os(t,i,a,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},i!==null&&(i=ws(i),i!==null&&bl(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function ry(t,i,a,u,d){switch(i){case"focusin":return Vn=os(Vn,t,i,a,u,d),!0;case"dragenter":return Hn=os(Hn,t,i,a,u,d),!0;case"mouseover":return Wn=os(Wn,t,i,a,u,d),!0;case"pointerover":var f=d.pointerId;return is.set(f,os(is.get(f)||null,t,i,a,u,d)),!0;case"gotpointercapture":return f=d.pointerId,ss.set(f,os(ss.get(f)||null,t,i,a,u,d)),!0}return!1}function nh(t){var i=kr(t.target);if(i!==null){var a=Ir(i);if(a!==null){if(i=a.tag,i===13){if(i=Bd(a),i!==null){t.blockedOn=i,eh(t.priority,function(){Xd(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Cl(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);gl=u,a.target.dispatchEvent(u),gl=null}else return i=ws(a),i!==null&&bl(i),t.blockedOn=a,!1;i.shift()}return!0}function rh(t,i,a){bo(t)&&a.delete(i)}function iy(){Rl=!1,Vn!==null&&bo(Vn)&&(Vn=null),Hn!==null&&bo(Hn)&&(Hn=null),Wn!==null&&bo(Wn)&&(Wn=null),is.forEach(rh),ss.forEach(rh)}function as(t,i){t.blockedOn===i&&(t.blockedOn=null,Rl||(Rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iy)))}function ls(t){function i(d){return as(d,t)}if(0<To.length){as(To[0],t);for(var a=1;a<To.length;a++){var u=To[a];u.blockedOn===t&&(u.blockedOn=null)}}for(Vn!==null&&as(Vn,t),Hn!==null&&as(Hn,t),Wn!==null&&as(Wn,t),is.forEach(i),ss.forEach(i),a=0;a<qn.length;a++)u=qn[a],u.blockedOn===t&&(u.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)nh(a),a.blockedOn===null&&qn.shift()}var ei=B.ReactCurrentBatchConfig,Ro=!0;function sy(t,i,a,u){var d=Re,f=ei.transition;ei.transition=null;try{Re=1,Al(t,i,a,u)}finally{Re=d,ei.transition=f}}function oy(t,i,a,u){var d=Re,f=ei.transition;ei.transition=null;try{Re=4,Al(t,i,a,u)}finally{Re=d,ei.transition=f}}function Al(t,i,a,u){if(Ro){var d=Cl(t,i,a,u);if(d===null)ql(t,i,u,Ao,a),th(t,u);else if(ry(d,t,i,a,u))u.stopPropagation();else if(th(t,u),i&4&&-1<ny.indexOf(t)){for(;d!==null;){var f=ws(d);if(f!==null&&Qd(f),f=Cl(t,i,a,u),f===null&&ql(t,i,u,Ao,a),f===d)break;d=f}d!==null&&u.stopPropagation()}else ql(t,i,u,null,a)}}var Ao=null;function Cl(t,i,a,u){if(Ao=null,t=vl(u),t=kr(t),t!==null)if(i=Ir(t),i===null)t=null;else if(a=i.tag,a===13){if(t=Bd(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Ao=t,null}function ih(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kv()){case Sl:return 1;case Kd:return 4;case wo:case Gv:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Kn=null,Pl=null,Co=null;function sh(){if(Co)return Co;var t,i=Pl,a=i.length,u,d="value"in Kn?Kn.value:Kn.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(u=1;u<=v&&i[a-u]===d[f-u];u++);return Co=d.slice(t,1<u?1-u:void 0)}function Po(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function oh(){return!1}function Ut(t){function i(a,u,d,f,v){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oo:oh,this.isPropagationStopped=oh,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),i}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ut(ti),us=Y({},ti,{view:0,detail:0}),ay=Ut(us),xl,Nl,cs,xo=Y({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(xl=t.screenX-cs.screenX,Nl=t.screenY-cs.screenY):Nl=xl=0,cs=t),xl)},movementY:function(t){return"movementY"in t?t.movementY:Nl}}),ah=Ut(xo),ly=Y({},xo,{dataTransfer:0}),uy=Ut(ly),cy=Y({},us,{relatedTarget:0}),Dl=Ut(cy),dy=Y({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=Ut(dy),fy=Y({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),py=Ut(fy),my=Y({},ti,{data:0}),lh=Ut(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yy[t])?!!i[t]:!1}function Ll(){return _y}var wy=Y({},us,{key:function(t){if(t.key){var i=gy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ey=Ut(wy),Sy=Y({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=Ut(Sy),Iy=Y({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),ky=Ut(Iy),Ty=Y({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=Ut(Ty),Ry=Y({},xo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=Ut(Ry),Cy=[9,13,27,32],jl=h&&"CompositionEvent"in window,ds=null;h&&"documentMode"in document&&(ds=document.documentMode);var Py=h&&"TextEvent"in window&&!ds,ch=h&&(!jl||ds&&8<ds&&11>=ds),dh=" ",hh=!1;function fh(t,i){switch(t){case"keyup":return Cy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ph(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function Oy(t,i){switch(t){case"compositionend":return ph(i);case"keypress":return i.which!==32?null:(hh=!0,dh);case"textInput":return t=i.data,t===dh&&hh?null:t;default:return null}}function xy(t,i){if(ni)return t==="compositionend"||!jl&&fh(t,i)?(t=sh(),Co=Pl=Kn=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ch&&i.locale!=="ko"?null:i.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ny[t.type]:i==="textarea"}function gh(t,i,a,u){jd(u),i=Uo(i,"onChange"),0<i.length&&(a=new Ol("onChange","change",null,a,u),t.push({event:a,listeners:i}))}var hs=null,fs=null;function Dy(t){Dh(t,0)}function No(t){var i=ai(t);if(q(i))return t}function Ly(t,i){if(t==="change")return i}var vh=!1;if(h){var Ul;if(h){var Ml="oninput"in document;if(!Ml){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Ml=typeof yh.oninput=="function"}Ul=Ml}else Ul=!1;vh=Ul&&(!document.documentMode||9<document.documentMode)}function _h(){hs&&(hs.detachEvent("onpropertychange",wh),fs=hs=null)}function wh(t){if(t.propertyName==="value"&&No(fs)){var i=[];gh(i,fs,t,vl(t)),Fd(Dy,i)}}function jy(t,i,a){t==="focusin"?(_h(),hs=i,fs=a,hs.attachEvent("onpropertychange",wh)):t==="focusout"&&_h()}function Uy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No(fs)}function My(t,i){if(t==="click")return No(i)}function $y(t,i){if(t==="input"||t==="change")return No(i)}function Fy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var en=typeof Object.is=="function"?Object.is:Fy;function ps(t,i){if(en(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!p.call(i,d)||!en(t[d],i[d]))return!1}return!0}function Eh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sh(t,i){var a=Eh(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=i&&u>=i)return{node:a,offset:i-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eh(a)}}function Ih(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ih(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kh(){for(var t=window,i=W();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=W(t.document)}return i}function $l(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function By(t){var i=kh(),a=t.focusedElem,u=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&Ih(a.ownerDocument.documentElement,a)){if(u!==null&&$l(a)){if(i=u.start,t=u.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=Sh(a,f);var v=Sh(a,u);d&&v&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=h&&"documentMode"in document&&11>=document.documentMode,ri=null,Fl=null,ms=null,Bl=!1;function Th(t,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bl||ri==null||ri!==W(u)||(u=ri,"selectionStart"in u&&$l(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ms&&ps(ms,u)||(ms=u,u=Uo(Fl,"onSelect"),0<u.length&&(i=new Ol("onSelect","select",null,i,a),t.push({event:i,listeners:u}),i.target=ri)))}function Do(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ii={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},zl={},bh={};h&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Lo(t){if(zl[t])return zl[t];if(!ii[t])return t;var i=ii[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in bh)return zl[t]=i[a];return t}var Rh=Lo("animationend"),Ah=Lo("animationiteration"),Ch=Lo("animationstart"),Ph=Lo("transitionend"),Oh=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(t,i){Oh.set(t,i),l(i,[t])}for(var Vl=0;Vl<xh.length;Vl++){var Hl=xh[Vl],Vy=Hl.toLowerCase(),Hy=Hl[0].toUpperCase()+Hl.slice(1);Gn(Vy,"on"+Hy)}Gn(Rh,"onAnimationEnd"),Gn(Ah,"onAnimationIteration"),Gn(Ch,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Ph,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Nh(t,i,a){var u=t.type||"unknown-event";t.currentTarget=a,Vv(u,i,void 0,t),t.currentTarget=null}function Dh(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],d=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var v=u.length-1;0<=v;v--){var E=u[v],S=E.instance,x=E.currentTarget;if(E=E.listener,S!==f&&d.isPropagationStopped())break e;Nh(d,E,x),f=S}else for(v=0;v<u.length;v++){if(E=u[v],S=E.instance,x=E.currentTarget,E=E.listener,S!==f&&d.isPropagationStopped())break e;Nh(d,E,x),f=S}}}if(_o)throw t=El,_o=!1,El=null,t}function ze(t,i){var a=i[Xl];a===void 0&&(a=i[Xl]=new Set);var u=t+"__bubble";a.has(u)||(Lh(i,t,2,!1),a.add(u))}function Wl(t,i,a){var u=0;i&&(u|=4),Lh(a,t,u,i)}var jo="_reactListening"+Math.random().toString(36).slice(2);function vs(t){if(!t[jo]){t[jo]=!0,s.forEach(function(a){a!=="selectionchange"&&(Wy.has(a)||Wl(a,!1,t),Wl(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jo]||(i[jo]=!0,Wl("selectionchange",!1,i))}}function Lh(t,i,a,u){switch(ih(i)){case 1:var d=sy;break;case 4:d=oy;break;default:d=Al}a=d.bind(null,i,a,t),d=void 0,!wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function ql(t,i,a,u,d){var f=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var E=u.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(v===4)for(v=u.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;v=v.return}for(;E!==null;){if(v=kr(E),v===null)return;if(S=v.tag,S===5||S===6){u=f=v;continue e}E=E.parentNode}}u=u.return}Fd(function(){var x=f,$=vl(a),F=[];e:{var M=Oh.get(t);if(M!==void 0){var Q=Ol,Z=t;switch(t){case"keypress":if(Po(a)===0)break e;case"keydown":case"keyup":Q=Ey;break;case"focusin":Z="focus",Q=Dl;break;case"focusout":Z="blur",Q=Dl;break;case"beforeblur":case"afterblur":Q=Dl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ky;break;case Rh:case Ah:case Ch:Q=hy;break;case Ph:Q=by;break;case"scroll":Q=ay;break;case"wheel":Q=Ay;break;case"copy":case"cut":case"paste":Q=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=uh}var te=(i&4)!==0,rt=!te&&t==="scroll",A=te?M!==null?M+"Capture":null:M;te=[];for(var k=x,P;k!==null;){P=k;var H=P.stateNode;if(P.tag===5&&H!==null&&(P=H,A!==null&&(H=Zi(k,A),H!=null&&te.push(ys(k,H,P)))),rt)break;k=k.return}0<te.length&&(M=new Q(M,Z,null,a,$),F.push({event:M,listeners:te}))}}if((i&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",M&&a!==gl&&(Z=a.relatedTarget||a.fromElement)&&(kr(Z)||Z[wn]))break e;if((Q||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,Q?(Z=a.relatedTarget||a.toElement,Q=x,Z=Z?kr(Z):null,Z!==null&&(rt=Ir(Z),Z!==rt||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=x),Q!==Z)){if(te=ah,H="onMouseLeave",A="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(te=uh,H="onPointerLeave",A="onPointerEnter",k="pointer"),rt=Q==null?M:ai(Q),P=Z==null?M:ai(Z),M=new te(H,k+"leave",Q,a,$),M.target=rt,M.relatedTarget=P,H=null,kr($)===x&&(te=new te(A,k+"enter",Z,a,$),te.target=P,te.relatedTarget=rt,H=te),rt=H,Q&&Z)t:{for(te=Q,A=Z,k=0,P=te;P;P=si(P))k++;for(P=0,H=A;H;H=si(H))P++;for(;0<k-P;)te=si(te),k--;for(;0<P-k;)A=si(A),P--;for(;k--;){if(te===A||A!==null&&te===A.alternate)break t;te=si(te),A=si(A)}te=null}else te=null;Q!==null&&jh(F,M,Q,te,!1),Z!==null&&rt!==null&&jh(F,rt,Z,te,!0)}}e:{if(M=x?ai(x):window,Q=M.nodeName&&M.nodeName.toLowerCase(),Q==="select"||Q==="input"&&M.type==="file")var ne=Ly;else if(mh(M))if(vh)ne=$y;else{ne=Uy;var ae=jy}else(Q=M.nodeName)&&Q.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ne=My);if(ne&&(ne=ne(t,x))){gh(F,ne,a,$);break e}ae&&ae(t,M,x),t==="focusout"&&(ae=M._wrapperState)&&ae.controlled&&M.type==="number"&&xe(M,"number",M.value)}switch(ae=x?ai(x):window,t){case"focusin":(mh(ae)||ae.contentEditable==="true")&&(ri=ae,Fl=x,ms=null);break;case"focusout":ms=Fl=ri=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,Th(F,a,$);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Th(F,a,$)}var le;if(jl)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else ni?fh(t,a)&&(ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(ch&&a.locale!=="ko"&&(ni||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&ni&&(le=sh()):(Kn=$,Pl="value"in Kn?Kn.value:Kn.textContent,ni=!0)),ae=Uo(x,ce),0<ae.length&&(ce=new lh(ce,t,null,a,$),F.push({event:ce,listeners:ae}),le?ce.data=le:(le=ph(a),le!==null&&(ce.data=le)))),(le=Py?Oy(t,a):xy(t,a))&&(x=Uo(x,"onBeforeInput"),0<x.length&&($=new lh("onBeforeInput","beforeinput",null,a,$),F.push({event:$,listeners:x}),$.data=le))}Dh(F,i)})}function ys(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uo(t,i){for(var a=i+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Zi(t,a),f!=null&&u.unshift(ys(t,f,d)),f=Zi(t,i),f!=null&&u.push(ys(t,f,d))),t=t.return}return u}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jh(t,i,a,u,d){for(var f=i._reactName,v=[];a!==null&&a!==u;){var E=a,S=E.alternate,x=E.stateNode;if(S!==null&&S===u)break;E.tag===5&&x!==null&&(E=x,d?(S=Zi(a,f),S!=null&&v.unshift(ys(a,S,E))):d||(S=Zi(a,f),S!=null&&v.push(ys(a,S,E)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var qy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function Uh(t){return(typeof t=="string"?t:""+t).replace(qy,`
`).replace(Ky,"")}function Mo(t,i,a){if(i=Uh(i),Uh(t)!==i&&a)throw Error(n(425))}function $o(){}var Kl=null,Gl=null;function Jl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(t){return Mh.resolve(null).then(t).catch(Yy)}:Yl;function Yy(t){setTimeout(function(){throw t})}function Ql(t,i){var a=i,u=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){t.removeChild(d),ls(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);ls(i)}function Jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),pn="__reactFiber$"+oi,_s="__reactProps$"+oi,wn="__reactContainer$"+oi,Xl="__reactEvents$"+oi,Qy="__reactListeners$"+oi,Xy="__reactHandles$"+oi;function kr(t){var i=t[pn];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wn]||a[pn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$h(t);t!==null;){if(a=t[pn])return a;t=$h(t)}return i}t=a,a=t.parentNode}return null}function ws(t){return t=t[pn]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Fo(t){return t[_s]||null}var Zl=[],li=-1;function Yn(t){return{current:t}}function Ve(t){0>li||(t.current=Zl[li],Zl[li]=null,li--)}function $e(t,i){li++,Zl[li]=t.current,t.current=i}var Qn={},yt=Yn(Qn),Ct=Yn(!1),Tr=Qn;function ui(t,i){var a=t.type.contextTypes;if(!a)return Qn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=i[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function Pt(t){return t=t.childContextTypes,t!=null}function Bo(){Ve(Ct),Ve(yt)}function Fh(t,i,a){if(yt.current!==Qn)throw Error(n(168));$e(yt,i),$e(Ct,a)}function Bh(t,i,a){var u=t.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(n(108,Pe(t)||"Unknown",d));return Y({},a,u)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Tr=yt.current,$e(yt,t),$e(Ct,Ct.current),!0}function zh(t,i,a){var u=t.stateNode;if(!u)throw Error(n(169));a?(t=Bh(t,i,Tr),u.__reactInternalMemoizedMergedChildContext=t,Ve(Ct),Ve(yt),$e(yt,t)):Ve(Ct),$e(Ct,a)}var En=null,Vo=!1,eu=!1;function Vh(t){En===null?En=[t]:En.push(t)}function Zy(t){Vo=!0,Vh(t)}function Xn(){if(!eu&&En!==null){eu=!0;var t=0,i=Re;try{var a=En;for(Re=1;t<a.length;t++){var u=a[t];do u=u(!0);while(u!==null)}En=null,Vo=!1}catch(d){throw En!==null&&(En=En.slice(t+1)),Wd(Sl,Xn),d}finally{Re=i,eu=!1}}return null}var ci=[],di=0,Ho=null,Wo=0,Vt=[],Ht=0,br=null,Sn=1,In="";function Rr(t,i){ci[di++]=Wo,ci[di++]=Ho,Ho=t,Wo=i}function Hh(t,i,a){Vt[Ht++]=Sn,Vt[Ht++]=In,Vt[Ht++]=br,br=t;var u=Sn;t=In;var d=32-Zt(u)-1;u&=~(1<<d),a+=1;var f=32-Zt(i)+d;if(30<f){var v=d-d%5;f=(u&(1<<v)-1).toString(32),u>>=v,d-=v,Sn=1<<32-Zt(i)+d|a<<d|u,In=f+t}else Sn=1<<f|a<<d|u,In=t}function tu(t){t.return!==null&&(Rr(t,1),Hh(t,1,0))}function nu(t){for(;t===Ho;)Ho=ci[--di],ci[di]=null,Wo=ci[--di],ci[di]=null;for(;t===br;)br=Vt[--Ht],Vt[Ht]=null,In=Vt[--Ht],Vt[Ht]=null,Sn=Vt[--Ht],Vt[Ht]=null}var Mt=null,$t=null,Ke=!1,tn=null;function Wh(t,i){var a=Gt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function qh(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Mt=t,$t=Jn(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Mt=t,$t=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=br!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Gt(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Mt=t,$t=null,!0):!1;default:return!1}}function ru(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iu(t){if(Ke){var i=$t;if(i){var a=i;if(!qh(t,i)){if(ru(t))throw Error(n(418));i=Jn(a.nextSibling);var u=Mt;i&&qh(t,i)?Wh(u,a):(t.flags=t.flags&-4097|2,Ke=!1,Mt=t)}}else{if(ru(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,Mt=t}}}function Kh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function qo(t){if(t!==Mt)return!1;if(!Ke)return Kh(t),Ke=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Jl(t.type,t.memoizedProps)),i&&(i=$t)){if(ru(t))throw Gh(),Error(n(418));for(;i;)Wh(t,i),i=Jn(i.nextSibling)}if(Kh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){$t=Jn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}$t=null}}else $t=Mt?Jn(t.stateNode.nextSibling):null;return!0}function Gh(){for(var t=$t;t;)t=Jn(t.nextSibling)}function hi(){$t=Mt=null,Ke=!1}function su(t){tn===null?tn=[t]:tn.push(t)}var e_=B.ReactCurrentBatchConfig;function Es(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,t));var d=u,f=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(v){var E=d.refs;v===null?delete E[f]:E[f]=v},i._stringRef=f,i)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Ko(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Jh(t){var i=t._init;return i(t._payload)}function Yh(t){function i(A,k){if(t){var P=A.deletions;P===null?(A.deletions=[k],A.flags|=16):P.push(k)}}function a(A,k){if(!t)return null;for(;k!==null;)i(A,k),k=k.sibling;return null}function u(A,k){for(A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function d(A,k){return A=or(A,k),A.index=0,A.sibling=null,A}function f(A,k,P){return A.index=P,t?(P=A.alternate,P!==null?(P=P.index,P<k?(A.flags|=2,k):P):(A.flags|=2,k)):(A.flags|=1048576,k)}function v(A){return t&&A.alternate===null&&(A.flags|=2),A}function E(A,k,P,H){return k===null||k.tag!==6?(k=Yu(P,A.mode,H),k.return=A,k):(k=d(k,P),k.return=A,k)}function S(A,k,P,H){var ne=P.type;return ne===ee?$(A,k,P.props.children,H,P.key):k!==null&&(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===qe&&Jh(ne)===k.type)?(H=d(k,P.props),H.ref=Es(A,k,P),H.return=A,H):(H=va(P.type,P.key,P.props,null,A.mode,H),H.ref=Es(A,k,P),H.return=A,H)}function x(A,k,P,H){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Qu(P,A.mode,H),k.return=A,k):(k=d(k,P.children||[]),k.return=A,k)}function $(A,k,P,H,ne){return k===null||k.tag!==7?(k=Lr(P,A.mode,H,ne),k.return=A,k):(k=d(k,P),k.return=A,k)}function F(A,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Yu(""+k,A.mode,P),k.return=A,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J:return P=va(k.type,k.key,k.props,null,A.mode,P),P.ref=Es(A,null,k),P.return=A,P;case K:return k=Qu(k,A.mode,P),k.return=A,k;case qe:var H=k._init;return F(A,H(k._payload),P)}if(It(k)||se(k))return k=Lr(k,A.mode,P,null),k.return=A,k;Ko(A,k)}return null}function M(A,k,P,H){var ne=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ne!==null?null:E(A,k,""+P,H);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case J:return P.key===ne?S(A,k,P,H):null;case K:return P.key===ne?x(A,k,P,H):null;case qe:return ne=P._init,M(A,k,ne(P._payload),H)}if(It(P)||se(P))return ne!==null?null:$(A,k,P,H,null);Ko(A,P)}return null}function Q(A,k,P,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return A=A.get(P)||null,E(k,A,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case J:return A=A.get(H.key===null?P:H.key)||null,S(k,A,H,ne);case K:return A=A.get(H.key===null?P:H.key)||null,x(k,A,H,ne);case qe:var ae=H._init;return Q(A,k,P,ae(H._payload),ne)}if(It(H)||se(H))return A=A.get(P)||null,$(k,A,H,ne,null);Ko(k,H)}return null}function Z(A,k,P,H){for(var ne=null,ae=null,le=k,ce=k=0,ft=null;le!==null&&ce<P.length;ce++){le.index>ce?(ft=le,le=null):ft=le.sibling;var ke=M(A,le,P[ce],H);if(ke===null){le===null&&(le=ft);break}t&&le&&ke.alternate===null&&i(A,le),k=f(ke,k,ce),ae===null?ne=ke:ae.sibling=ke,ae=ke,le=ft}if(ce===P.length)return a(A,le),Ke&&Rr(A,ce),ne;if(le===null){for(;ce<P.length;ce++)le=F(A,P[ce],H),le!==null&&(k=f(le,k,ce),ae===null?ne=le:ae.sibling=le,ae=le);return Ke&&Rr(A,ce),ne}for(le=u(A,le);ce<P.length;ce++)ft=Q(le,A,ce,P[ce],H),ft!==null&&(t&&ft.alternate!==null&&le.delete(ft.key===null?ce:ft.key),k=f(ft,k,ce),ae===null?ne=ft:ae.sibling=ft,ae=ft);return t&&le.forEach(function(ar){return i(A,ar)}),Ke&&Rr(A,ce),ne}function te(A,k,P,H){var ne=se(P);if(typeof ne!="function")throw Error(n(150));if(P=ne.call(P),P==null)throw Error(n(151));for(var ae=ne=null,le=k,ce=k=0,ft=null,ke=P.next();le!==null&&!ke.done;ce++,ke=P.next()){le.index>ce?(ft=le,le=null):ft=le.sibling;var ar=M(A,le,ke.value,H);if(ar===null){le===null&&(le=ft);break}t&&le&&ar.alternate===null&&i(A,le),k=f(ar,k,ce),ae===null?ne=ar:ae.sibling=ar,ae=ar,le=ft}if(ke.done)return a(A,le),Ke&&Rr(A,ce),ne;if(le===null){for(;!ke.done;ce++,ke=P.next())ke=F(A,ke.value,H),ke!==null&&(k=f(ke,k,ce),ae===null?ne=ke:ae.sibling=ke,ae=ke);return Ke&&Rr(A,ce),ne}for(le=u(A,le);!ke.done;ce++,ke=P.next())ke=Q(le,A,ce,ke.value,H),ke!==null&&(t&&ke.alternate!==null&&le.delete(ke.key===null?ce:ke.key),k=f(ke,k,ce),ae===null?ne=ke:ae.sibling=ke,ae=ke);return t&&le.forEach(function(N_){return i(A,N_)}),Ke&&Rr(A,ce),ne}function rt(A,k,P,H){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case J:e:{for(var ne=P.key,ae=k;ae!==null;){if(ae.key===ne){if(ne=P.type,ne===ee){if(ae.tag===7){a(A,ae.sibling),k=d(ae,P.props.children),k.return=A,A=k;break e}}else if(ae.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===qe&&Jh(ne)===ae.type){a(A,ae.sibling),k=d(ae,P.props),k.ref=Es(A,ae,P),k.return=A,A=k;break e}a(A,ae);break}else i(A,ae);ae=ae.sibling}P.type===ee?(k=Lr(P.props.children,A.mode,H,P.key),k.return=A,A=k):(H=va(P.type,P.key,P.props,null,A.mode,H),H.ref=Es(A,k,P),H.return=A,A=H)}return v(A);case K:e:{for(ae=P.key;k!==null;){if(k.key===ae)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(A,k.sibling),k=d(k,P.children||[]),k.return=A,A=k;break e}else{a(A,k);break}else i(A,k);k=k.sibling}k=Qu(P,A.mode,H),k.return=A,A=k}return v(A);case qe:return ae=P._init,rt(A,k,ae(P._payload),H)}if(It(P))return Z(A,k,P,H);if(se(P))return te(A,k,P,H);Ko(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(a(A,k.sibling),k=d(k,P),k.return=A,A=k):(a(A,k),k=Yu(P,A.mode,H),k.return=A,A=k),v(A)):a(A,k)}return rt}var fi=Yh(!0),Qh=Yh(!1),Go=Yn(null),Jo=null,pi=null,ou=null;function au(){ou=pi=Jo=null}function lu(t){var i=Go.current;Ve(Go),t._currentValue=i}function uu(t,i,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===a)break;t=t.return}}function mi(t,i){Jo=t,ou=pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Ot=!0),t.firstContext=null)}function Wt(t){var i=t._currentValue;if(ou!==t)if(t={context:t,memoizedValue:i,next:null},pi===null){if(Jo===null)throw Error(n(308));pi=t,Jo.dependencies={lanes:0,firstContext:t}}else pi=pi.next=t;return i}var Ar=null;function cu(t){Ar===null?Ar=[t]:Ar.push(t)}function Xh(t,i,a,u){var d=i.interleaved;return d===null?(a.next=a,cu(i)):(a.next=d.next,d.next=a),i.interleaved=a,kn(t,u)}function kn(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Zn=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function er(t,i,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(we&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,kn(t,a)}return d=u.interleaved,d===null?(i.next=i,cu(u)):(i.next=d.next,d.next=i),u.interleaved=i,kn(t,a)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,Tl(t,a)}}function ef(t,i){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Qo(t,i,a,u){var d=t.updateQueue;Zn=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var S=E,x=S.next;S.next=null,v===null?f=x:v.next=x,v=S;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==v&&(E===null?$.firstBaseUpdate=x:E.next=x,$.lastBaseUpdate=S))}if(f!==null){var F=d.baseState;v=0,$=x=S=null,E=f;do{var M=E.lane,Q=E.eventTime;if((u&M)===M){$!==null&&($=$.next={eventTime:Q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Z=t,te=E;switch(M=i,Q=a,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){F=Z.call(Q,F,M);break e}F=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,M=typeof Z=="function"?Z.call(Q,F,M):Z,M==null)break e;F=Y({},F,M);break e;case 2:Zn=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,M=d.effects,M===null?d.effects=[E]:M.push(E))}else Q={eventTime:Q,lane:M,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(x=$=Q,S=F):$=$.next=Q,v|=M;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;M=E,E=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);if($===null&&(S=F),d.baseState=S,d.firstBaseUpdate=x,d.lastBaseUpdate=$,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);Or|=v,t.lanes=v,t.memoizedState=F}}function tf(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var u=t[i],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var Ss={},mn=Yn(Ss),Is=Yn(Ss),ks=Yn(Ss);function Cr(t){if(t===Ss)throw Error(n(174));return t}function hu(t,i){switch($e(ks,i),$e(Is,t),$e(mn,Ss),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xt(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Xt(i,t)}Ve(mn),$e(mn,i)}function gi(){Ve(mn),Ve(Is),Ve(ks)}function nf(t){Cr(ks.current);var i=Cr(mn.current),a=Xt(i,t.type);i!==a&&($e(Is,t),$e(mn,a))}function fu(t){Is.current===t&&(Ve(mn),Ve(Is))}var Je=Yn(0);function Xo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pu=[];function mu(){for(var t=0;t<pu.length;t++)pu[t]._workInProgressVersionPrimary=null;pu.length=0}var Zo=B.ReactCurrentDispatcher,gu=B.ReactCurrentBatchConfig,Pr=0,Ye=null,lt=null,dt=null,ea=!1,Ts=!1,bs=0,t_=0;function _t(){throw Error(n(321))}function vu(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!en(t[a],i[a]))return!1;return!0}function yu(t,i,a,u,d,f){if(Pr=f,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zo.current=t===null||t.memoizedState===null?s_:o_,t=a(u,d),Ts){f=0;do{if(Ts=!1,bs=0,25<=f)throw Error(n(301));f+=1,dt=lt=null,i.updateQueue=null,Zo.current=a_,t=a(u,d)}while(Ts)}if(Zo.current=ra,i=lt!==null&&lt.next!==null,Pr=0,dt=lt=Ye=null,ea=!1,i)throw Error(n(300));return t}function _u(){var t=bs!==0;return bs=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=t:dt=dt.next=t,dt}function qt(){if(lt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=dt===null?Ye.memoizedState:dt.next;if(i!==null)dt=i,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?Ye.memoizedState=dt=t:dt=dt.next=t}return dt}function Rs(t,i){return typeof i=="function"?i(t):i}function wu(t){var i=qt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var u=lt,d=u.baseQueue,f=a.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}u.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,u=u.baseState;var E=v=null,S=null,x=f;do{var $=x.lane;if((Pr&$)===$)S!==null&&(S=S.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),u=x.hasEagerState?x.eagerState:t(u,x.action);else{var F={lane:$,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};S===null?(E=S=F,v=u):S=S.next=F,Ye.lanes|=$,Or|=$}x=x.next}while(x!==null&&x!==f);S===null?v=u:S.next=E,en(u,i.memoizedState)||(Ot=!0),i.memoizedState=u,i.baseState=v,i.baseQueue=S,a.lastRenderedState=u}if(t=a.interleaved,t!==null){d=t;do f=d.lane,Ye.lanes|=f,Or|=f,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Eu(t){var i=qt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var u=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);en(f,i.memoizedState)||(Ot=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,u]}function rf(){}function sf(t,i){var a=Ye,u=qt(),d=i(),f=!en(u.memoizedState,d);if(f&&(u.memoizedState=d,Ot=!0),u=u.queue,Su(lf.bind(null,a,u,t),[t]),u.getSnapshot!==i||f||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,As(9,af.bind(null,a,u,d,i),void 0,null),ht===null)throw Error(n(349));(Pr&30)!==0||of(a,i,d)}return d}function of(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function af(t,i,a,u){i.value=a,i.getSnapshot=u,uf(i)&&cf(t)}function lf(t,i,a){return a(function(){uf(i)&&cf(t)})}function uf(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!en(t,a)}catch{return!0}}function cf(t){var i=kn(t,1);i!==null&&on(i,t,1,-1)}function df(t){var i=gn();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},i.queue=t,t=t.dispatch=i_.bind(null,Ye,t),[i.memoizedState,t]}function As(t,i,a,u){return t={tag:t,create:i,destroy:a,deps:u,next:null},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,i.lastEffect=t)),t}function hf(){return qt().memoizedState}function ta(t,i,a,u){var d=gn();Ye.flags|=t,d.memoizedState=As(1|i,a,void 0,u===void 0?null:u)}function na(t,i,a,u){var d=qt();u=u===void 0?null:u;var f=void 0;if(lt!==null){var v=lt.memoizedState;if(f=v.destroy,u!==null&&vu(u,v.deps)){d.memoizedState=As(i,a,f,u);return}}Ye.flags|=t,d.memoizedState=As(1|i,a,f,u)}function ff(t,i){return ta(8390656,8,t,i)}function Su(t,i){return na(2048,8,t,i)}function pf(t,i){return na(4,2,t,i)}function mf(t,i){return na(4,4,t,i)}function gf(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vf(t,i,a){return a=a!=null?a.concat([t]):null,na(4,4,gf.bind(null,i,t),a)}function Iu(){}function yf(t,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&vu(i,u[1])?u[0]:(a.memoizedState=[t,i],t)}function _f(t,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&vu(i,u[1])?u[0]:(t=t(),a.memoizedState=[t,i],t)}function wf(t,i,a){return(Pr&21)===0?(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=a):(en(a,i)||(a=Jd(),Ye.lanes|=a,Or|=a,t.baseState=!0),i)}function n_(t,i){var a=Re;Re=a!==0&&4>a?a:4,t(!0);var u=gu.transition;gu.transition={};try{t(!1),i()}finally{Re=a,gu.transition=u}}function Ef(){return qt().memoizedState}function r_(t,i,a){var u=ir(t);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Sf(t))If(i,a);else if(a=Xh(t,i,a,u),a!==null){var d=Tt();on(a,t,u,d),kf(a,i,u)}}function i_(t,i,a){var u=ir(t),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sf(t))If(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(d.hasEagerState=!0,d.eagerState=E,en(E,v)){var S=i.interleaved;S===null?(d.next=d,cu(i)):(d.next=S.next,S.next=d),i.interleaved=d;return}}catch{}finally{}a=Xh(t,i,d,u),a!==null&&(d=Tt(),on(a,t,u,d),kf(a,i,u))}}function Sf(t){var i=t.alternate;return t===Ye||i!==null&&i===Ye}function If(t,i){Ts=ea=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function kf(t,i,a){if((a&4194240)!==0){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,Tl(t,a)}}var ra={readContext:Wt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},s_={readContext:Wt,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:ff,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,ta(4194308,4,gf.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ta(4194308,4,t,i)},useInsertionEffect:function(t,i){return ta(4,2,t,i)},useMemo:function(t,i){var a=gn();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var u=gn();return i=a!==void 0?a(i):i,u.memoizedState=u.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},u.queue=t,t=t.dispatch=r_.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:df,useDebugValue:Iu,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=df(!1),i=t[0];return t=n_.bind(null,t[1]),gn().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var u=Ye,d=gn();if(Ke){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ht===null)throw Error(n(349));(Pr&30)!==0||of(u,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,ff(lf.bind(null,u,f,t),[t]),u.flags|=2048,As(9,af.bind(null,u,f,a,i),void 0,null),a},useId:function(){var t=gn(),i=ht.identifierPrefix;if(Ke){var a=In,u=Sn;a=(u&~(1<<32-Zt(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=bs++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=t_++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},o_={readContext:Wt,useCallback:yf,useContext:Wt,useEffect:Su,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:_f,useReducer:wu,useRef:hf,useState:function(){return wu(Rs)},useDebugValue:Iu,useDeferredValue:function(t){var i=qt();return wf(i,lt.memoizedState,t)},useTransition:function(){var t=wu(Rs)[0],i=qt().memoizedState;return[t,i]},useMutableSource:rf,useSyncExternalStore:sf,useId:Ef,unstable_isNewReconciler:!1},a_={readContext:Wt,useCallback:yf,useContext:Wt,useEffect:Su,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:_f,useReducer:Eu,useRef:hf,useState:function(){return Eu(Rs)},useDebugValue:Iu,useDeferredValue:function(t){var i=qt();return lt===null?i.memoizedState=t:wf(i,lt.memoizedState,t)},useTransition:function(){var t=Eu(Rs)[0],i=qt().memoizedState;return[t,i]},useMutableSource:rf,useSyncExternalStore:sf,useId:Ef,unstable_isNewReconciler:!1};function nn(t,i){if(t&&t.defaultProps){i=Y({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function ku(t,i,a,u){i=t.memoizedState,a=a(u,i),a=a==null?i:Y({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ia={isMounted:function(t){return(t=t._reactInternals)?Ir(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var u=Tt(),d=ir(t),f=Tn(u,d);f.payload=i,a!=null&&(f.callback=a),i=er(t,f,d),i!==null&&(on(i,t,d,u),Yo(i,t,d))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var u=Tt(),d=ir(t),f=Tn(u,d);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=er(t,f,d),i!==null&&(on(i,t,d,u),Yo(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tt(),u=ir(t),d=Tn(a,u);d.tag=2,i!=null&&(d.callback=i),i=er(t,d,u),i!==null&&(on(i,t,u,a),Yo(i,t,u))}};function Tf(t,i,a,u,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,v):i.prototype&&i.prototype.isPureReactComponent?!ps(a,u)||!ps(d,f):!0}function bf(t,i,a){var u=!1,d=Qn,f=i.contextType;return typeof f=="object"&&f!==null?f=Wt(f):(d=Pt(i)?Tr:yt.current,u=i.contextTypes,f=(u=u!=null)?ui(t,d):Qn),i=new i(a,f),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ia,t.stateNode=i,i._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),i}function Rf(t,i,a,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==t&&ia.enqueueReplaceState(i,i.state,null)}function Tu(t,i,a,u){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},du(t);var f=i.contextType;typeof f=="object"&&f!==null?d.context=Wt(f):(f=Pt(i)?Tr:yt.current,d.context=ui(t,f)),d.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(ku(t,i,f,a),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&ia.enqueueReplaceState(d,d.state,null),Qo(t,a,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function vi(t,i){try{var a="",u=i;do a+=ve(u),u=u.return;while(u);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:i,stack:d,digest:null}}function bu(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function Ru(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var l_=typeof WeakMap=="function"?WeakMap:Map;function Af(t,i,a){a=Tn(-1,a),a.tag=3,a.payload={element:null};var u=i.value;return a.callback=function(){da||(da=!0,zu=u),Ru(t,i)},a}function Cf(t,i,a){a=Tn(-1,a),a.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;a.payload=function(){return u(d)},a.callback=function(){Ru(t,i)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Ru(t,i),typeof u!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Pf(t,i,a){var u=t.pingCache;if(u===null){u=t.pingCache=new l_;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(d.add(a),t=S_.bind(null,t,i,a),i.then(t,t))}function Of(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function xf(t,i,a,u,d){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Tn(-1,1),i.tag=2,er(a,i,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var u_=B.ReactCurrentOwner,Ot=!1;function kt(t,i,a,u){i.child=t===null?Qh(i,null,a,u):fi(i,t.child,a,u)}function Nf(t,i,a,u,d){a=a.render;var f=i.ref;return mi(i,d),u=yu(t,i,a,u,f,d),a=_u(),t!==null&&!Ot?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,bn(t,i,d)):(Ke&&a&&tu(i),i.flags|=1,kt(t,i,u,d),i.child)}function Df(t,i,a,u,d){if(t===null){var f=a.type;return typeof f=="function"&&!Ju(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,Lf(t,i,f,u,d)):(t=va(a.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,(t.lanes&d)===0){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ps,a(v,u)&&t.ref===i.ref)return bn(t,i,d)}return i.flags|=1,t=or(f,u),t.ref=i.ref,t.return=i,i.child=t}function Lf(t,i,a,u,d){if(t!==null){var f=t.memoizedProps;if(ps(f,u)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=u=f,(t.lanes&d)!==0)(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,bn(t,i,d)}return Au(t,i,a,u,d)}function jf(t,i,a){var u=i.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(_i,Ft),Ft|=a;else{if((a&1073741824)===0)return t=f!==null?f.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,$e(_i,Ft),Ft|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:a,$e(_i,Ft),Ft|=u}else f!==null?(u=f.baseLanes|a,i.memoizedState=null):u=a,$e(_i,Ft),Ft|=u;return kt(t,i,d,a),i.child}function Uf(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Au(t,i,a,u,d){var f=Pt(a)?Tr:yt.current;return f=ui(i,f),mi(i,d),a=yu(t,i,a,u,f,d),u=_u(),t!==null&&!Ot?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,bn(t,i,d)):(Ke&&u&&tu(i),i.flags|=1,kt(t,i,a,d),i.child)}function Mf(t,i,a,u,d){if(Pt(a)){var f=!0;zo(i)}else f=!1;if(mi(i,d),i.stateNode===null)oa(t,i),bf(i,a,u),Tu(i,a,u,d),u=!0;else if(t===null){var v=i.stateNode,E=i.memoizedProps;v.props=E;var S=v.context,x=a.contextType;typeof x=="object"&&x!==null?x=Wt(x):(x=Pt(a)?Tr:yt.current,x=ui(i,x));var $=a.getDerivedStateFromProps,F=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function";F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==u||S!==x)&&Rf(i,v,u,x),Zn=!1;var M=i.memoizedState;v.state=M,Qo(i,u,v,d),S=i.memoizedState,E!==u||M!==S||Ct.current||Zn?(typeof $=="function"&&(ku(i,a,$,u),S=i.memoizedState),(E=Zn||Tf(i,a,E,u,M,S,x))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=S),v.props=u,v.state=S,v.context=x,u=E):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,Zh(t,i),E=i.memoizedProps,x=i.type===i.elementType?E:nn(i.type,E),v.props=x,F=i.pendingProps,M=v.context,S=a.contextType,typeof S=="object"&&S!==null?S=Wt(S):(S=Pt(a)?Tr:yt.current,S=ui(i,S));var Q=a.getDerivedStateFromProps;($=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==F||M!==S)&&Rf(i,v,u,S),Zn=!1,M=i.memoizedState,v.state=M,Qo(i,u,v,d);var Z=i.memoizedState;E!==F||M!==Z||Ct.current||Zn?(typeof Q=="function"&&(ku(i,a,Q,u),Z=i.memoizedState),(x=Zn||Tf(i,a,x,u,M,Z,S)||!1)?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Z,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Z,S)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&M===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&M===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),v.props=u,v.state=Z,v.context=S,u=x):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&M===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&M===t.memoizedState||(i.flags|=1024),u=!1)}return Cu(t,i,a,u,f,d)}function Cu(t,i,a,u,d,f){Uf(t,i);var v=(i.flags&128)!==0;if(!u&&!v)return d&&zh(i,a,!1),bn(t,i,f);u=i.stateNode,u_.current=i;var E=v&&typeof a.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,t!==null&&v?(i.child=fi(i,t.child,null,f),i.child=fi(i,null,E,f)):kt(t,i,E,f),i.memoizedState=u.state,d&&zh(i,a,!0),i.child}function $f(t){var i=t.stateNode;i.pendingContext?Fh(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Fh(t,i.context,!1),hu(t,i.containerInfo)}function Ff(t,i,a,u,d){return hi(),su(d),i.flags|=256,kt(t,i,a,u),i.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bf(t,i,a){var u=i.pendingProps,d=Je.current,f=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=t!==null&&t.memoizedState===null?!1:(d&2)!==0),E?(f=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),$e(Je,d&1),t===null)return iu(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=u.children,t=u.fallback,f?(u=i.mode,f=i.child,v={mode:"hidden",children:v},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=ya(v,u,0,null),t=Lr(t,u,a,null),f.return=i,t.return=i,f.sibling=t,i.child=f,i.child.memoizedState=Ou(a),i.memoizedState=Pu,t):xu(i,v));if(d=t.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return c_(t,i,v,u,E,d,a);if(f){f=u.fallback,v=i.mode,d=t.child,E=d.sibling;var S={mode:"hidden",children:u.children};return(v&1)===0&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=S,i.deletions=null):(u=or(d,S),u.subtreeFlags=d.subtreeFlags&14680064),E!==null?f=or(E,f):(f=Lr(f,v,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,v=t.child.memoizedState,v=v===null?Ou(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=t.childLanes&~a,i.memoizedState=Pu,u}return f=t.child,t=f.sibling,u=or(f,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=a),u.return=i,u.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=u,i.memoizedState=null,u}function xu(t,i){return i=ya({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function sa(t,i,a,u){return u!==null&&su(u),fi(i,t.child,null,a),t=xu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function c_(t,i,a,u,d,f,v){if(a)return i.flags&256?(i.flags&=-257,u=bu(Error(n(422))),sa(t,i,v,u)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(f=u.fallback,d=i.mode,u=ya({mode:"visible",children:u.children},d,0,null),f=Lr(f,d,v,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,(i.mode&1)!==0&&fi(i,t.child,null,v),i.child.memoizedState=Ou(v),i.memoizedState=Pu,f);if((i.mode&1)===0)return sa(t,i,v,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var E=u.dgst;return u=E,f=Error(n(419)),u=bu(f,u,void 0),sa(t,i,v,u)}if(E=(v&t.childLanes)!==0,Ot||E){if(u=ht,u!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,kn(t,d),on(u,t,d,-1))}return Gu(),u=bu(Error(n(421))),sa(t,i,v,u)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=I_.bind(null,t),d._reactRetry=i,null):(t=f.treeContext,$t=Jn(d.nextSibling),Mt=i,Ke=!0,tn=null,t!==null&&(Vt[Ht++]=Sn,Vt[Ht++]=In,Vt[Ht++]=br,Sn=t.id,In=t.overflow,br=i),i=xu(i,u.children),i.flags|=4096,i)}function zf(t,i,a){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),uu(t.return,i,a)}function Nu(t,i,a,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=d)}function Vf(t,i,a){var u=i.pendingProps,d=u.revealOrder,f=u.tail;if(kt(t,i,u.children,a),u=Je.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,a,i);else if(t.tag===19)zf(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Je,u),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Xo(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Nu(i,!1,d,a,f);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Xo(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Nu(i,!0,a,null,f);break;case"together":Nu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function oa(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function bn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Or|=i.lanes,(a&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,a=or(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=or(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function d_(t,i,a){switch(i.tag){case 3:$f(i),hi();break;case 5:nf(i);break;case 1:Pt(i.type)&&zo(i);break;case 4:hu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;$e(Go,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?($e(Je,Je.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Bf(t,i,a):($e(Je,Je.current&1),t=bn(t,i,a),t!==null?t.sibling:null);$e(Je,Je.current&1);break;case 19:if(u=(a&i.childLanes)!==0,(t.flags&128)!==0){if(u)return Vf(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(Je,Je.current),u)break;return null;case 22:case 23:return i.lanes=0,jf(t,i,a)}return bn(t,i,a)}var Hf,Du,Wf,qf;Hf=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Du=function(){},Wf=function(t,i,a,u){var d=t.memoizedProps;if(d!==u){t=i.stateNode,Cr(mn.current);var f=null;switch(a){case"input":d=Me(t,d),u=Me(t,u),f=[];break;case"select":d=Y({},d,{value:void 0}),u=Y({},u,{value:void 0}),f=[];break;case"textarea":d=Er(t,d),u=Er(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=$o)}pl(a,u);var v;a=null;for(x in d)if(!u.hasOwnProperty(x)&&d.hasOwnProperty(x)&&d[x]!=null)if(x==="style"){var E=d[x];for(v in E)E.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in u){var S=u[x];if(E=d?.[x],u.hasOwnProperty(x)&&S!==E&&(S!=null||E!=null))if(x==="style")if(E){for(v in E)!E.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in S)S.hasOwnProperty(v)&&E[v]!==S[v]&&(a||(a={}),a[v]=S[v])}else a||(f||(f=[]),f.push(x,a)),a=S;else x==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,E=E?E.__html:void 0,S!=null&&E!==S&&(f=f||[]).push(x,S)):x==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(x,""+S):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(o.hasOwnProperty(x)?(S!=null&&x==="onScroll"&&ze("scroll",t),f||E===S||(f=[])):(f=f||[]).push(x,S))}a&&(f=f||[]).push("style",a);var x=f;(i.updateQueue=x)&&(i.flags|=4)}},qf=function(t,i,a,u){a!==u&&(i.flags|=4)};function Cs(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=a,i}function h_(t,i,a){var u=i.pendingProps;switch(nu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return Pt(i.type)&&Bo(),wt(i),null;case 3:return u=i.stateNode,gi(),Ve(Ct),Ve(yt),mu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(qo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,tn!==null&&(Wu(tn),tn=null))),Du(t,i),wt(i),null;case 5:fu(i);var d=Cr(ks.current);if(a=i.type,t!==null&&i.stateNode!=null)Wf(t,i,a,u,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return wt(i),null}if(t=Cr(mn.current),qo(i)){u=i.stateNode,a=i.type;var f=i.memoizedProps;switch(u[pn]=i,u[_s]=f,t=(i.mode&1)!==0,a){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(d=0;d<gs.length;d++)ze(gs[d],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":Ne(u,f),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},ze("invalid",u);break;case"textarea":Qt(u,f),ze("invalid",u)}pl(a,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var E=f[v];v==="children"?typeof E=="string"?u.textContent!==E&&(f.suppressHydrationWarning!==!0&&Mo(u.textContent,E,t),d=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(f.suppressHydrationWarning!==!0&&Mo(u.textContent,E,t),d=["children",""+E]):o.hasOwnProperty(v)&&E!=null&&v==="onScroll"&&ze("scroll",u)}switch(a){case"input":z(u),Oe(u,f,!0);break;case"textarea":z(u),zn(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=$o)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ie(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(a,{is:u.is}):(t=v.createElement(a),a==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,a),t[pn]=i,t[_s]=u,Hf(t,i,!1,!1),i.stateNode=t;e:{switch(v=ml(a,u),a){case"dialog":ze("cancel",t),ze("close",t),d=u;break;case"iframe":case"object":case"embed":ze("load",t),d=u;break;case"video":case"audio":for(d=0;d<gs.length;d++)ze(gs[d],t);d=u;break;case"source":ze("error",t),d=u;break;case"img":case"image":case"link":ze("error",t),ze("load",t),d=u;break;case"details":ze("toggle",t),d=u;break;case"input":Ne(t,u),d=Me(t,u),ze("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=Y({},u,{value:void 0}),ze("invalid",t);break;case"textarea":Qt(t,u),d=Er(t,u),ze("invalid",t);break;default:d=u}pl(a,d),E=d;for(f in E)if(E.hasOwnProperty(f)){var S=E[f];f==="style"?Dd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Sr(t,S)):f==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&Qr(t,S):typeof S=="number"&&Qr(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&ze("scroll",t):S!=null&&j(t,f,S,v))}switch(a){case"input":z(t),Oe(t,u,!1);break;case"textarea":z(t),zn(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Se(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?zt(t,!!u.multiple,f,!1):u.defaultValue!=null&&zt(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=$o)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wt(i),null;case 6:if(t&&i.stateNode!=null)qf(t,i,t.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(a=Cr(ks.current),Cr(mn.current),qo(i)){if(u=i.stateNode,a=i.memoizedProps,u[pn]=i,(f=u.nodeValue!==a)&&(t=Mt,t!==null))switch(t.tag){case 3:Mo(u.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(u.nodeValue,a,(t.mode&1)!==0)}f&&(i.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[pn]=i,i.stateNode=u}return wt(i),null;case 13:if(Ve(Je),u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&$t!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gh(),hi(),i.flags|=98560,f=!1;else if(f=qo(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[pn]=i}else hi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),f=!1}else tn!==null&&(Wu(tn),tn=null),f=!0;if(!f)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Je.current&1)!==0?ut===0&&(ut=3):Gu())),i.updateQueue!==null&&(i.flags|=4),wt(i),null);case 4:return gi(),Du(t,i),t===null&&vs(i.stateNode.containerInfo),wt(i),null;case 10:return lu(i.type._context),wt(i),null;case 17:return Pt(i.type)&&Bo(),wt(i),null;case 19:if(Ve(Je),f=i.memoizedState,f===null)return wt(i),null;if(u=(i.flags&128)!==0,v=f.rendering,v===null)if(u)Cs(f,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=Xo(t),v!==null){for(i.flags|=128,Cs(f,!1),u=v.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=a,a=i.child;a!==null;)f=a,t=u,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,t=v.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return $e(Je,Je.current&1|2),i.child}t=t.sibling}f.tail!==null&&nt()>wi&&(i.flags|=128,u=!0,Cs(f,!1),i.lanes=4194304)}else{if(!u)if(t=Xo(v),t!==null){if(i.flags|=128,u=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Cs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Ke)return wt(i),null}else 2*nt()-f.renderingStartTime>wi&&a!==1073741824&&(i.flags|=128,u=!0,Cs(f,!1),i.lanes=4194304);f.isBackwards?(v.sibling=i.child,i.child=v):(a=f.last,a!==null?a.sibling=v:i.child=v,f.last=v)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=nt(),i.sibling=null,a=Je.current,$e(Je,u?a&1|2:a&1),i):(wt(i),null);case 22:case 23:return Ku(),u=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(Ft&1073741824)!==0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function f_(t,i){switch(nu(i),i.tag){case 1:return Pt(i.type)&&Bo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return gi(),Ve(Ct),Ve(yt),mu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return fu(i),null;case 13:if(Ve(Je),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));hi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ve(Je),null;case 4:return gi(),null;case 10:return lu(i.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var aa=!1,Et=!1,p_=typeof WeakSet=="function"?WeakSet:Set,X=null;function yi(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Xe(t,i,u)}else a.current=null}function Lu(t,i,a){try{a()}catch(u){Xe(t,i,u)}}var Kf=!1;function m_(t,i){if(Kl=Ro,t=kh(),$l(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,E=-1,S=-1,x=0,$=0,F=t,M=null;t:for(;;){for(var Q;F!==a||d!==0&&F.nodeType!==3||(E=v+d),F!==f||u!==0&&F.nodeType!==3||(S=v+u),F.nodeType===3&&(v+=F.nodeValue.length),(Q=F.firstChild)!==null;)M=F,F=Q;for(;;){if(F===t)break t;if(M===a&&++x===d&&(E=v),M===f&&++$===u&&(S=v),(Q=F.nextSibling)!==null)break;F=M,M=F.parentNode}F=Q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gl={focusedElem:t,selectionRange:a},Ro=!1,X=i;X!==null;)if(i=X,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,X=t;else for(;X!==null;){i=X;try{var Z=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,rt=Z.memoizedState,A=i.stateNode,k=A.getSnapshotBeforeUpdate(i.elementType===i.type?te:nn(i.type,te),rt);A.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(H){Xe(i,i.return,H)}if(t=i.sibling,t!==null){t.return=i.return,X=t;break}X=i.return}return Z=Kf,Kf=!1,Z}function Ps(t,i,a){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&Lu(i,a,f)}d=d.next}while(d!==u)}}function la(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var u=a.create;a.destroy=u()}a=a.next}while(a!==i)}}function ju(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function Gf(t){var i=t.alternate;i!==null&&(t.alternate=null,Gf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[pn],delete i[_s],delete i[Xl],delete i[Qy],delete i[Xy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jf(t){return t.tag===5||t.tag===3||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uu(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$o));else if(u!==4&&(t=t.child,t!==null))for(Uu(t,i,a),t=t.sibling;t!==null;)Uu(t,i,a),t=t.sibling}function Mu(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Mu(t,i,a),t=t.sibling;t!==null;)Mu(t,i,a),t=t.sibling}var gt=null,rn=!1;function tr(t,i,a){for(a=a.child;a!==null;)Qf(t,i,a),a=a.sibling}function Qf(t,i,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Eo,a)}catch{}switch(a.tag){case 5:Et||yi(a,i);case 6:var u=gt,d=rn;gt=null,tr(t,i,a),gt=u,rn=d,gt!==null&&(rn?(t=gt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(rn?(t=gt,a=a.stateNode,t.nodeType===8?Ql(t.parentNode,a):t.nodeType===1&&Ql(t,a),ls(t)):Ql(gt,a.stateNode));break;case 4:u=gt,d=rn,gt=a.stateNode.containerInfo,rn=!0,tr(t,i,a),gt=u,rn=d;break;case 0:case 11:case 14:case 15:if(!Et&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&Lu(a,i,v),d=d.next}while(d!==u)}tr(t,i,a);break;case 1:if(!Et&&(yi(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(E){Xe(a,i,E)}tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:a.mode&1?(Et=(u=Et)||a.memoizedState!==null,tr(t,i,a),Et=u):tr(t,i,a);break;default:tr(t,i,a)}}function Xf(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new p_),i.forEach(function(u){var d=k_.bind(null,t,u);a.has(u)||(a.add(u),u.then(d,d))})}}function sn(t,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var f=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 5:gt=E.stateNode,rn=!1;break e;case 3:gt=E.stateNode.containerInfo,rn=!0;break e;case 4:gt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(gt===null)throw Error(n(160));Qf(f,v,d),gt=null,rn=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(x){Xe(d,i,x)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Zf(i,t),i=i.sibling}function Zf(t,i){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(i,t),vn(t),u&4){try{Ps(3,t,t.return),la(3,t)}catch(te){Xe(t,t.return,te)}try{Ps(5,t,t.return)}catch(te){Xe(t,t.return,te)}}break;case 1:sn(i,t),vn(t),u&512&&a!==null&&yi(a,a.return);break;case 5:if(sn(i,t),vn(t),u&512&&a!==null&&yi(a,a.return),t.flags&32){var d=t.stateNode;try{Qr(d,"")}catch(te){Xe(t,t.return,te)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,v=a!==null?a.memoizedProps:f,E=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{E==="input"&&f.type==="radio"&&f.name!=null&&ye(d,f),ml(E,v);var x=ml(E,f);for(v=0;v<S.length;v+=2){var $=S[v],F=S[v+1];$==="style"?Dd(d,F):$==="dangerouslySetInnerHTML"?Sr(d,F):$==="children"?Qr(d,F):j(d,$,F,x)}switch(E){case"input":Qe(d,f);break;case"textarea":Qi(d,f);break;case"select":var M=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?zt(d,!!f.multiple,Q,!1):M!==!!f.multiple&&(f.defaultValue!=null?zt(d,!!f.multiple,f.defaultValue,!0):zt(d,!!f.multiple,f.multiple?[]:"",!1))}d[_s]=f}catch(te){Xe(t,t.return,te)}}break;case 6:if(sn(i,t),vn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(te){Xe(t,t.return,te)}}break;case 3:if(sn(i,t),vn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(i.containerInfo)}catch(te){Xe(t,t.return,te)}break;case 4:sn(i,t),vn(t);break;case 13:sn(i,t),vn(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Bu=nt())),u&4&&Xf(t);break;case 22:if($=a!==null&&a.memoizedState!==null,t.mode&1?(Et=(x=Et)||$,sn(i,t),Et=x):sn(i,t),vn(t),u&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!$&&(t.mode&1)!==0)for(X=t,$=t.child;$!==null;){for(F=X=$;X!==null;){switch(M=X,Q=M.child,M.tag){case 0:case 11:case 14:case 15:Ps(4,M,M.return);break;case 1:yi(M,M.return);var Z=M.stateNode;if(typeof Z.componentWillUnmount=="function"){u=M,a=M.return;try{i=u,Z.props=i.memoizedProps,Z.state=i.memoizedState,Z.componentWillUnmount()}catch(te){Xe(u,a,te)}}break;case 5:yi(M,M.return);break;case 22:if(M.memoizedState!==null){np(F);continue}}Q!==null?(Q.return=M,X=Q):np(F)}$=$.sibling}e:for($=null,F=t;;){if(F.tag===5){if($===null){$=F;try{d=F.stateNode,x?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(E=F.stateNode,S=F.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,E.style.display=Nd("display",v))}catch(te){Xe(t,t.return,te)}}}else if(F.tag===6){if($===null)try{F.stateNode.nodeValue=x?"":F.memoizedProps}catch(te){Xe(t,t.return,te)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===t)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===t)break e;for(;F.sibling===null;){if(F.return===null||F.return===t)break e;$===F&&($=null),F=F.return}$===F&&($=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:sn(i,t),vn(t),u&4&&Xf(t);break;case 21:break;default:sn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(Jf(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Qr(d,""),u.flags&=-33);var f=Yf(t);Mu(t,f,d);break;case 3:case 4:var v=u.stateNode.containerInfo,E=Yf(t);Uu(t,E,v);break;default:throw Error(n(161))}}catch(S){Xe(t,t.return,S)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g_(t,i,a){X=t,ep(t)}function ep(t,i,a){for(var u=(t.mode&1)!==0;X!==null;){var d=X,f=d.child;if(d.tag===22&&u){var v=d.memoizedState!==null||aa;if(!v){var E=d.alternate,S=E!==null&&E.memoizedState!==null||Et;E=aa;var x=Et;if(aa=v,(Et=S)&&!x)for(X=d;X!==null;)v=X,S=v.child,v.tag===22&&v.memoizedState!==null?rp(d):S!==null?(S.return=v,X=S):rp(d);for(;f!==null;)X=f,ep(f),f=f.sibling;X=d,aa=E,Et=x}tp(t)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,X=f):tp(t)}}function tp(t){for(;X!==null;){var i=X;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Et||la(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!Et)if(a===null)u.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:nn(i.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&tf(i,f,u);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}tf(i,v,a)}break;case 5:var E=i.stateNode;if(a===null&&i.flags&4){a=E;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var x=i.alternate;if(x!==null){var $=x.memoizedState;if($!==null){var F=$.dehydrated;F!==null&&ls(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Et||i.flags&512&&ju(i)}catch(M){Xe(i,i.return,M)}}if(i===t){X=null;break}if(a=i.sibling,a!==null){a.return=i.return,X=a;break}X=i.return}}function np(t){for(;X!==null;){var i=X;if(i===t){X=null;break}var a=i.sibling;if(a!==null){a.return=i.return,X=a;break}X=i.return}}function rp(t){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{la(4,i)}catch(S){Xe(i,a,S)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(S){Xe(i,d,S)}}var f=i.return;try{ju(i)}catch(S){Xe(i,f,S)}break;case 5:var v=i.return;try{ju(i)}catch(S){Xe(i,v,S)}}}catch(S){Xe(i,i.return,S)}if(i===t){X=null;break}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break}X=i.return}}var v_=Math.ceil,ua=B.ReactCurrentDispatcher,$u=B.ReactCurrentOwner,Kt=B.ReactCurrentBatchConfig,we=0,ht=null,it=null,vt=0,Ft=0,_i=Yn(0),ut=0,Os=null,Or=0,ca=0,Fu=0,xs=null,xt=null,Bu=0,wi=1/0,Rn=null,da=!1,zu=null,nr=null,ha=!1,rr=null,fa=0,Ns=0,Vu=null,pa=-1,ma=0;function Tt(){return(we&6)!==0?nt():pa!==-1?pa:pa=nt()}function ir(t){return(t.mode&1)===0?1:(we&2)!==0&&vt!==0?vt&-vt:e_.transition!==null?(ma===0&&(ma=Jd()),ma):(t=Re,t!==0||(t=window.event,t=t===void 0?16:ih(t.type)),t)}function on(t,i,a,u){if(50<Ns)throw Ns=0,Vu=null,Error(n(185));rs(t,a,u),((we&2)===0||t!==ht)&&(t===ht&&((we&2)===0&&(ca|=a),ut===4&&sr(t,vt)),Nt(t,u),a===1&&we===0&&(i.mode&1)===0&&(wi=nt()+500,Vo&&Xn()))}function Nt(t,i){var a=t.callbackNode;ey(t,i);var u=ko(t,t===ht?vt:0);if(u===0)a!==null&&qd(a),t.callbackNode=null,t.callbackPriority=0;else if(i=u&-u,t.callbackPriority!==i){if(a!=null&&qd(a),i===1)t.tag===0?Zy(sp.bind(null,t)):Vh(sp.bind(null,t)),Jy(function(){(we&6)===0&&Xn()}),a=null;else{switch(Yd(u)){case 1:a=Sl;break;case 4:a=Kd;break;case 16:a=wo;break;case 536870912:a=Gd;break;default:a=wo}a=fp(a,ip.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function ip(t,i){if(pa=-1,ma=0,(we&6)!==0)throw Error(n(327));var a=t.callbackNode;if(Ei()&&t.callbackNode!==a)return null;var u=ko(t,t===ht?vt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||i)i=ga(t,u);else{i=u;var d=we;we|=2;var f=ap();(ht!==t||vt!==i)&&(Rn=null,wi=nt()+500,Nr(t,i));do try{w_();break}catch(E){op(t,E)}while(!0);au(),ua.current=f,we=d,it!==null?i=0:(ht=null,vt=0,i=ut)}if(i!==0){if(i===2&&(d=Il(t),d!==0&&(u=d,i=Hu(t,d))),i===1)throw a=Os,Nr(t,0),sr(t,u),Nt(t,nt()),a;if(i===6)sr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!y_(d)&&(i=ga(t,u),i===2&&(f=Il(t),f!==0&&(u=f,i=Hu(t,f))),i===1))throw a=Os,Nr(t,0),sr(t,u),Nt(t,nt()),a;switch(t.finishedWork=d,t.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:Dr(t,xt,Rn);break;case 3:if(sr(t,u),(u&130023424)===u&&(i=Bu+500-nt(),10<i)){if(ko(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){Tt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Yl(Dr.bind(null,t,xt,Rn),i);break}Dr(t,xt,Rn);break;case 4:if(sr(t,u),(u&4194240)===u)break;for(i=t.eventTimes,d=-1;0<u;){var v=31-Zt(u);f=1<<v,v=i[v],v>d&&(d=v),u&=~f}if(u=d,u=nt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*v_(u/1960))-u,10<u){t.timeoutHandle=Yl(Dr.bind(null,t,xt,Rn),u);break}Dr(t,xt,Rn);break;case 5:Dr(t,xt,Rn);break;default:throw Error(n(329))}}}return Nt(t,nt()),t.callbackNode===a?ip.bind(null,t):null}function Hu(t,i){var a=xs;return t.current.memoizedState.isDehydrated&&(Nr(t,i).flags|=256),t=ga(t,i),t!==2&&(i=xt,xt=a,i!==null&&Wu(i)),t}function Wu(t){xt===null?xt=t:xt.push.apply(xt,t)}function y_(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],f=d.getSnapshot;d=d.value;try{if(!en(f(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(t,i){for(i&=~Fu,i&=~ca,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-Zt(i),u=1<<a;t[a]=-1,i&=~u}}function sp(t){if((we&6)!==0)throw Error(n(327));Ei();var i=ko(t,0);if((i&1)===0)return Nt(t,nt()),null;var a=ga(t,i);if(t.tag!==0&&a===2){var u=Il(t);u!==0&&(i=u,a=Hu(t,u))}if(a===1)throw a=Os,Nr(t,0),sr(t,i),Nt(t,nt()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Dr(t,xt,Rn),Nt(t,nt()),null}function qu(t,i){var a=we;we|=1;try{return t(i)}finally{we=a,we===0&&(wi=nt()+500,Vo&&Xn())}}function xr(t){rr!==null&&rr.tag===0&&(we&6)===0&&Ei();var i=we;we|=1;var a=Kt.transition,u=Re;try{if(Kt.transition=null,Re=1,t)return t()}finally{Re=u,Kt.transition=a,we=i,(we&6)===0&&Xn()}}function Ku(){Ft=_i.current,Ve(_i)}function Nr(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Gy(a)),it!==null)for(a=it.return;a!==null;){var u=a;switch(nu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Bo();break;case 3:gi(),Ve(Ct),Ve(yt),mu();break;case 5:fu(u);break;case 4:gi();break;case 13:Ve(Je);break;case 19:Ve(Je);break;case 10:lu(u.type._context);break;case 22:case 23:Ku()}a=a.return}if(ht=t,it=t=or(t.current,null),vt=Ft=i,ut=0,Os=null,Fu=ca=Or=0,xt=xs=null,Ar!==null){for(i=0;i<Ar.length;i++)if(a=Ar[i],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,f=a.pending;if(f!==null){var v=f.next;f.next=d,u.next=v}a.pending=u}Ar=null}return t}function op(t,i){do{var a=it;try{if(au(),Zo.current=ra,ea){for(var u=Ye.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}ea=!1}if(Pr=0,dt=lt=Ye=null,Ts=!1,bs=0,$u.current=null,a===null||a.return===null){ut=1,Os=i,it=null;break}e:{var f=t,v=a.return,E=a,S=i;if(i=vt,E.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var x=S,$=E,F=$.tag;if(($.mode&1)===0&&(F===0||F===11||F===15)){var M=$.alternate;M?($.updateQueue=M.updateQueue,$.memoizedState=M.memoizedState,$.lanes=M.lanes):($.updateQueue=null,$.memoizedState=null)}var Q=Of(v);if(Q!==null){Q.flags&=-257,xf(Q,v,E,f,i),Q.mode&1&&Pf(f,x,i),i=Q,S=x;var Z=i.updateQueue;if(Z===null){var te=new Set;te.add(S),i.updateQueue=te}else Z.add(S);break e}else{if((i&1)===0){Pf(f,x,i),Gu();break e}S=Error(n(426))}}else if(Ke&&E.mode&1){var rt=Of(v);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),xf(rt,v,E,f,i),su(vi(S,E));break e}}f=S=vi(S,E),ut!==4&&(ut=2),xs===null?xs=[f]:xs.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var A=Af(f,S,i);ef(f,A);break e;case 1:E=S;var k=f.type,P=f.stateNode;if((f.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(nr===null||!nr.has(P)))){f.flags|=65536,i&=-i,f.lanes|=i;var H=Cf(f,E,i);ef(f,H);break e}}f=f.return}while(f!==null)}up(a)}catch(ne){i=ne,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function ap(){var t=ua.current;return ua.current=ra,t===null?ra:t}function Gu(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||(Or&268435455)===0&&(ca&268435455)===0||sr(ht,vt)}function ga(t,i){var a=we;we|=2;var u=ap();(ht!==t||vt!==i)&&(Rn=null,Nr(t,i));do try{__();break}catch(d){op(t,d)}while(!0);if(au(),we=a,ua.current=u,it!==null)throw Error(n(261));return ht=null,vt=0,ut}function __(){for(;it!==null;)lp(it)}function w_(){for(;it!==null&&!Wv();)lp(it)}function lp(t){var i=hp(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,i===null?up(t):it=i,$u.current=null}function up(t){var i=t;do{var a=i.alternate;if(t=i.return,(i.flags&32768)===0){if(a=h_(a,i,Ft),a!==null){it=a;return}}else{if(a=f_(a,i),a!==null){a.flags&=32767,it=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}if(i=i.sibling,i!==null){it=i;return}it=i=t}while(i!==null);ut===0&&(ut=5)}function Dr(t,i,a){var u=Re,d=Kt.transition;try{Kt.transition=null,Re=1,E_(t,i,a,u)}finally{Kt.transition=d,Re=u}return null}function E_(t,i,a,u){do Ei();while(rr!==null);if((we&6)!==0)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=a.lanes|a.childLanes;if(ty(t,f),t===ht&&(it=ht=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ha||(ha=!0,fp(wo,function(){return Ei(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=Kt.transition,Kt.transition=null;var v=Re;Re=1;var E=we;we|=4,$u.current=null,m_(t,a),Zf(a,t),By(Gl),Ro=!!Kl,Gl=Kl=null,t.current=a,g_(a),qv(),we=E,Re=v,Kt.transition=f}else t.current=a;if(ha&&(ha=!1,rr=t,fa=d),f=t.pendingLanes,f===0&&(nr=null),Jv(a.stateNode),Nt(t,nt()),i!==null)for(u=t.onRecoverableError,a=0;a<i.length;a++)d=i[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(da)throw da=!1,t=zu,zu=null,t;return(fa&1)!==0&&t.tag!==0&&Ei(),f=t.pendingLanes,(f&1)!==0?t===Vu?Ns++:(Ns=0,Vu=t):Ns=0,Xn(),null}function Ei(){if(rr!==null){var t=Yd(fa),i=Kt.transition,a=Re;try{if(Kt.transition=null,Re=16>t?16:t,rr===null)var u=!1;else{if(t=rr,rr=null,fa=0,(we&6)!==0)throw Error(n(331));var d=we;for(we|=4,X=t.current;X!==null;){var f=X,v=f.child;if((X.flags&16)!==0){var E=f.deletions;if(E!==null){for(var S=0;S<E.length;S++){var x=E[S];for(X=x;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:Ps(8,$,f)}var F=$.child;if(F!==null)F.return=$,X=F;else for(;X!==null;){$=X;var M=$.sibling,Q=$.return;if(Gf($),$===x){X=null;break}if(M!==null){M.return=Q,X=M;break}X=Q}}}var Z=f.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var rt=te.sibling;te.sibling=null,te=rt}while(te!==null)}}X=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,X=v;else e:for(;X!==null;){if(f=X,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ps(9,f,f.return)}var A=f.sibling;if(A!==null){A.return=f.return,X=A;break e}X=f.return}}var k=t.current;for(X=k;X!==null;){v=X;var P=v.child;if((v.subtreeFlags&2064)!==0&&P!==null)P.return=v,X=P;else e:for(v=k;X!==null;){if(E=X,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:la(9,E)}}catch(ne){Xe(E,E.return,ne)}if(E===v){X=null;break e}var H=E.sibling;if(H!==null){H.return=E.return,X=H;break e}X=E.return}}if(we=d,Xn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Eo,t)}catch{}u=!0}return u}finally{Re=a,Kt.transition=i}}return!1}function cp(t,i,a){i=vi(a,i),i=Af(t,i,1),t=er(t,i,1),i=Tt(),t!==null&&(rs(t,1,i),Nt(t,i))}function Xe(t,i,a){if(t.tag===3)cp(t,t,a);else for(;i!==null;){if(i.tag===3){cp(i,t,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){t=vi(a,t),t=Cf(i,t,1),i=er(i,t,1),t=Tt(),i!==null&&(rs(i,1,t),Nt(i,t));break}}i=i.return}}function S_(t,i,a){var u=t.pingCache;u!==null&&u.delete(i),i=Tt(),t.pingedLanes|=t.suspendedLanes&a,ht===t&&(vt&a)===a&&(ut===4||ut===3&&(vt&130023424)===vt&&500>nt()-Bu?Nr(t,0):Fu|=a),Nt(t,i)}function dp(t,i){i===0&&((t.mode&1)===0?i=1:(i=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var a=Tt();t=kn(t,i),t!==null&&(rs(t,i,a),Nt(t,a))}function I_(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dp(t,a)}function k_(t,i){var a=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),dp(t,a)}var hp;hp=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Ct.current)Ot=!0;else{if((t.lanes&a)===0&&(i.flags&128)===0)return Ot=!1,d_(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Ke&&(i.flags&1048576)!==0&&Hh(i,Wo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;oa(t,i),t=i.pendingProps;var d=ui(i,yt.current);mi(i,a),d=yu(null,i,u,t,d,a);var f=_u();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pt(u)?(f=!0,zo(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,du(i),d.updater=ia,i.stateNode=d,d._reactInternals=i,Tu(i,u,t,a),i=Cu(null,i,u,!0,f,a)):(i.tag=0,Ke&&f&&tu(i),kt(null,i,d,a),i=i.child),i;case 16:u=i.elementType;e:{switch(oa(t,i),t=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=b_(u),t=nn(u,t),d){case 0:i=Au(null,i,u,t,a);break e;case 1:i=Mf(null,i,u,t,a);break e;case 11:i=Nf(null,i,u,t,a);break e;case 14:i=Df(null,i,u,nn(u.type,t),a);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:nn(u,d),Au(t,i,u,d,a);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:nn(u,d),Mf(t,i,u,d,a);case 3:e:{if($f(i),t===null)throw Error(n(387));u=i.pendingProps,f=i.memoizedState,d=f.element,Zh(t,i),Qo(i,u,null,a);var v=i.memoizedState;if(u=v.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=vi(Error(n(423)),i),i=Ff(t,i,u,a,d);break e}else if(u!==d){d=vi(Error(n(424)),i),i=Ff(t,i,u,a,d);break e}else for($t=Jn(i.stateNode.containerInfo.firstChild),Mt=i,Ke=!0,tn=null,a=Qh(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hi(),u===d){i=bn(t,i,a);break e}kt(t,i,u,a)}i=i.child}return i;case 5:return nf(i),t===null&&iu(i),u=i.type,d=i.pendingProps,f=t!==null?t.memoizedProps:null,v=d.children,Jl(u,d)?v=null:f!==null&&Jl(u,f)&&(i.flags|=32),Uf(t,i),kt(t,i,v,a),i.child;case 6:return t===null&&iu(i),null;case 13:return Bf(t,i,a);case 4:return hu(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=fi(i,null,u,a):kt(t,i,u,a),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:nn(u,d),Nf(t,i,u,d,a);case 7:return kt(t,i,i.pendingProps,a),i.child;case 8:return kt(t,i,i.pendingProps.children,a),i.child;case 12:return kt(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,f=i.memoizedProps,v=d.value,$e(Go,u._currentValue),u._currentValue=v,f!==null)if(en(f.value,v)){if(f.children===d.children&&!Ct.current){i=bn(t,i,a);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var E=f.dependencies;if(E!==null){v=f.child;for(var S=E.firstContext;S!==null;){if(S.context===u){if(f.tag===1){S=Tn(-1,a&-a),S.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var $=x.pending;$===null?S.next=S:(S.next=$.next,$.next=S),x.pending=S}}f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),uu(f.return,a,i),E.lanes|=a;break}S=S.next}}else if(f.tag===10)v=f.type===i.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=a,E=v.alternate,E!==null&&(E.lanes|=a),uu(v,a,i),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}kt(t,i,d.children,a),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,mi(i,a),d=Wt(d),u=u(d),i.flags|=1,kt(t,i,u,a),i.child;case 14:return u=i.type,d=nn(u,i.pendingProps),d=nn(u.type,d),Df(t,i,u,d,a);case 15:return Lf(t,i,i.type,i.pendingProps,a);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:nn(u,d),oa(t,i),i.tag=1,Pt(u)?(t=!0,zo(i)):t=!1,mi(i,a),bf(i,u,d),Tu(i,u,d,a),Cu(null,i,u,!0,t,a);case 19:return Vf(t,i,a);case 22:return jf(t,i,a)}throw Error(n(156,i.tag))};function fp(t,i){return Wd(t,i)}function T_(t,i,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,i,a,u){return new T_(t,i,a,u)}function Ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b_(t){if(typeof t=="function")return Ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===de)return 11;if(t===Be)return 14}return 2}function or(t,i){var a=t.alternate;return a===null?(a=Gt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function va(t,i,a,u,d,f){var v=2;if(u=t,typeof t=="function")Ju(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case ee:return Lr(a.children,d,f,i);case ie:v=8,d|=8;break;case L:return t=Gt(12,a,i,d|2),t.elementType=L,t.lanes=f,t;case Ee:return t=Gt(13,a,i,d),t.elementType=Ee,t.lanes=f,t;case Le:return t=Gt(19,a,i,d),t.elementType=Le,t.lanes=f,t;case je:return ya(a,d,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case oe:v=9;break e;case de:v=11;break e;case Be:v=14;break e;case qe:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=Gt(v,a,i,d),i.elementType=t,i.type=u,i.lanes=f,i}function Lr(t,i,a,u){return t=Gt(7,t,u,i),t.lanes=a,t}function ya(t,i,a,u){return t=Gt(22,t,u,i),t.elementType=je,t.lanes=a,t.stateNode={isHidden:!1},t}function Yu(t,i,a){return t=Gt(6,t,null,i),t.lanes=a,t}function Qu(t,i,a){return i=Gt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function R_(t,i,a,u,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Xu(t,i,a,u,d,f,v,E,S){return t=new R_(t,i,a,E,S),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Gt(3,null,null,i),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(f),t}function A_(t,i,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:t,containerInfo:i,implementation:a}}function pp(t){if(!t)return Qn;t=t._reactInternals;e:{if(Ir(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Pt(a))return Bh(t,a,i)}return i}function mp(t,i,a,u,d,f,v,E,S){return t=Xu(a,u,!0,t,d,f,v,E,S),t.context=pp(null),a=t.current,u=Tt(),d=ir(a),f=Tn(u,d),f.callback=i??null,er(a,f,d),t.current.lanes=d,rs(t,d,u),Nt(t,u),t}function _a(t,i,a,u){var d=i.current,f=Tt(),v=ir(d);return a=pp(a),i.context===null?i.context=a:i.pendingContext=a,i=Tn(f,v),i.payload={element:t},u=u===void 0?null:u,u!==null&&(i.callback=u),t=er(d,i,v),t!==null&&(on(t,d,v,f),Yo(t,d,v)),v}function wa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zu(t,i){gp(t,i),(t=t.alternate)&&gp(t,i)}function C_(){return null}var vp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ec(t){this._internalRoot=t}Ea.prototype.render=ec.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));_a(t,i,null,null)},Ea.prototype.unmount=ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;xr(function(){_a(null,t,null,null)}),i[wn]=null}};function Ea(t){this._internalRoot=t}Ea.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qn.length&&i!==0&&i<qn[a].priority;a++);qn.splice(a,0,t),a===0&&nh(t)}};function tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yp(){}function P_(t,i,a,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var x=wa(v);f.call(x)}}var v=mp(i,u,t,0,null,!1,!1,"",yp);return t._reactRootContainer=v,t[wn]=v.current,vs(t.nodeType===8?t.parentNode:t),xr(),v}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var E=u;u=function(){var x=wa(S);E.call(x)}}var S=Xu(t,0,!1,null,null,!1,!1,"",yp);return t._reactRootContainer=S,t[wn]=S.current,vs(t.nodeType===8?t.parentNode:t),xr(function(){_a(i,S,a,u)}),S}function Ia(t,i,a,u,d){var f=a._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var E=d;d=function(){var S=wa(v);E.call(S)}}_a(i,v,t,d)}else v=P_(a,i,t,d,u);return wa(v)}Qd=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=ns(i.pendingLanes);a!==0&&(Tl(i,a|1),Nt(i,nt()),(we&6)===0&&(wi=nt()+500,Xn()))}break;case 13:xr(function(){var u=kn(t,1);if(u!==null){var d=Tt();on(u,t,1,d)}}),Zu(t,1)}},bl=function(t){if(t.tag===13){var i=kn(t,134217728);if(i!==null){var a=Tt();on(i,t,134217728,a)}Zu(t,134217728)}},Xd=function(t){if(t.tag===13){var i=ir(t),a=kn(t,i);if(a!==null){var u=Tt();on(a,t,i,u)}Zu(t,i)}},Zd=function(){return Re},eh=function(t,i){var a=Re;try{return Re=t,i()}finally{Re=a}},yl=function(t,i,a){switch(i){case"input":if(Qe(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==t&&u.form===t.form){var d=Fo(u);if(!d)throw Error(n(90));q(u),Qe(u,d)}}}break;case"textarea":Qi(t,a);break;case"select":i=a.value,i!=null&&zt(t,!!a.multiple,i,!1)}},Md=qu,$d=xr;var O_={usingClientEntryPoint:!1,Events:[ws,ai,Fo,jd,Ud,qu]},Ds={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x_={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||C_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Eo=ka.inject(x_),fn=ka}catch{}}return Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O_,Dt.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(i))throw Error(n(200));return A_(t,i,null,a)},Dt.createRoot=function(t,i){if(!tc(t))throw Error(n(299));var a=!1,u="",d=vp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Xu(t,1,!1,null,null,a,!1,u,d),t[wn]=i.current,vs(t.nodeType===8?t.parentNode:t),new ec(i)},Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Vd(i),t=t===null?null:t.stateNode,t},Dt.flushSync=function(t){return xr(t)},Dt.hydrate=function(t,i,a){if(!Sa(i))throw Error(n(200));return Ia(null,t,i,!0,a)},Dt.hydrateRoot=function(t,i,a){if(!tc(t))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,d=!1,f="",v=vp;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=mp(i,null,t,1,a??null,d,!1,f,v),t[wn]=i.current,vs(t),u)for(t=0;t<u.length;t++)a=u[t],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Ea(i)},Dt.render=function(t,i,a){if(!Sa(i))throw Error(n(200));return Ia(null,t,i,!1,a)},Dt.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(n(40));return t._reactRootContainer?(xr(function(){Ia(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1},Dt.unstable_batchedUpdates=qu,Dt.unstable_renderSubtreeIntoContainer=function(t,i,a,u){if(!Sa(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ia(t,i,a,!1,u)},Dt.version="18.3.1-next-f1338f8080-20240426",Dt}var Rp;function Km(){if(Rp)return ic.exports;Rp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ic.exports=F_(),ic.exports}var Ap;function B_(){if(Ap)return Ta;Ap=1;var r=Km();return Ta.createRoot=r.createRoot,Ta.hydrateRoot=r.hydrateRoot,Ta}var z_=B_();(function(){if(typeof window>"u"||typeof document>"u")return;function e(){try{Array.from(document.querySelectorAll("div[id]")).forEach(o=>{if(o.hasAttribute("role")||o.hasAttribute("aria-labelledby"))return;const l=o.querySelector("h1, h2, h3, h4, h5, h6");if(l){if(!l.id){const c=o.id||"region";let h=`${c}-heading`,p=1;for(;document.getElementById(h);)h=`${c}-heading-${p++}`;l.id=h}o.setAttribute("role","region"),o.setAttribute("aria-labelledby",l.id)}})}catch(s){console.warn("addRegionRoles: failed to apply roles",s)}}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(e,0):window.addEventListener("DOMContentLoaded",()=>setTimeout(e,0));const n=history.pushState;history.pushState=function(){n.apply(this,arguments),setTimeout(e,60)},window.addEventListener("popstate",()=>setTimeout(e,60))})();const V_="modulepreload",H_=function(r,e){return new URL(r,e).href},Cp={},Ce=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=m(n.map(g=>{if(g=H_(g,s),g in Cp)return;Cp[g]=!0;const _=g.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(s)for(let N=c.length-1;N>=0;N--){const C=c[N];if(C.href===g&&(!_||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${w}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":V_,_||(T.as="script"),T.crossOrigin="",T.href=g,p&&T.setAttribute("nonce",p),document.head.appendChild(T),_)return new Promise((N,C)=>{T.addEventListener("load",N),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pp="popstate";function W_(r={}){function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=qr(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Pc("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:Js(l))}function s(o,l){Jt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return K_(e,n,s,r)}function Ge(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q_(){return Math.random().toString(36).substring(2,10)}function Op(r,e){return{usr:r.state,key:r.key,idx:e}}function Pc(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qr(e):e,state:n,key:e&&e.key||s||q_()}}function Js({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qr(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function K_(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,h="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function _(){h="POP";let R=g(),O=R==null?null:R-m;m=R,p&&p({action:h,location:C.location,delta:O})}function w(R,O){h="PUSH";let D=Pc(C.location,R,O);n&&n(D,R),m=g()+1;let j=Op(D,m),B=C.createHref(D);try{c.pushState(j,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(B)}l&&p&&p({action:h,location:C.location,delta:1})}function T(R,O){h="REPLACE";let D=Pc(C.location,R,O);n&&n(D,R),m=g();let j=Op(D,m),B=C.createHref(D);c.replaceState(j,"",B),l&&p&&p({action:h,location:C.location,delta:0})}function N(R){return G_(R)}let C={get action(){return h},get location(){return r(o,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Pp,_),p=R,()=>{o.removeEventListener(Pp,_),p=null}},createHref(R){return e(o,R)},createURL:N,encodeLocation(R){let O=N(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:T,go(R){return c.go(R)}};return C}function G_(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Js(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Gm(r,e,n="/"){return J_(r,e,n,!1)}function J_(r,e,n,s){let o=typeof e=="string"?qr(e):e,l=Ln(o.pathname||"/",n);if(l==null)return null;let c=Jm(r);Y_(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=aw(l);h=sw(c[p],m,s)}return h}function Jm(r,e=[],n=[],s="",o=!1){let l=(c,h,p=o,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&p)return;Ge(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let _=xn([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Jm(c.children,e,w,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:rw(_,c.index),routesMeta:w})};return r.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let p of Ym(c.path))l(c,h,!0,p)}),e}function Ym(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Ym(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function Y_(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:iw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Q_=/^:[\w-]+$/,X_=3,Z_=2,ew=1,tw=10,nw=-2,xp=r=>r==="*";function rw(r,e){let n=r.split("/"),s=n.length;return n.some(xp)&&(s+=nw),e&&(s+=Z_),n.filter(o=>!xp(o)).reduce((o,l)=>o+(Q_.test(l)?X_:l===""?ew:tw),s)}function iw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function sw(r,e,n=!1){let{routesMeta:s}=r,o={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",_=Va({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),w=p.route;if(!_&&m&&n&&!s[s.length-1].route.index&&(_=Va({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:xn([l,_.pathname]),pathnameBase:dw(xn([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=xn([l,_.pathnameBase]))}return c}function Va(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ow(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:_},w)=>{if(g==="*"){let N=h[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[w];return _&&!T?m[g]=void 0:m[g]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:r}}function ow(r,e=!1,n=!0){Jt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ln(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function lw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?qr(r):r;return{pathname:n?n.startsWith("/")?n:uw(n,e):e,search:hw(s),hash:fw(o)}}function uw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ac(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xc(r){let e=cw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Zc(r,e,n,s=!1){let o;typeof r=="string"?o=qr(r):(o={...r},Ge(!o.pathname||!o.pathname.includes("?"),ac("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),ac("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),ac("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?e[_]:"/"}let p=lw(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var xn=r=>r.join("/").replace(/\/\/+/g,"/"),dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function pw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Qm=["POST","PUT","PATCH","DELETE"];new Set(Qm);var mw=["GET",...Qm];new Set(mw);var Wi=I.createContext(null);Wi.displayName="DataRouter";var rl=I.createContext(null);rl.displayName="DataRouterState";I.createContext(!1);var Xm=I.createContext({isTransitioning:!1});Xm.displayName="ViewTransition";var gw=I.createContext(new Map);gw.displayName="Fetchers";var vw=I.createContext(null);vw.displayName="Await";var dn=I.createContext(null);dn.displayName="Navigation";var so=I.createContext(null);so.displayName="Location";var hn=I.createContext({outlet:null,matches:[],isDataRoute:!1});hn.displayName="Route";var ed=I.createContext(null);ed.displayName="RouteError";function yw(r,{relative:e}={}){Ge(qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(dn),{hash:o,pathname:l,search:c}=oo(r,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:xn([n,l])),s.createHref({pathname:h,search:c,hash:o})}function qi(){return I.useContext(so)!=null}function yr(){return Ge(qi(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(so).location}var Zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eg(r){I.useContext(dn).static||I.useLayoutEffect(r)}function Kr(){let{isDataRoute:r}=I.useContext(hn);return r?Ow():_w()}function _w(){Ge(qi(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(Wi),{basename:e,navigator:n}=I.useContext(dn),{matches:s}=I.useContext(hn),{pathname:o}=yr(),l=JSON.stringify(Xc(s)),c=I.useRef(!1);return eg(()=>{c.current=!0}),I.useCallback((p,m={})=>{if(Jt(c.current,Zm),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=Zc(p,JSON.parse(l),o,m.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:xn([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,o,r])}I.createContext(null);function vA(){let{matches:r}=I.useContext(hn),e=r[r.length-1];return e?e.params:{}}function oo(r,{relative:e}={}){let{matches:n}=I.useContext(hn),{pathname:s}=yr(),o=JSON.stringify(Xc(n));return I.useMemo(()=>Zc(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ww(r,e){return tg(r,e)}function tg(r,e,n,s,o){Ge(qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(dn),{matches:c}=I.useContext(hn),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let D=_&&_.path||"";ng(m,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=yr(),T;if(e){let D=typeof e=="string"?qr(e):e;Ge(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),T=D}else T=w;let N=T.pathname||"/",C=N;if(g!=="/"){let D=g.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=Gm(r,{pathname:C});Jt(_||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Jt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Tw(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:xn([g,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:xn([g,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,n,s,o);return e&&O?I.createElement(so.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function Ew(){let r=Pw(),e=pw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,c)}var Sw=I.createElement(Ew,null),Iw=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?I.createElement(hn.Provider,{value:this.props.routeContext},I.createElement(ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kw({routeContext:r,match:e,children:n}){let s=I.useContext(Wi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(hn.Provider,{value:r},n)}function Tw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,c=n?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ge(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:_,errors:w}=n,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,g,_)=>{let w,T=!1,N=null,C=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||Sw,h&&(p<0&&_===0?(ng("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):p===_&&(T=!0,C=g.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,_+1)),O=()=>{let D;return w?D=N:T?D=C:g.route.Component?D=I.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=m,I.createElement(kw,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:D})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?I.createElement(Iw,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:s}):O()},null)}function td(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(r){let e=I.useContext(Wi);return Ge(e,td(r)),e}function Rw(r){let e=I.useContext(rl);return Ge(e,td(r)),e}function Aw(r){let e=I.useContext(hn);return Ge(e,td(r)),e}function nd(r){let e=Aw(r),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Cw(){return nd("useRouteId")}function Pw(){let r=I.useContext(ed),e=Rw("useRouteError"),n=nd("useRouteError");return r!==void 0?r:e.errors?.[n]}function Ow(){let{router:r}=bw("useNavigate"),e=nd("useNavigate"),n=I.useRef(!1);return eg(()=>{n.current=!0}),I.useCallback(async(o,l={})=>{Jt(n.current,Zm),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Np={};function ng(r,e,n){!e&&!Np[r]&&(Np[r]=!0,Jt(!1,n))}I.memo(xw);function xw({routes:r,future:e,state:n,unstable_onError:s}){return tg(r,void 0,n,s,e)}function Ha({to:r,replace:e,state:n,relative:s}){Ge(qi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(dn);Jt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(hn),{pathname:c}=yr(),h=Kr(),p=Zc(r,Xc(l),c,s==="path"),m=JSON.stringify(p);return I.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function be(r){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){Ge(!qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=qr(n));let{pathname:p="/",search:m="",hash:g="",state:_=null,key:w="default"}=n,T=I.useMemo(()=>{let N=Ln(p,c);return N==null?null:{location:{pathname:N,search:m,hash:g,state:_,key:w},navigationType:s}},[c,p,m,g,_,w,s]);return Jt(T!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:I.createElement(dn.Provider,{value:h},I.createElement(so.Provider,{children:e,value:T}))}function Dw({children:r,location:e}){return ww(Oc(r),e)}function Oc(r,e=[]){let n=[];return I.Children.forEach(r,(s,o)=>{if(!I.isValidElement(s))return;let l=[...e,o];if(s.type===I.Fragment){n.push.apply(n,Oc(s.props.children,l));return}Ge(s.type===be,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Oc(s.props.children,l)),n.push(c)}),n}var Na="get",Da="application/x-www-form-urlencoded";function il(r){return r!=null&&typeof r.tagName=="string"}function Lw(r){return il(r)&&r.tagName.toLowerCase()==="button"}function jw(r){return il(r)&&r.tagName.toLowerCase()==="form"}function Uw(r){return il(r)&&r.tagName.toLowerCase()==="input"}function Mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $w(r,e){return r.button===0&&(!e||e==="_self")&&!Mw(r)}var ba=null;function Fw(){if(ba===null)try{new FormData(document.createElement("form"),0),ba=!1}catch{ba=!0}return ba}var Bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lc(r){return r!=null&&!Bw.has(r)?(Jt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):r}function zw(r,e){let n,s,o,l,c;if(jw(r)){let h=r.getAttribute("action");s=h?Ln(h,e):null,n=r.getAttribute("method")||Na,o=lc(r.getAttribute("enctype"))||Da,l=new FormData(r)}else if(Lw(r)||Uw(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(s=p?Ln(p,e):null,n=r.getAttribute("formmethod")||h.getAttribute("method")||Na,o=lc(r.getAttribute("formenctype"))||lc(h.getAttribute("enctype"))||Da,l=new FormData(h,r),!Fw()){let{name:m,type:g,value:_}=r;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,_)}}else{if(il(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Na,s=null,o=Da,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ln(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Hw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ww(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qw(r,e,n){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Hw(l,n);return c.links?c.links():[]}return[]}));return Yw(s.flat(1).filter(Ww).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dp(r,e,n,s,o,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{let g=s.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Kw(r,e,{includeHydrateFallback:n}={}){return Gw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Gw(r){return[...new Set(r)]}function Jw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Yw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(Jw(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function rg(){let r=I.useContext(Wi);return rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=I.useContext(rl);return rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var id=I.createContext(void 0);id.displayName="FrameworkContext";function ig(){let r=I.useContext(id);return rd(r,"You must render this element inside a <HydratedRouter> element"),r}function Xw(r,e){let n=I.useContext(id),[s,o]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:_}=e,w=I.useRef(null);I.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let C=O=>{O.forEach(D=>{c(D.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[r]),I.useEffect(()=>{if(s){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[s]);let T=()=>{o(!0)},N=()=>{o(!1),c(!1)};return n?r!=="intent"?[l,w,{}]:[l,w,{onFocus:js(h,T),onBlur:js(p,N),onMouseEnter:js(m,T),onMouseLeave:js(g,N),onTouchStart:js(_,T)}]:[!1,w,{}]}function js(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Zw({page:r,...e}){let{router:n}=rg(),s=I.useMemo(()=>Gm(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?I.createElement(tE,{page:r,matches:s,...e}):null}function eE(r){let{manifest:e,routeModules:n}=ig(),[s,o]=I.useState([]);return I.useEffect(()=>{let l=!1;return qw(r,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,n]),s}function tE({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:l}=ig(),{basename:c}=rg(),{loaderData:h,matches:p}=Qw(),m=I.useMemo(()=>Dp(r,e,p,o,s,"data"),[r,e,p,o,s]),g=I.useMemo(()=>Dp(r,e,p,o,s,"assets"),[r,e,p,o,s]),_=I.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,C=!1;if(e.forEach(O=>{let D=o.routes[O.route.id];!D||!D.hasLoader||(!m.some(j=>j.route.id===O.route.id)&&O.route.id in h&&l[O.route.id]?.shouldRevalidate||D.hasClientLoader?C=!0:N.add(O.route.id))}),N.size===0)return[];let R=Vw(r,c,"data");return C&&N.size>0&&R.searchParams.set("_routes",e.filter(O=>N.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[c,h,s,o,m,e,r,l]),w=I.useMemo(()=>Kw(g,o),[g,o]),T=eE(g);return I.createElement(I.Fragment,null,_.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),T.map(({key:N,link:C})=>I.createElement("link",{key:N,nonce:n.nonce,...C})))}function nE(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sg&&(window.__reactRouterVersion="7.9.4")}catch{}function rE({basename:r,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=W_({window:n,v5Compat:!0}));let o=s.current,[l,c]=I.useState({action:o.action,location:o.location}),h=I.useCallback(p=>{I.startTransition(()=>c(p))},[c]);return I.useLayoutEffect(()=>o.listen(h),[o,h]),I.createElement(Nw,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sd=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:g,viewTransition:_,...w},T){let{basename:N}=I.useContext(dn),C=typeof m=="string"&&og.test(m),R,O=!1;if(typeof m=="string"&&C&&(R=m,sg))try{let L=new URL(window.location.href),re=m.startsWith("//")?new URL(L.protocol+m):new URL(m),oe=Ln(re.pathname,N);re.origin===L.origin&&oe!=null?m=oe+re.search+re.hash:O=!0}catch{Jt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=yw(m,{relative:o}),[j,B,J]=Xw(s,w),K=aE(m,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:_});function ee(L){e&&e(L),L.defaultPrevented||K(L)}let ie=I.createElement("a",{...w,...J,href:R||D,onClick:O||l?e:ee,ref:nE(T,B),target:p,"data-discover":!C&&n==="render"?"true":void 0});return j&&!C?I.createElement(I.Fragment,null,ie,I.createElement(Zw,{page:D})):ie});sd.displayName="Link";var iE=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...m},g){let _=oo(c,{relative:m.relative}),w=yr(),T=I.useContext(rl),{navigator:N,basename:C}=I.useContext(dn),R=T!=null&&hE(_)&&h===!0,O=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,D=w.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&C&&(j=Ln(j,C)||j);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=D===O||!o&&D.startsWith(O)&&D.charAt(B)==="/",K=j!=null&&(j===O||!o&&j.startsWith(O)&&j.charAt(O.length)==="/"),ee={isActive:J,isPending:K,isTransitioning:R},ie=J?e:void 0,L;typeof s=="function"?L=s(ee):L=[s,J?"active":null,K?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(ee):l;return I.createElement(sd,{...m,"aria-current":ie,className:L,ref:g,style:re,to:c,viewTransition:h},typeof p=="function"?p(ee):p)});iE.displayName="NavLink";var sE=I.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=Na,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:_,...w},T)=>{let N=cE(),C=dE(h,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&og.test(h),D=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let B=j.nativeEvent.submitter,J=B?.getAttribute("formmethod")||c;N(B||j.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:_})};return I.createElement("form",{ref:T,method:R,action:C,onSubmit:s?p:D,...w,"data-discover":!O&&r==="render"?"true":void 0})});sE.displayName="Form";function oE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ag(r){let e=I.useContext(Wi);return Ge(e,oE(r)),e}function aE(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=Kr(),p=yr(),m=oo(r,{relative:l});return I.useCallback(g=>{if($w(g,e)){g.preventDefault();let _=n!==void 0?n:Js(p)===Js(m);h(r,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,m,n,s,e,r,o,l,c])}var lE=0,uE=()=>`__${String(++lE)}__`;function cE(){let{router:r}=ag("useSubmit"),{basename:e}=I.useContext(dn),n=Cw();return I.useCallback(async(s,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=zw(s,e);if(o.navigate===!1){let g=o.fetcherKey||uE();await r.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function dE(r,{relative:e}={}){let{basename:n}=I.useContext(dn),s=I.useContext(hn);Ge(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...oo(r||".",{relative:e})},c=yr();if(r==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();l.search=g?`?${g}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xn([n,l.pathname])),Js(l)}function hE(r,{relative:e}={}){let n=I.useContext(Xm);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ag("useViewTransitionState"),o=oo(r,{relative:e});if(!n.isTransitioning)return!1;let l=Ln(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ln(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Va(o.pathname,c)!=null||Va(o.pathname,l)!=null}var yA=Km();const lg=I.createContext();function _A(){const r=I.useContext(lg);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r}function fE({children:r}){const[e,n]=I.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch(l){return console.error("Error loading theme from localStorage:",l),"light"}});I.useEffect(()=>{const l=document.documentElement;l.classList.remove("theme-light","theme-dark"),l.classList.add(`theme-${e}`);try{localStorage.setItem("theme",e)}catch(c){console.error("Error saving theme to localStorage:",c)}},[e]);const o={theme:e,setTheme:n,toggleTheme:()=>{n(l=>l==="light"?"dark":"light")},isDark:e==="dark",isLight:e==="light"};return y.jsx(lg.Provider,{value:o,children:r})}function pE(){try{const e=Object.keys(localStorage).filter(l=>l.startsWith("manutencoes_"));if(e.length===0)return console.log(" Nenhum dado antigo de manuteno encontrado"),{migrated:0,total:0};let n={};try{n=JSON.parse(localStorage.getItem("pf_maintenances")||"{}")}catch{n={}}let s=0,o=0;return e.forEach(l=>{const c=l.replace("manutencoes_","");try{const h=JSON.parse(localStorage.getItem(l)||"[]");if(Array.isArray(h)&&h.length>0){const p=n[c]||[],m=new Set(p.map(_=>_.id)),g=h.filter(_=>!m.has(_.id));n[c]=[...p,...g],s+=g.length,o+=h.length,console.log(` Migrado ${g.length} manutenes para ${c}`)}}catch(h){console.error(` Erro ao migrar ${l}:`,h)}}),s>0&&(localStorage.setItem("pf_maintenances",JSON.stringify(n)),console.log(` Migrao concluda: ${s} de ${o} manutenes migradas`)),{migrated:s,total:o}}catch(r){return console.error(" Erro na migrao de dados:",r),{migrated:0,total:0,error:r}}}function mE(){try{const e=Object.keys(localStorage).filter(n=>n.startsWith("carros_"));return e.length===0?(console.log(" Nenhum dado antigo de carros encontrado"),{found:0}):(console.log(` Encontrados ${e.length} registros antigos de carros`),console.log(' Os carros devem ser cadastrados novamente em "Meus Carros"'),console.log(" IDs dos veculos nas manutenes antigas podem precisar ser atualizados"),e.forEach(n=>{const s=n.replace("carros_","");try{const o=JSON.parse(localStorage.getItem(n)||"[]");console.log(` ${s}: ${o.length} carros encontrados`)}catch(o){console.error(` Erro ao ler ${n}:`,o)}}),{found:e.length})}catch(r){return console.error(" Erro ao verificar carros antigos:",r),{found:0,error:r}}}if(typeof window<"u"){const r="pf_maintenance_migration_v1";if(!localStorage.getItem(r)){console.log(" Iniciando migrao de dados...");const e=pE(),n=mE();localStorage.setItem(r,JSON.stringify({date:new Date().toISOString(),maintenances:e,carsFound:n.found})),console.log(" Migrao concluda e registrada")}}const Wa="pf_pro_subscription",od="pf_pro_warning_shown";function wA(r,e=1){if(!r)return console.error("userId  obrigatrio para ativar assinatura"),null;const n=new Date,s=new Date(n);s.setMonth(s.getMonth()+e);const o={userId:r,activatedAt:n.toISOString(),expiresAt:s.toISOString(),isActive:!0,plan:"pro",durationMonths:e};try{const l=JSON.parse(localStorage.getItem(Wa)||"{}");return l[r]=o,localStorage.setItem(Wa,JSON.stringify(l)),localStorage.setItem("versaoProAtiva","true"),localStorage.removeItem(`${od}_${r}`),console.log(" Assinatura Pro ativada:",o),o}catch(l){return console.error("Erro ao ativar assinatura:",l),null}}function ad(r){if(!r)return null;try{const e=JSON.parse(localStorage.getItem(Wa)||"{}"),n=e[r];if(!n)return null;const s=new Date,o=new Date(n.expiresAt);return s>o&&(n.isActive=!1,n.expired=!0,e[r]=n,localStorage.setItem(Wa,JSON.stringify(e)),localStorage.removeItem("versaoProAtiva")),n}catch(e){return console.error("Erro ao obter assinatura:",e),null}}function EA(r){if(!r)return localStorage.getItem("versaoProAtiva")==="true";const e=ad(r);return e&&e.isActive&&!e.expired}function ug(r){if(!r)return null;const e=ad(r);if(!e||!e.isActive)return null;const n=new Date,o=new Date(e.expiresAt)-n;return Math.ceil(o/(1e3*60*60*24))}function gE(r){if(!r)return!1;const e=ug(r);if(e===null||e>1)return!1;const n=`${od}_${r}`,s=localStorage.getItem(n);if(s){const o=new Date(s),l=new Date;if(o.toDateString()===l.toDateString())return!1}return!0}function vE(r){if(!r)return;const e=`${od}_${r}`;localStorage.setItem(e,new Date().toISOString())}function SA(r){if(!r)return"";const e=ad(r);return e?new Date(e.expiresAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function yE({daysLeft:r,onClose:e,onRenew:n}){const s=Kr(),o=()=>{n?n():s("/versao-pro"),e()};return y.jsx("div",{className:"pro-expiry-overlay",onClick:e,children:y.jsxs("div",{className:"pro-expiry-modal",onClick:l=>l.stopPropagation(),children:[y.jsx("button",{className:"pro-expiry-close",onClick:e,children:""}),y.jsx("div",{className:"pro-expiry-icon",children:""}),y.jsx("h2",{className:"pro-expiry-title",children:"Sua Verso Pro est acabando!"}),y.jsxs("div",{className:"pro-expiry-content",children:[r===1?y.jsxs("p",{className:"pro-expiry-message",children:["Sua assinatura Pro expira ",y.jsx("strong",{children:"amanh"}),"!"]}):r===0?y.jsxs("p",{className:"pro-expiry-message",children:["Sua assinatura Pro expira ",y.jsx("strong",{children:"hoje"}),"!"]}):y.jsxs("p",{className:"pro-expiry-message",children:["Sua assinatura Pro expira em ",y.jsxs("strong",{children:[r," dias"]}),"!"]}),y.jsx("p",{className:"pro-expiry-description",children:"Renove agora para continuar aproveitando todos os benefcios:"}),y.jsxs("ul",{className:"pro-expiry-benefits",children:[y.jsx("li",{children:" Acesso completo aos Guias Premium"}),y.jsx("li",{children:" Tabela FIPE sem restries"}),y.jsx("li",{children:" Suporte prioritrio"}),y.jsx("li",{children:" Novos recursos exclusivos"})]})]}),y.jsxs("div",{className:"pro-expiry-actions",children:[y.jsx("button",{className:"pro-expiry-btn-renew",onClick:o,children:"Renovar Agora"}),y.jsx("button",{className:"pro-expiry-btn-later",onClick:e,children:"Lembrar Depois"})]})]})})}const _E=({message:r,priority:e="polite"})=>{const n=I.useRef(null);return I.useEffect(()=>{r&&n.current&&(n.current.textContent="",setTimeout(()=>{n.current&&(n.current.textContent=r)},10))},[r]),y.jsx("div",{ref:n,"aria-live":e,"aria-atomic":"true",className:"aria-live-region"})},wE=({onClick:r,className:e="",size:n="medium"})=>y.jsx("button",{className:`circular-arrow-button ${n} ${e}`,onClick:r,type:"button","aria-label":"Comece agora -  grtis",children:y.jsx("svg",{className:"circular-button-arrow",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),EE=({onClick:r,className:e=""})=>y.jsxs("button",{className:`get-started-button ${e}`,onClick:r,type:"button",children:[y.jsx("span",{className:"button-text",children:"Comece agora -  grtis"}),y.jsx("svg",{className:"button-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),SE=({className:r="",onClick:e,...n})=>{const s=Kr(),o=()=>{e?e():s("/")};return y.jsx("div",{className:"menu-login-logo",children:y.jsxs("div",{className:`logo-container ${r}`,onClick:o,...n,children:[y.jsx("img",{src:"/images/logo.png",alt:"Logo Garagem Smart",className:"logo-image"}),y.jsx("div",{className:"logo-text-container",children:y.jsxs("h1",{className:"logo-title",children:[y.jsx("span",{className:"logo-title-line",children:"Garagem"}),y.jsx("span",{className:"logo-title-line",children:"Smart"})]})})]})})},IE=({message:r,type:e="success",duration:n=3e3,onClose:s})=>{const[o,l]=I.useState(!1),[c,h]=I.useState(!1);return I.useEffect(()=>{const p=setTimeout(()=>l(!0),10),m=setTimeout(()=>{h(!0),setTimeout(()=>{s?.()},300)},n);return()=>{clearTimeout(p),clearTimeout(m)}},[n,s]),r?y.jsxs("div",{className:`toast toast--${e} ${o?"toast--visible":""} ${c?"toast--leaving":""}`,role:"alert","aria-live":"polite",children:[y.jsxs("div",{className:"toast-content",children:[e==="success"&&y.jsx("svg",{className:"toast-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:y.jsx("path",{d:"M13.5 4.5 L6 12 L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),y.jsx("span",{className:"toast-message",children:r})]}),y.jsx("button",{className:"toast-close",onClick:()=>{h(!0),setTimeout(s,300)},"aria-label":"Fechar notificao",children:y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:y.jsx("path",{d:"M11 3L3 11M3 3L11 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}):null},cg=()=>{const[r,e]=I.useState(!1),[n,s]=I.useState({top:0,left:0}),[o,l]=I.useState(null),[c,h]=I.useState(""),[p,m]=I.useState(()=>typeof window<"u"?window.innerWidth<=768:!1),g=I.useRef(null),_=I.useRef(null),w=Kr(),{usuarioLogado:T,setUsuarioLogado:N,authLoaded:C}=I.useContext(vo)||{},R=[{id:"inicio",label:"Incio",onClick:()=>w("/inicio")},{id:"catalogo",label:"Catlogo de Peas",onClick:()=>w("/buscar-pecas")},{id:"quem-somos",label:"Quem Somos",onClick:()=>w("/quem-somos")},{id:"nosso-projeto",label:"Nosso Projeto",onClick:()=>w("/nosso-projeto")},{id:"seja-pro",label:"Seja Pro",onClick:()=>w("/seja-pro")},{id:"contato",label:"Contato",onClick:()=>w("/contato")}],O=(L,re,oe)=>{l({type:L,title:re,message:oe,id:Date.now()}),setTimeout(()=>l(null),4e3)},D=L=>{h(L),setTimeout(()=>h(""),100)},j=()=>{O("success","Login realizado","Bem-vindo de volta!"),D("Login realizado com sucesso")},B=I.useRef();I.useEffect(()=>{B.current===null&&T&&j(),B.current=T},[T]),I.useEffect(()=>{const L=()=>{const oe=window.innerWidth<=768;m(oe)};return window.addEventListener("resize",L),L(),()=>window.removeEventListener("resize",L)},[]);const J=()=>{if(g.current){const L=g.current.getBoundingClientRect(),re=Math.round(L.bottom+4),oe=Math.round(L.left);if(_.current)if(!p)_.current.style.setProperty("--dropdown-top",`${re}px`),_.current.style.setProperty("--dropdown-left",`${oe}px`);else{try{_.current.style.removeProperty("--dropdown-top"),_.current.style.removeProperty("--dropdown-left")}catch{}try{const de=g.current.getBoundingClientRect(),Le=Math.round(de.bottom-6),Be=Math.round(de.left);try{_.current.style.setProperty("top",`${Le}px`,"important")}catch{_.current.style.top=`${Le}px`}try{_.current.style.setProperty("left",`${Be}px`,"important")}catch{_.current.style.left=`${Be}px`}try{_.current.style.setProperty("right","auto","important")}catch{_.current.style.right="auto"}}catch{}}s({top:re,left:oe})}},K=()=>{const L=!r;e(L),L&&window.requestAnimationFrame(()=>J())},ee=()=>{e(!1)},ie=L=>re=>{re&&typeof re.preventDefault=="function"&&(re.preventDefault(),re.stopPropagation()),ee(),L()};return I.useEffect(()=>{function L(re){r&&g.current&&!g.current.contains(re.target)&&_.current&&!_.current.contains(re.target)&&e(!1)}return window.addEventListener("mousedown",L),window.addEventListener("resize",J),()=>{window.removeEventListener("mousedown",L),window.removeEventListener("resize",J)}},[r]),I.useLayoutEffect(()=>{if(r&&_.current&&g.current){const L=g.current.getBoundingClientRect(),re=Math.round(L.bottom+4),oe=Math.round(L.left);if(_.current)if(!p)_.current.style.setProperty("--dropdown-top",`${re}px`),_.current.style.setProperty("--dropdown-left",`${oe}px`);else{try{_.current.style.removeProperty("--dropdown-top"),_.current.style.removeProperty("--dropdown-left")}catch{}try{const de=g.current.getBoundingClientRect(),Le=Math.round(de.bottom-6),Be=Math.round(de.left);try{_.current.style.setProperty("top",`${Le}px`,"important")}catch{_.current.style.top=`${Le}px`}try{_.current.style.setProperty("left",`${Be}px`,"important")}catch{_.current.style.left=`${Be}px`}try{_.current.style.setProperty("right","auto","important")}catch{_.current.style.right="auto"}}catch{}}s({top:re,left:oe})}},[r]),y.jsxs(y.Fragment,{children:[y.jsx("header",{className:"site-header",children:y.jsxs("div",{className:"menu-login-root menu-responsive",children:[y.jsx(SE,{}),y.jsxs("div",{className:"user-menu-root",children:[y.jsxs("button",{ref:g,className:`mobile-menu-toggle ${r?"active":""}`,onClick:K,"aria-label":"Toggle mobile menu","aria-haspopup":"true","aria-expanded":r,children:[y.jsx("span",{className:"hamburger-line"}),y.jsx("span",{className:"hamburger-line"}),y.jsx("span",{className:"hamburger-line"})]}),y.jsx("div",{ref:_,className:`user-dropdown mobile-nav-dropdown ${r?"open":"closed"}`,role:"menu","aria-hidden":!r,children:R.map(L=>y.jsx("button",{className:"dropdown-item",onClick:()=>{e(!1),L.onClick()},children:L.label},L.id))})]}),y.jsx("div",{className:"menu-login-center",children:y.jsx("nav",{className:"menu-nav",children:y.jsx("ul",{className:"menu-list",children:R.map(L=>y.jsx("li",{children:y.jsx("button",{className:`menu-login-item ${L.id==="nosso-projeto"?"nosso-projeto":""}`,onClick:ie(L.onClick),children:L.label})},L.id))})})}),y.jsx("div",{className:"menu-login-right",children:p?y.jsx(wE,{onClick:L=>{L?.preventDefault?.(),L?.stopPropagation?.(),w("/login")}}):y.jsx(EE,{onClick:L=>{L?.preventDefault?.(),L?.stopPropagation?.(),w("/login")}})})]})}),o&&y.jsx(IE,{type:o.type,title:o.title,message:o.message,onClose:()=>l(null),autoClose:!0,duration:4e3}),y.jsx(_E,{message:c})]})};function kE({on:r=!1,onClick:e=()=>{},ariaLabel:n}){return y.jsx("button",{type:"button",className:`car-toggle ${r?"headlight-on":"headlight-off"}`,onClick:e,"aria-label":n||(r?"Ocultar senha":"Mostrar senha"),children:y.jsxs("svg",{width:"32",height:"24",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M28 8c0-1.1-.9-2-2-2h-2l-1-2c-.5-.9-1.4-1.5-2.4-1.5H11.4c-1 0-1.9.6-2.4 1.5l-1 2H6c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h1v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h12v1c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h1c1.1 0 2-.9 2-2V8z",fill:r?"#3B82F6":"#4A5568",className:"car-body"}),y.jsx("path",{d:"M24 6H8l1.5-1.5c.3-.3.7-.5 1.1-.5h9.8c.4 0 .8.2 1.1.5L24 6z",fill:r?"#1E40AF":"#2D3748",className:"car-roof"}),y.jsx("path",{d:"M10.5 4.5L9 6h3l1-1.5h-2.5z",fill:"#63B3ED",opacity:"0.3"}),y.jsx("circle",{cx:"9",cy:"16",r:"2.5",fill:"#2D3748"}),y.jsx("circle",{cx:"9",cy:"16",r:"1.5",fill:r?"#60A5FA":"#718096",className:"wheel-rim"}),y.jsx("circle",{cx:"23",cy:"16",r:"2.5",fill:"#2D3748"}),y.jsx("circle",{cx:"23",cy:"16",r:"1.5",fill:r?"#60A5FA":"#718096",className:"wheel-rim"}),y.jsx("rect",{x:"4",y:"9",width:"2",height:"4",fill:r?"#1E40AF":"#2D3748",className:"car-grille"}),y.jsx("circle",{cx:"5",cy:"10",r:"2",fill:r?"#FED7AA":"#E2E8F0",className:"headlight-main"}),r&&y.jsxs(y.Fragment,{children:[y.jsx("ellipse",{cx:"2",cy:"10",rx:"4",ry:"6",fill:"#FED7AA",opacity:"0.15",className:"headlight-beam"}),y.jsx("circle",{cx:"5",cy:"10",r:"2.8",fill:"#FBBF24",opacity:"0.25",className:"headlight-glow-1"}),y.jsx("circle",{cx:"5",cy:"10",r:"2.2",fill:"#F59E0B",opacity:"0.4",className:"headlight-glow-2"}),y.jsx("circle",{cx:"5",cy:"10",r:"1.3",fill:"#FCD34D",className:"headlight-bright"}),y.jsxs("g",{className:"headlight-rays",stroke:"#FDE68A",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.95",children:[y.jsx("line",{x1:"7",y1:"9",x2:"11",y2:"7",className:"ray ray-1"}),y.jsx("line",{x1:"7",y1:"10",x2:"12",y2:"10",className:"ray ray-2"}),y.jsx("line",{x1:"7",y1:"11",x2:"11",y2:"13",className:"ray ray-3"}),y.jsx("line",{x1:"6",y1:"8.2",x2:"9",y2:"6",className:"ray ray-4"}),y.jsx("line",{x1:"6",y1:"11.8",x2:"9",y2:"14",className:"ray ray-5"})]})]}),y.jsx("circle",{cx:"5",cy:"13.5",r:"0.8",fill:r?"#FEF3C7":"#CBD5E0"}),y.jsx("rect",{x:"15",y:"11",width:"1",height:"0.5",fill:r?"#1E40AF":"#2D3748",className:"door-handle"}),y.jsx("ellipse",{cx:"7.5",cy:"8.5",rx:"0.8",ry:"0.5",fill:r?"#3B82F6":"#4A5568",className:"side-mirror"})]})})}const TE=()=>{const[r,e]=I.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});I.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",r),localStorage.setItem("theme",r?"dark":"light");const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",r?"#0f172a":"#2b6cb0")},[r]);const n=()=>{e(s=>!s)};return y.jsxs("button",{className:"theme-toggle",onClick:n,"aria-label":r?"Alternar para modo claro":"Alternar para modo escuro",title:r?"Modo Claro (Dia)":"Modo Escuro (Noite)",children:[y.jsx("div",{className:`traffic-light ${r?"dark":"light"}`,children:y.jsxs("div",{className:"light-container",children:[y.jsx("div",{className:`light red ${r?"active":""}`}),y.jsx("div",{className:`light green ${r?"":"active"}`})]})}),y.jsx("span",{className:"theme-label",children:r?"Noite":"Dia"})]})},bE=[{id:1,nome:"Joo Silva",celular:"11999999999",email:"joao@email.com",senha:"123456"},{id:2,nome:"Maria Souza",celular:"11988888888",email:"maria@email.com",senha:"abcdef"}],RE=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},[],import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class ld extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Lp extends ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jp extends ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Up extends ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(xc||(xc={}));var AE=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};class CE{constructor(e,{headers:n={},customFetch:s,region:o=xc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=RE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return AE(this,arguments,void 0,function*(n,s={}){var o;try{const{headers:l,method:c,body:h,signal:p}=s;let m={},{region:g}=s;g||(g=this.region);const _=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,_.searchParams.set("forceFunctionRegion",g));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)));const T=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:w,signal:p}).catch(O=>{throw O.name==="AbortError"?O:new Lp(O)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new jp(T);if(!T.ok)throw new Up(T);let C=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return C==="application/json"?R=yield T.json():C==="application/octet-stream"?R=yield T.blob():C==="text/event-stream"?R=T:C==="multipart/form-data"?R=yield T.formData():R=yield T.text(),{data:R,error:null,response:T}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Lp(l)}:{data:null,error:l,response:l instanceof Up||l instanceof jp?l.context:void 0}}})}}var pt={},Si={},Ii={},ki={},Ti={},bi={},PE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bi=PE();const OE=Bi.fetch,dg=Bi.fetch.bind(Bi),hg=Bi.Headers,xE=Bi.Request,NE=Bi.Response,Ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:hg,Request:xE,Response:NE,default:dg,fetch:OE},Symbol.toStringTag,{value:"Module"})),DE=D_(Ki);var Ra={},Mp;function fg(){if(Mp)return Ra;Mp=1,Object.defineProperty(Ra,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ra.default=r,Ra}var $p;function pg(){if($p)return bi;$p=1;var r=bi&&bi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(bi,"__esModule",{value:!0});const e=r(DE),n=r(fg());class s{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,_,w,T;let N=null,C=null,R=null,O=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const K=await m.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?C=K:C=JSON.parse(K))}const B=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),J=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");B&&J&&J.length>1&&(R=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(N={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,R=null,O=406,D="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const B=await m.text();try{N=JSON.parse(B),Array.isArray(N)&&m.status===404&&(C=[],N=null,O=200,D="OK")}catch{m.status===404&&B===""?(O=204,D="No Content"):N={message:B}}if(N&&this.isMaybeSingle&&(!((T=N?.details)===null||T===void 0)&&T.includes("0 rows"))&&(N=null,O=200,D="OK"),N&&this.shouldThrowOnError)throw new n.default(N)}return{error:N,data:C,count:R,status:O,statusText:D}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,_,w;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return bi.default=s,bi}var Fp;function mg(){if(Fp)return Ti;Fp=1;var r=Ti&&Ti.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ti,"__esModule",{value:!0});const e=r(pg());class n extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const _=[o?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ti.default=n,Ti}var Bp;function ud(){if(Bp)return ki;Bp=1;var r=ki&&ki.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ki,"__esModule",{value:!0});const e=r(mg());class n extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return ki.default=n,ki}var zp;function gg(){if(zp)return Ii;zp=1;var r=Ii&&Ii.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ii,"__esModule",{value:!0});const e=r(ud());class n{constructor(o,{headers:l={},schema:c,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(o,l){const{head:c=!1,count:h}=l??{},p=c?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(m.length>0){const g=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(_.length>0){const w=[...new Set(_)].map(T=>`"${T}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ii.default=n,Ii}var Vp;function LE(){if(Vp)return Si;Vp=1;var r=Si&&Si.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Si,"__esModule",{value:!0});const e=r(gg()),n=r(ud());class s{constructor(l,{headers:c={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:p=!1,count:m}={}){var g;let _;const w=new URL(`${this.url}/rpc/${l}`);let T;h||p?(_=h?"HEAD":"GET",Object.entries(c).filter(([C,R])=>R!==void 0).map(([C,R])=>[C,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([C,R])=>{w.searchParams.append(C,R)})):(_="POST",T=c);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new n.default({method:_,url:w,headers:N,schema:this.schemaName,body:T,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Si.default=s,Si}var Hp;function jE(){if(Hp)return pt;Hp=1;var r=pt&&pt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const e=r(LE());pt.PostgrestClient=e.default;const n=r(gg());pt.PostgrestQueryBuilder=n.default;const s=r(ud());pt.PostgrestFilterBuilder=s.default;const o=r(mg());pt.PostgrestTransformBuilder=o.default;const l=r(pg());pt.PostgrestBuilder=l.default;const c=r(fg());return pt.PostgrestError=c.default,pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},pt}var UE=jE();const ME=qm(UE),{PostgrestClient:$E,PostgrestQueryBuilder:IA,PostgrestFilterBuilder:kA,PostgrestTransformBuilder:TA,PostgrestBuilder:bA,PostgrestError:RA}=ME;class FE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BE="2.75.0",zE=`realtime-js/${BE}`,VE="1.0.0",Nc=1e4,HE=1e3,WE=100;var zs;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(zs||(zs={}));var ct;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ct||(ct={}));var ln;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ln||(ln={}));var Dc;(function(r){r.websocket="websocket"})(Dc||(Dc={}));var Br;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Br||(Br={}));class qE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=s.decode(e.slice(c,c+o));c=c+o;const p=s.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class vg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Fe||(Fe={}));const Wp=(r,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=KE(c,r,e,o),l),{}):{}},KE=(r,e,n,s)=>{const o=e.find(h=>h.name===r),l=o?.type,c=n[r];return l&&!s.includes(l)?yg(l,c):Lc(c)},yg=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return QE(e,n)}switch(r){case Fe.bool:return GE(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return JE(e);case Fe.json:case Fe.jsonb:return YE(e);case Fe.timestamp:return XE(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Lc(e);default:return Lc(e)}},Lc=r=>r,GE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},JE=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},YE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},QE=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,s=r[n];if(r[0]==="{"&&s==="}"){let l;const c=r.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>yg(e,h))}return r},XE=r=>typeof r=="string"?r.replace(" ","T"):r,_g=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class uc{constructor(e,n,s={},o=Nc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(qp||(qp={}));class Vs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,o,l,c),this.pendingDiffs.forEach(p=>{this.state=Vs.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vs.syncDiff(this.state,o,l,c),h())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(m,g)=>{c[m]||(p[m]=g)}),this.map(c,(m,g)=>{const _=l[m];if(_){const w=g.map(R=>R.presence_ref),T=_.map(R=>R.presence_ref),N=g.filter(R=>T.indexOf(R.presence_ref)<0),C=_.filter(R=>w.indexOf(R.presence_ref)<0);N.length>0&&(h[m]=N),C.length>0&&(p[m]=C)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:p},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(h,p)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),g.length>0){const _=e[h].map(T=>T.presence_ref),w=g.filter(T=>_.indexOf(T.presence_ref)<0);e[h].unshift(...w)}s(h,g,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const g=p.map(_=>_.presence_ref);m=m.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Kp||(Kp={}));var Hs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Hs||(Hs={}));var An;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class cd{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uc(this,ln.join,this.params,this.timeout),this.rejoinTimer=new vg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Vs(this),this.broadcastEndpointURL=_g(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>e?.(An.CHANNEL_ERROR,T)),this._onClose(()=>e?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:T})=>{var N;if(this.socket.setAuth(),T===void 0){e?.(An.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,R=(N=C?.length)!==null&&N!==void 0?N:0,O=[];for(let D=0;D<R;D++){const j=C[D],{filter:{event:B,schema:J,table:K,filter:ee}}=j,ie=T&&T[D];if(ie&&ie.event===B&&ie.schema===J&&ie.table===K&&ie.filter===ee)O.push(Object.assign(Object.assign({},j),{id:ie.id}));else{this.unsubscribe(),this.state=ct.errored,e?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(An.SUBSCRIBED);return}}).receive("error",T=>{this.state=ct.errored,e?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ct.joined&&e===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new uc(this,ln.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new uc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>WE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=ln;if(s&&[h,p,m,g].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(T=>{var N,C,R;return((N=T.filter)===null||N===void 0?void 0:N.event)==="*"||((R=(C=T.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(T=>T.callback(w,s)):(l=this.bindings[c])===null||l===void 0||l.filter(T=>{var N,C,R,O,D,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in T){const B=T.id,J=(N=T.filter)===null||N===void 0?void 0:N.event;return B&&((C=n.ids)===null||C===void 0?void 0:C.includes(B))&&(J==="*"||J?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const B=(D=(O=T?.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return B==="*"||B===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===c}).map(T=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:C,table:R,commit_timestamp:O,type:D,errors:j}=N;w=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:O,eventType:D,new:{},old:{},errors:j}),this._getPayloadRecords(N))}T.callback(w,s)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&cd.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ln.close,{},e)}_onError(e){this._on(ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Wp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Wp(e.columns,e.old_record)),n}}const cc=()=>{},Aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZE=[1e3,2e3,5e3,1e4],e0=1e4,t0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n0{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nc,this.transport=null,this.heartbeatIntervalMs=Aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new qE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>Ce(async()=>{const{default:h}=await Promise.resolve().then(()=>Ki);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...c)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dc.websocket}`,this.httpEndpoint=_g(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VE}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return Br.Connecting;case zs.open:return Br.Open;case zs.closing:return Br.Closing;default:return Br.Closed}}isConnected(){return this.connectionState()===Br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new cd(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:c}=n,h=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([t0],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:zE};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new vg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,h,p,m,g;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Nc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Aa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:cc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>ZE[_-1]||e0),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,w)=>w(JSON.stringify(_))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class dd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ot(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class r0 extends dd{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jc extends dd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var i0=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};const wg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},s0=()=>i0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ce(()=>Promise.resolve().then(()=>Ki),void 0,import.meta.url)).Response:Response}),Uc=r=>{if(Array.isArray(r))return r.map(n=>Uc(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Uc(s)}),e},o0=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Gr=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};const dc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),a0=(r,e,n)=>Gr(void 0,void 0,void 0,function*(){const s=yield s0();r instanceof s&&!n?.noResolveJson?r.json().then(o=>{const l=r.status||500,c=o?.statusCode||l+"";e(new r0(dc(o),l,c))}).catch(o=>{e(new jc(dc(o),o))}):e(new jc(dc(r),r))}),l0=(r,e,n,s)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!s?o:(o0(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ao(r,e,n,s,o,l){return Gr(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(n,l0(e,s,o,l)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>a0(p,h,s))})})}function qa(r,e,n,s){return Gr(this,void 0,void 0,function*(){return ao(r,"GET",e,n,s)})}function yn(r,e,n,s,o){return Gr(this,void 0,void 0,function*(){return ao(r,"POST",e,s,o,n)})}function Mc(r,e,n,s,o){return Gr(this,void 0,void 0,function*(){return ao(r,"PUT",e,s,o,n)})}function u0(r,e,n,s){return Gr(this,void 0,void 0,function*(){return ao(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Eg(r,e,n,s,o){return Gr(this,void 0,void 0,function*(){return ao(r,"DELETE",e,s,o,n)})}var c0=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};class d0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return c0(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var h0=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};class f0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new d0(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return h0(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var Lt=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m0{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=wg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return Lt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Gp),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),_=yield(e=="PUT"?Mc:yn)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}})}upload(e,n,s){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return Lt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Gp.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",m.cacheControl)):(p=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const _=yield Mc(this.fetch,h.toString(),p,{headers:g});return{data:{path:l,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ot(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const l=yield yn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new dd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}update(e,n,s){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Lt(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}copy(e,n,s){return Lt(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return Lt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield yn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return Lt(this,void 0,void 0,function*(){try{const o=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),p=()=>qa(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new f0(p,this.shouldThrowOnError)}info(e){return Lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield qa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}exists(e){return Lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield u0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s)&&s instanceof jc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const h=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(e){return Lt(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}list(e,n,s){return Lt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},p0),n),{prefix:e||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}listV2(e,n){return Lt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const g0="2.75.0",v0={"X-Client-Info":`storage-js/${g0}`};var Ri=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};class y0{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v0),n),this.fetch=wg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}getBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}createBucket(e){return Ri(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}}class _0 extends y0{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new m0(this.url,this.headers,e,this.fetch)}}const w0="2.75.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const E0={"X-Client-Info":`supabase-js-${Ms}/${w0}`},S0={headers:E0},I0={schema:"public"},k0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T0={};var b0=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};const R0=r=>{let e;return r?e=r:typeof fetch>"u"?e=dg:e=fetch,(...n)=>e(...n)},A0=()=>typeof Headers>"u"?hg:Headers,C0=(r,e,n)=>{const s=R0(n),o=A0();return(l,c)=>b0(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:r;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),s(l,Object.assign(Object.assign({},c),{headers:m}))})};var P0=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};function O0(r){return r.endsWith("/")?r:r+"/"}function x0(r,e){var n,s;const{db:o,auth:l,realtime:c,global:h}=r,{db:p,auth:m,realtime:g,global:_}=e,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>P0(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function N0(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(O0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sg="2.75.0",Ni=30*1e3,$c=3,hc=$c*Ni,D0="http://localhost:9999",L0="supabase.auth.token",j0={"X-Client-Info":`gotrue-js/${Sg}`},Fc="X-Supabase-Api-Version",Ig={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M0=600*1e3;class Ys extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ue(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class $0 extends Ys{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function F0(r){return ue(r)&&r.name==="AuthApiError"}class zr extends Ys{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _r extends Ys{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class cr extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B0(r){return ue(r)&&r.name==="AuthSessionMissingError"}class Ai extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends _r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pa extends _r{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z0(r){return ue(r)&&r.name==="AuthImplicitGrantRedirectError"}class Jp extends _r{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bc extends _r{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fc(r){return ue(r)&&r.name==="AuthRetryableFetchError"}class Yp extends _r{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class zc extends _r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qp=` 	
\r=`.split(""),V0=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Qp.length;e+=1)r[Qp[e].charCodeAt(0)]=-2;for(let e=0;e<Ka.length;e+=1)r[Ka[e].charCodeAt(0)]=e;return r})();function Xp(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ka[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ka[s]),e.queuedBits-=6}}function kg(r,e,n){const s=V0[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Zp(r){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{q0(c,s,n)};for(let c=0;c<r.length;c+=1)kg(r.charCodeAt(c),o,l);return e.join("")}function H0(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function W0(r,e){for(let n=0;n<r.length;n+=1){let s=r.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(r.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}H0(s,e)}}function q0(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Li(r){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)kg(r.charCodeAt(o),n,s);return new Uint8Array(e)}function K0(r){const e=[];return W0(r,n=>e.push(n)),new Uint8Array(e)}function Vr(r){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return r.forEach(o=>Xp(o,n,s)),Xp(null,n,s),e.join("")}function G0(r){return Math.round(Date.now()/1e3)+r}function J0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},Tg=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function Y0(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const bg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Q0=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Di=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Ur=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lr=async(r,e)=>{await r.removeItem(e)};let Rg=class Ag{constructor(){this.promise=new Ag.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Rg.promiseConstructor=Promise;function pc(r){const e=r.split(".");if(e.length!==3)throw new zc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!U0.test(e[s]))throw new zc("JWT not in base64url format");return{header:JSON.parse(Zp(e[0])),payload:JSON.parse(Zp(e[1])),signature:Li(e[2]),raw:{header:e[0],payload:e[1]}}}async function X0(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Z0(r,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function eS(r){return("0"+r.toString(16)).substr(-2)}function tS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,eS).join("")}async function nS(r){const n=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function rS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await nS(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(r,e,n=!1){const s=tS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Di(r,`${e}-code-verifier`,o);const l=await rS(s);return[l,s===l?"plain":"s256"]}const iS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sS(r){const e=r.headers.get(Fc);if(!e||!e.match(iS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oS(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function aS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pi(r){if(!lS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mc(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function em(r){return JSON.parse(JSON.stringify(r))}var uS=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const $r=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),cS=[502,503,504];async function tm(r){var e;if(!Q0(r))throw new Bc($r(r),0);if(cS.includes(r.status))throw new Bc($r(r),r.status);let n;try{n=await r.json()}catch(l){throw new zr($r(l),l)}let s;const o=sS(r);if(o&&o.getTime()>=Ig["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Yp($r(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Yp($r(n),r.status,n.weak_password.reasons);throw new $0($r(n),r.status||500,s)}const dS=(r,e,n,s)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function fe(r,e,n,s){var o;const l=Object.assign({},s?.headers);l[Fc]||(l[Fc]=Ig["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await hS(r,e,n+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function hS(r,e,n,s,o,l){const c=dS(e,s,o,l);let h;try{h=await r(n,Object.assign({},c))}catch(p){throw console.error(p),new Bc($r(p),0)}if(h.ok||await tm(h),s?.noResolveJson)return h;try{return await h.json()}catch(p){await tm(p)}}function an(r){var e;let n=null;mS(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=G0(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:s},error:null}}function nm(r){const e=an(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function dr(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function fS(r){return{data:r,error:null}}function pS(r){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=r,c=uS(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function rm(r){return r}function mS(r){return r.access_token&&r.refresh_token&&r.expires_in}const gc=["global","local","others"];var gS=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class vS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=bg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gc[0]){if(gc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dr})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=gS(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pS,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:rm});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,T=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(N.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Pi(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Pi(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dr})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Pi(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dr})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Pi(e.userId);try{const{data:n,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Pi(e.userId),Pi(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:rm});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,T=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(N.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function im(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Oi={debug:!!(globalThis&&Tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yS extends Cg{}async function _S(r,e,n){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await n()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new yS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Oi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function ES(r){return parseInt(r,16)}function SS(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function IS(r){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:p,resources:m,scheme:g,uri:_,version:w}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const T=Pg(r.address),N=g?`${g}://${s}`:s,C=r.statement?`${r.statement}
`:"",R=`${N} wants you to sign in with your Ethereum account:
${T}

${C}`;let O=`URI: ${_}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),p&&(O+=`
Request ID: ${p}`),m){let D=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);D+=`
- ${j}`}O+=D}return`${R}
${O}`}class st extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ga extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function kS({error:r,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(xg(c)){if(l.rp.id!==c)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function TS({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(xg(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var Og=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class bS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const RS=new bS;function AS(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:s}=r,o=Og(r,["challenge","user","excludeCredentials"]),l=Li(e).buffer,c=Object.assign(Object.assign({},n),{id:Li(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const m=s[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Li(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function CS(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,s=Og(r,["challenge","allowCredentials"]),o=Li(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Li(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function PS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Vr(new Uint8Array(r.response.attestationObject)),clientDataJSON:Vr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,s=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Vr(new Uint8Array(o.authenticatorData)),clientDataJSON:Vr(new Uint8Array(o.clientDataJSON)),signature:Vr(new Uint8Array(o.signature)),userHandle:o.userHandle?Vr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function sm(){var r,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xS(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:kS({error:e,options:r})}}}async function NS(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:TS({error:e,options:r})}}}const DS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},LS={userVerification:"preferred",hints:["security-key"]};function Ja(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of r)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const h=s[l];e(h)?s[l]=Ja(h,c):s[l]=Ja(c)}else s[l]=c}return s}function jS(r,e){return Ja(DS,r,e||{})}function US(r,e){return Ja(LS,r,e||{})}class MS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const p=o??RS.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=jS(c.webauthn.credential_options.publicKey,l?.create),{data:g,error:_}=await xS({publicKey:m,signal:p});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}case"request":{const m=US(c.webauthn.credential_options.publicKey,l?.request),{data:g,error:_}=await NS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn authentication")};try{if(!sm())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn registration")};try{if(!sm())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var _;return(_=g.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in register",c)}}}}wS();const $S={url:D0,storageKey:L0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function om(r,e,n){return await n()}const xi={};class Qs{get jwks(){var e,n;return(n=(e=xi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},$S),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=bg(o.fetch),this.lock=o.lock||om,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Bt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_S:this.lock=om,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MS(this)},this.persistSession?(o.storage?this.storage=o.storage:Tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=im(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=im(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Y0(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Bt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),z0(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new zr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:an}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:g,password:_,options:w}=e;let T=null,N=null;this.flowType==="pkce"&&([T,N]=await Ci(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:_,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:T,code_challenge_method:N},xform:an})}else if("phone"in e){const{phone:g,password:_,options:w}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:an})}else throw new Ca("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nm})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nm})}else throw new Ca("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ai}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,h,p,m,g,_,w;let T,N;if("message"in e)T=e.message,N=e.signature;else{const{chain:C,wallet:R,statement:O,options:D}=e;let j;if(Bt())if(typeof R=="object")j=R;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")j=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=R}const B=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),J=await j.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Pg(J[0]);let ee=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!ee){const L=await j.request({method:"eth_chainId"});ee=ES(L)}const ie={domain:B.host,address:K,statement:O,uri:B.href,version:"1",chainId:ee,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.resources};T=IS(ie),N=await j.request({method:"personal_sign",params:[SS(T),K]})}try{const{data:C,error:R}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:N},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:an});if(R)throw R;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ai}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:R})}catch(C){if(ue(C))return{data:{user:null,session:null},error:C};throw C}}async signInWithSolana(e){var n,s,o,l,c,h,p,m,g,_,w,T;let N,C;if("message"in e)N=e.message,C=e.signature;else{const{chain:R,wallet:O,statement:D,options:j}=e;let B;if(Bt())if(typeof O=="object")B=O;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))B=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=O}const J=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const K=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),D?{statement:D}:null));let ee;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")ee=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)ee=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)N=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),C=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(s=j?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=j?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((p=j?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((_=(g=j?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...j.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const K=await B.signMessage(new TextEncoder().encode(N),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=K}}try{const{data:R,error:O}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Vr(C)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:an});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Ai}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ue(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(e){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:an});if(await lr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Ai}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,h=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:an}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ai}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ci(this.storage,this.storageKey));const{error:_}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new Ca("You must provide either an email or phone number.")}catch(h){if(ue(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:an});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ci(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:fS})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new cr;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:h}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new Ca("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Ur(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=mc()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async n=>{var s,o,l;const{data:c,error:h}=n;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:dr})})}catch(n){if(ue(n))return B0(n)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new cr;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Ci(this.storage,this.storageKey));const{data:m,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:dr});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=pc(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new cr;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Bt())throw new Pa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jp("No code detected.");const{data:D,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!c||!m)throw new Pa("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let w=g+_;p&&(w=parseInt(p));const T=w-g;T*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const N=w-_;g-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,g):g-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,g);const{data:C,error:R}=await this._getUser(l);if(R)throw R;const O={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:w,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(s){if(ue(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{error:l};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(F0(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=J0(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ci(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,h,p,m,g;const{data:_,error:w}=l;if(w)throw w;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",T,{headers:this.headers,jwt:(g=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Bt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(ue(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:h,token:p,access_token:m,nonce:g}=e,_=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:p,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:an}),{data:w,error:T}=_;return T?{data:{user:null,session:null},error:T}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ai}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:T})}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Z0(async o=>(o>0&&await X0(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:an})),(o,l)=>{const c=200*Math.pow(2,o);return l&&fc(l)&&Date.now()+c-s<Ni})}catch(s){if(this._debug(n,"error",s),ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Bt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ur(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Di(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:mc()}else if(o&&!o.user&&!o.user){const c=await Ur(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await lr(this.storage,this.storageKey+"-user"),await Di(this.storage,this.storageKey,o)):o.user=mc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${hc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),fc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rg;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new cr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),ue(l)){const c={data:null,error:l};return fc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Di(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=em(o);await Di(this.storage,this.storageKey,l)}else{const o=em(n);await Di(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ni}ms, refresh threshold is ${$c} ticks`),o<=$c&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ci(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?{data:null,error:l}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PS(e.webauthn.credential_response):OS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:AS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:CS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pc(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const g=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(h=>h.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+M0>o)return s;const{data:l,error:c}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:T,error:N}=await this.getSession();if(N||!T.session)return{data:null,error:N};s=T.session.access_token}const{header:o,payload:l,signature:c,raw:{header:h,payload:p}}=pc(s);n?.allowExpired||oS(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:l,header:o,signature:c},error:null}}const g=aS(o.alg),_=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,c,K0(`${h}.${p}`)))throw new zc("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}}Qs.nextInstanceID=0;const FS=Qs;class BS extends FS{constructor(e){super(e)}}var zS=function(r,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(g){try{m(s.next(g))}catch(_){c(_)}}function p(g){try{m(s.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((s=s.apply(r,e||[])).next())})};class VS{constructor(e,n,s){var o,l,c;this.supabaseUrl=e,this.supabaseKey=n;const h=N0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:I0,realtime:T0,auth:Object.assign(Object.assign({},k0),{storageKey:p}),global:S0},g=x0(s??{},m);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=C0(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new $E(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new _0(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new CE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return zS(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:h,lock:p,debug:m},g,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BS({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,flowType:h,lock:p,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new n0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HS=(r,e,n)=>new VS(r,e,n);function WS(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const am={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var Cn={};let Nn=null;try{Nn=typeof import.meta<"u"&&import.meta&&am?am:null}catch{Nn=null}const lm=Nn&&Nn.VITE_SUPABASE_URL||typeof process<"u"&&Cn&&Cn.REACT_APP_SUPABASE_URL||typeof process<"u"&&Cn&&Cn.SUPABASE_URL||typeof window<"u"&&window.__SUPABASE_URL||"",um=Nn&&Nn.VITE_SUPABASE_ANON_KEY||typeof process<"u"&&Cn&&Cn.REACT_APP_SUPABASE_ANON_KEY||typeof process<"u"&&Cn&&Cn.SUPABASE_ANON_KEY||typeof window<"u"&&window.__SUPABASE_ANON_KEY||"";let zi=null,Ya=!1;function qS(){const r=new Error("Supabase client not configured (missing URL or anon key)"),e=()=>Promise.reject(r);return{auth:{signIn:e,signInWithOAuth:e,getSessionFromUrl:e},from:()=>({select:e,insert:e,update:e,delete:e}),rpc:e,storage:()=>({from:()=>({upload:e,download:e})}),_notConfigured:!0}}(function(){if(!lm||!um){console.warn("Supabase client not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or REACT_APP_SUPABASE_* / window.__SUPABASE_*)."),zi=qS(),Ya=!1;return}zi=HS(String(lm).replace(/\/$/,""),String(um),{auth:{persistSession:!0}}),Ya=!0})();const La=zi;try{const r=!!(Nn&&(Nn.DEV||Nn.VITE_DEBUG_SUPABASE==="true"))||typeof process<"u"&&Cn&&!1;typeof window<"u"&&r&&zi&&!window.__debugSupabase&&(console.info("[supabase] dev: exposing supabase on window.__debugSupabase"),Object.defineProperty(window,"__debugSupabase",{value:zi,writable:!1,configurable:!0}))}catch(r){console.debug("[supabase] failed to attach debug client",r&&r.message)}const KS=Object.freeze(Object.defineProperty({__proto__:null,default:La,get isConfigured(){return Ya},get supabase(){return zi}},Symbol.toStringTag,{value:"Module"})),GS=()=>{};var cm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[n++],c=r[n++],h=r[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[n++],c=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Dg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,h=c?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,g=l>>2,_=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,T=m&63;p||(T=64,c||(w=64)),s.push(n[g],n[_],n[w],n[T])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ng(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=n[r.charAt(o++)],h=o<r.length?n[r.charAt(o)]:0;++o;const m=o<r.length?n[r.charAt(o)]:64;++o;const _=o<r.length?n[r.charAt(o)]:64;if(++o,l==null||h==null||m==null||_==null)throw new YS;const w=l<<2|h>>4;if(s.push(w),m!==64){const T=h<<4&240|m>>2;if(s.push(T),_!==64){const N=m<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(r){const e=Ng(r);return Dg.encodeByteArray(e,!0)},Lg=function(r){return QS(r).replace(/\./g,"")},jg=function(r){try{return Dg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=()=>XS().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof cm>"u")return;const r=cm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jg(r[1]);return e&&JSON.parse(e)},hd=()=>{try{return GS()||ZS()||eI()||tI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nI=r=>hd()?.emulatorHosts?.[r],Ug=()=>hd()?.config,Mg=r=>hd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iI(r){return(await fetch(r,{credentials:"include"})).ok}const Ws={};function sI(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ws))Ws[e]?r.emulator.push(e):r.prod.push(e);return r}function oI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let dm=!1;function aI(r,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Ws[r]===e||Ws[r]||dm)return;Ws[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=sI().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dm=!0,c()},w}function g(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=oI(s),T=n("text"),N=document.getElementById(T)||document.createElement("span"),C=n("learnmore"),R=document.getElementById(C)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;h(j),g(R,C);const B=m();p(D,O),j.append(D,N,R,B),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function uI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hI(){const r=Rt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fI(){try{return typeof indexedDB=="object"}catch{return!1}}function pI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="FirebaseError";class wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mI,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?gI(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new wr(o,h,s)}}function gI(r,e){return r.replace(vI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vI=/\{\$([^}]+)}/g;function yI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vi(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(hm(l)&&hm(c)){if(!Vi(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function hm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $s(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Fs(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function _I(r,e){const n=new wI(r,e);return n.subscribe.bind(n)}class wI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");EI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vc),o.error===void 0&&(o.error=vc),o.complete===void 0&&(o.complete=vc);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(r){return r&&r._delegate?r._delegate:r}class Hi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kI(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(r){return r===Fr?void 0:r}function kI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const bI={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},RI=De.INFO,AI={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},CI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=AI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=RI,this._logHandler=CI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const PI=(r,e)=>e.some(n=>r instanceof n);let fm,pm;function OI(){return fm||(fm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xI(){return pm||(pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fg=new WeakMap,Vc=new WeakMap,Bg=new WeakMap,yc=new WeakMap,fd=new WeakMap;function NI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{n(mr(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Fg.set(n,r)}).catch(()=>{}),fd.set(e,r),e}function DI(r){if(Vc.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Vc.set(r,e)}let Hc={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vc.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Bg.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LI(r){Hc=r(Hc)}function jI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_c(this),e,...n);return Bg.set(s,e.sort?e.sort():[e]),mr(s)}:xI().includes(r)?function(...e){return r.apply(_c(this),e),mr(Fg.get(this))}:function(...e){return mr(r.apply(_c(this),e))}}function UI(r){return typeof r=="function"?jI(r):(r instanceof IDBTransaction&&DI(r),PI(r,OI())?new Proxy(r,Hc):r)}function mr(r){if(r instanceof IDBRequest)return NI(r);if(yc.has(r))return yc.get(r);const e=UI(r);return e!==r&&(yc.set(r,e),fd.set(e,r)),e}const _c=r=>fd.get(r);function MI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),h=mr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(mr(c.result),p.oldVersion,p.newVersion,mr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const $I=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],wc=new Map;function mm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=FI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&p.done]))[0]};return wc.set(e,l),l}LI(r=>({...r,get:(e,n,s)=>mm(e,n)||r.get(e,n,s),has:(e,n)=>!!mm(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zI(r){return r.getComponent()?.type==="VERSION"}const Wc="@firebase/app",gm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new $g("@firebase/app"),VI="@firebase/app-compat",HI="@firebase/analytics-compat",WI="@firebase/analytics",qI="@firebase/app-check-compat",KI="@firebase/app-check",GI="@firebase/auth",JI="@firebase/auth-compat",YI="@firebase/database",QI="@firebase/data-connect",XI="@firebase/database-compat",ZI="@firebase/functions",ek="@firebase/functions-compat",tk="@firebase/installations",nk="@firebase/installations-compat",rk="@firebase/messaging",ik="@firebase/messaging-compat",sk="@firebase/performance",ok="@firebase/performance-compat",ak="@firebase/remote-config",lk="@firebase/remote-config-compat",uk="@firebase/storage",ck="@firebase/storage-compat",dk="@firebase/firestore",hk="@firebase/ai",fk="@firebase/firestore-compat",pk="firebase",mk="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="[DEFAULT]",gk={[Wc]:"fire-core",[VI]:"fire-core-compat",[WI]:"fire-analytics",[HI]:"fire-analytics-compat",[KI]:"fire-app-check",[qI]:"fire-app-check-compat",[GI]:"fire-auth",[JI]:"fire-auth-compat",[YI]:"fire-rtdb",[QI]:"fire-data-connect",[XI]:"fire-rtdb-compat",[ZI]:"fire-fn",[ek]:"fire-fn-compat",[tk]:"fire-iid",[nk]:"fire-iid-compat",[rk]:"fire-fcm",[ik]:"fire-fcm-compat",[sk]:"fire-perf",[ok]:"fire-perf-compat",[ak]:"fire-rc",[lk]:"fire-rc-compat",[uk]:"fire-gcs",[ck]:"fire-gcs-compat",[dk]:"fire-fst",[fk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[pk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,vk=new Map,Kc=new Map;function vm(r,e){try{r.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xs(r){const e=r.name;if(Kc.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;Kc.set(e,r);for(const n of Qa.values())vm(n,r);for(const n of vk.values())vm(n,r);return!0}function zg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function et(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new lo("app","Firebase",yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=mk;function Vg(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qc,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=Ug()),!n)throw gr.create("no-options");const l=Qa.get(o);if(l){if(Vi(n,l.options)&&Vi(s,l.config))return l;throw gr.create("duplicate-app",{appName:o})}const c=new TI(o);for(const p of Kc.values())c.addComponent(p);const h=new _k(n,s,c);return Qa.set(o,h),h}function wk(r=qc){const e=Qa.get(r);if(!e&&r===qc&&Ug())return Vg();if(!e)throw gr.create("no-app",{appName:r});return e}function ji(r,e,n){let s=gk[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}Xs(new Hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebase-heartbeat-database",Sk=1,Zs="firebase-heartbeat-store";let Ec=null;function Hg(){return Ec||(Ec=MI(Ek,Sk,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zs)}catch(n){console.warn(n)}}}}).catch(r=>{throw gr.create("idb-open",{originalErrorMessage:r.message})})),Ec}async function Ik(r){try{const n=(await Hg()).transaction(Zs),s=await n.objectStore(Zs).get(Wg(r));return await n.done,s}catch(e){if(e instanceof wr)jn.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}}async function ym(r,e){try{const s=(await Hg()).transaction(Zs,"readwrite");await s.objectStore(Zs).put(e,Wg(r)),await s.done}catch(n){if(n instanceof wr)jn.warn(n.message);else{const s=gr.create("idb-set",{originalErrorMessage:n?.message});jn.warn(s.message)}}}function Wg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=1024,Tk=30;class bk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ak(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_m();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Tk){const o=Ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_m(),{heartbeatsToSend:n,unsentEntries:s}=Rk(this._heartbeatsCache.heartbeats),o=Lg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return jn.warn(e),""}}}function _m(){return new Date().toISOString().substring(0,10)}function Rk(r,e=kk){const n=[];let s=r.slice();for(const o of r){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),wm(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fI()?pI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ik(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ym(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ym(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wm(r){return Lg(JSON.stringify({version:2,heartbeats:r})).length}function Ck(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(r){Xs(new Hi("platform-logger",e=>new BI(e),"PRIVATE")),Xs(new Hi("heartbeat",e=>new bk(e),"PRIVATE")),ji(Wc,gm,r),ji(Wc,gm,"esm2020"),ji("fire-js","")}Pk("");var Ok="firebase",xk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(Ok,xk,"app");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={PHONE:"phone",TOTP:"totp"},CA={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},PA={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},OA={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},xA={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function qg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NA=Nk,Dk=qg,Kg=new lo("auth","Firebase",qg()),DA={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new $g("@firebase/auth");function Lk(r,...e){Xa.logLevel<=De.WARN&&Xa.warn(`Auth (${uo}): ${r}`,...e)}function ja(r,...e){Xa.logLevel<=De.ERROR&&Xa.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,...e){throw md(r,...e)}function bt(r,...e){return md(r,...e)}function pd(r,e,n){const s={...Dk(),[e]:n};return new lo("auth","Firebase",s).create(e,{appName:r.name})}function mt(r){return pd(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ji(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&jt(r,"argument-error"),pd(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function md(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Kg.create(r,...e)}function V(r,e,...n){if(!r)throw md(e,...n)}function _n(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ja(e),new Error(e)}function Un(r,e){r||_n(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof self<"u"&&self.location?.href||""}function gd(){return Em()==="http:"||Em()==="https:"}function Em(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gd()||cI()||"connection"in navigator)?navigator.onLine:!0}function Uk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=lI()||dI()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r,e){Un(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fk=new co(3e4,6e4);function He(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function We(r,e,n,s,o={}){return Jg(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Gi({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return uI()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&sl(r.emulatorConfig.host)&&(m.credentials="include"),Gg.fetch()(await Yg(r,r.config.apiHost,n,h),m)})}async function Jg(r,e,n){r._canInitEmulator=!1;const s={...Mk,...e};try{const o=new zk(r),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bs(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bs(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Bs(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Bs(r,"user-disabled",c);const g=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw pd(r,g,m);jt(r,g)}}catch(o){if(o instanceof wr)throw o;jt(r,"network-request-failed",{message:String(o)})}}async function Fn(r,e,n,s,o={}){const l=await We(r,e,n,s,o);return"mfaPendingCredential"in l&&jt(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Yg(r,e,n,s){const o=`${e}${n}?${s}`,l=r,c=l.config.emulator?vd(r.config,o):`${r.config.apiScheme}://${o}`;return $k.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Bk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bt(this.auth,"network-request-failed")),Fk.get())})}}function Bs(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bt(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r){return r!==void 0&&r.getResponse!==void 0}function Im(r){return r!==void 0&&r.enterprise!==void 0}class Qg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Bk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(r){return(await We(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Xg(r,e){return We(r,"GET","/v2/recaptchaConfig",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(r,e){return We(r,"POST","/v1/accounts:delete",e)}async function Wk(r,e){return We(r,"POST","/v1/accounts:update",e)}async function Za(r,e){return We(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r,e=!1){return me(r).getIdToken(e)}async function qk(r,e=!1){const n=me(r),s=await n.getIdToken(e),o=ol(s);V(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:qs(Sc(o.auth_time)),issuedAtTime:qs(Sc(o.iat)),expirationTime:qs(Sc(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Sc(r){return Number(r)*1e3}function ol(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ja("JWT malformed, contained fewer than 3 sections"),null;try{const o=jg(n);return o?JSON.parse(o):(ja("Failed to decode base64 JWT payload"),null)}catch(o){return ja("Caught error parsing JWT payload as JSON",o?.toString()),null}}function km(r){const e=ol(r);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mn(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wr&&Kk(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Kk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qs(this.lastLoginAt),this.creationTime=qs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r){const e=r.auth,n=await r.getIdToken(),s=await Mn(r,Za(e,{idToken:n}));V(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?Zg(o.providerUserInfo):[],c=Yk(r.providerData,l),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,m=h?p:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gc(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,g)}async function Jk(r){const e=me(r);await to(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yk(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Zg(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(r,e){const n=await Jg(r,{},async()=>{const s=Gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=await Yg(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return r.emulatorConfig&&sl(r.emulatorConfig.host)&&(p.credentials="include"),Gg.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xk(r,e){return We(r,"POST","/v2/accounts:revokeToken",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):km(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=km(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await Qk(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Ui;return s&&(V(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(V(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(V(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(r,e){V(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mn(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await to(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(et(this.auth.app))return Promise.reject(mt(this.auth));const e=await this.getIdToken();return await Mn(this,Hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:T,providerData:N,stsTokenManager:C}=n;V(_&&C,e,"internal-error");const R=Ui.fromJSON(this.name,C);V(typeof _=="string",e,"internal-error"),ur(s,e.name),ur(o,e.name),V(typeof w=="boolean",e,"internal-error"),V(typeof T=="boolean",e,"internal-error"),ur(l,e.name),ur(c,e.name),ur(h,e.name),ur(p,e.name),ur(m,e.name),ur(g,e.name);const O=new cn({uid:_,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:T,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:g});return N&&Array.isArray(N)&&(O.providerData=N.map(D=>({...D}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ui;o.updateFromServerResponse(n);const l=new cn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await to(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];V(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Zg(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,h=new Ui;h.updateFromIdToken(s);const p=new cn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gc(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Map;function Pn(r){Un(r instanceof Function,"Expected a class definition");let e=Tm.get(r);return e?(Un(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Tm.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ev.type="NONE";const bm=ev;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(r,e,n){return`firebase:${r}:${e}:${n}`}class Mi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Ua(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ua("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Za(this.auth,{idToken:e}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mi(Pn(bm),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Pn(bm);const c=Ua(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let _;if(typeof g=="string"){const w=await Za(e,{idToken:g}).catch(()=>{});if(!w)break;_=await cn._fromGetAccountInfoResponse(e,w,g)}else _=cn._fromJSON(e,g);m!==l&&(h=_),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Mi(l,e,s):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Mi(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ov(e))return"Blackberry";if(av(e))return"Webos";if(nv(e))return"Safari";if((e.includes("chrome/")||rv(e))&&!e.includes("edge/"))return"Chrome";if(sv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function tv(r=Rt()){return/firefox\//i.test(r)}function nv(r=Rt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rv(r=Rt()){return/crios\//i.test(r)}function iv(r=Rt()){return/iemobile/i.test(r)}function sv(r=Rt()){return/android/i.test(r)}function ov(r=Rt()){return/blackberry/i.test(r)}function av(r=Rt()){return/webos/i.test(r)}function yd(r=Rt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zk(r=Rt()){return yd(r)&&!!window.navigator?.standalone}function eT(){return hI()&&document.documentMode===10}function lv(r=Rt()){return yd(r)||sv(r)||av(r)||ov(r)||/windows phone/i.test(r)||iv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r,e=[]){let n;switch(r){case"Browser":n=Rm(Rt());break;case"Worker":n=`${Rm(Rt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(r,e={}){return We(r,"GET","/v2/passwordPolicy",He(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=6;class iT{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rT,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Am(this),this.idTokenSubscription=new Am(this),this.beforeStateQueue=new tT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Za(this,{idToken:e}),s=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(et(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await to(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(et(this.app))return Promise.reject(mt(this));const n=e?me(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return et(this.app)?Promise.reject(mt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return et(this.app)?Promise.reject(mt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nT(this),n=new iT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pn(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Mi.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tt(r){return me(r)}class Am{constructor(e){this.auth=e,this.observer=null,this.addObserver=_I(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oT(r){ho=r}function _d(r){return ho.loadJS(r)}function aT(){return ho.recaptchaV2Script}function lT(){return ho.recaptchaEnterpriseScript}function uT(){return ho.gapiScript}function cv(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=500,dT=6e4,Oa=1e12;class hT{constructor(e){this.auth=e,this.counter=Oa,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new mT(e,this.auth.name,n||{})),this.counter++,s}reset(e){const n=e||Oa;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||Oa;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||Oa;return this._widgets.get(n)?.execute(),""}}class fT{constructor(){this.enterprise=new pT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mT{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;V(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gT(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},dT)},cT))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gT(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const vT="recaptcha-enterprise",Ks="NO_RECAPTCHA";class dv{constructor(e){this.type=vT,this.auth=tt(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{Xg(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Qg(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function o(l,c,h){const p=window.grecaptcha;Im(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(Ks)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fT().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&Im(window.grecaptcha))o(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lT();p.length!==0&&(p+=h),_d(p).then(()=>{o(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Us(r,e,n,s=!1,o=!1){const l=new dv(r);let c;if(o)c=Ks;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vr(r,e,n,s,o){if(o==="EMAIL_PASSWORD_PROVIDER")if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Us(r,e,n,n==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Us(r,e,n,n==="getOobCode");return s(r,c)}else return Promise.reject(l)});else if(o==="PHONE_PROVIDER")if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const l=await Us(r,e,n);return s(r,l).catch(async c=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Us(r,e,n,!1,!0);return s(r,h)}return Promise.reject(c)})}else{const l=await Us(r,e,n,!1,!0);return s(r,l)}else return Promise.reject(o+" provider is not supported.")}async function hv(r){const e=tt(r),n=await Xg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Qg(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new dv(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,e){const n=zg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Vi(l,e??{}))return o;jt(o,"already-initialized")}return n.initialize({options:e})}function _T(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Pn);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function wT(r,e,n){const s=tt(r);V(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!!n?.disableWarnings,l=fv(e),{host:c,port:h}=ET(e),p=h===null?"":`:${h}`,m={url:`${l}//${c}${p}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){V(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),V(Vi(m,s.config.emulator)&&Vi(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(iI(`${l}//${c}${p}`),aI("Auth",!0)):o||ST()}function fv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ET(r){const e=fv(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Cm(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Cm(c)}}}function Cm(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ST(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(r,e){return We(r,"POST","/v1/accounts:resetPassword",He(r,e))}async function IT(r,e){return We(r,"POST","/v1/accounts:update",e)}async function kT(r,e){return We(r,"POST","/v1/accounts:signUp",e)}async function TT(r,e){return We(r,"POST","/v1/accounts:update",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(r,e){return Fn(r,"POST","/v1/accounts:signInWithPassword",He(r,e))}async function al(r,e){return We(r,"POST","/v1/accounts:sendOobCode",He(r,e))}async function RT(r,e){return al(r,e)}async function AT(r,e){return al(r,e)}async function CT(r,e){return al(r,e)}async function PT(r,e){return al(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(r,e){return Fn(r,"POST","/v1/accounts:signInWithEmailLink",He(r,e))}async function xT(r,e){return Fn(r,"POST","/v1/accounts:signInWithEmailLink",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends fo{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new no(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new no(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vr(e,n,"signInWithPassword",bT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return OT(e,{email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vr(e,s,"signUpPassword",kT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xT(e,{idToken:n,email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dn(r,e){return Fn(r,"POST","/v1/accounts:signInWithIdp",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="http://localhost";class $n extends fo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new $n(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Dn(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Dn(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dn(e,n)}buildRequest(){const e={requestUri:NT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(r,e){return We(r,"POST","/v1/accounts:sendVerificationCode",He(r,e))}async function DT(r,e){return Fn(r,"POST","/v1/accounts:signInWithPhoneNumber",He(r,e))}async function LT(r,e){const n=await Fn(r,"POST","/v1/accounts:signInWithPhoneNumber",He(r,e));if(n.temporaryProof)throw Bs(r,"account-exists-with-different-credential",n);return n}const jT={USER_NOT_FOUND:"user-not-found"};async function UT(r,e){const n={...e,operation:"REAUTH"};return Fn(r,"POST","/v1/accounts:signInWithPhoneNumber",He(r,n),jT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends fo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Wr({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Wr({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return DT(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return LT(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return UT(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:l}=e;return!s&&!n&&!o&&!l?null:new Wr({verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $T(r){const e=$s(Fs(r)).link,n=e?$s(Fs(e)).deep_link_id:null,s=$s(Fs(r)).deep_link_id;return(s?$s(Fs(s)).link:null)||s||n||e||r}class po{constructor(e){const n=$s(Fs(e)),s=n.apiKey??null,o=n.oobCode??null,l=MT(n.mode??null);V(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$T(e);try{return new po(n)}catch{return null}}}function jA(r){return po.parseLink(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.providerId=Jr.PROVIDER_ID}static credential(e,n){return no._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=po.parseLink(n);return V(s,"argument-error"),no._fromEmailAndCode(e,s.code,s.tenantId)}}Jr.PROVIDER_ID="password";Jr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ma extends Yi{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),$n._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),$n._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Ma.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ma.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:l,nonce:c,providerId:h}=e;if(!s&&!o&&!n&&!l||!h)return null;try{return new Ma(h)._credential({idToken:n,accessToken:s,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Yi{constructor(){super("facebook.com")}static credential(e){return $n._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $n._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return un.credential(n,s)}catch{return null}}}un.GOOGLE_SIGN_IN_METHOD="google.com";un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Yi{constructor(){super("github.com")}static credential(e){return $n._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="http://localhost";class ro extends fo{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Dn(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Dn(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dn(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,pendingToken:l}=n;return!s||!o||!l||s!==o?null:new ro(s,l)}static _create(e,n){return new ro(e,n)}buildRequest(){return{requestUri:FT,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="saml.";class Jc extends Bn{constructor(e){V(e.startsWith(BT),"argument-error"),super(e)}static credentialFromResult(e){return Jc.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jc.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ro.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:s}=e;if(!n||!s)return null;try{return ro._create(s,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Yi{constructor(){super("twitter.com")}static credential(e,n){return $n._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(r,e){return Fn(r,"POST","/v1/accounts:signUp",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await cn._fromIdTokenResponse(e,s,o),c=Om(s);return new Yt({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Om(s);return new Yt({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Om(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(r){if(et(r.app))return Promise.reject(mt(r));const e=tt(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Yt({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await mv(e,{returnSecureToken:!0}),s=await Yt._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends wr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,el.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new el(e,n,s,o)}}function gv(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?el._fromErrorAndOperation(r,l,e,s):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(r,e){const n=me(r);await ll(!0,n,e);const{providerUserInfo:s}=await Wk(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=vv(s||[]);return n.providerData=n.providerData.filter(l=>o.has(l.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function wd(r,e,n=!1){const s=await Mn(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Yt._forOperation(r,"link",s)}async function ll(r,e,n){await to(e);const s=vv(e.providerData),o=r===!1?"provider-already-linked":"no-such-provider";V(s.has(n)===r,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(r,e,n=!1){const{auth:s}=r;if(et(s.app))return Promise.reject(mt(s));const o="reauthenticate";try{const l=await Mn(r,gv(s,o,e,r),n);V(l.idToken,s,"internal-error");const c=ol(l.idToken);V(c,s,"internal-error");const{sub:h}=c;return V(r.uid===h,s,"user-mismatch"),Yt._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&jt(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(r,e,n=!1){if(et(r.app))return Promise.reject(mt(r));const s="signIn",o=await gv(r,s,e),l=await Yt._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(l.user),l}async function Ed(r,e){return _v(tt(r),e)}async function wv(r,e){const n=me(r);return await ll(!1,n,e.providerId),wd(n,e)}async function zT(r,e){return yv(me(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(r,e){return Fn(r,"POST","/v1/accounts:signInWithCustomToken",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(r,e){if(et(r.app))return Promise.reject(mt(r));const n=tt(r),s=await VT(n,{token:e,returnSecureToken:!0}),o=await Yt._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Sd._fromServerResponse(e,n):"totpInfo"in n?Id._fromServerResponse(e,n):jt(e,"internal-error")}}class Sd extends mo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Sd(n)}}class Id extends mo{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Id(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r,e,n){V(n.url?.length>0,r,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),V(typeof n.linkDomain>"u"||n.linkDomain.length>0,r,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(r){const e=tt(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FA(r,e,n){const s=tt(r),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ul(s,o,n),await vr(s,o,"getOobCode",AT,"EMAIL_PASSWORD_PROVIDER")}async function BA(r,e,n){await pv(me(r),{oobCode:e,newPassword:n}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kd(r),s})}async function zA(r,e){await TT(me(r),{oobCode:e})}async function HT(r,e){const n=me(r),s=await pv(n,{oobCode:e}),o=s.requestType;switch(V(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(s.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(s.mfaInfo,n,"internal-error");default:V(s.email,n,"internal-error")}let l=null;return s.mfaInfo&&(l=mo._fromServerResponse(tt(n),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:l},operation:o}}async function VA(r,e){const{data:n}=await HT(me(r),e);return n.email}async function HA(r,e,n){if(et(r.app))return Promise.reject(mt(r));const s=tt(r),c=await vr(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mv,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kd(r),p}),h=await Yt._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function Ic(r,e,n){return et(r.app)?Promise.reject(mt(r)):Ed(me(r),Jr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kd(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(r,e,n){const s=tt(r),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,h){V(h.handleCodeInApp,s,"argument-error"),h&&ul(s,c,h)}l(o,n),await vr(s,o,"getOobCode",CT,"EMAIL_PASSWORD_PROVIDER")}function qA(r,e){return po.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function KA(r,e,n){if(et(r.app))return Promise.reject(mt(r));const s=me(r),o=Jr.credentialWithLink(e,n||eo());return V(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Ed(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,e){return We(r,"POST","/v1/accounts:createAuthUri",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(r,e){const n=gd()?eo():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:o}=await WT(me(r),s);return o||[]}async function GA(r,e){const n=me(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()};e&&ul(n.auth,o,e);const{email:l}=await RT(n.auth,o);l!==r.email&&await r.reload()}async function JA(r,e,n){const s=me(r),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await r.getIdToken(),newEmail:e};n&&ul(s.auth,l,n);const{email:c}=await PT(s.auth,l);c!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(r,e){return We(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=me(r),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Mn(s,KT(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function QA(r,e){const n=me(r);return et(n.auth.app)?Promise.reject(mt(n.auth)):Ev(n,e,null)}function XA(r,e){return Ev(me(r),null,e)}async function Ev(r,e,n){const{auth:s}=r,l={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const c=await Mn(r,IT(s,l));await r._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){if(!r)return null;const{providerId:e}=r,n=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},s=r.isNewUser||r.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&r?.idToken){const o=ol(r.idToken)?.firebase?.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new $i(s,l)}}if(!e)return null;switch(e){case"facebook.com":return new JT(s,n);case"github.com":return new YT(s,n);case"google.com":return new QT(s,n);case"twitter.com":return new XT(s,n,r.screenName||null);case"custom":case"anonymous":return new $i(s,null);default:return new $i(s,e,n)}}class $i{constructor(e,n,s={}){this.isNewUser=e,this.providerId=n,this.profile=s}}class Sv extends $i{constructor(e,n,s,o){super(e,n,s),this.username=o}}class JT extends $i{constructor(e,n){super(e,"facebook.com",n)}}class YT extends Sv{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}}class QT extends $i{constructor(e,n){super(e,"google.com",n)}}class XT extends Sv{constructor(e,n,s){super(e,"twitter.com",n,s)}}function ZA(r){const{user:e,_tokenResponse:n}=r;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:GT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r,e){return me(r).setPersistence(e)}function tC(r){return hv(r)}async function nC(r,e){return tt(r).validatePassword(e)}function ZT(r,e,n,s){return me(r).onIdTokenChanged(e,n,s)}function eb(r,e,n){return me(r).beforeAuthStateChanged(e,n)}function tb(r,e,n,s){return me(r).onAuthStateChanged(e,n,s)}function rC(r){me(r).useDeviceLanguage()}function iC(r,e){return me(r).updateCurrentUser(e)}function nb(r){return me(r).signOut()}function sC(r,e){return tt(r).revokeAccessToken(e)}async function oC(r){return me(r).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s){this.type=e,this.credential=n,this.user=s}static _fromIdtoken(e,n){return new Hr("enroll",e,n)}static _fromMfaPendingCredential(e){return new Hr("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return Hr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return Hr._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s){this.session=e,this.hints=n,this.signInResolver=s}static _fromError(e,n){const s=tt(e),o=n.customData._serverResponse,l=(o.mfaInfo||[]).map(h=>mo._fromServerResponse(s,h));V(o.mfaPendingCredential,s,"internal-error");const c=Hr._fromMfaPendingCredential(o.mfaPendingCredential);return new Td(c,l,async h=>{const p=await h._process(s,c);delete o.mfaInfo,delete o.mfaPendingCredential;const m={...o,idToken:p.idToken,refreshToken:p.refreshToken};switch(n.operationType){case"signIn":const g=await Yt._fromIdTokenResponse(s,n.operationType,m);return await s._updateCurrentUser(g.user),g;case"reauthenticate":return V(n.user,s,"internal-error"),Yt._forOperation(n.user,n.operationType,m);default:jt(s,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function aC(r,e){const n=me(r),s=e;return V(e.customData.operationType,n,"argument-error"),V(s.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),Td._fromError(n,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,e){return We(r,"POST","/v2/accounts/mfaEnrollment:start",He(r,e))}function rb(r,e){return We(r,"POST","/v2/accounts/mfaEnrollment:finalize",He(r,e))}function ib(r,e){return We(r,"POST","/v2/accounts/mfaEnrollment:start",He(r,e))}function sb(r,e){return We(r,"POST","/v2/accounts/mfaEnrollment:finalize",He(r,e))}function ob(r,e){return We(r,"POST","/v2/accounts/mfaEnrollment:withdraw",He(r,e))}class bd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(s=>mo._fromServerResponse(e.auth,s)))})}static _fromUser(e){return new bd(e)}async getSession(){return Hr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const s=e,o=await this.getSession(),l=await Mn(this.user,s._process(this.user.auth,o,n));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,s=await this.user.getIdToken();try{const o=await Mn(this.user,ob(this.user.auth,{idToken:s,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==n),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const kc=new WeakMap;function lC(r){const e=me(r);return kc.has(e)||kc.set(e,bd._fromUser(e)),kc.get(e)}const tl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tl,"1"),this.storage.removeItem(tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=1e3,lb=10;class kv extends Iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);eT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lb):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ab)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kv.type="LOCAL";const ub=kv;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=1e3;function Tc(r){const e=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${e}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function bc(r){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${r.split(":")[3]}`}class Tv{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const n=new URL(`${window.location.origin}/__cookies__`);return n.searchParams.set("finalTarget",e),n}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;const n=bc(e);return window.cookieStore?(await window.cookieStore.get(n))?.value:Tc(n)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const s=bc(e);document.cookie=`${s}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;const s=bc(e);if(window.cookieStore){const h=(m=>{const g=m.changed.find(w=>w.name===s);g&&n(g.value),m.deleted.find(w=>w.name===s)&&n(null)}),p=()=>window.cookieStore.removeEventListener("change",h);return this.listenerUnsubscribes.set(n,p),window.cookieStore.addEventListener("change",h)}let o=Tc(s);const l=setInterval(()=>{const h=Tc(s);h!==o&&(n(h),o=h)},cb),c=()=>clearInterval(l);this.listenerUnsubscribes.set(n,c)}_removeListener(e,n){const s=this.listenerUnsubscribes.get(n);s&&(s(),this.listenerUnsubscribes.delete(n))}}Tv.type="COOKIE";const uC=Tv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bv.type="SESSION";const Rv=bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async m=>m(n.origin,l)),p=await db(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=dl("",20);o.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(g),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return window}function fb(r){at().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(){return typeof at().WorkerGlobalScope<"u"&&typeof at().importScripts=="function"}async function pb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mb(){return navigator?.serviceWorker?.controller||null}function gb(){return Rd()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="firebaseLocalStorageDb",vb=1,nl="firebaseLocalStorage",Cv="fbase_key";class go{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hl(r,e){return r.transaction([nl],e?"readwrite":"readonly").objectStore(nl)}function yb(){const r=indexedDB.deleteDatabase(Av);return new go(r).toPromise()}function Yc(){const r=indexedDB.open(Av,vb);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nl,{keyPath:Cv})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nl)?e(s):(s.close(),await yb(),e(await Yc()))})})}async function Nm(r,e,n){const s=hl(r,!0).put({[Cv]:e,value:n});return new go(s).toPromise()}async function _b(r,e){const n=hl(r,!1).get(e),s=await new go(n).toPromise();return s===void 0?null:s.value}function Dm(r,e){const n=hl(r,!0).delete(e);return new go(n).toPromise()}const wb=800,Eb=3;class Pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Eb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cl._getInstance(gb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pb(),!this.activeServiceWorker)return;this.sender=new hb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yc();return await Nm(e,tl,"1"),await Dm(e,tl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_b(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=hl(o,!1).getAll();return new go(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pv.type="LOCAL";const Sb=Pv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e){return We(r,"POST","/v2/accounts/mfaSignIn:start",He(r,e))}function Ib(r,e){return We(r,"POST","/v2/accounts/mfaSignIn:finalize",He(r,e))}function kb(r,e){return We(r,"POST","/v2/accounts/mfaSignIn:finalize",He(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=cv("rcb"),Tb=new co(3e4,6e4);class bb{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!at().grecaptcha?.render}load(e,n=""){return V(Rb(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Sm(at().grecaptcha)?Promise.resolve(at().grecaptcha):new Promise((s,o)=>{const l=at().setTimeout(()=>{o(bt(e,"network-request-failed"))},Tb.get());at()[Rc]=()=>{at().clearTimeout(l),delete at()[Rc];const h=at().grecaptcha;if(!h||!Sm(h)){o(bt(e,"internal-error"));return}const p=h.render;h.render=(m,g)=>{const _=p(m,g);return this.counter++,_},this.hostLanguage=n,s(h)};const c=`${aT()}?${Gi({onload:Rc,render:"explicit",hl:n})}`;_d(c).catch(()=>{clearTimeout(l),o(bt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!at().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Rb(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class Ab{async load(e){return new hT(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="recaptcha",Cb={theme:"light",type:"image"};class cC{constructor(e,n,s={...Cb}){this.parameters=s,this.type=Gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;V(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ab:new bb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(o=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),o(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=at()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(gd()&&!Rd(),this.auth,"internal-error"),await Pb(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Vk(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Pb(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Wr._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function dC(r,e,n){if(et(r.app))return Promise.reject(mt(r));const s=tt(r),o=await fl(s,e,me(n));return new Ad(o,l=>Ed(s,l))}async function hC(r,e,n){const s=me(r);await ll(!1,s,"phone");const o=await fl(s.auth,e,me(n));return new Ad(o,l=>wv(s,l))}async function fC(r,e,n){const s=me(r);if(et(s.auth.app))return Promise.reject(mt(s.auth));const o=await fl(s.auth,e,me(n));return new Ad(o,l=>zT(s,l))}async function fl(r,e,n){if(!r._getRecaptchaConfig())try{await hv(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){V(o.type==="enroll",r,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await vr(r,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Ks){V(n?.type===Gs,m,"argument-error");const _=await Ac(m,g,n);return xm(m,_)}return xm(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{V(o.type==="signin",r,"internal-error");const l=s.multiFactorHint?.uid||s.multiFactorUid;V(l,r,"missing-multi-factor-info");const c={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await vr(r,c,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===Ks){V(n?.type===Gs,g,"argument-error");const w=await Ac(g,_,n);return Lm(g,w)}return Lm(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await vr(r,o,"sendVerificationCode",async(p,m)=>{if(m.captchaResponse===Ks){V(n?.type===Gs,p,"argument-error");const g=await Ac(p,m,n);return Pm(p,g)}return Pm(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{n?._reset()}}async function pC(r,e){const n=me(r);if(et(n.auth.app))return Promise.reject(mt(n.auth));await wd(n,e)}async function Ac(r,e,n){V(n.type===Gs,r,"argument-error");const s=await n.verify();V(typeof s=="string",r,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.captchaResponse,h=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:s,captchaResponse:c,clientType:h,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.captchaResponse,c=o.phoneSignInInfo.clientType,h=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:l,clientType:c,recaptchaVersion:h}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.providerId=Fi.PROVIDER_ID,this.auth=tt(e)}verifyPhoneNumber(e,n){return fl(this.auth,e,me(n))}static credential(e,n){return Wr._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Fi.credentialFromTaggedObject(n)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:s}=e;return n&&s?Wr._fromTokenResponse(n,s):null}}Fi.PROVIDER_ID="phone";Fi.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r,e){return e?Pn(e):(V(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends fo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dn(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ob(r){return _v(r.auth,new Cd(r),r.bypassAuthState)}function xb(r){const{auth:e,user:n}=r;return V(n,e,"internal-error"),yv(n,new Cd(r),r.bypassAuthState)}async function Nb(r){const{auth:e,user:n}=r;return V(n,e,"internal-error"),wd(n,new Cd(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ob;case"linkViaPopup":case"linkViaRedirect":return Nb;case"reauthViaPopup":case"reauthViaRedirect":return xb;default:jt(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new co(2e3,1e4);async function Lb(r,e,n){if(et(r.app))return Promise.reject(bt(r,"operation-not-supported-in-this-environment"));const s=tt(r);Ji(r,e,Bn);const o=Yr(s,n);return new On(s,"signInViaPopup",e,o).executeNotNull()}async function mC(r,e,n){const s=me(r);if(et(s.auth.app))return Promise.reject(bt(s.auth,"operation-not-supported-in-this-environment"));Ji(s.auth,e,Bn);const o=Yr(s.auth,n);return new On(s.auth,"reauthViaPopup",e,o,s).executeNotNull()}async function gC(r,e,n){const s=me(r);Ji(s.auth,e,Bn);const o=Yr(s.auth,n);return new On(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class On extends Ov{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,On.currentPopupAction&&On.currentPopupAction.cancel(),On.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=dl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,On.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Db.get())};e()}}On.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="pendingRedirect",$a=new Map;class Ub extends Ov{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$a.get(this.auth._key());if(!e){try{const s=await Mb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$a.set(this.auth._key(),e)}return this.bypassAuthState||$a.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mb(r,e){const n=Nv(e),s=xv(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function Pd(r,e){return xv(r)._set(Nv(e),"true")}function $b(r,e){$a.set(r._key(),e)}function xv(r){return Pn(r._redirectPersistence)}function Nv(r){return Ua(jb,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r,e,n){return Fb(r,e,n)}async function Fb(r,e,n){if(et(r.app))return Promise.reject(mt(r));const s=tt(r);Ji(r,e,Bn),await s._initializationPromise;const o=Yr(s,n);return await Pd(o,s),o._openRedirect(s,e,"signInViaRedirect")}function yC(r,e,n){return Bb(r,e,n)}async function Bb(r,e,n){const s=me(r);if(Ji(s.auth,e,Bn),et(s.auth.app))return Promise.reject(mt(s.auth));await s.auth._initializationPromise;const o=Yr(s.auth,n);await Pd(o,s.auth);const l=await Lv(s);return o._openRedirect(s.auth,e,"reauthViaRedirect",l)}function _C(r,e,n){return zb(r,e,n)}async function zb(r,e,n){const s=me(r);Ji(s.auth,e,Bn),await s.auth._initializationPromise;const o=Yr(s.auth,n);await ll(!1,s,e.providerId),await Pd(o,s.auth);const l=await Lv(s);return o._openRedirect(s.auth,e,"linkViaRedirect",l)}async function Vb(r,e){return await tt(r)._initializationPromise,Dv(r,e,!1)}async function Dv(r,e,n=!1){if(et(r.app))return Promise.reject(mt(r));const s=tt(r),o=Yr(s,e),c=await new Ub(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}async function Lv(r){const e=dl(`${r.uid}:::`);return r._redirectEventId=e,await r.auth._setRedirectUser(r),await r.auth._persistUserIfCurrent(r),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=600*1e3;class Wb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jv(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hb&&this.cachedEventUids.clear(),this.cachedEventUids.has(jm(e))}saveEventToCache(e){this.cachedEventUids.add(jm(e)),this.lastProcessedEventTime=Date.now()}}function jm(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jv({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jv(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(r,e={}){return We(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jb=/^https?/;async function Yb(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Kb(r);for(const n of e)try{if(Qb(n))return}catch{}jt(r,"unauthorized-domain")}function Qb(r){const e=eo(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Jb.test(n))return!1;if(Gb.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new co(3e4,6e4);function Um(){const r=at().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Zb(r){return new Promise((e,n)=>{function s(){Um(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Um(),n(bt(r,"network-request-failed"))},timeout:Xb.get()})}if(at().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(at().gapi?.load)s();else{const o=cv("iframefcb");return at()[o]=()=>{gapi.load?s():n(bt(r,"network-request-failed"))},_d(`${uT()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Fa=null,e})}let Fa=null;function eR(r){return Fa=Fa||Zb(r),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new co(5e3,15e3),nR="__/auth/iframe",rR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(r){const e=r.config;V(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?vd(e,rR):`https://${r.config.authDomain}/${nR}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=sR.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Gi(s).slice(1)}`}async function aR(r){const e=await eR(r),n=at().gapi;return V(n,r,"internal-error"),e.open({where:document.body,url:oR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=bt(r,"network-request-failed"),h=at().setTimeout(()=>{l(c)},tR.get());function p(){at().clearTimeout(h),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,cR=600,dR="_blank",hR="http://localhost";class Mm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fR(r,e,n,s=uR,o=cR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...lR,width:s.toString(),height:o.toString(),top:l,left:c},m=Rt().toLowerCase();n&&(h=rv(m)?dR:n),tv(m)&&(e=e||hR,p.scrollbars="yes");const g=Object.entries(p).reduce((w,[T,N])=>`${w}${T}=${N},`,"");if(Zk(m)&&h!=="_self")return pR(e||"",h),new Mm(null);const _=window.open(e||"",h,g);V(_,r,"popup-blocked");try{_.focus()}catch{}return new Mm(_)}function pR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__/auth/handler",gR="emulator/auth/handler",vR=encodeURIComponent("fac");async function $m(r,e,n,s,o,l){V(r.config.authDomain,r,"auth-domain-config-required"),V(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof Bn){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",yI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof Yi){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}r.tenantId&&(c.tid=r.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const p=await r._getAppCheckToken(),m=p?`#${vR}=${encodeURIComponent(p)}`:"";return`${yR(r)}?${Gi(h).slice(1)}${m}`}function yR({config:r}){return r.emulator?vd(r,gR):`https://${r.authDomain}/${mR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rv,this._completeRedirectFn=Dv,this._overrideRedirectResult=$b}async _openPopup(e,n,s,o){Un(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await $m(e,n,s,eo(),o);return fR(e,l,dl())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await $m(e,n,s,eo(),o);return fb(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Un(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await aR(e),s=new Wb(e);return n.register("authEvent",o=>(V(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cc,{type:Cc},o=>{const l=o?.[0]?.[Cc];l!==void 0&&n(!!l),jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lv()||nv()||yd()}}const wR=_R;class Uv{constructor(e){this.factorId=e}_process(e,n,s){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,s);case"signin":return this._finalizeSignIn(e,n.credential);default:return _n("unexpected MultiFactorSessionType")}}}class Od extends Uv{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Od(e)}_finalizeEnroll(e,n,s){return rb(e,{idToken:n,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Ib(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ER{constructor(){}static assertion(e){return Od._fromCredential(e)}}ER.FACTOR_ID="phone";class SR{static assertionForEnrollment(e,n){return io._fromSecret(e,n)}static assertionForSignIn(e,n){return io._fromEnrollmentId(e,n)}static async generateSecret(e){const n=e;V(typeof n.user?.auth<"u","internal-error");const s=await ib(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return xd._fromStartTotpMfaEnrollmentResponse(s,n.user.auth)}}SR.FACTOR_ID="totp";class io extends Uv{constructor(e,n,s){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=s}static _fromSecret(e,n){return new io(n,void 0,e)}static _fromEnrollmentId(e,n){return new io(n,e)}async _finalizeEnroll(e,n,s){return V(typeof this.secret<"u",e,"argument-error"),sb(e,{idToken:n,displayName:s,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){V(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const s={verificationCode:this.otp};return kb(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:s})}}class xd{constructor(e,n,s,o,l,c,h){this.sessionInfo=c,this.auth=h,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=s,this.codeIntervalSeconds=o,this.enrollmentCompletionDeadline=l}static _fromStartTotpMfaEnrollmentResponse(e,n){return new xd(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){let s=!1;return(xa(e)||xa(n))&&(s=!0),s&&(xa(e)&&(e=this.auth.currentUser?.email||"unknownuser"),xa(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function xa(r){return typeof r>"u"||r?.length===0}var Fm="@firebase/auth",Bm="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(r){Xs(new Hi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;V(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uv(r)},m=new sT(s,o,l,p);return _T(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Hi("auth-internal",e=>{const n=tt(e.getProvider("auth").getImmediate());return(s=>new IR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(Fm,Bm,kR(r)),ji(Fm,Bm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=300,RR=Mg("authIdTokenMaxAge")||bR;let zm=null;const AR=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RR)return;const o=n?.token;zm!==o&&(zm=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CR(r=wk()){const e=zg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=yT(r,{popupRedirectResolver:wR,persistence:[Sb,ub,Rv]}),s=Mg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=AR(l.toString());eb(n,c,()=>c(n.currentUser)),ZT(n,h=>c(h))}}const o=nI("auth");return o&&wT(n,`http://${o}`),n}function PR(){return document.getElementsByTagName("head")?.[0]??document}oT({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=bt("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",PR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");const Vm={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAzEIPnY-QvO6UHgjZdaNZfZob5kDt0maU",VITE_FIREBASE_APP_ID:"1:173197655087:web:fa8178031520bba1ed1ada",VITE_FIREBASE_AUTH_DOMAIN:"projeto-automotivo-bc7ae.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9YN74LJEDV",VITE_FIREBASE_MESSAGING_SENDER_ID:"173197655087",VITE_FIREBASE_PROJECT_ID:"projeto-automotivo-bc7ae",VITE_FIREBASE_STORAGE_BUCKET:"projeto-automotivo-bc7ae.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pc2htcWRidGNxcm54YnZzc3Z3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MjQ2MzAsImV4cCI6MjA3NTIwMDYzMH0.GI44PF1t5VyJZ74RMJjQrkoxW3BmBL7lD3NnqxMEIsI",VITE_SUPABASE_URL:"https://nishmqdbtcqrnxbvssvw.supabase.co"};var OR={};let Te=null;try{Te=typeof import.meta<"u"&&import.meta&&Vm?Vm:null}catch{Te=null}const Ae=typeof process<"u"&&OR||{},Ba={apiKey:Te&&Te.VITE_FIREBASE_API_KEY||Ae.REACT_APP_FIREBASE_API_KEY||Ae.FIREBASE_API_KEY,authDomain:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN||Ae.REACT_APP_FIREBASE_AUTH_DOMAIN||Ae.FIREBASE_AUTH_DOMAIN,projectId:Te&&Te.VITE_FIREBASE_PROJECT_ID||Ae.REACT_APP_FIREBASE_PROJECT_ID||Ae.FIREBASE_PROJECT_ID,storageBucket:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET||Ae.REACT_APP_FIREBASE_STORAGE_BUCKET||Ae.FIREBASE_STORAGE_BUCKET,messagingSenderId:Te&&Te.VITE_FIREBASE_MESSAGING_SENDER_ID||Ae.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||Ae.FIREBASE_MESSAGING_SENDER_ID,appId:Te&&Te.VITE_FIREBASE_APP_ID||Ae.REACT_APP_FIREBASE_APP_ID||Ae.FIREBASE_APP_ID,measurementId:Te&&Te.VITE_FIREBASE_MEASUREMENT_ID||Ae.REACT_APP_FIREBASE_MEASUREMENT_ID||Ae.FIREBASE_MEASUREMENT_ID};try{const r={apiKeySource:Te&&Te.VITE_FIREBASE_API_KEY?"import.meta.env (VITE_)":Ae.REACT_APP_FIREBASE_API_KEY||Ae.FIREBASE_API_KEY?"process.env":"none",authDomainSource:Te&&Te.VITE_FIREBASE_AUTH_DOMAIN?"import.meta.env (VITE_)":Ae.REACT_APP_FIREBASE_AUTH_DOMAIN||Ae.FIREBASE_AUTH_DOMAIN?"process.env":"none",projectIdSource:Te&&Te.VITE_FIREBASE_PROJECT_ID?"import.meta.env (VITE_)":Ae.REACT_APP_FIREBASE_PROJECT_ID||Ae.FIREBASE_PROJECT_ID?"process.env":"none",storageBucketSource:Te&&Te.VITE_FIREBASE_STORAGE_BUCKET?"import.meta.env (VITE_)":Ae.REACT_APP_FIREBASE_STORAGE_BUCKET||Ae.FIREBASE_STORAGE_BUCKET?"process.env":"none",appIdSource:Te&&Te.VITE_FIREBASE_APP_ID?"import.meta.env (VITE_)":Ae.REACT_APP_FIREBASE_APP_ID||Ae.FIREBASE_APP_ID?"process.env":"none"},e=(()=>{const n=Te&&Te.VITE_FIREBASE_API_KEY||Ae.REACT_APP_FIREBASE_API_KEY||Ae.FIREBASE_API_KEY||"";return n?n.length>8?`${n.slice(0,8)}...[masked]`:"[masked]":"(none)"})();console.debug("[firebase] env sources:",r,"maskedApiKey:",e)}catch(r){console.debug("[firebase] env debug failed",r&&r.message)}const xR=!!(Ba.apiKey&&Ba.projectId&&Ba.appId);let Hm=null,Ze=null;xR?(Hm=Vg(Ba),Ze=CR(Hm)):console.error("[firebase] missing essential config (apiKey/projectId/appId). Skipping initializeApp to avoid /__/firebase/init.json requests.");try{const r=!!(Te&&(Te.DEV||Te.VITE_DEBUG_FIREBASE==="true"))||Ae&&Ae.NODE_ENV!=="production"&&Ae.DEBUG_FIREBASE==="true";typeof window<"u"&&r&&(console.info("[firebase] dev: exposing auth on window.__debugFirebaseAuth"),Object.defineProperty(window,"__debugFirebaseAuth",{value:Ze,writable:!1,configurable:!0}))}catch(r){console.debug("[firebase] failed to attach debug auth",r&&r.message)}const wC=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Ze}},Symbol.toStringTag,{value:"Module"})),za=new un;try{za.addScope("profile"),za.addScope("email"),za.setCustomParameters({prompt:"select_account"})}catch(r){console.debug("[firebaseAuth] could not set provider scopes/params",r&&r.message?r.message:r)}async function NR(){if(!Ze)return{error:new Error("[firebaseAuth] Firebase not configured (missing env vars)")};try{const r=await Lb(Ze,za);let e=null;try{e=un.credentialFromResult(r)}catch{}return{user:r.user,credential:e}}catch(r){return{error:r}}}async function DR(){if(!Ze)return{error:new Error("[firebaseAuth] Firebase not configured (missing env vars)")};try{const r=await Vb(Ze);if(!r)return{none:!0};let e=null;try{e=un.credentialFromResult(r)}catch{}return{user:r.user,credential:e}}catch(r){return{error:r}}}const LR=[{id:"demo1",nome:"Usurio Demo",email:"demo@garagemsmart.com",senha:"123456",celular:"11999999999",isDemo:!0},{id:"admin1",nome:"Admin Demo",email:"admin@garagemsmart.com",senha:"admin123",celular:"11888888888",isDemo:!0},{id:"teste1",nome:"Teste Pblico",email:"teste@garagemsmart.com",senha:"teste123",celular:"11777777777",isDemo:!0}];function jR(){const[r,e]=I.useState(""),[n,s]=I.useState(""),[o,l]=I.useState(""),[c,h]=I.useState(null),[p,m]=I.useState(!1),[g,_]=I.useState(!1),[w,T]=I.useState(!1),[N,C]=I.useState(!1),[R,O]=I.useState(null),[D,j]=I.useState(""),[B,J]=I.useState(!1),[K,ee]=I.useState(null),[ie,L]=I.useState(""),[re,oe]=I.useState(!1),[de,Ee]=I.useState(null),[Le,Be]=I.useState(null),[qe,je]=I.useState(!1),[G,se]=I.useState(""),Y=Kr();I.useEffect(()=>{try{const q=window.history.state&&window.history.state.usr&&window.history.state.usr.state||window.history.state&&window.history.state.state,W=q&&q.email;W&&e(String(W).trim())}catch{}},[]);const{setUsuarioLogado:b}=I.useContext(vo||{});I.useEffect(()=>{try{localStorage.setItem("__test_localStorage__","test"),localStorage.removeItem("__test_localStorage__")}catch{}},[]);function U(z){if(!z||typeof z!="string")return"";let q=z.trim();return q=q.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),q=q.replace(/[._+\-]+/g," "),q=q.replace(/\s+/g," ").trim(),q=q.split(" ").map(W=>W?W.charAt(0).toUpperCase()+W.slice(1):"").join(" ").trim(),q||z}const pe=I.useRef(!1);async function he(z,q=null){if(!(!z||pe.current)){console.log(" [RAW] Firebase User Object:",{uid:z.uid,email:z.email,displayName:z.displayName,photoURL:z.photoURL,emailVerified:z.emailVerified,providerData:z.providerData}),pe.current=!0;try{console.time("[auth-timing] processFirebaseUser total")}catch{}try{let W=null;try{console.time("[auth-timing] wait-for-idToken")}catch{}try{W=await z.getIdToken()}catch(Oe){console.warn("processFirebaseUser: could not obtain idToken",Oe)}try{console.timeEnd("[auth-timing] wait-for-idToken")}catch{}W||console.warn("processFirebaseUser: no idToken available");try{console.time("[auth-timing] backend-verify")}catch{}const Me=window.__API_BASE||"";W&&fetch(`${Me}/api/auth/firebase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({})}).then(Oe=>(console.log("[DEBUG] Backend response status:",Oe.status),Oe.ok?Oe.json():null)).then(Oe=>{if(console.log("[DEBUG] Backend response body:",Oe),Oe&&(Oe.user||Oe.usuario)){const xe=Oe.user||Oe.usuario;console.log("[DEBUG] Backend user data:",xe),console.log("[DEBUG] Phone fields:",{phone:xe.phone,telefone:xe.telefone,celular:xe.celular});const It={...xe,id:z.uid,email:z.email,nome:ye||xe.nome||xe.name,name:ye||xe.name||xe.nome,access_token:W,photoURL:xe.photoURL||xe.photo_url||z.photoURL||null,phone:xe.phone||xe.telefone||xe.celular||null,telefone:xe.telefone||xe.phone||xe.celular||null,celular:xe.celular||xe.phone||xe.telefone||null};console.log("[DEBUG] Updated user with merged data:",It),b&&(console.log("[DEBUG] Updating context with:",It),b(It));try{localStorage.setItem("usuario-logado",JSON.stringify(It)),console.log("[DEBUG] Saved to localStorage")}catch(zt){console.error("[DEBUG] Failed to save to localStorage:",zt)}console.log("[auth-timing] Backend user data merged successfully")}else console.warn("[DEBUG] No user data in backend response")}).catch(Oe=>console.warn("Backend verification failed (non-blocking):",Oe));try{console.timeEnd("[auth-timing] backend-verify")}catch{}const Ne=z&&z.displayName||(z&&z.email?z.email.split("@")[0]:""),ye=U(Ne)||"",Qe={id:z.uid,email:z.email,nome:ye,name:ye,access_token:W,photoURL:z.photoURL||null,phone:null,telefone:null,celular:null};try{(Qe&&String(Qe.id||"").startsWith("dev_")||Qe&&/devuser\+|dev_/.test(String(Qe.nome||"").toLowerCase()))&&ye&&(Qe.nome=ye,Qe.name=ye)}catch{}b&&b(Qe);try{localStorage.setItem("usuario-logado",JSON.stringify(Qe))}catch{}try{console.timeEnd("[auth-timing] processFirebaseUser total")}catch{}Y("/buscar-pecas",{replace:!0}),setTimeout(()=>{window.showToast&&window.showToast(`Bem-vindo(a), ${Qe.nome||"Usurio"}!`,"success",3e3)},100)}catch(W){console.warn("processFirebaseUser failed",W&&W.message?W.message:W)}}}try{typeof window<"u"&&(window.__simulateGoogleSignin=async z=>{try{return await he(z),{ok:!0}}catch(q){return{error:q&&q.message?q.message:q}}})}catch{}I.useEffect(()=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.getItem("__google_redirect_pending")&&(C(!0),T(!0))}catch{}(async()=>{try{console.log("[page-Login] Starting handleRedirectResult check...");const q=await DR();console.log("[page-Login] handleRedirectResult result:",q);try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}C(!1);try{T(!1)}catch{}q&&q.user?(console.log("[page-Login] Processing firebase user from redirect..."),await he(q.user,q.credential||null)):q&&q.error?console.warn("[page-Login] handleRedirectResult returned error",q.error):console.log("[page-Login] No redirect result (expected on normal page load)")}catch(q){try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}C(!1);try{T(!1)}catch{}console.error("[page-Login] handleRedirectResult threw error:",q&&q.message?q.message:q)}})();const z=tb(Ze,async q=>{if(q)try{await he(q)}finally{try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem("__google_redirect_pending")}catch{}C(!1);try{T(!1)}catch{}}});return()=>{try{z&&z()}catch{}}},[b,Y]);async function ve(z=null){let q=z||de;if(typeof q!="string"&&(q=q?String(q):""),q=q.trim(),console.debug("confirmMerge invoked",{tokenProvided:!!z,pendingMergeEmail:Le,tokenPresent:!!q}),!q||q==="undefined"){se("Token indisponvel para fuso.");return}je(!0),se("");try{const W=window.__API_BASE||"",Me=await fetch(`${W}/api/auth/merge-google`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({})});if(!Me.ok){const ye=await Me.json().catch(()=>({}));se(ye&&ye.error?String(ye.error):`Merge falhou: ${Me.status}`),je(!1);return}const Ne=await Me.json().catch(()=>({}));if(Ne&&Ne.success&&Ne.user){const ye=Ne.user;b&&b(ye);try{localStorage.setItem("usuario-logado",JSON.stringify(ye))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${ye.nome||ye.name||"Usurio"}!`,"success",3e3),oe(!1),Ee(null),Be(null),Y("/buscar-pecas");return}se("No foi possvel unir as contas. Tente novamente ou contate o suporte.")}catch(W){console.error("confirmMerge failed",W),se("Erro ao comunicar com o servidor. Tente novamente.")}finally{je(!1)}}function _e(){let z=[...LR];try{const q=localStorage.getItem("usuarios");q&&(z=z.concat(JSON.parse(q)))}catch{}try{const q=(bE||[]).map(W=>({id:W.id,nome:W.nome||"",celular:String(W.celular||"").replace(/\D/g,""),email:String(W.email||"").trim().toLowerCase(),senha:String(W.senha||"")}));z=z.concat(q)}catch{}return z}function Pe(z){z.preventDefault();const q=String(r||"").trim().toLowerCase(),W=String(n||"");(async()=>{try{let Ne=function(Ie){return!Ie||typeof Ie!="string"?"":(Ie.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(At=>At?At.charAt(0).toUpperCase()+At.slice(1):"").join(" ").trim()};const ye=window.__API_BASE||"";try{const Ie=await fetch(`${ye}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:q,senha:W})});if(Ie.ok){const Xt=await Ie.json().catch(()=>({})),At=Xt&&Xt.user?Xt.user:null;if(At){const Sr={...At};At.auth_id&&!Sr.providers&&(Sr.providers=["google"]),b&&b(Sr);try{localStorage.setItem("usuario-logado",JSON.stringify(Sr))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${At.nome||At.name||"Usurio"}!`,"success",3e3),Y("/buscar-pecas");return}}}catch(Ie){console.debug("Server-side /api/auth/login failed (will try Supabase):",Ie&&Ie.message?Ie.message:Ie)}try{if(Ze&&typeof Ic=="function")try{const Ie=await Ic(Ze,q,W),Xt=Ie&&Ie.user?Ie.user:null;if(Xt){await he(Xt);return}}catch(Ie){console.debug("Firebase email/password signIn failed (falling back):",Ie&&Ie.code?Ie.code:Ie&&Ie.message?Ie.message:Ie)}}catch(Ie){console.debug("Firebase fallback check threw",Ie&&Ie.message?Ie.message:Ie)}if(typeof La>"u"||!La||!Ya)throw new Error("Supabase client not configured");const{data:Qe,error:Oe}=await La.auth.signInWithPassword({email:q,password:W});if(Oe){console.debug("Supabase auth signIn error (expected for non-Supabase users):",Oe),l("E-mail ou senha incorretos.");return}const xe=Qe&&Qe.session?Qe.session:null,It=xe&&xe.access_token?xe.access_token:null;if(!It){console.warn("Supabase signIn returned no access token"),l("Erro ao efetuar login. Tente novamente.");return}const zt=await fetch(`${ye}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${It}`},body:JSON.stringify({access_token:It})});if(!zt.ok){console.warn("Backend supabase-verify failed",zt.status),l("Erro ao verificar conta. Tente novamente.");return}const Er=await zt.json().catch(()=>({})),Qt=Er&&Er.user?Er.user:null;if(!Qt){l("Erro ao obter dados do usurio.");return}const Qi=(Qt.nome||Qt.name||"").trim()||Ne(Qt.email||Qt.email_address||Qt.mail),zn={...Qt,nome:Qi,name:Qi,access_token:It};Qt.auth_id&&!zn.providers&&(zn.providers=["google"]),l(""),b&&b(zn);try{localStorage.setItem("usuario-logado",JSON.stringify(zn))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${zn.nome||"Usurio"}!`,"success",3e3),Y("/buscar-pecas");return}catch(Ne){console.warn("Login flow failed, falling back to local users",Ne&&Ne.message)}const Me=_e().find(Ne=>String(Ne.email||"").trim().toLowerCase()===q&&String(Ne.senha||"")===W);if(!Me){l("E-mail ou senha incorretos.");return}l(""),b&&b(Me);try{localStorage.setItem("usuario-logado",JSON.stringify(Me))}catch{}window.showToast&&window.showToast(`Bem-vindo(a), ${Me.nome||"Usurio"}!`,"success",3e3),Y("/buscar-pecas")})()}async function Se(){if(L(""),console.debug("confirmLinkAccounts called",{linkingCredential:R,linkEmail:K}),!R){L("Credencial do Google no disponvel. Tente novamente.");return}try{const z=R&&R.email?R.email:K||null;if(!z){L("Email no disponvel para link.");return}try{const W=await qT(Ze,z);if(!Array.isArray(W)||!W.includes("password")){L("No existe uma conta com autenticao por senha neste e-mail no Firebase. Use Recuperar senha ou contate o suporte para unir as contas.");return}}catch(W){console.warn("fetchSignInMethodsForEmail failed",W)}if(!D){L("Digite a senha da conta existente para confirmar a unio.");return}let q=null;try{const W=await Ic(Ze,z,D);if(q=W&&W.user?W.user:null,!q){L("Falha ao autenticar a conta existente. Verifique a senha.");return}}catch(W){if(console.error("signInWithEmailAndPassword failed",W),W&&W.code){if(W.code==="auth/wrong-password"||W.code==="AUTH_WRONG_PASSWORD"){L("Senha incorreta. Verifique e tente novamente.");return}if(W.code==="auth/user-not-found"||W.code==="AUTH_USER_NOT_FOUND"){L("Usurio no encontrado no provedor de autenticao. Tente recuperar sua senha ou contate o suporte.");return}}L("Falha ao autenticar a conta existente. Verifique a senha ou tente recuperar sua senha.");return}try{await wv(q,R)}catch(W){console.error("Erro ao linkar credencial:",W),W&&W.code?L(`Erro ao unir contas: ${W.code} - ${W.message||""}`):W&&W.message?L(`Erro ao unir contas: ${W.message}`):L("Erro ao unir contas. Tente novamente.");return}try{let W=null;try{Ze&&Ze.currentUser&&typeof Ze.currentUser.getIdToken=="function"&&(W=await Ze.currentUser.getIdToken())}catch(Me){console.warn("Could not obtain idToken to call backend link-account",Me)}if(W)try{try{console.info("DEBUG: calling backend /api/auth/link-account",{email:z,haveIdToken:!!W,idTokenPreview:typeof W=="string"?W.slice(0,8)+"...":null,apiBase:window.__API_BASE||""})}catch{}const Me=window.__API_BASE||"",Ne=await fetch(`${Me}/api/auth/link-account`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({email:z,senha:D})});if(Ne.ok)try{const ye=await Ne.json().catch(()=>({}));ye&&ye.success&&console.debug("Backend link-account succeeded",ye)}catch{}else try{const ye=await Ne.json().catch(()=>({}));L(ye&&ye.error?String(ye.error):`Falha ao ligar contas: ${Ne.status}`)}catch{}}catch(Me){console.warn("Calling backend /api/auth/link-account failed",Me)}await he(q)}catch(W){console.warn("Finalizing link flow failed",W),await he(q)}J(!1),j(""),O(null)}catch(z){console.error("confirmLinkAccounts failed",z),L("Erro ao unir contas. Verifique os dados e tente novamente.")}}const Ue=!!(B||re||qe||w||de),St=!!(w||N);return y.jsxs(y.Fragment,{children:[y.jsx(cg,{}),y.jsx("div",{className:"page-wrapper",children:y.jsx("div",{className:"page-content",children:y.jsx("div",{className:"cadastro-card-outer",children:y.jsxs("div",{className:"cadastro-card-grid",children:[y.jsxs("section",{className:"cadastro-card",children:[y.jsx("h1",{className:"cadastro-title",children:"Entrar"}),y.jsx("p",{className:"cadastro-sub",children:"Acesse sua conta para gerenciar pedidos e recursos"}),y.jsxs("form",{className:"cadastro-form",onSubmit:Pe,noValidate:!0,children:[!Ue&&!B&&o&&y.jsx("div",{className:"form-error",children:o}),B&&y.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:y.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"420px",width:"100%",borderRadius:8},children:[y.jsx("h3",{children:"Unir contas"}),y.jsx("p",{children:"Foi encontrada uma conta existente com este e-mail. Para unir a conta do Google com sua conta existente, confirme sua senha:"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"label",children:"E-mail"}),y.jsx("input",{className:"input",type:"email",value:K||"",readOnly:!0})]}),ie&&y.jsx("div",{className:"form-error",style:{marginTop:8},children:ie}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"label",children:"Senha da conta existente"}),y.jsx("input",{className:"input",type:"password",value:D,onChange:z=>j(z.target.value),placeholder:"Senha",onKeyDown:z=>{if(z.key==="Enter"){z.preventDefault();try{Se()}catch{}}}})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:12},children:[y.jsx("button",{type:"button",className:"submit",onClick:Se,children:"Confirmar e unir contas"}),y.jsx("button",{type:"button",className:"submit",onClick:async()=>{try{await nb(Ze)}catch{}J(!1),O(null),j("")},children:"Cancelar"}),y.jsx("button",{type:"button",className:"submit",onClick:()=>{try{window.location.href="/recuperar-senha"}catch{}},children:"Recuperar senha"})]}),ie&&/autentica[c][a]o por senha|senha/i.test(ie)&&y.jsx("div",{style:{marginTop:12},children:y.jsx("button",{type:"button",className:"submit",onClick:async()=>{L("");try{let z=de;if(!z){if(!Ze||!Ze.currentUser){L("Usurio do provedor no disponvel. Tente entrar novamente com Google.");return}z=await Ze.currentUser.getIdToken()}if(!z){L("No foi possvel obter token do provedor.");return}Ee(z),Be(K||Ze.currentUser&&Ze.currentUser.email),J(!1),oe(!0);try{await ve()}catch(q){console.error("Auto confirmMerge failed",q)}}catch(z){console.error("mergeFromLinkModal failed",z),L("Erro ao obter token/realizar fuso: "+(z&&z.message?z.message:String(z)))}},children:"Unir contas no sistema (merge)"})}),y.jsx("div",{style:{marginTop:8,fontSize:12},children:y.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),re&&y.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e4},children:y.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"480px",width:"100%",borderRadius:8},children:[y.jsx("h3",{children:"Unir contas (confirmao)"}),y.jsxs("p",{children:["Detectamos uma conta existente com o mesmo e-mail (",y.jsx("strong",{children:Le}),")."]}),y.jsx("p",{children:"Se confirmar, iremos unir sua conta do Google com a conta existente no nosso sistema. Isso pode atualizar ou mesclar seus dados de perfil."}),G&&y.jsx("div",{className:"form-error",style:{marginTop:8},children:G}),y.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"submit",onClick:ve,disabled:qe,children:qe?"Unindo...":"Confirmar e unir contas"}),y.jsx("button",{type:"button",className:"submit",onClick:()=>{oe(!1),Ee(null),Be(null),se("")},children:"Cancelar"})]}),y.jsx("div",{style:{marginTop:8,fontSize:12},children:y.jsx("a",{href:"/contato",children:"Precisa de ajuda? Contate o suporte."})})]})}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"label",children:"E-mail"}),y.jsx("input",{className:"input",type:"email",value:r,onChange:z=>e(z.target.value),placeholder:"seu@exemplo.com",autoComplete:"username"})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"label",children:"Senha"}),y.jsxs("div",{className:"password-field",children:[y.jsx("input",{className:"input password-input",type:g?"text":"password",value:n,onChange:z=>s(z.target.value),placeholder:"Senha",autoComplete:"current-password"}),y.jsx(kE,{on:g,onClick:()=>_(z=>!z),ariaLabel:g?"Ocultar senha":"Mostrar senha"})]})]}),y.jsx("div",{className:"cadastro-forgot-row",children:y.jsx("a",{href:"#",className:"login-forgot-link",onClick:async z=>{if(z.preventDefault(),!(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"))){try{window.location.href="/recuperar-senha"}catch{}return}l("");const W=String(r||"").trim();if(!W){l("Digite o e-mail antes de recuperar a senha (dev).");return}try{const Me=window.__API_BASE||"",Ne=await fetch(`${Me}/api/debug/dev-generate-reset`,{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Key":"let-me-debug"},body:JSON.stringify({email:W})});if(!Ne.ok){const Qe=await Ne.json().catch(()=>({}));l(Qe&&Qe.error?String(Qe.error):"Falha ao gerar token de recuperao.");return}const ye=await Ne.json().catch(()=>({}));h(ye),m(!0)}catch(Me){console.error("dev generate reset failed",Me),l("Erro ao gerar token de recuperao. Veja o console.")}},children:"Esqueci minha senha"})}),p&&c&&y.jsx("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:y.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true",style:{background:"#fff",padding:"20px",maxWidth:"520px",width:"100%",borderRadius:8},children:[y.jsx("h3",{children:"Recuperao (modo dev)"}),y.jsxs("p",{children:["Token temporal e senha gerados para ",y.jsx("strong",{children:c&&c.email}),". Estes dados existem apenas no ambiente de desenvolvimento."]}),y.jsx("pre",{style:{background:"#f6f6f6",padding:12,borderRadius:6,overflowX:"auto"},children:`token: ${c&&c.token}
tempPassword: ${c&&c.tempPassword}
expiresAt: ${c&&c.expiresAt}`}),y.jsx("div",{style:{display:"flex",gap:8,marginTop:12},children:y.jsx("button",{className:"submit",onClick:()=>{m(!1),h(null)},children:"Fechar"})})]})}),y.jsx("button",{className:"submit",type:"submit",children:"Entrar"}),St&&y.jsxs("div",{className:"modal-overlay",style:{position:"fixed",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e4},children:[y.jsxs("div",{className:"modal",role:"status","aria-live":"polite",style:{background:"#fff",padding:"20px",maxWidth:"420px",width:"100%",borderRadius:8,display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[y.jsx("div",{style:{width:44,height:44,borderRadius:22,border:"4px solid #eee",borderTopColor:"#4285F4",animation:"spin 1s linear infinite"},"aria-hidden":!0}),y.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Entrando com Google"}),y.jsx("div",{style:{fontSize:12,color:"#666"},children:"Aguarde enquanto finalizamos sua autenticao."})]}),y.jsx("style",{children:"@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"})]}),y.jsx("div",{className:"social-login-row",children:y.jsx("button",{type:"button",className:"google-btn google-btn-round","aria-label":"Entrar com Google",title:"Entrar com Google",disabled:w,onClick:async()=>{if(!w){T(!0),l("");try{let z=null,q=null;try{q=await NR(),q&&q.user?z=q.user:q&&q.error&&console.warn("signInWithGooglePopup returned error, falling back to redirect",q.error)}catch(W){console.warn("signInWithGooglePopup threw, falling back to redirect",W&&W.message?W.message:W)}if(!z){l("Popup do Google foi bloqueado. Por favor, permita popups para este site e tente novamente."),T(!1);return}if(!z){l("Falha ao obter usurio do provedor."),T(!1);return}await he(z,q&&q.credential?q.credential:null),T(!1);return}catch(z){console.error("Google popup flow failed",z&&z.message?z.message:z),l("Erro inesperado durante login. Tente novamente.")}finally{T(!1)}}},children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",children:[y.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.9 0 7.1 1.4 9.2 3.2l6.8-6.6C35.6 3 30.1 1 24 1 14.7 1 6.9 6.6 3.1 14.7l7.9 6.1C12.4 15.1 17.7 9.5 24 9.5z"}),y.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-2.9-.4-4.3H24v8.2h12.9c-.6 3.2-2.9 5.9-6.1 7.4l9.4 7.3C43.9 37.4 46.5 31.1 46.5 24z"}),y.jsx("path",{fill:"#4A90E2",d:"M10 29.8A14.9 14.9 0 0 1 9.1 24c0-1.2.2-2.3.5-3.4L2 14.5A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.5 10.8l7.5-5z"}),y.jsx("path",{fill:"#FBBC05",d:"M24 46c6.1 0 11.6-2 15.7-5.4l-9.4-7.3c-2.5 1.7-5.7 2.8-9 2.8-6.3 0-11.6-4.6-13.6-10.8L2.5 34.8C6.9 41.4 14.7 46 24 46z"}),y.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),y.jsx("div",{className:"cadastro-signup-row",children:y.jsx(sd,{to:"/cadastro",className:"signup-link",children:"Crie sua conta agora!"})})]})]}),y.jsx("div",{className:"cadastro-right","aria-hidden":"true",children:y.jsx("div",{className:"cadastro-hero",role:"img","aria-label":"Imagem ilustrativa de peas automotivas"})})]})})})})]})}const UR=""+new URL("catalogo-1-Ddz4h86a.jpg",import.meta.url).href,MR=""+new URL("catalogo-2-D2XH-_xo.jpg",import.meta.url).href,$R=""+new URL("recall-1-CpG-sMCU.jpg",import.meta.url).href,FR=""+new URL("recall-2-DOuPWRLm.jpg",import.meta.url).href,BR=""+new URL("guias-1-D1doTbHu.jpg",import.meta.url).href,zR=""+new URL("guias-2-CtaxD6Iu.jpg",import.meta.url).href,VR=""+new URL("tabelaFIPE-1-CohhTY1t.jpg",import.meta.url).href,HR=""+new URL("tabelaFIPE-2-DT2dycZ0.jpg",import.meta.url).href;function WR(){Kr();const[r,e]=I.useState(null),n=[UR,MR,$R,FR,BR,zR,VR,HR],[s,o]=I.useState(0),l=I.useRef(null),c=()=>o(p=>(p-1+n.length)%n.length),h=()=>o(p=>(p+1)%n.length);return I.useEffect(()=>{const p=m=>{m.key==="ArrowLeft"&&c(),m.key==="ArrowRight"&&h()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),y.jsxs(y.Fragment,{children:[y.jsx(cg,{}),y.jsx("div",{className:"page-wrapper page-inicio",children:y.jsxs("div",{className:"page-content inicio-main",children:[y.jsx("div",{className:"inicio-hero",children:y.jsxs("div",{className:"inicio-hero-inner",children:[y.jsx("h1",{className:"page-title",children:"Seja um expert automotivo, agora mesmo!"}),y.jsx("div",{className:"inicio-intro",children:y.jsx("p",{className:"inicio-subtitle",children:"No Garagem Smart voc conseguir se virar sozinho, aprender a identificar e comprar as peas certas para o seu carro com confiana e economia, aprender sobre manuteno preventiva, instalao de peas e muito mais."})})]})}),y.jsxs("div",{className:"inicio-carousel","aria-roledescription":"carousel",children:[y.jsx("button",{className:"carousel-control prev","aria-label":"Anterior",onClick:c,children:""}),y.jsx("div",{className:"carousel-track",ref:l,children:(()=>{const p=n.length,m=(s-1+p)%p,g=(s+1)%p;return[m,s,g].map((w,T)=>{const N=n[w],C=T===1,R=C?"carousel-item is-center":"carousel-item is-thumb";return y.jsxs("div",{className:R,onClick:()=>{C?e(N):o(w)},role:"button",tabIndex:0,onKeyDown:O=>{O.key==="Enter"&&(C?e(N):o(w))},children:[y.jsx("img",{src:N,alt:`Slide ${w+1}`}),C&&y.jsx("span",{className:"carousel-zoom-icon","aria-hidden":"true",title:"Ver imagem ampliada",children:""})]},w)})})()}),y.jsx("button",{className:"carousel-control next","aria-label":"Prximo",onClick:h,children:""})]}),y.jsx("div",{className:"inicio-band",children:y.jsxs("div",{className:"inicio-band-inner",children:[y.jsx("div",{className:"inicio-band-left",children:y.jsx("h1",{className:"inicio-band-title",children:"10 motivos para que voc escolha o Garagem Smart"})}),y.jsx("div",{className:"inicio-band-right",children:y.jsx("div",{className:"inicio-reasons",children:y.jsxs("div",{className:"reasons-grid",children:[y.jsxs("ol",{className:"reasons-col",children:[y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"1"}),"Conhecimento sobre tabela FIPE."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"2"}),"Busca Inteligente de Peas."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"3"}),"Especificao Completa das Peas."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"4"}),"Informaes Essenciais sobre Recalls."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"5"}),"Guias Automotivos Abrangentes."]})]}),y.jsxs("ol",{className:"reasons-col",children:[y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"6"}),"Economia de Tempo e Esforo."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"7"}),"Decises de Manuteno Informadas."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"8"}),"Histrico de Manuteno Organizado."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"9"}),"Segurana e Confiabilidade."]}),y.jsxs("li",{children:[y.jsx("span",{className:"reason-number",children:"10"}),"Comunidade e Suporte."]})]})]})})})]})}),y.jsx("div",{className:"inicio-stats-section",children:y.jsxs("div",{className:"inicio-stats-container",children:[y.jsx("h2",{className:"inicio-stats-title",children:"Impacto e Credibilidade: O Garagem Smart em Nmeros"}),y.jsxs("div",{className:"inicio-stats-grid",children:[y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"50.000+"}),y.jsx("div",{className:"stat-label",children:"Peas Catalogadas"}),y.jsx("div",{className:"stat-description",children:"Base de dados completa e atualizada"})]}),y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"500+"}),y.jsx("div",{className:"stat-label",children:"Modelos de Veculos"}),y.jsx("div",{className:"stat-description",children:"Compatibilidade verificada e testada"})]}),y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"10.000+"}),y.jsx("div",{className:"stat-label",children:"Usurios Ativos"}),y.jsx("div",{className:"stat-description",children:"Comunidade crescente de entusiastas"})]}),y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"98%"}),y.jsx("div",{className:"stat-label",children:"Satisfao"}),y.jsx("div",{className:"stat-description",children:"Avaliao positiva dos usurios"})]}),y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"R$ 5.000"}),y.jsx("div",{className:"stat-label",children:"Economia Mdia/Ano"}),y.jsx("div",{className:"stat-description",children:"Por usurio em compras certeiras"})]}),y.jsxs("div",{className:"inicio-stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-number",children:"70%"}),y.jsx("div",{className:"stat-label",children:"Reduo de Tempo"}),y.jsx("div",{className:"stat-description",children:"Na busca e compra de peas"})]})]})]})})]})}),r&&y.jsx("div",{className:"pf-zoom-overlay",onClick:()=>e(null),children:y.jsx("img",{className:"pf-zoom-image",src:r,alt:"Imagem ampliada",onClick:p=>p.stopPropagation()})})]})}const qR=I.lazy(()=>Ce(()=>import("./page-QuemSomos-DF5Bb4sZ.js"),__vite__mapDeps([0,1]),import.meta.url)),KR=I.lazy(()=>Ce(()=>import("./page-NossoProjeto-DzzCVS06.js"),__vite__mapDeps([2,3]),import.meta.url)),GR=I.lazy(()=>Ce(()=>import("./page-SejaPro-BPoJTW6b.js"),__vite__mapDeps([4,5]),import.meta.url)),JR=I.lazy(()=>Ce(()=>import("./page-VersaoPro-Ck03hpx5.js"),__vite__mapDeps([6,7,8]),import.meta.url)),YR=I.lazy(()=>Ce(()=>import("./page-Checkin-Crk38IkP.js"),__vite__mapDeps([9,7,10]),import.meta.url)),QR=I.lazy(()=>Ce(()=>import("./page-VersaoPro_Assinado-hsVNphgm.js"),__vite__mapDeps([11,7,12]),import.meta.url)),XR=I.lazy(()=>Ce(()=>import("./page-Contato-C0xel5-W.js"),__vite__mapDeps([13,14,15,16]),import.meta.url)),ZR=I.lazy(()=>Ce(()=>import("./page-Cadastro-D1MUInut.js"),[],import.meta.url)),eA=I.lazy(()=>Ce(()=>import("./page-Parceiros-7NlE2S0w.js"),__vite__mapDeps([17,7,18]),import.meta.url)),tA=I.lazy(()=>Ce(()=>import("./page-ContatoLogado-qnyWGPB-.js"),__vite__mapDeps([19,14,15,7,20]),import.meta.url)),nA=I.lazy(()=>Ce(()=>import("./page-BuscarPeca-C3neQ2Qh.js"),__vite__mapDeps([21,22,23,14,7,24,25]),import.meta.url)),rA=I.lazy(()=>Ce(()=>import("./page-Perfil-BTlwcMZC.js"),__vite__mapDeps([26,7,22,23,27]),import.meta.url)),iA=I.lazy(()=>Ce(()=>import("./page-MeusCarros-CbQiSLsc.js"),__vite__mapDeps([28,7,24,29]),import.meta.url)),sA=I.lazy(()=>Ce(()=>import("./page-Recalls-LjiR-Bc9.js"),__vite__mapDeps([30,7,24,31]),import.meta.url)),oA=I.lazy(()=>Ce(()=>import("./page-Guias-kE_kADYM.js"),__vite__mapDeps([32,7,23,33,34,35]),import.meta.url)),Wm=I.lazy(()=>Ce(()=>import("./page-CriarGuia-DOzKyY0_.js"),__vite__mapDeps([36,7,34,37]),import.meta.url)),aA=I.lazy(()=>Ce(()=>import("./page-VisualizarGuia-DGwDqflH.js"),__vite__mapDeps([38,7,34,39]),import.meta.url)),lA=I.lazy(()=>Ce(()=>import("./page-Configuracoes-CMzqn1bz.js"),__vite__mapDeps([40,41]),import.meta.url)),uA=I.lazy(()=>Ce(()=>import("./page-TabelaFIPE-BR_TDdLK.js"),__vite__mapDeps([42,7,43]),import.meta.url)),cA=I.lazy(()=>Ce(()=>import("./page-ManutencaoPreventiva-BRO7QjvR.js"),__vite__mapDeps([44,7,45]),import.meta.url)),dA=I.lazy(()=>Ce(()=>import("./page-PecasOriginaisVsCompativeis-CdjcOaMf.js"),__vite__mapDeps([46,7,47]),import.meta.url)),hA=I.lazy(()=>Ce(()=>import("./page-LuzesDoPainel-GmJJlJsr.js"),__vite__mapDeps([48,7,22,23,33,49]),import.meta.url)),fA=I.lazy(()=>Ce(()=>import("./page-HistoricoManutencao-DuZtLxfm.js"),__vite__mapDeps([50,7,24,51]),import.meta.url));function pA(){return y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontSize:"1.2rem",color:"#666"},children:"Carregando..."})}const vo=I.createContext(null);function Mr({children:r}){const{usuarioLogado:e,authLoaded:n}=I.useContext(vo)||{};return n?e?r:y.jsx(Ha,{to:"/login",replace:!0}):null}function mA(){const{usuarioLogado:r,authLoaded:e}=I.useContext(vo)||{};return e?y.jsx(Ha,{to:r?"/buscar-pecas":"/inicio",replace:!0}):null}function gA(){const[r,e]=I.useState(null),[n,s]=I.useState(!1),[o,l]=I.useState(!1),[c,h]=I.useState(!1),p=c||n&&o,m=h,[g,_]=I.useState(!1),[w,T]=I.useState(null);I.useEffect(()=>{p&&h(!0)},[p]),Ip.useEffect(()=>{async function C(){try{console.time("[app-timing] initFromStorage start")}catch{}try{const R=localStorage.getItem("usuario-logado")||"null",O=JSON.parse(R);if(O){let D=function(j){if(!j||typeof j!="string")return"";let B=j.trim();return B=B.replace(/^(devuser\+|dev_|dev-|testuser\+|teste_)/i,""),B=B.replace(/[._+\-]+/g," "),B=B.replace(/\s+/g," ").trim(),B=B.split(" ").map(J=>J?J.charAt(0).toUpperCase()+J.slice(1):"").join(" ").trim(),B||j};try{const j=String(O.nome||O.name||"");if(/^(dev_|devuser\+|dev-)/i.test(j)||/devuser\+/i.test(j)){const J=(O.displayName||O.name||O.nome||O.email||"").toString(),K=D(J)||D(O.email?O.email.split("@")[0]:"");K&&(O.nome=K,O.name=K)}}catch{}if(!O.photoURL&&O.photo_url&&(O.photoURL=O.photo_url),e(O),O.access_token&&!O.photoURL)try{const j=window.__API_BASE||"",B=await fetch(`${j}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O.access_token}`},body:JSON.stringify({access_token:O.access_token})});if(B.ok){const J=await B.json().catch(()=>({})),K=J&&J.user?J.user:null;if(K){!K.photoURL&&K.photo_url&&(K.photoURL=K.photo_url);const ee={...K,access_token:O.access_token};e(ee);try{localStorage.setItem("usuario-logado",JSON.stringify(ee))}catch{}}}}catch{}}}catch(R){console.warn("Failed to parse usuario-logado from localStorage",R)}try{console.timeEnd("[app-timing] initFromStorage start")}catch{}s(!0)}C()},[]),Ip.useEffect(()=>{(async()=>{const C=window.location.href||"",R=C.includes("access_token")||C.includes("refresh_token");try{const{default:O}=await Ce(async()=>{const{default:D}=await Promise.resolve().then(()=>KS);return{default:D}},void 0,import.meta.url);if(R){try{console.time("[app-timing] redirect-processing start")}catch{}console.log("[auth-debug] starting redirect processing. href=",C)}if(O&&typeof O.auth.getSessionFromUrl=="function"){console.log("[auth-debug] calling supabase.auth.getSessionFromUrl()");const{data:D,error:j}=await O.auth.getSessionFromUrl();j&&console.warn("[auth-debug] supabase getSessionFromUrl error:",j);let B=D&&D.session?D.session:null;if(!B)try{const J=window.location.href||"";console.log("[auth-debug] getSessionFromUrl returned no session, attempting token parse from href",J);const K=L=>{const re=new RegExp(L+"=([^&#\\/]+)","i"),oe=J.match(re);return oe?decodeURIComponent(oe[1]):null},ee=K("access_token"),ie=K("refresh_token");if(ee){console.log("[auth-debug] found tokens in URL fallback, access_token length=",ee?ee.length:0," refresh_token=",ie?ie.length:0);try{if(O&&O.auth&&typeof O.auth.setSession=="function"){await O.auth.setSession({access_token:ee,refresh_token:ie||void 0}),B={access_token:ee,refresh_token:ie};try{window.history.replaceState({},document.title,window.location.origin+"/#/")}catch{}}}catch(L){console.warn("[auth-debug] Failed to set supabase session from URL fallback",L&&L.message?L.message:L)}}}catch{}if(B&&B.access_token){const J=B.access_token,K=window.__API_BASE||"";try{console.log("[auth-debug] calling backend supabase-verify",`${K}/api/auth/supabase-verify`);const ee=await fetch(`${K}/api/auth/supabase-verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({access_token:J})});console.log("[auth-debug] supabase-verify response status=",ee.status);let ie=null;try{ie=await ee.json().catch(()=>({}))}catch{ie=null}if(console.log("[auth-debug] supabase-verify response body=",ie),ee.ok){const L=ie&&ie.user?ie.user:null;if(L){let re=function(Ee){return!Ee||typeof Ee!="string"?"":(Ee.split("@")[0]||"").replace(/[._-]+/g," ").split(" ").map(Be=>Be?Be.charAt(0).toUpperCase()+Be.slice(1):"").join(" ").trim()};const oe=(L.nome||L.name||"").trim()||re(L.email||L.email_address||L.mail),de={...L,nome:oe,name:oe,access_token:J};console.log("[auth-debug] backend returned user, setting usuarioLogado",de.email),e(de);try{localStorage.setItem("usuario-logado",JSON.stringify(de))}catch{}}}else{console.warn("[auth-debug] backend supabase-verify returned non-ok",ee.status,ie);try{if(O&&O.auth)try{console.log("[auth-debug] attempting supabase.auth.getUser() fallback");const L=await O.auth.getUser(),re=L&&L.data&&L.data.user?L.data.user:null;if(re){const oe=(re.user_metadata&&(re.user_metadata.nome||re.user_metadata.name)?re.user_metadata.nome||re.user_metadata.name:(re.email||"").split("@")[0])||"",de={...re,nome:oe,name:oe,access_token:J};console.log("[auth-debug] got user from supabase.getUser(), setting usuarioLogado",de.email),e(de);try{localStorage.setItem("usuario-logado",JSON.stringify(de))}catch{}}else{console.log("[auth-debug] supabase.auth.getUser() returned no user, trying getSession()");const oe=await O.auth.getSession(),de=oe&&oe.data&&oe.data.session&&oe.data.session.user?oe.data.session.user:null;if(de){const Ee=(de.user_metadata&&(de.user_metadata.nome||de.user_metadata.name)?de.user_metadata.nome||de.user_metadata.name:(de.email||"").split("@")[0])||"",Le={...de,nome:Ee,name:Ee,access_token:J};console.log("[auth-debug] got user from supabase.getSession(), setting usuarioLogado",Le.email),e(Le);try{localStorage.setItem("usuario-logado",JSON.stringify(Le))}catch{}}else console.warn("[auth-debug] supabase client did not return user/session on fallback")}}catch(L){console.warn("[auth-debug] supabase.getUser/getSession fallback failed",L&&L.message?L.message:L)}}catch(L){console.warn("[auth-debug] Fallback supabase user fetch failed",L&&L.message?L.message:L)}}}catch(ee){console.warn("[auth-debug] Failed to call backend supabase-verify",ee&&ee.message?ee.message:ee);try{if(O&&O.auth){console.log("[auth-debug] backend verify threw; attempting supabase.getUser/getSession fallback");const ie=await O.auth.getUser(),L=ie&&ie.data&&ie.data.user?ie.data.user:null;if(L){const re=(L.user_metadata&&(L.user_metadata.nome||L.user_metadata.name)?L.user_metadata.nome||L.user_metadata.name:(L.email||"").split("@")[0])||"",oe={...L,nome:re,name:re,access_token:J};console.log("[auth-debug] got user from supabase.getUser() after exception, setting usuarioLogado",oe.email),e(oe);try{localStorage.setItem("usuario-logado",JSON.stringify(oe))}catch{}}else{const re=await O.auth.getSession(),oe=re&&re.data&&re.data.session&&re.data.session.user?re.data.session.user:null;if(oe){const de=(oe.user_metadata&&(oe.user_metadata.nome||oe.user_metadata.name)?oe.user_metadata.nome||oe.user_metadata.name:(oe.email||"").split("@")[0])||"",Ee={...oe,nome:de,name:de,access_token:J};console.log("[auth-debug] got user from supabase.getSession() after exception, setting usuarioLogado",Ee.email),e(Ee);try{localStorage.setItem("usuario-logado",JSON.stringify(Ee))}catch{}}}}}catch(ie){console.warn("[auth-debug] aggressive fallback after backend error also failed",ie&&ie.message?ie.message:ie)}}}}if(R){console.log("[auth-debug] redirect processing finished, setting redirectDone");try{console.timeEnd("[app-timing] redirect-processing start")}catch{}}l(!0)}catch(O){if(console.warn("[auth-debug] redirect processing outer catch",O&&O.message?O.message:O),R)try{console.timeEnd("[app-timing] redirect-processing start")}catch{}l(!0)}})()},[e]),I.useEffect(()=>{if(!r||!p)return;const C=r.id||r.email;if(C&&gE(C)){const R=ug(C);T(R),_(!0)}},[r,p]);const N=()=>{if(_(!1),r){const C=r.id||r.email;vE(C)}};return y.jsx(fE,{children:y.jsx(vo.Provider,{value:{usuarioLogado:r,setUsuarioLogado:e,authLoaded:p,setAuthLoaded:m},children:y.jsx(rE,{children:y.jsxs("div",{className:"app",children:[y.jsx(TE,{}),g&&y.jsx(yE,{daysLeft:w,onClose:N}),y.jsx(I.Suspense,{fallback:y.jsx(pA,{}),children:y.jsxs(Dw,{children:[y.jsx(be,{path:"/",element:y.jsx(mA,{})}),y.jsx(be,{path:"/buscar-pecas",element:y.jsx(nA,{})}),y.jsx(be,{path:"/login",element:y.jsx(jR,{})}),y.jsx(be,{path:"/cadastro",element:y.jsx(ZR,{})}),y.jsx(be,{path:"/inicio",element:y.jsx(WR,{})}),y.jsx(be,{path:"/quem-somos",element:y.jsx(qR,{})}),y.jsx(be,{path:"/seja-pro",element:y.jsx(GR,{})}),y.jsx(be,{path:"/versao-pro",element:y.jsx(JR,{})}),y.jsx(be,{path:"/checkin",element:y.jsx(YR,{})}),y.jsx(be,{path:"/versao-pro-assinado",element:y.jsx(QR,{})}),y.jsx(be,{path:"/contato",element:y.jsx(XR,{})}),y.jsx(be,{path:"/contato-logado",element:y.jsx(tA,{})}),y.jsx(be,{path:"/parceiros",element:y.jsx(eA,{})}),y.jsx(be,{path:"/recalls",element:y.jsx(sA,{})}),y.jsx(be,{path:"/guias",element:y.jsx(oA,{})}),y.jsx(be,{path:"/guia/:guiaId",element:y.jsx(aA,{})}),y.jsx(be,{path:"/glossario",element:y.jsx(Ha,{to:"/guias",replace:!0})}),y.jsx(be,{path:"/criar-guia",element:y.jsx(Mr,{children:y.jsx(Wm,{})})}),y.jsx(be,{path:"/criar-guia/:guiaId",element:y.jsx(Mr,{children:y.jsx(Wm,{})})}),y.jsx(be,{path:"/manutencao-preventiva",element:y.jsx(cA,{})}),y.jsx(be,{path:"/pecas-originais-vs-compativeis",element:y.jsx(dA,{})}),y.jsx(be,{path:"/luzes-do-painel",element:y.jsx(hA,{})}),y.jsx(be,{path:"/historico-manutencao",element:y.jsx(Mr,{children:y.jsx(fA,{})})}),y.jsx(be,{path:"/nosso-projeto",element:y.jsx(KR,{})}),y.jsx(be,{path:"/perfil",element:y.jsx(Mr,{children:y.jsx(rA,{})})}),y.jsx(be,{path:"/meus-carros",element:y.jsx(Mr,{children:y.jsx(iA,{})})}),y.jsx(be,{path:"/configuracoes",element:y.jsx(Mr,{children:y.jsx(lA,{})})}),y.jsx(be,{path:"/tabela-fipe",element:y.jsx(Mr,{children:y.jsx(uA,{})})}),y.jsx(be,{path:"/perfil-teste",element:y.jsx(Ha,{to:"/perfil",replace:!0})})]})})]})})})})}try{console.time("[app-timing] module-load")}catch{}z_.createRoot(document.getElementById("root")).render(y.jsx(I.StrictMode,{children:y.jsx(gA,{})}));try{console.timeEnd("[app-timing] module-load")}catch{}try{console.time("[app-timing] react-render-start")}catch{}setTimeout(()=>{try{console.timeEnd("[app-timing] react-render-start")}catch{}try{console.log("[app-timing] runtime marks set")}catch{}},0);try{if(typeof window<"u")if(window.__API_BASE)console.log("[runtime] API base already set to",window.__API_BASE);else try{window.location&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?(window.__API_BASE=`${window.location.protocol}//${window.location.hostname}:3001`,console.log("[runtime] API base set to local backend",window.__API_BASE)):console.log("[runtime] API base not injected by index.html; leaving unset")}catch(r){console.warn("[runtime] failed to set local API base",r&&r.message?r.message:r)}}catch{}try{typeof window<"u"&&typeof window.supabase>"u"&&(window.supabase=window.__SUPABASE_CLIENT!==void 0?window.__SUPABASE_CLIENT:null)}catch{}export{qT as $,vo as A,xd as B,wE as C,pr as D,no as E,hr as F,fr as G,zA as H,eb as I,uC as J,ub as K,SE as L,cg as M,wR as N,$n as O,Wr as P,Rv as Q,Ip as R,Jc as S,kE as T,HT as U,BA as V,wT as W,HA as X,NA as Y,oC as Z,Ce as _,wA as a,ZA as a0,CR as a1,LA as a2,qk as a3,aC as a4,Vb as a5,bm as a6,Sb as a7,yT as a8,tC as a9,Lb as aA,vC as aB,nb as aC,MA as aD,iC as aE,QA as aF,XA as aG,pC as aH,YA as aI,rC as aJ,nC as aK,JA as aL,VA as aM,KS as aN,wC as aO,qA as aa,wv as ab,hC as ac,gC as ad,_C as ae,lC as af,tb as ag,ZT as ah,jA as ai,Dk as aj,zT as ak,fC as al,mC as am,yC as an,Jk as ao,sC as ap,GA as aq,FA as ar,WA as as,eC as at,UA as au,Ed as av,$A as aw,Ic as ax,KA as ay,dC as az,ug as b,vA as c,_A as d,yA as e,xA as f,SA as g,po as h,EA as i,y as j,fo as k,DA as l,Jr as m,AA as n,un as o,Ma as p,OA as q,I as r,La as s,Fi as t,Kr as u,ER as v,CA as w,cC as x,PA as y,SR as z};
